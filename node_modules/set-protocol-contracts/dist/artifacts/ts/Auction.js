"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Auction={contractName:"Auction",abi:[],metadata:'{"compiler":{"version":"0.5.7+commit.6da8b019"},"language":"Solidity","output":{"abi":[],"devdoc":{"author":"Set Protocol * Contract containing utility functions for liquidators that use auctions processes. Contains helper functions to value collateral SetTokens and determine parameters used in bidding processes. Meant to be inherited.","methods":{},"title":"Auction"},"userdoc":{"methods":{}}},"settings":{"compilationTarget":{"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/Auction.sol":"Auction"},"evmVersion":"byzantium","libraries":{},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ICore.sol":{"keccak256":"0x5dc3db4398630ea52d2a40c9ddfa89d94e65c2770a12bab4d2a5c8eb573fb0a0","urls":["bzzr://25e90b53f61b388e0950b808e2296f82d427b66cfd6021212713436b2a592e31"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IRebalancingSetToken.sol":{"keccak256":"0xe7356a7b0f0cc95d9526395d776f523a48fd65618730d67b4f31f20ffbd380da","urls":["bzzr://605a33a818eff7ce3370f25fccb751f61c066b4db0772605a2215d1357d68072"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ISetToken.sol":{"keccak256":"0xfa6c0c07f8394d89b6b8f72e15778f8452a9341acb20cebb8421f3522aaca1bd","urls":["bzzr://ccf23bb78fd507bf8cbf5cf7ac2a660a1463b87a3689196e42b8f6862d1a6b11"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/Rebalance.sol":{"keccak256":"0x74ffa689d93ced6c6e0377a35ec1274241b6191b5aaac5576ada379ac3840286","urls":["bzzr://25bdda3f1f5adfa2c83c760c44993d250cd2df037360f0018d22d268df79e887"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/RebalancingLibrary.sol":{"keccak256":"0x7f9dd2f95b2ee71a98b94cb9b0df15874aa134e7480d04a1fcf36aff166a55f4","urls":["bzzr://f43a5563ec5df095151eee30cf7a0941b5a971917c27c7b34d9586b36563ab5b"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/SetMath.sol":{"keccak256":"0x4c6762ad3d11c03889df48cc3b26bd199f958deffa651ec30655cd1654a47303","urls":["bzzr://b8e968dd2840d9586babe7852589abff3972135fff299285eaafd31687ae4385"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/Auction.sol":{"keccak256":"0x9010d09660a0cdfc5bc3eb98e6cc127b59d1caec0b55314572017c482be97555","urls":["bzzr://ea4f5d456ca94d8ca2b0b4cbecfcade30f9e718d71d8bb9ddc25db81d29ccc65"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/AddressArrayUtils.sol":{"keccak256":"0xb716eab4e8c5a336a2f19078928530829af097912bd1b925644f914b63601f08","urls":["bzzr://d8a21d39779beb316adb5180d08dcba1941eeccd9412ff08feb21a631c18c269"]},"openzeppelin-solidity/contracts/math/Math.sol":{"keccak256":"0x775160984ceb0931bf67e718fb23afd6fc2a5d38a6e2378ebb438a039ed2269e","urls":["bzzr://209e27ad1c13e3e9b157915e0269ee4c3b6f0a494660dcc4acf1faf102e1a7ad"]},"openzeppelin-solidity/contracts/math/SafeMath.sol":{"keccak256":"0xc2a200a877c4a9b2475c246c54ffecc69ffde3e11af83319c63c2dc5458bac80","urls":["bzzr://c8876e2c39b60f155d748d71d715c8f3903fae5a405ac599adcb6ad2f9a583f9"]},"set-protocol-oracles/contracts/meta-oracles/interfaces/IOracle.sol":{"keccak256":"0xeb5a447a0b1ef47547ce12a91b72412880edb9690aa9bcd8746fc3a379f2fbe9","urls":["bzzr://261675b916b84f58bea71ec28c4f711291053174ddf47e860c26daaee506744a"]}},"version":1}',bytecode:"0x6080604052348015600f57600080fd5b50604380601d6000396000f3fe6080604052600080fdfea265627a7a723058201669e6ca105c7def4727156fb4c85c7bd36109253e517cbc40c70b5f5c91155e6c6578706572696d656e74616cf50037",deployedBytecode:"0x6080604052600080fdfea265627a7a723058201669e6ca105c7def4727156fb4c85c7bd36109253e517cbc40c70b5f5c91155e6c6578706572696d656e74616cf50037",sourceMap:"1464:11570:49:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1464:11570:49;;;;;;;",deployedSourceMap:"1464:11570:49:-;;;;;",source:'/*\n    Copyright 2019 Set Labs Inc.\n\n    Licensed under the Apache License, Version 2.0 (the "License");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an "AS IS" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n*/\n\npragma solidity 0.5.7;\npragma experimental "ABIEncoderV2";\n\nimport { Math } from "openzeppelin-solidity/contracts/math/Math.sol";\nimport { SafeMath } from "openzeppelin-solidity/contracts/math/SafeMath.sol";\nimport { IOracle } from "set-protocol-oracles/contracts/meta-oracles/interfaces/IOracle.sol";\n\nimport { AddressArrayUtils } from "../../../lib/AddressArrayUtils.sol";\nimport { ICore } from "../../interfaces/ICore.sol";\nimport { ISetToken } from "../../interfaces/ISetToken.sol";\nimport { Rebalance } from "../../lib/Rebalance.sol";\nimport { SetMath } from "../../lib/SetMath.sol";\n\n\n/**\n * @title Auction\n * @author Set Protocol\n *\n * Contract containing utility functions for liquidators that use auctions processes. Contains\n * helper functions to value collateral SetTokens and determine parameters used in bidding\n * processes. Meant to be inherited.\n */\ncontract Auction {\n    using SafeMath for uint256;\n    using AddressArrayUtils for address[];\n\n    /* ============ Structs ============ */\n    struct Setup {\n        uint256 maxNaturalUnit;\n        uint256 minimumBid;\n        uint256 startTime;\n        uint256 startingCurrentSets;\n        uint256 remainingCurrentSets;\n        address[] combinedTokenArray;\n        uint256[] combinedCurrentSetUnits;\n        uint256[] combinedNextSetUnits;\n    }\n\n    /* ============ Structs ============ */\n    uint256 constant private CURVE_DENOMINATOR = 10 ** 18;\n\n    /* ============ Auction Struct Methods ============ */\n\n    /*\n     * Sets the Auction Setup struct variables.\n     *\n     * @param _auction                      Auction Setup object\n     * @param _currentSet                   The Set to rebalance from\n     * @param _nextSet                      The Set to rebalance to\n     * @param _startingCurrentSetQuantity   Quantity of currentSet to rebalance\n     */\n    function initializeAuction(\n        Setup storage _auction,\n        ISetToken _currentSet,\n        ISetToken _nextSet,\n        uint256 _startingCurrentSetQuantity\n    )\n        internal\n    {\n        _auction.maxNaturalUnit = Math.max(\n            _currentSet.naturalUnit(),\n            _nextSet.naturalUnit()\n        );\n\n        _auction.startingCurrentSets = _startingCurrentSetQuantity;\n        _auction.remainingCurrentSets = _startingCurrentSetQuantity;\n        _auction.startTime = block.timestamp;\n        _auction.combinedTokenArray = getCombinedTokenArray(_currentSet, _nextSet);\n        _auction.combinedCurrentSetUnits = calculateCombinedUnitArray(_auction, _currentSet);\n        _auction.combinedNextSetUnits = calculateCombinedUnitArray(_auction, _nextSet);\n    }\n\n    function reduceRemainingCurrentSets(Setup storage _auction, uint256 _quantity) internal {\n        _auction.remainingCurrentSets = _auction.remainingCurrentSets.sub(_quantity);\n    }\n\n    /*\n     * Validate bid is a multiple of minimum bid and that amount is less than remaining.\n     */\n    function validateBidQuantity(Setup storage _auction, uint256 _quantity) internal view {\n        require(\n            _quantity.mod(_auction.minimumBid) == 0,\n            "Auction.validateBidQuantity: Must bid multiple of minimum bid"\n        );\n\n        require(\n            _quantity <= _auction.remainingCurrentSets,\n            "Auction.validateBidQuantity: Bid exceeds remaining current sets"\n        );\n    }\n\n    /*\n     * Asserts whether the auction has been completed, which is when all currentSets have been\n     * rebalanced.\n     */\n    function validateAuctionCompletion(Setup storage _auction) internal view {\n        require(\n            !hasBiddableQuantity(_auction),\n            "Auction.settleRebalance: Rebalance not completed"\n        );\n    }\n\n    /**\n     * Returns whether the remainingSets is still a quantity equal or greater than the minimum bid\n     */\n    function hasBiddableQuantity(Setup storage _auction) internal view returns(bool) {\n        return _auction.remainingCurrentSets >= _auction.minimumBid;\n    }\n\n    /**\n     * Returns whether the auction is active\n     */\n    function isAuctionActive(Setup storage _auction) internal view returns(bool) {\n        return _auction.startTime > 0;\n    }\n\n    /*\n     * Calculates TokenFlows\n     *\n     * @param _auction              Auction Setup object\n     * @param _quantity             Amount of currentSets bidder is seeking to rebalance\n     * @param _price                Value representing the auction numeartor\n     */\n    function calculateTokenFlow(\n        Setup storage _auction,\n        uint256 _quantity,\n        uint256 _price\n    )\n        internal\n        view\n        returns (Rebalance.TokenFlow memory)\n    {\n        // Normalized quantity amount\n        uint256 unitsMultiplier = _quantity.div(_auction.maxNaturalUnit);\n\n        address[] memory memCombinedTokenArray = _auction.combinedTokenArray;\n\n        uint256 combinedTokenCount = memCombinedTokenArray.length;\n        uint256[] memory inflowUnitArray = new uint256[](combinedTokenCount);\n        uint256[] memory outflowUnitArray = new uint256[](combinedTokenCount);\n\n        // Cycle through each token in combinedTokenArray, calculate inflow/outflow and store\n        // result in array\n        for (uint256 i = 0; i < combinedTokenCount; i++) {\n            (\n                inflowUnitArray[i],\n                outflowUnitArray[i]\n            ) = calculateInflowOutflow(\n                _auction.combinedCurrentSetUnits[i],\n                _auction.combinedNextSetUnits[i],\n                unitsMultiplier,\n                _price\n            );\n        }\n\n        return Rebalance.composeTokenFlow(memCombinedTokenArray, inflowUnitArray, outflowUnitArray);\n    }\n\n    /**\n     * Computes the union of the currentSet and nextSet components\n     *\n     * @param _currentSet               The Set to rebalance from\n     * @param _nextSet                  The Set to rebalance to\n     * @return                          Aggregated components array\n     */\n    function getCombinedTokenArray(\n        ISetToken _currentSet,\n        ISetToken _nextSet\n    )\n        internal\n        view\n        returns(address[] memory)\n    {\n        address[] memory currentSetComponents = _currentSet.getComponents();\n        address[] memory nextSetComponents = _nextSet.getComponents();\n        return currentSetComponents.union(nextSetComponents);\n    }\n\n    /*\n     * Calculates token inflow/outflow for single component in combinedTokenArray\n     *\n     * @param _currentUnit          Amount of token i in currentSet per minimum bid amount\n     * @param _nextSetUnit          Amount of token i in nextSet per minimum bid amount\n     * @param _unitsMultiplier      Bid amount normalized to number of minimum bid amounts\n     * @param _price                Auction price numerator with 10 ** 18 as denominator\n     * @return inflowUnit           Amount of token i transferred into the system\n     * @return outflowUnit          Amount of token i transferred to the bidder\n     */\n    function calculateInflowOutflow(\n        uint256 _currentUnit,\n        uint256 _nextSetUnit,\n        uint256 _unitsMultiplier,\n        uint256 _price\n    )\n        internal\n        pure\n        returns (uint256, uint256)\n    {\n        /*\n         * Below is a mathematically simplified formula for calculating token inflows and\n         * outflows, the following is it\'s derivation:\n         * token_flow = (bidQuantity/price)*(nextUnit - price*currentUnit)\n         *\n         * Where,\n         * 1) price = (priceNumerator/priceDivisor),\n         * 2) nextUnit and currentUnit are the amount of component i needed for a\n         * standardAmount of sets to be rebalanced where one standardAmount =\n         * max(natural unit nextSet, natural unit currentSet), and\n         * 3) bidQuantity is a normalized amount in terms of the standardAmount used\n         * to calculate nextUnit and currentUnit. This is represented by the unitsMultiplier\n         * variable.\n         *\n         * Given these definitions we can derive the below formula as follows:\n         * token_flow = (unitsMultiplier/(priceNumerator/priceDivisor))*\n         * (nextUnit - (priceNumerator/priceDivisor)*currentUnit)\n         *\n         * We can then multiply this equation by (priceDivisor/priceDivisor)\n         * which simplifies the above equation to:\n         *\n         * (unitsMultiplier/priceNumerator)* (nextUnit*priceDivisor - currentUnit*priceNumerator)\n         *\n         * This is the equation seen below, but since unsigned integers are used we must check to see if\n         * nextUnit*priceDivisor > currentUnit*priceNumerator, otherwise those two terms must be\n         * flipped in the equation.\n         */\n        uint256 inflowUnit;\n        uint256 outflowUnit;\n\n        // Use if statement to check if token inflow or outflow\n        if (_nextSetUnit.mul(CURVE_DENOMINATOR) > _currentUnit.mul(_price)) {\n            // Calculate inflow amount\n            inflowUnit = _unitsMultiplier.mul(\n                _nextSetUnit.mul(CURVE_DENOMINATOR).sub(_currentUnit.mul(_price))\n            ).div(_price);\n\n            // Set outflow amount to 0 for component i, since tokens need to be injected in rebalance\n            outflowUnit = 0;\n        } else {\n            // Calculate outflow amount\n            outflowUnit = _unitsMultiplier.mul(\n                _currentUnit.mul(_price).sub(_nextSetUnit.mul(CURVE_DENOMINATOR))\n            ).div(_price);\n\n            // Set inflow amount to 0 for component i, since tokens need to be returned in rebalance\n            inflowUnit = 0;\n        }\n\n        return (inflowUnit, outflowUnit);\n    }\n\n    /* ============ Token Array Creation Helpers ============ */\n\n    /**\n     * Create uint256 arrays that represents all components in currentSet and nextSet.\n     * Calcualate unit difference between both sets relative to the largest natural\n     * unit of the two sets.\n     *\n     * @param _auction           Auction Setup object\n     * @param _set               The Set to generate units for\n     * @return combinedUnits     \n     */\n    function calculateCombinedUnitArray(\n        Setup storage _auction,\n        ISetToken _set\n    )\n        internal\n        view\n        returns (uint256[] memory)\n    {\n        address[] memory combinedTokenArray = _auction.combinedTokenArray;\n        uint256[] memory combinedUnits = new uint256[](combinedTokenArray.length);\n        for (uint256 i = 0; i < combinedTokenArray.length; i++) {\n            combinedUnits[i] = calculateCombinedUnit(\n                _set,\n                _auction.maxNaturalUnit,\n                combinedTokenArray[i]\n            );\n        }\n\n        return combinedUnits;\n    }\n\n    /**\n     * Calculations the unit amount of Token to include in the the combined Set units.\n     *\n     * @param _setToken                 Information on the SetToken\n     * @param _maxNaturalUnit           Max natural unit of two sets in rebalance\n     * @param _component                Current component in iteration\n     * @return                          Unit inflow/outflow\n     */\n    function calculateCombinedUnit(\n        ISetToken _setToken,\n        uint256 _maxNaturalUnit,\n        address _component\n    )\n        private\n        view\n        returns (uint256)\n    {\n        // Check if component in arrays and get index if it is\n        (\n            uint256 indexCurrent, \n            bool isComponent\n        ) = _setToken.getComponents().indexOf(_component);\n\n        // Compute unit amounts of token in Set\n        if (isComponent) {\n            return calculateTransferValue(\n                _setToken.getUnits()[indexCurrent],\n                _setToken.naturalUnit(),\n                _maxNaturalUnit\n            );\n        }\n\n        return 0;\n    }\n\n   /**\n     * Function to calculate the transfer value of a component given a standardized bid amount\n     * (minimumBid/priceDivisor)\n     *\n     * @param   _unit               Units of the component token\n     * @param   _naturalUnit        Natural unit of the Set token\n     * @param   _maxNaturalUnit     Max natural unit of two sets in rebalance\n     * @return  uint256             Amount of tokens per standard bid amount (minimumBid/priceDivisor)\n     */\n    function calculateTransferValue(\n        uint256 _unit,\n        uint256 _naturalUnit,\n        uint256 _maxNaturalUnit\n    )\n        private\n        pure\n        returns (uint256)\n    {\n        return SetMath.setToComponent(_maxNaturalUnit, _unit, _naturalUnit);\n    }\n}',sourcePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/Auction.sol",ast:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/Auction.sol",exportedSymbols:{Auction:[7971]},id:7972,nodeType:"SourceUnit",nodes:[{id:7439,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:49"},{id:7440,literals:["experimental","ABIEncoderV2"],nodeType:"PragmaDirective",src:"620:35:49"},{absolutePath:"openzeppelin-solidity/contracts/math/Math.sol",file:"openzeppelin-solidity/contracts/math/Math.sol",id:7442,nodeType:"ImportDirective",scope:7972,sourceUnit:29513,src:"657:69:49",symbolAliases:[{foreign:7441,local:null}],unitAlias:""},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:7444,nodeType:"ImportDirective",scope:7972,sourceUnit:29641,src:"727:77:49",symbolAliases:[{foreign:7443,local:null}],unitAlias:""},{absolutePath:"set-protocol-oracles/contracts/meta-oracles/interfaces/IOracle.sol",file:"set-protocol-oracles/contracts/meta-oracles/interfaces/IOracle.sol",id:7446,nodeType:"ImportDirective",scope:7972,sourceUnit:30299,src:"805:93:49",symbolAliases:[{foreign:7445,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/AddressArrayUtils.sol",file:"../../../lib/AddressArrayUtils.sol",id:7448,nodeType:"ImportDirective",scope:7972,sourceUnit:22511,src:"900:71:49",symbolAliases:[{foreign:7447,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ICore.sol",file:"../../interfaces/ICore.sol",id:7450,nodeType:"ImportDirective",scope:7972,sourceUnit:4747,src:"972:51:49",symbolAliases:[{foreign:7449,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ISetToken.sol",file:"../../interfaces/ISetToken.sol",id:7452,nodeType:"ImportDirective",scope:7972,sourceUnit:5660,src:"1024:59:49",symbolAliases:[{foreign:7451,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/Rebalance.sol",file:"../../lib/Rebalance.sol",id:7454,nodeType:"ImportDirective",scope:7972,sourceUnit:6627,src:"1084:52:49",symbolAliases:[{foreign:7453,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/SetMath.sol",file:"../../lib/SetMath.sol",id:7456,nodeType:"ImportDirective",scope:7972,sourceUnit:6706,src:"1137:48:49",symbolAliases:[{foreign:7455,local:null}],unitAlias:""},{baseContracts:[],contractDependencies:[],contractKind:"contract",documentation:"@title Auction\n@author Set Protocol\n * Contract containing utility functions for liquidators that use auctions processes. Contains\nhelper functions to value collateral SetTokens and determine parameters used in bidding\nprocesses. Meant to be inherited.",fullyImplemented:true,id:7971,linearizedBaseContracts:[7971],name:"Auction",nodeType:"ContractDefinition",nodes:[{id:7459,libraryName:{contractScope:null,id:7457,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:29640,src:"1493:8:49",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$29640",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"1487:27:49",typeName:{id:7458,name:"uint256",nodeType:"ElementaryTypeName",src:"1506:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{id:7463,libraryName:{contractScope:null,id:7460,name:"AddressArrayUtils",nodeType:"UserDefinedTypeName",referencedDeclaration:22510,src:"1525:17:49",typeDescriptions:{typeIdentifier:"t_contract$_AddressArrayUtils_$22510",typeString:"library AddressArrayUtils"}},nodeType:"UsingForDirective",src:"1519:38:49",typeName:{baseType:{id:7461,name:"address",nodeType:"ElementaryTypeName",src:"1547:7:49",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:7462,length:null,nodeType:"ArrayTypeName",src:"1547:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}}},{canonicalName:"Auction.Setup",id:7483,members:[{constant:false,id:7465,name:"maxNaturalUnit",nodeType:"VariableDeclaration",scope:7483,src:"1630:22:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7464,name:"uint256",nodeType:"ElementaryTypeName",src:"1630:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7467,name:"minimumBid",nodeType:"VariableDeclaration",scope:7483,src:"1662:18:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7466,name:"uint256",nodeType:"ElementaryTypeName",src:"1662:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7469,name:"startTime",nodeType:"VariableDeclaration",scope:7483,src:"1690:17:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7468,name:"uint256",nodeType:"ElementaryTypeName",src:"1690:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7471,name:"startingCurrentSets",nodeType:"VariableDeclaration",scope:7483,src:"1717:27:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7470,name:"uint256",nodeType:"ElementaryTypeName",src:"1717:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7473,name:"remainingCurrentSets",nodeType:"VariableDeclaration",scope:7483,src:"1754:28:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7472,name:"uint256",nodeType:"ElementaryTypeName",src:"1754:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7476,name:"combinedTokenArray",nodeType:"VariableDeclaration",scope:7483,src:"1792:28:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"},typeName:{baseType:{id:7474,name:"address",nodeType:"ElementaryTypeName",src:"1792:7:49",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:7475,length:null,nodeType:"ArrayTypeName",src:"1792:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"},{constant:false,id:7479,name:"combinedCurrentSetUnits",nodeType:"VariableDeclaration",scope:7483,src:"1830:33:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"},typeName:{baseType:{id:7477,name:"uint256",nodeType:"ElementaryTypeName",src:"1830:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7478,length:null,nodeType:"ArrayTypeName",src:"1830:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"},{constant:false,id:7482,name:"combinedNextSetUnits",nodeType:"VariableDeclaration",scope:7483,src:"1873:30:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"},typeName:{baseType:{id:7480,name:"uint256",nodeType:"ElementaryTypeName",src:"1873:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7481,length:null,nodeType:"ArrayTypeName",src:"1873:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],name:"Setup",nodeType:"StructDefinition",scope:7971,src:"1607:303:49",visibility:"public"},{constant:true,id:7488,name:"CURVE_DENOMINATOR",nodeType:"VariableDeclaration",scope:7971,src:"1960:53:49",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7484,name:"uint256",nodeType:"ElementaryTypeName",src:"1960:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,commonType:{typeIdentifier:"t_rational_1000000000000000000_by_1",typeString:"int_const 1000000000000000000"},id:7487,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,leftExpression:{argumentTypes:null,hexValue:"3130",id:7485,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2005:2:49",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_10_by_1",typeString:"int_const 10"},value:"10"},nodeType:"BinaryOperation",operator:"**",rightExpression:{argumentTypes:null,hexValue:"3138",id:7486,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2011:2:49",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_18_by_1",typeString:"int_const 18"},value:"18"},src:"2005:8:49",typeDescriptions:{typeIdentifier:"t_rational_1000000000000000000_by_1",typeString:"int_const 1000000000000000000"}},visibility:"private"},{body:{id:7559,nodeType:"Block",src:"2623:586:49",statements:[{expression:{argumentTypes:null,id:7511,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:7499,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7490,src:"2633:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7501,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"maxNaturalUnit",nodeType:"MemberAccess",referencedDeclaration:7465,src:"2633:23:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:7504,name:"_currentSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7492,src:"2681:11:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:7505,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"naturalUnit",nodeType:"MemberAccess",referencedDeclaration:5618,src:"2681:23:49",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_uint256_$",typeString:"function () view external returns (uint256)"}},id:7506,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2681:25:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:7507,name:"_nextSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7494,src:"2720:8:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:7508,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"naturalUnit",nodeType:"MemberAccess",referencedDeclaration:5618,src:"2720:20:49",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_uint256_$",typeString:"function () view external returns (uint256)"}},id:7509,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2720:22:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7502,name:"Math",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:29512,src:"2659:4:49",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_Math_$29512_$",typeString:"type(library Math)"}},id:7503,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"max",nodeType:"MemberAccess",referencedDeclaration:29462,src:"2659:8:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7510,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2659:93:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2633:119:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7512,nodeType:"ExpressionStatement",src:"2633:119:49"},{expression:{argumentTypes:null,id:7517,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:7513,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7490,src:"2763:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7515,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"startingCurrentSets",nodeType:"MemberAccess",referencedDeclaration:7471,src:"2763:28:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:7516,name:"_startingCurrentSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7496,src:"2794:27:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2763:58:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7518,nodeType:"ExpressionStatement",src:"2763:58:49"},{expression:{argumentTypes:null,id:7523,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:7519,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7490,src:"2831:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"
}},id:7521,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"remainingCurrentSets",nodeType:"MemberAccess",referencedDeclaration:7473,src:"2831:29:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:7522,name:"_startingCurrentSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7496,src:"2863:27:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2831:59:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7524,nodeType:"ExpressionStatement",src:"2831:59:49"},{expression:{argumentTypes:null,id:7530,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:7525,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7490,src:"2900:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7527,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"startTime",nodeType:"MemberAccess",referencedDeclaration:7469,src:"2900:18:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:7528,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"2921:5:49",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:7529,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"2921:15:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2900:36:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7531,nodeType:"ExpressionStatement",src:"2900:36:49"},{expression:{argumentTypes:null,id:7539,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:7532,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7490,src:"2946:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7534,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"combinedTokenArray",nodeType:"MemberAccess",referencedDeclaration:7476,src:"2946:27:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[] storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:7536,name:"_currentSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7492,src:"2998:11:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},{argumentTypes:null,id:7537,name:"_nextSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7494,src:"3011:8:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}],id:7535,name:"getCombinedTokenArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7770,src:"2976:21:49",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_contract$_ISetToken_$5659_$_t_contract$_ISetToken_$5659_$returns$_t_array$_t_address_$dyn_memory_ptr_$",typeString:"function (contract ISetToken,contract ISetToken) view returns (address[] memory)"}},id:7538,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2976:44:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},src:"2946:74:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[] storage ref"}},id:7540,nodeType:"ExpressionStatement",src:"2946:74:49"},{expression:{argumentTypes:null,id:7548,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:7541,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7490,src:"3030:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7543,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"combinedCurrentSetUnits",nodeType:"MemberAccess",referencedDeclaration:7479,src:"3030:32:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:7545,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7490,src:"3092:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},{argumentTypes:null,id:7546,name:"_currentSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7492,src:"3102:11:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"},{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}],id:7544,name:"calculateCombinedUnitArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7911,src:"3065:26:49",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$_t_contract$_ISetToken_$5659_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$",typeString:"function (struct Auction.Setup storage pointer,contract ISetToken) view returns (uint256[] memory)"}},id:7547,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3065:49:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},src:"3030:84:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},id:7549,nodeType:"ExpressionStatement",src:"3030:84:49"},{expression:{argumentTypes:null,id:7557,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:7550,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7490,src:"3124:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7552,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"combinedNextSetUnits",nodeType:"MemberAccess",referencedDeclaration:7482,src:"3124:29:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:7554,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7490,src:"3183:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},{argumentTypes:null,id:7555,name:"_nextSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7494,src:"3193:8:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"},{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}],id:7553,name:"calculateCombinedUnitArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7911,src:"3156:26:49",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$_t_contract$_ISetToken_$5659_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$",typeString:"function (struct Auction.Setup storage pointer,contract ISetToken) view returns (uint256[] memory)"}},id:7556,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3156:46:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},src:"3124:78:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},id:7558,nodeType:"ExpressionStatement",src:"3124:78:49"}]},documentation:null,id:7560,implemented:true,kind:"function",modifiers:[],name:"initializeAuction",nodeType:"FunctionDefinition",parameters:{id:7497,nodeType:"ParameterList",parameters:[{constant:false,id:7490,name:"_auction",nodeType:"VariableDeclaration",scope:7560,src:"2469:22:49",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:7489,name:"Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"2469:5:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:7492,name:"_currentSet",nodeType:"VariableDeclaration",scope:7560,src:"2501:21:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:7491,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"2501:9:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:7494,name:"_nextSet",nodeType:"VariableDeclaration",scope:7560,src:"2532:18:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:7493,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"2532:9:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:7496,name:"_startingCurrentSetQuantity",nodeType:"VariableDeclaration",scope:7560,src:"2560:35:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7495,name:"uint256",nodeType:"ElementaryTypeName",src:"2560:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"2459:142:49"},returnParameters:{id:7498,nodeType:"ParameterList",parameters:[],src:"2623:0:49"},scope:7971,src:"2433:776:49",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:7577,nodeType:"Block",src:"3303:93:49",statements:[{expression:{argumentTypes:null,id:7575,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:7567,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7562,src:"3313:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7569,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"remainingCurrentSets",nodeType:"MemberAccess",referencedDeclaration:7473,src:"3313:29:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:7573,name:"_quantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7564,src:"3379:9:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:7570,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7562,src:"3345:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7571,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"remainingCurrentSets",nodeType:"MemberAccess",referencedDeclaration:7473,src:"3345:29:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7572,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"3345:33:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7574,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3345:44:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"3313:76:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7576,nodeType:"ExpressionStatement",src:"3313:76:49"}]},documentation:null,id:7578,implemented:true,kind:"function",modifiers:[],name:"reduceRemainingCurrentSets",nodeType:"FunctionDefinition",parameters:{id:7565,nodeType:"ParameterList",parameters:[{constant:false,id:7562,name:"_auction",nodeType:"VariableDeclaration",scope:7578,src:"3251:22:49",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:7561,name:"Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"3251:5:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:7564,name:"_quantity",nodeType:"VariableDeclaration",scope:7578,src:"3275:17:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7563,name:"uint256",nodeType:"ElementaryTypeName",src:"3275:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"3250:43:49"},returnParameters:{id:7566,nodeType:"ParameterList",parameters:[],src:"3303:0:49"},scope:7971,src:"3215:181:49",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:7604,nodeType:"Block",src:"3592:327:49",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:7592,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:7588,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7580,src:"3637:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7589,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"minimumBid",nodeType:"MemberAccess",referencedDeclaration:7467,src:"3637:19:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7586,name:"_quantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7582,src:"3623:9:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7587,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mod",nodeType:"MemberAccess",referencedDeclaration:29639,src:"3623:13:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7590,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3623:34:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:7591,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"3661:1:49",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"3623:39:49",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"41756374696f6e2e76616c69646174654269645175616e746974793a204d75737420626964206d756c7469706c65206f66206d696e696d756d20626964",id:7593,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"3676:63:49",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_b0be8206d77eff73af8c261f864c52cf522c06aa85122b33d65008eb5aae994f",typeString:'literal_string "Auction.validateBidQuantity: Must bid multiple of minimum bid"'},value:"Auction.validateBidQuantity: Must bid multiple of minimum bid"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_b0be8206d77eff73af8c261f864c52cf522c06aa85122b33d65008eb5aae994f",typeString:'literal_string "Auction.validateBidQuantity: Must bid multiple of minimum bid"'}],id:7585,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"3602:7:49",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:7594,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3602:147:49",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:7595,nodeType:"ExpressionStatement",src:"3602:147:49"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:7600,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:7597,name:"_quantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7582,src:"3781:9:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<=",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:7598,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7580,src:"3794:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7599,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"remainingCurrentSets",nodeType:"MemberAccess",referencedDeclaration:7473,src:"3794:29:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"3781:42:49",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"41756374696f6e2e76616c69646174654269645175616e746974793a2042696420657863656564732072656d61696e696e672063757272656e742073657473",id:7601,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"3837:65:49",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_0da7bb30223f91dca0ca55bfdc02386abe3afb82d34d0329991b6e3fdf61480c",typeString:'literal_string "Auction.validateBidQuantity: Bid exceeds remaining current sets"'},value:"Auction.validateBidQuantity: Bid exceeds remaining current sets"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_0da7bb30223f91dca0ca55bfdc02386abe3afb82d34d0329991b6e3fdf61480c",typeString:'literal_string "Auction.validateBidQuantity: Bid exceeds remaining current sets"'}],id:7596,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"3760:7:49",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:7602,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3760:152:49",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:7603,nodeType:"ExpressionStatement",src:"3760:152:49"}]},documentation:null,id:7605,implemented:true,kind:"function",modifiers:[],name:"validateBidQuantity",nodeType:"FunctionDefinition",parameters:{id:7583,nodeType:"ParameterList",parameters:[{constant:false,id:7580,name:"_auction",nodeType:"VariableDeclaration",scope:7605,src:"3535:22:49",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:7579,name:"Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"3535:5:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:7582,name:"_quantity",nodeType:"VariableDeclaration",scope:7605,src:"3559:17:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7581,name:"uint256",nodeType:"ElementaryTypeName",src:"3559:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"3534:43:49"},returnParameters:{id:7584,nodeType:"ParameterList",parameters:[],src:"3592:0:49"},scope:7971,src:"3506:413:49",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:7618,nodeType:"Block",src:"4127:142:49",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:7614,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"UnaryOperation",operator:"!",prefix:true,src:"4158:30:49",subExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:7612,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7607,src:"4179:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}],id:7611,name:"hasBiddableQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7633,src:"4159:19:49",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$returns$_t_bool_$",typeString:"function (struct Auction.Setup storage pointer) view returns (bool)"}},id:7613,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4159:29:49",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"41756374696f6e2e736574746c65526562616c616e63653a20526562616c616e6365206e6f7420636f6d706c65746564",id:7615,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"4202:50:49",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_f1c772cee96e6c9ba87ce16fe0a8196c057feb9325c2caa88c7e8ed227bbe057",typeString:'literal_string "Auction.settleRebalance: Rebalance not completed"'},value:"Auction.settleRebalance: Rebalance not completed"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_f1c772cee96e6c9ba87ce16fe0a8196c057feb9325c2caa88c7e8ed227bbe057",typeString:'literal_string "Auction.settleRebalance: Rebalance not completed"'}],id:7610,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"4137:7:49",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:7616,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4137:125:49",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:7617,nodeType:"ExpressionStatement",src:"4137:125:49"}]},documentation:null,id:7619,implemented:true,kind:"function",modifiers:[],name:"validateAuctionCompletion",nodeType:"FunctionDefinition",parameters:{id:7608,nodeType:"ParameterList",parameters:[{constant:false,id:7607,name:"_auction",nodeType:"VariableDeclaration",scope:7619,src:"4089:22:49",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:7606,name:"Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"4089:5:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"}],src:"4088:24:49"},returnParameters:{id:7609,nodeType:"ParameterList",parameters:[],src:"4127:0:49"},scope:7971,src:"4054:215:49",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:7632,nodeType:"Block",src:"4471:76:49",statements:[{expression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:7630,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:7626,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7621,src:"4488:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7627,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"remainingCurrentSets",nodeType:"MemberAccess",referencedDeclaration:7473,src:"4488:29:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">=",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:7628,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7621,src:"4521:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7629,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"minimumBid",nodeType:"MemberAccess",referencedDeclaration:7467,src:"4521:19:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"4488:52:49",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},functionReturnParameters:7625,id:7631,nodeType:"Return",src:"4481:59:49"}]},documentation:"Returns whether the remainingSets is still a quantity equal or greater than the minimum bid",id:7633,implemented:true,kind:"function",modifiers:[],name:"hasBiddableQuantity",nodeType:"FunctionDefinition",parameters:{id:7622,nodeType:"ParameterList",parameters:[{constant:false,id:7621,name:"_auction",nodeType:"VariableDeclaration",scope:7633,src:"4419:22:49",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:7620,name:"Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"4419:5:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"}],src:"4418:24:49"},returnParameters:{id:7625,nodeType:"ParameterList",parameters:[{constant:false,id:7624,name:"",nodeType:"VariableDeclaration",scope:7633,src:"4465:4:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:7623,name:"bool",nodeType:"ElementaryTypeName",src:"4465:4:49",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"4464:6:49"},scope:7971,src:"4390:157:49",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:7645,nodeType:"Block",src:"4691:46:49",statements:[{expression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:7643,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:7640,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7635,src:"4708:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7641,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"startTime",nodeType:"MemberAccess",referencedDeclaration:7469,src:"4708:18:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:7642,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"4729:1:49",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"4708:22:49",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},functionReturnParameters:7639,id:7644,nodeType:"Return",src:"4701:29:49"}]},documentation:"Returns whether the auction is active",id:7646,implemented:true,kind:"function",modifiers:[],name:"isAuctionActive",nodeType:"FunctionDefinition",parameters:{id:7636,nodeType:"ParameterList",parameters:[{constant:false,id:7635,name:"_auction",nodeType:"VariableDeclaration",scope:7646,src:"4639:22:49",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:7634,name:"Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"4639:5:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"}],src:"4638:24:49"},returnParameters:{id:7639,nodeType:"ParameterList",parameters:[{constant:false,id:7638,name:"",nodeType:"VariableDeclaration",scope:7646,src:"4685:4:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:7637,name:"bool",nodeType:"ElementaryTypeName",src:"4685:4:49",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"4684:6:49"},scope:7971,src:"4614:123:49",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:7737,nodeType:"Block",src:"5213:1016:49",statements:[{assignments:[7658],declarations:[{constant:false,id:7658,name:"unitsMultiplier",nodeType:"VariableDeclaration",scope:7737,src:"5261:23:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7657,name:"uint256",nodeType:"ElementaryTypeName",src:"5261:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:7664,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:7661,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7648,src:"5301:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7662,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"maxNaturalUnit",nodeType:"MemberAccess",referencedDeclaration:7465,src:"5301:23:49",typeDescriptions:{typeIdentifier:"t_uint256",
typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7659,name:"_quantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7650,src:"5287:9:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7660,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"5287:13:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7663,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5287:38:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"5261:64:49"},{assignments:[7668],declarations:[{constant:false,id:7668,name:"memCombinedTokenArray",nodeType:"VariableDeclaration",scope:7737,src:"5336:38:49",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:7666,name:"address",nodeType:"ElementaryTypeName",src:"5336:7:49",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:7667,length:null,nodeType:"ArrayTypeName",src:"5336:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"}],id:7671,initialValue:{argumentTypes:null,expression:{argumentTypes:null,id:7669,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7648,src:"5377:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7670,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedTokenArray",nodeType:"MemberAccess",referencedDeclaration:7476,src:"5377:27:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[] storage ref"}},nodeType:"VariableDeclarationStatement",src:"5336:68:49"},{assignments:[7673],declarations:[{constant:false,id:7673,name:"combinedTokenCount",nodeType:"VariableDeclaration",scope:7737,src:"5415:26:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7672,name:"uint256",nodeType:"ElementaryTypeName",src:"5415:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:7676,initialValue:{argumentTypes:null,expression:{argumentTypes:null,id:7674,name:"memCombinedTokenArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7668,src:"5444:21:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:7675,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"5444:28:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"5415:57:49"},{assignments:[7680],declarations:[{constant:false,id:7680,name:"inflowUnitArray",nodeType:"VariableDeclaration",scope:7737,src:"5482:32:49",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:7678,name:"uint256",nodeType:"ElementaryTypeName",src:"5482:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7679,length:null,nodeType:"ArrayTypeName",src:"5482:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],id:7686,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:7684,name:"combinedTokenCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7673,src:"5531:18:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:7683,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"NewExpression",src:"5517:13:49",typeDescriptions:{typeIdentifier:"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_$",typeString:"function (uint256) pure returns (uint256[] memory)"},typeName:{baseType:{id:7681,name:"uint256",nodeType:"ElementaryTypeName",src:"5521:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7682,length:null,nodeType:"ArrayTypeName",src:"5521:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}}},id:7685,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5517:33:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory",typeString:"uint256[] memory"}},nodeType:"VariableDeclarationStatement",src:"5482:68:49"},{assignments:[7690],declarations:[{constant:false,id:7690,name:"outflowUnitArray",nodeType:"VariableDeclaration",scope:7737,src:"5560:33:49",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:7688,name:"uint256",nodeType:"ElementaryTypeName",src:"5560:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7689,length:null,nodeType:"ArrayTypeName",src:"5560:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],id:7696,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:7694,name:"combinedTokenCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7673,src:"5610:18:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:7693,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"NewExpression",src:"5596:13:49",typeDescriptions:{typeIdentifier:"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_$",typeString:"function (uint256) pure returns (uint256[] memory)"},typeName:{baseType:{id:7691,name:"uint256",nodeType:"ElementaryTypeName",src:"5600:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7692,length:null,nodeType:"ArrayTypeName",src:"5600:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}}},id:7695,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5596:33:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory",typeString:"uint256[] memory"}},nodeType:"VariableDeclarationStatement",src:"5560:69:49"},{body:{id:7728,nodeType:"Block",src:"5810:311:49",statements:[{expression:{argumentTypes:null,id:7726,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,components:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:7707,name:"inflowUnitArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7680,src:"5842:15:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:7709,indexExpression:{argumentTypes:null,id:7708,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7698,src:"5858:1:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:true,nodeType:"IndexAccess",src:"5842:18:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,baseExpression:{argumentTypes:null,id:7710,name:"outflowUnitArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7690,src:"5878:16:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:7712,indexExpression:{argumentTypes:null,id:7711,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7698,src:"5895:1:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:true,nodeType:"IndexAccess",src:"5878:19:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],id:7713,isConstant:false,isInlineArray:false,isLValue:true,isPure:false,lValueRequested:true,nodeType:"TupleExpression",src:"5824:87:49",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$",typeString:"tuple(uint256,uint256)"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:7715,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7648,src:"5954:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7716,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedCurrentSetUnits",nodeType:"MemberAccess",referencedDeclaration:7479,src:"5954:32:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},id:7718,indexExpression:{argumentTypes:null,id:7717,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7698,src:"5987:1:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"5954:35:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:7719,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7648,src:"6007:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7720,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedNextSetUnits",nodeType:"MemberAccess",referencedDeclaration:7482,src:"6007:29:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},id:7722,indexExpression:{argumentTypes:null,id:7721,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7698,src:"6037:1:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"6007:32:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:7723,name:"unitsMultiplier",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7658,src:"6057:15:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:7724,name:"_price",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7652,src:"6090:6:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:7714,name:"calculateInflowOutflow",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7854,src:"5914:22:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$_t_uint256_$",typeString:"function (uint256,uint256,uint256,uint256) pure returns (uint256,uint256)"}},id:7725,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5914:196:49",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$",typeString:"tuple(uint256,uint256)"}},src:"5824:286:49",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:7727,nodeType:"ExpressionStatement",src:"5824:286:49"}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:7703,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:7701,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7698,src:"5781:1:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,id:7702,name:"combinedTokenCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7673,src:"5785:18:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"5781:22:49",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:7729,initializationExpression:{assignments:[7698],declarations:[{constant:false,id:7698,name:"i",nodeType:"VariableDeclaration",scope:7729,src:"5766:9:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7697,name:"uint256",nodeType:"ElementaryTypeName",src:"5766:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:7700,initialValue:{argumentTypes:null,hexValue:"30",id:7699,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"5778:1:49",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"5766:13:49"},loopExpression:{expression:{argumentTypes:null,id:7705,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"UnaryOperation",operator:"++",prefix:false,src:"5805:3:49",subExpression:{argumentTypes:null,id:7704,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7698,src:"5805:1:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7706,nodeType:"ExpressionStatement",src:"5805:3:49"},nodeType:"ForStatement",src:"5761:360:49"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:7732,name:"memCombinedTokenArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7668,src:"6165:21:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},{argumentTypes:null,id:7733,name:"inflowUnitArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7680,src:"6188:15:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},{argumentTypes:null,id:7734,name:"outflowUnitArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7690,src:"6205:16:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"},{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"},{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}],expression:{argumentTypes:null,id:7730,name:"Rebalance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6626,src:"6138:9:49",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_Rebalance_$6626_$",typeString:"type(library Rebalance)"}},id:7731,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"composeTokenFlow",nodeType:"MemberAccess",referencedDeclaration:6542,src:"6138:26:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$returns$_t_struct$_TokenFlow_$6521_memory_ptr_$",typeString:"function (address[] memory,uint256[] memory,uint256[] memory) pure returns (struct Rebalance.TokenFlow memory)"}},id:7735,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6138:84:49",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory_ptr",typeString:"struct Rebalance.TokenFlow memory"}},functionReturnParameters:7656,id:7736,nodeType:"Return",src:"6131:91:49"}]},documentation:null,id:7738,implemented:true,kind:"function",modifiers:[],name:"calculateTokenFlow",nodeType:"FunctionDefinition",parameters:{id:7653,nodeType:"ParameterList",parameters:[{constant:false,id:7648,name:"_auction",nodeType:"VariableDeclaration",scope:7738,src:"5054:22:49",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:7647,name:"Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"5054:5:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:7650,name:"_quantity",nodeType:"VariableDeclaration",scope:7738,src:"5086:17:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7649,name:"uint256",nodeType:"ElementaryTypeName",src:"5086:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7652,name:"_price",nodeType:"VariableDeclaration",scope:7738,src:"5113:14:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7651,name:"uint256",nodeType:"ElementaryTypeName",src:"5113:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"5044:89:49"},returnParameters:{id:7656,nodeType:"ParameterList",parameters:[{constant:false,id:7655,name:"",nodeType:"VariableDeclaration",scope:7738,src:"5181:26:49",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory_ptr",typeString:"struct Rebalance.TokenFlow"},typeName:{contractScope:null,id:7654,name:"Rebalance.TokenFlow",nodeType:"UserDefinedTypeName",referencedDeclaration:6521,src:"5181:19:49",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_storage_ptr",typeString:"struct Rebalance.TokenFlow"}},value:null,visibility:"internal"}],src:"5180:28:49"},scope:7971,src:"5017:1212:49",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:7769,nodeType:"Block",src:"6687:217:49",statements:[{assignments:[7751],declarations:[{constant:false,id:7751,name:"currentSetComponents",nodeType:"VariableDeclaration",scope:7769,src:"6697:37:49",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:7749,name:"address",nodeType:"ElementaryTypeName",src:"6697:7:49",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:7750,length:null,nodeType:"ArrayTypeName",src:"6697:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"}],id:7755,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:7752,name:"_currentSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7740,src:"6737:11:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:7753,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getComponents",nodeType:"MemberAccess",referencedDeclaration:5624,src:"6737:25:49",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_array$_t_address_$dyn_memory_ptr_$",typeString:"function () view external returns (address[] memory)"}},id:7754,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6737:27:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},nodeType:"VariableDeclarationStatement",src:"6697:67:49"},{assignments:[7759],declarations:[{constant:false,id:7759,name:"nextSetComponents",nodeType:"VariableDeclaration",scope:7769,src:"6774:34:49",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:7757,name:"address",nodeType:"ElementaryTypeName",src:"6774:7:49",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:7758,length:null,nodeType:"ArrayTypeName",src:"6774:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"}],id:7763,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:7760,name:"_nextSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7742,src:"6811:8:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:7761,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getComponents",nodeType:"MemberAccess",referencedDeclaration:5624,src:"6811:22:49",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_array$_t_address_$dyn_memory_ptr_$",typeString:"function () view external returns (address[] memory)"}},id:7762,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6811:24:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},nodeType:"VariableDeclarationStatement",src:"6774:61:49"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:7766,name:"nextSetComponents",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7759,src:"6879:17:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}],expression:{argumentTypes:null,id:7764,name:"currentSetComponents",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7751,src:"6852:20:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:7765,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"union",nodeType:"MemberAccess",referencedDeclaration:22171,src:"6852:26:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_address_$dyn_memory_ptr_$returns$_t_array$_t_address_$dyn_memory_ptr_$bound_to$_t_array$_t_address_$dyn_memory_ptr_$",typeString:"function (address[] memory,address[] memory) pure returns (address[] memory)"}},id:7767,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6852:45:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},functionReturnParameters:7747,id:7768,nodeType:"Return",src:"6845:52:49"}]},documentation:"Computes the union of the currentSet and nextSet components\n     * @param _currentSet               The Set to rebalance from\n@param _nextSet                  The Set to rebalance to\n@return                          Aggregated components array",id:7770,implemented:true,kind:"function",modifiers:[],name:"getCombinedTokenArray",nodeType:"FunctionDefinition",parameters:{id:7743,nodeType:"ParameterList",parameters:[{constant:false,id:7740,name:"_currentSet",nodeType:"VariableDeclaration",scope:7770,src:"6563:21:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:7739,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"6563:9:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:7742,name:"_nextSet",nodeType:"VariableDeclaration",scope:7770,src:"6594:18:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:7741,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"6594:9:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"}],src:"6553:65:49"},returnParameters:{id:7747,nodeType:"ParameterList",parameters:[{constant:false,id:7746,name:"",nodeType:"VariableDeclaration",scope:7770,src:"6665:16:49",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:7744,name:"address",nodeType:"ElementaryTypeName",src:"6665:7:49",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:7745,length:null,nodeType:"ArrayTypeName",src:"6665:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"}],src:"6664:18:49"},scope:7971,src:"6523:381:49",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:7853,nodeType:"Block",src:"7760:2408:49",statements:[{assignments:[7786],declarations:[{constant:false,id:7786,name:"inflowUnit",nodeType:"VariableDeclaration",scope:7853,src:"9247:18:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7785,name:"uint256",nodeType:"ElementaryTypeName",src:"9247:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:7787,initialValue:null,nodeType:"VariableDeclarationStatement",src:"9247:18:49"},{assignments:[7789],declarations:[{constant:false,id:7789,name:"outflowUnit",nodeType:"VariableDeclaration",scope:7853,src:"9275:19:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7788,name:"uint256",nodeType:"ElementaryTypeName",src:"9275:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:7790,initialValue:null,nodeType:"VariableDeclarationStatement",src:"9275:19:49"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:7799,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:7793,name:"CURVE_DENOMINATOR",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7488,src:"9390:17:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7791,name:"_nextSetUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7774,src:"9373:12:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7792,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"9373:16:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7794,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9373:35:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:7797,name:"_price",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7778,src:"9428:6:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7795,name:"_currentUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7772,src:"9411:12:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7796,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"9411:16:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7798,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9411:24:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"9373:62:49",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:7847,nodeType:"Block",src:"9781:338:49",statements:[{expression:{argumentTypes:null,id:7841,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:7824,name:"outflowUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7789,src:"9835:11:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:7839,name:"_price",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7778,src:"9971:6:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:7834,name:"CURVE_DENOMINATOR",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7488,src:"9933:17:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7832,name:"_nextSetUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7774,src:"9916:12:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7833,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"9916:16:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7835,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9916:35:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:7829,name:"_price",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7778,src:"9904:6:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7827,name:"_currentUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7772,src:"9887:12:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7828,isConstant:false,isLValue:false,isPure:false,
lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"9887:16:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7830,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9887:24:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7831,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"9887:28:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7836,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9887:65:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7825,name:"_unitsMultiplier",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7776,src:"9849:16:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7826,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"9849:20:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7837,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9849:117:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7838,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"9849:121:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7840,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9849:129:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"9835:143:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7842,nodeType:"ExpressionStatement",src:"9835:143:49"},{expression:{argumentTypes:null,id:7845,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:7843,name:"inflowUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7786,src:"10094:10:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,hexValue:"30",id:7844,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"10107:1:49",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"10094:14:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7846,nodeType:"ExpressionStatement",src:"10094:14:49"}]},id:7848,nodeType:"IfStatement",src:"9369:750:49",trueBody:{id:7823,nodeType:"Block",src:"9437:338:49",statements:[{expression:{argumentTypes:null,id:7817,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:7800,name:"inflowUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7786,src:"9490:10:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:7815,name:"_price",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7778,src:"9625:6:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:7810,name:"_price",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7778,src:"9598:6:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7808,name:"_currentUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7772,src:"9581:12:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7809,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"9581:16:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7811,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9581:24:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:7805,name:"CURVE_DENOMINATOR",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7488,src:"9558:17:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7803,name:"_nextSetUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7774,src:"9541:12:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7804,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"9541:16:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7806,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9541:35:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7807,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"9541:39:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7812,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9541:65:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7801,name:"_unitsMultiplier",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7776,src:"9503:16:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7802,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"9503:20:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7813,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9503:117:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7814,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"9503:121:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7816,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9503:129:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"9490:142:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7818,nodeType:"ExpressionStatement",src:"9490:142:49"},{expression:{argumentTypes:null,id:7821,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:7819,name:"outflowUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7789,src:"9749:11:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,hexValue:"30",id:7820,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"9763:1:49",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"9749:15:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7822,nodeType:"ExpressionStatement",src:"9749:15:49"}]}},{expression:{argumentTypes:null,components:[{argumentTypes:null,id:7849,name:"inflowUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7786,src:"10137:10:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:7850,name:"outflowUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7789,src:"10149:11:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],id:7851,isConstant:false,isInlineArray:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"TupleExpression",src:"10136:25:49",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$",typeString:"tuple(uint256,uint256)"}},functionReturnParameters:7784,id:7852,nodeType:"Return",src:"10129:32:49"}]},documentation:null,id:7854,implemented:true,kind:"function",modifiers:[],name:"calculateInflowOutflow",nodeType:"FunctionDefinition",parameters:{id:7779,nodeType:"ParameterList",parameters:[{constant:false,id:7772,name:"_currentUnit",nodeType:"VariableDeclaration",scope:7854,src:"7576:20:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7771,name:"uint256",nodeType:"ElementaryTypeName",src:"7576:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7774,name:"_nextSetUnit",nodeType:"VariableDeclaration",scope:7854,src:"7606:20:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7773,name:"uint256",nodeType:"ElementaryTypeName",src:"7606:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7776,name:"_unitsMultiplier",nodeType:"VariableDeclaration",scope:7854,src:"7636:24:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7775,name:"uint256",nodeType:"ElementaryTypeName",src:"7636:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7778,name:"_price",nodeType:"VariableDeclaration",scope:7854,src:"7670:14:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7777,name:"uint256",nodeType:"ElementaryTypeName",src:"7670:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"7566:124:49"},returnParameters:{id:7784,nodeType:"ParameterList",parameters:[{constant:false,id:7781,name:"",nodeType:"VariableDeclaration",scope:7854,src:"7738:7:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7780,name:"uint256",nodeType:"ElementaryTypeName",src:"7738:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7783,name:"",nodeType:"VariableDeclaration",scope:7854,src:"7747:7:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7782,name:"uint256",nodeType:"ElementaryTypeName",src:"7747:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"7737:18:49"},scope:7971,src:"7535:2633:49",stateMutability:"pure",superFunction:null,visibility:"internal"},{body:{id:7910,nodeType:"Block",src:"10781:442:49",statements:[{assignments:[7867],declarations:[{constant:false,id:7867,name:"combinedTokenArray",nodeType:"VariableDeclaration",scope:7910,src:"10791:35:49",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:7865,name:"address",nodeType:"ElementaryTypeName",src:"10791:7:49",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:7866,length:null,nodeType:"ArrayTypeName",src:"10791:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"}],id:7870,initialValue:{argumentTypes:null,expression:{argumentTypes:null,id:7868,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7856,src:"10829:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7869,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedTokenArray",nodeType:"MemberAccess",referencedDeclaration:7476,src:"10829:27:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[] storage ref"}},nodeType:"VariableDeclarationStatement",src:"10791:65:49"},{assignments:[7874],declarations:[{constant:false,id:7874,name:"combinedUnits",nodeType:"VariableDeclaration",scope:7910,src:"10866:30:49",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:7872,name:"uint256",nodeType:"ElementaryTypeName",src:"10866:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7873,length:null,nodeType:"ArrayTypeName",src:"10866:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],id:7881,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:7878,name:"combinedTokenArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7867,src:"10913:18:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:7879,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"10913:25:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:7877,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"NewExpression",src:"10899:13:49",typeDescriptions:{typeIdentifier:"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_$",typeString:"function (uint256) pure returns (uint256[] memory)"},typeName:{baseType:{id:7875,name:"uint256",nodeType:"ElementaryTypeName",src:"10903:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7876,length:null,nodeType:"ArrayTypeName",src:"10903:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}}},id:7880,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10899:40:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory",typeString:"uint256[] memory"}},nodeType:"VariableDeclarationStatement",src:"10866:73:49"},{body:{id:7906,nodeType:"Block",src:"11005:181:49",statements:[{expression:{argumentTypes:null,id:7904,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:7893,name:"combinedUnits",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7874,src:"11019:13:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:7895,indexExpression:{argumentTypes:null,id:7894,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7883,src:"11033:1:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:true,nodeType:"IndexAccess",src:"11019:16:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:7897,name:"_set",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7858,src:"11077:4:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},{argumentTypes:null,expression:{argumentTypes:null,id:7898,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7856,src:"11099:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7899,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"maxNaturalUnit",nodeType:"MemberAccess",referencedDeclaration:7465,src:"11099:23:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,baseExpression:{argumentTypes:null,id:7900,name:"combinedTokenArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7867,src:"11140:18:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:7902,indexExpression:{argumentTypes:null,id:7901,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7883,src:"11159:1:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"11140:21:49",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_address",typeString:"address"}],id:7896,name:"calculateCombinedUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7951,src:"11038:21:49",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_contract$_ISetToken_$5659_$_t_uint256_$_t_address_$returns$_t_uint256_$",typeString:"function (contract ISetToken,uint256,address) view returns (uint256)"}},id:7903,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11038:137:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"11019:156:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7905,nodeType:"ExpressionStatement",src:"11019:156:49"}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:7889,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:7886,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7883,src:"10969:1:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:7887,name:"combinedTokenArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7867,src:"10973:18:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:7888,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"10973:25:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10969:29:49",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:7907,initializationExpression:{assignments:[7883],declarations:[{constant:false,id:7883,name:"i",nodeType:"VariableDeclaration",scope:7907,src:"10954:9:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7882,name:"uint256",nodeType:"ElementaryTypeName",src:"10954:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:7885,initialValue:{argumentTypes:null,hexValue:"30",id:7884,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"10966:1:49",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"10954:13:49"},loopExpression:{expression:{argumentTypes:null,id:7891,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"UnaryOperation",operator:"++",prefix:false,src:"11000:3:49",subExpression:{argumentTypes:null,id:7890,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7883,src:"11000:1:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7892,nodeType:"ExpressionStatement",src:"11000:3:49"},nodeType:"ForStatement",src:"10949:237:49"},{expression:{argumentTypes:null,id:7908,name:"combinedUnits",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7874,src:"11203:13:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},functionReturnParameters:7863,id:7909,nodeType:"Return",src:"11196:20:49"}]},documentation:"Create uint256 arrays that represents all components in currentSet and nextSet.\nCalcualate unit difference between both sets relative to the largest natural\nunit of the two sets.\n     * @param _auction           Auction Setup object\n@param _set               The Set to generate units for\n@return combinedUnits     ",id:7911,implemented:true,kind:"function",modifiers:[],name:"calculateCombinedUnitArray",nodeType:"FunctionDefinition",parameters:{id:7859,nodeType:"ParameterList",parameters:[{constant:false,id:7856,name:"_auction",nodeType:"VariableDeclaration",scope:7911,src:"10659:22:49",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:7855,name:"Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"10659:5:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:7858,name:"_set",nodeType:"VariableDeclaration",scope:7911,src:"10691:14:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:7857,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"10691:9:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"}],src:"10649:62:49"},returnParameters:{id:7863,nodeType:"ParameterList",parameters:[{constant:false,id:7862,name:"",nodeType:"VariableDeclaration",scope:7911,src:"10759:16:49",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:7860,name:"uint256",nodeType:"ElementaryTypeName",src:"10759:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7861,length:null,nodeType:"ArrayTypeName",src:"10759:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],src:"10758:18:49"},scope:7971,src:"10614:609:49",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:7950,nodeType:"Block",src:"11806:491:49",statements:[{assignments:[7923,7925],declarations:[{constant:false,id:7923,name:"indexCurrent",nodeType:"VariableDeclaration",scope:7950,src:"11893:20:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7922,name:"uint256",nodeType:"ElementaryTypeName",src:"11893:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7925,name:"isComponent",nodeType:"VariableDeclaration",scope:7950,src:"11928:16:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:7924,name:"bool",nodeType:"ElementaryTypeName",src:"11928:4:49",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],id:7932,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:7930,name:"_component",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7917,src:"11991:10:49",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],expression:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:7926,name:"_setToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7913,src:"11957:9:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:7927,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getComponents",nodeType:"MemberAccess",referencedDeclaration:5624,src:"11957:23:49",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_array$_t_address_$dyn_memory_ptr_$",typeString:"function () view external returns (address[] memory)"}},id:7928,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11957:25:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:7929,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"indexOf",nodeType:"MemberAccess",referencedDeclaration:21860,src:"11957:33:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_array$_t_address_$dyn_memory_ptr_$_t_address_$returns$_t_uint256_$_t_bool_$bound_to$_t_array$_t_address_$dyn_memory_ptr_$",typeString:"function (address[] memory,address) pure returns (uint256,bool)"}},id:7931,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11957:45:49",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_bool_$",typeString:"tuple(uint256,bool)"}},nodeType:"VariableDeclarationStatement",src:"11879:123:49"},{condition:{argumentTypes:null,id:7933,name:"isComponent",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7925,src:"12065:11:49",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:7947,nodeType:"IfStatement",src:"12061:211:49",trueBody:{id:7946,nodeType:"Block",src:"12078:194:49",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:7935,name:"_setToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7913,src:"12139:9:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:7936,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getUnits",nodeType:"MemberAccess",referencedDeclaration:5630,src:"12139:18:49",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_array$_t_uint256_$dyn_memory_ptr_$",typeString:"function () view external returns (uint256[] memory)"}},id:7937,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12139:20:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:7939,indexExpression:{argumentTypes:null,id:7938,name:"indexCurrent",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7923,src:"12160:12:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"12139:34:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:7940,name:"_setToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7913,src:"12191:9:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:7941,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"naturalUnit",nodeType:"MemberAccess",referencedDeclaration:5618,src:"12191:21:49",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_uint256_$",typeString:"function () view external returns (uint256)"}},id:7942,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12191:23:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:7943,name:"_maxNaturalUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7915,src:"12232:15:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:7934,name:"calculateTransferValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7970,src:"12099:22:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256,uint256,uint256) pure returns (uint256)"}},id:7944,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12099:162:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:7921,id:7945,nodeType:"Return",src:"12092:169:49"}]}},{expression:{argumentTypes:null,hexValue:"30",id:7948,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"12289:1:49",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},functionReturnParameters:7921,id:7949,nodeType:"Return",src:"12282:8:49"}]},documentation:"Calculations the unit amount of Token to include in the the combined Set units.\n     * @param _setToken                 Information on the SetToken\n@param _maxNaturalUnit           Max natural unit of two sets in rebalance\n@param _component                Current component in iteration\n@return                          Unit inflow/outflow",
id:7951,implemented:true,kind:"function",modifiers:[],name:"calculateCombinedUnit",nodeType:"FunctionDefinition",parameters:{id:7918,nodeType:"ParameterList",parameters:[{constant:false,id:7913,name:"_setToken",nodeType:"VariableDeclaration",scope:7951,src:"11660:19:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:7912,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"11660:9:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:7915,name:"_maxNaturalUnit",nodeType:"VariableDeclaration",scope:7951,src:"11689:23:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7914,name:"uint256",nodeType:"ElementaryTypeName",src:"11689:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7917,name:"_component",nodeType:"VariableDeclaration",scope:7951,src:"11722:18:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:7916,name:"address",nodeType:"ElementaryTypeName",src:"11722:7:49",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"11650:96:49"},returnParameters:{id:7921,nodeType:"ParameterList",parameters:[{constant:false,id:7920,name:"",nodeType:"VariableDeclaration",scope:7951,src:"11793:7:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7919,name:"uint256",nodeType:"ElementaryTypeName",src:"11793:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"11792:9:49"},scope:7971,src:"11620:677:49",stateMutability:"view",superFunction:null,visibility:"private"},{body:{id:7969,nodeType:"Block",src:"12948:84:49",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:7964,name:"_maxNaturalUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7957,src:"12988:15:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:7965,name:"_unit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7953,src:"13005:5:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:7966,name:"_naturalUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7955,src:"13012:12:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7962,name:"SetMath",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6705,src:"12965:7:49",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_SetMath_$6705_$",typeString:"type(library SetMath)"}},id:7963,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"setToComponent",nodeType:"MemberAccess",referencedDeclaration:6684,src:"12965:22:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256,uint256,uint256) pure returns (uint256)"}},id:7967,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12965:60:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:7961,id:7968,nodeType:"Return",src:"12958:67:49"}]},documentation:"Function to calculate the transfer value of a component given a standardized bid amount\n(minimumBid/priceDivisor)\n     * @param   _unit               Units of the component token\n@param   _naturalUnit        Natural unit of the Set token\n@param   _maxNaturalUnit     Max natural unit of two sets in rebalance\n@return  uint256             Amount of tokens per standard bid amount (minimumBid/priceDivisor)",id:7970,implemented:true,kind:"function",modifiers:[],name:"calculateTransferValue",nodeType:"FunctionDefinition",parameters:{id:7958,nodeType:"ParameterList",parameters:[{constant:false,id:7953,name:"_unit",nodeType:"VariableDeclaration",scope:7970,src:"12806:13:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7952,name:"uint256",nodeType:"ElementaryTypeName",src:"12806:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7955,name:"_naturalUnit",nodeType:"VariableDeclaration",scope:7970,src:"12829:20:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7954,name:"uint256",nodeType:"ElementaryTypeName",src:"12829:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7957,name:"_maxNaturalUnit",nodeType:"VariableDeclaration",scope:7970,src:"12859:23:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7956,name:"uint256",nodeType:"ElementaryTypeName",src:"12859:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"12796:92:49"},returnParameters:{id:7961,nodeType:"ParameterList",parameters:[{constant:false,id:7960,name:"",nodeType:"VariableDeclaration",scope:7970,src:"12935:7:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7959,name:"uint256",nodeType:"ElementaryTypeName",src:"12935:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"12934:9:49"},scope:7971,src:"12765:267:49",stateMutability:"pure",superFunction:null,visibility:"private"}],scope:7972,src:"1464:11570:49"}],src:"597:12437:49"},legacyAST:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/Auction.sol",exportedSymbols:{Auction:[7971]},id:7972,nodeType:"SourceUnit",nodes:[{id:7439,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:49"},{id:7440,literals:["experimental","ABIEncoderV2"],nodeType:"PragmaDirective",src:"620:35:49"},{absolutePath:"openzeppelin-solidity/contracts/math/Math.sol",file:"openzeppelin-solidity/contracts/math/Math.sol",id:7442,nodeType:"ImportDirective",scope:7972,sourceUnit:29513,src:"657:69:49",symbolAliases:[{foreign:7441,local:null}],unitAlias:""},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:7444,nodeType:"ImportDirective",scope:7972,sourceUnit:29641,src:"727:77:49",symbolAliases:[{foreign:7443,local:null}],unitAlias:""},{absolutePath:"set-protocol-oracles/contracts/meta-oracles/interfaces/IOracle.sol",file:"set-protocol-oracles/contracts/meta-oracles/interfaces/IOracle.sol",id:7446,nodeType:"ImportDirective",scope:7972,sourceUnit:30299,src:"805:93:49",symbolAliases:[{foreign:7445,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/AddressArrayUtils.sol",file:"../../../lib/AddressArrayUtils.sol",id:7448,nodeType:"ImportDirective",scope:7972,sourceUnit:22511,src:"900:71:49",symbolAliases:[{foreign:7447,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ICore.sol",file:"../../interfaces/ICore.sol",id:7450,nodeType:"ImportDirective",scope:7972,sourceUnit:4747,src:"972:51:49",symbolAliases:[{foreign:7449,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ISetToken.sol",file:"../../interfaces/ISetToken.sol",id:7452,nodeType:"ImportDirective",scope:7972,sourceUnit:5660,src:"1024:59:49",symbolAliases:[{foreign:7451,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/Rebalance.sol",file:"../../lib/Rebalance.sol",id:7454,nodeType:"ImportDirective",scope:7972,sourceUnit:6627,src:"1084:52:49",symbolAliases:[{foreign:7453,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/SetMath.sol",file:"../../lib/SetMath.sol",id:7456,nodeType:"ImportDirective",scope:7972,sourceUnit:6706,src:"1137:48:49",symbolAliases:[{foreign:7455,local:null}],unitAlias:""},{baseContracts:[],contractDependencies:[],contractKind:"contract",documentation:"@title Auction\n@author Set Protocol\n * Contract containing utility functions for liquidators that use auctions processes. Contains\nhelper functions to value collateral SetTokens and determine parameters used in bidding\nprocesses. Meant to be inherited.",fullyImplemented:true,id:7971,linearizedBaseContracts:[7971],name:"Auction",nodeType:"ContractDefinition",nodes:[{id:7459,libraryName:{contractScope:null,id:7457,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:29640,src:"1493:8:49",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$29640",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"1487:27:49",typeName:{id:7458,name:"uint256",nodeType:"ElementaryTypeName",src:"1506:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{id:7463,libraryName:{contractScope:null,id:7460,name:"AddressArrayUtils",nodeType:"UserDefinedTypeName",referencedDeclaration:22510,src:"1525:17:49",typeDescriptions:{typeIdentifier:"t_contract$_AddressArrayUtils_$22510",typeString:"library AddressArrayUtils"}},nodeType:"UsingForDirective",src:"1519:38:49",typeName:{baseType:{id:7461,name:"address",nodeType:"ElementaryTypeName",src:"1547:7:49",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:7462,length:null,nodeType:"ArrayTypeName",src:"1547:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}}},{canonicalName:"Auction.Setup",id:7483,members:[{constant:false,id:7465,name:"maxNaturalUnit",nodeType:"VariableDeclaration",scope:7483,src:"1630:22:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7464,name:"uint256",nodeType:"ElementaryTypeName",src:"1630:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7467,name:"minimumBid",nodeType:"VariableDeclaration",scope:7483,src:"1662:18:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7466,name:"uint256",nodeType:"ElementaryTypeName",src:"1662:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7469,name:"startTime",nodeType:"VariableDeclaration",scope:7483,src:"1690:17:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7468,name:"uint256",nodeType:"ElementaryTypeName",src:"1690:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7471,name:"startingCurrentSets",nodeType:"VariableDeclaration",scope:7483,src:"1717:27:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7470,name:"uint256",nodeType:"ElementaryTypeName",src:"1717:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7473,name:"remainingCurrentSets",nodeType:"VariableDeclaration",scope:7483,src:"1754:28:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7472,name:"uint256",nodeType:"ElementaryTypeName",src:"1754:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7476,name:"combinedTokenArray",nodeType:"VariableDeclaration",scope:7483,src:"1792:28:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"},typeName:{baseType:{id:7474,name:"address",nodeType:"ElementaryTypeName",src:"1792:7:49",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:7475,length:null,nodeType:"ArrayTypeName",src:"1792:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"},{constant:false,id:7479,name:"combinedCurrentSetUnits",nodeType:"VariableDeclaration",scope:7483,src:"1830:33:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"},typeName:{baseType:{id:7477,name:"uint256",nodeType:"ElementaryTypeName",src:"1830:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7478,length:null,nodeType:"ArrayTypeName",src:"1830:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"},{constant:false,id:7482,name:"combinedNextSetUnits",nodeType:"VariableDeclaration",scope:7483,src:"1873:30:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"},typeName:{baseType:{id:7480,name:"uint256",nodeType:"ElementaryTypeName",src:"1873:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7481,length:null,nodeType:"ArrayTypeName",src:"1873:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],name:"Setup",nodeType:"StructDefinition",scope:7971,src:"1607:303:49",visibility:"public"},{constant:true,id:7488,name:"CURVE_DENOMINATOR",nodeType:"VariableDeclaration",scope:7971,src:"1960:53:49",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7484,name:"uint256",nodeType:"ElementaryTypeName",src:"1960:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,commonType:{typeIdentifier:"t_rational_1000000000000000000_by_1",typeString:"int_const 1000000000000000000"},id:7487,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,leftExpression:{argumentTypes:null,hexValue:"3130",id:7485,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2005:2:49",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_10_by_1",typeString:"int_const 10"},value:"10"},nodeType:"BinaryOperation",operator:"**",rightExpression:{argumentTypes:null,hexValue:"3138",id:7486,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2011:2:49",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_18_by_1",typeString:"int_const 18"},value:"18"},src:"2005:8:49",typeDescriptions:{typeIdentifier:"t_rational_1000000000000000000_by_1",typeString:"int_const 1000000000000000000"}},visibility:"private"},{body:{id:7559,nodeType:"Block",src:"2623:586:49",statements:[{expression:{argumentTypes:null,id:7511,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:7499,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7490,src:"2633:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7501,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"maxNaturalUnit",nodeType:"MemberAccess",referencedDeclaration:7465,src:"2633:23:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:7504,name:"_currentSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7492,src:"2681:11:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:7505,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"naturalUnit",nodeType:"MemberAccess",referencedDeclaration:5618,src:"2681:23:49",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_uint256_$",typeString:"function () view external returns (uint256)"}},id:7506,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2681:25:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:7507,name:"_nextSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7494,src:"2720:8:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:7508,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"naturalUnit",nodeType:"MemberAccess",referencedDeclaration:5618,src:"2720:20:49",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_uint256_$",typeString:"function () view external returns (uint256)"}},id:7509,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2720:22:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7502,name:"Math",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:29512,src:"2659:4:49",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_Math_$29512_$",typeString:"type(library Math)"}},id:7503,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"max",nodeType:"MemberAccess",referencedDeclaration:29462,src:"2659:8:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7510,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2659:93:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2633:119:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7512,nodeType:"ExpressionStatement",src:"2633:119:49"},{expression:{argumentTypes:null,id:7517,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:7513,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7490,src:"2763:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7515,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"startingCurrentSets",nodeType:"MemberAccess",referencedDeclaration:7471,src:"2763:28:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:7516,name:"_startingCurrentSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7496,src:"2794:27:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2763:58:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7518,nodeType:"ExpressionStatement",src:"2763:58:49"},{expression:{argumentTypes:null,id:7523,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:7519,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7490,src:"2831:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7521,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"remainingCurrentSets",nodeType:"MemberAccess",referencedDeclaration:7473,src:"2831:29:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:7522,name:"_startingCurrentSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7496,src:"2863:27:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2831:59:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7524,nodeType:"ExpressionStatement",src:"2831:59:49"},{expression:{argumentTypes:null,id:7530,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:7525,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7490,src:"2900:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7527,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"startTime",nodeType:"MemberAccess",referencedDeclaration:7469,src:"2900:18:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:7528,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"2921:5:49",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:7529,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"2921:15:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2900:36:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7531,nodeType:"ExpressionStatement",src:"2900:36:49"},{expression:{argumentTypes:null,id:7539,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:7532,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7490,src:"2946:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7534,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"combinedTokenArray",nodeType:"MemberAccess",referencedDeclaration:7476,src:"2946:27:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[] storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:7536,name:"_currentSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7492,src:"2998:11:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},{argumentTypes:null,id:7537,name:"_nextSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7494,src:"3011:8:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}],id:7535,name:"getCombinedTokenArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7770,src:"2976:21:49",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_contract$_ISetToken_$5659_$_t_contract$_ISetToken_$5659_$returns$_t_array$_t_address_$dyn_memory_ptr_$",typeString:"function (contract ISetToken,contract ISetToken) view returns (address[] memory)"}},id:7538,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2976:44:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},src:"2946:74:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[] storage ref"}},id:7540,nodeType:"ExpressionStatement",src:"2946:74:49"},{expression:{argumentTypes:null,id:7548,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:7541,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7490,src:"3030:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7543,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"combinedCurrentSetUnits",nodeType:"MemberAccess",referencedDeclaration:7479,src:"3030:32:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:7545,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7490,src:"3092:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},{argumentTypes:null,id:7546,name:"_currentSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7492,src:"3102:11:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"},{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}],id:7544,name:"calculateCombinedUnitArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7911,src:"3065:26:49",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$_t_contract$_ISetToken_$5659_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$",typeString:"function (struct Auction.Setup storage pointer,contract ISetToken) view returns (uint256[] memory)"}},id:7547,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3065:49:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},src:"3030:84:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},id:7549,nodeType:"ExpressionStatement",src:"3030:84:49"},{expression:{argumentTypes:null,id:7557,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:7550,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7490,src:"3124:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7552,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"combinedNextSetUnits",nodeType:"MemberAccess",referencedDeclaration:7482,src:"3124:29:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:7554,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7490,src:"3183:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},{argumentTypes:null,id:7555,name:"_nextSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7494,src:"3193:8:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"},{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}],id:7553,name:"calculateCombinedUnitArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7911,src:"3156:26:49",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$_t_contract$_ISetToken_$5659_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$",typeString:"function (struct Auction.Setup storage pointer,contract ISetToken) view returns (uint256[] memory)"}},id:7556,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3156:46:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},src:"3124:78:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},id:7558,nodeType:"ExpressionStatement",src:"3124:78:49"}]},documentation:null,id:7560,implemented:true,kind:"function",modifiers:[],name:"initializeAuction",nodeType:"FunctionDefinition",parameters:{id:7497,nodeType:"ParameterList",parameters:[{constant:false,id:7490,name:"_auction",nodeType:"VariableDeclaration",scope:7560,src:"2469:22:49",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:7489,name:"Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"2469:5:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:7492,name:"_currentSet",nodeType:"VariableDeclaration",scope:7560,src:"2501:21:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:7491,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"2501:9:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:7494,name:"_nextSet",nodeType:"VariableDeclaration",scope:7560,src:"2532:18:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:7493,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"2532:9:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:7496,name:"_startingCurrentSetQuantity",nodeType:"VariableDeclaration",scope:7560,src:"2560:35:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7495,name:"uint256",nodeType:"ElementaryTypeName",src:"2560:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"2459:142:49"},returnParameters:{id:7498,nodeType:"ParameterList",parameters:[],src:"2623:0:49"},scope:7971,src:"2433:776:49",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:7577,nodeType:"Block",src:"3303:93:49",statements:[{expression:{argumentTypes:null,id:7575,isConstant:false,isLValue:false,isPure:false,
lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:7567,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7562,src:"3313:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7569,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"remainingCurrentSets",nodeType:"MemberAccess",referencedDeclaration:7473,src:"3313:29:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:7573,name:"_quantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7564,src:"3379:9:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:7570,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7562,src:"3345:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7571,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"remainingCurrentSets",nodeType:"MemberAccess",referencedDeclaration:7473,src:"3345:29:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7572,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"3345:33:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7574,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3345:44:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"3313:76:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7576,nodeType:"ExpressionStatement",src:"3313:76:49"}]},documentation:null,id:7578,implemented:true,kind:"function",modifiers:[],name:"reduceRemainingCurrentSets",nodeType:"FunctionDefinition",parameters:{id:7565,nodeType:"ParameterList",parameters:[{constant:false,id:7562,name:"_auction",nodeType:"VariableDeclaration",scope:7578,src:"3251:22:49",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:7561,name:"Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"3251:5:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:7564,name:"_quantity",nodeType:"VariableDeclaration",scope:7578,src:"3275:17:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7563,name:"uint256",nodeType:"ElementaryTypeName",src:"3275:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"3250:43:49"},returnParameters:{id:7566,nodeType:"ParameterList",parameters:[],src:"3303:0:49"},scope:7971,src:"3215:181:49",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:7604,nodeType:"Block",src:"3592:327:49",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:7592,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:7588,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7580,src:"3637:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7589,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"minimumBid",nodeType:"MemberAccess",referencedDeclaration:7467,src:"3637:19:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7586,name:"_quantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7582,src:"3623:9:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7587,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mod",nodeType:"MemberAccess",referencedDeclaration:29639,src:"3623:13:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7590,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3623:34:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:7591,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"3661:1:49",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"3623:39:49",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"41756374696f6e2e76616c69646174654269645175616e746974793a204d75737420626964206d756c7469706c65206f66206d696e696d756d20626964",id:7593,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"3676:63:49",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_b0be8206d77eff73af8c261f864c52cf522c06aa85122b33d65008eb5aae994f",typeString:'literal_string "Auction.validateBidQuantity: Must bid multiple of minimum bid"'},value:"Auction.validateBidQuantity: Must bid multiple of minimum bid"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_b0be8206d77eff73af8c261f864c52cf522c06aa85122b33d65008eb5aae994f",typeString:'literal_string "Auction.validateBidQuantity: Must bid multiple of minimum bid"'}],id:7585,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"3602:7:49",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:7594,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3602:147:49",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:7595,nodeType:"ExpressionStatement",src:"3602:147:49"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:7600,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:7597,name:"_quantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7582,src:"3781:9:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<=",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:7598,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7580,src:"3794:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7599,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"remainingCurrentSets",nodeType:"MemberAccess",referencedDeclaration:7473,src:"3794:29:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"3781:42:49",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"41756374696f6e2e76616c69646174654269645175616e746974793a2042696420657863656564732072656d61696e696e672063757272656e742073657473",id:7601,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"3837:65:49",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_0da7bb30223f91dca0ca55bfdc02386abe3afb82d34d0329991b6e3fdf61480c",typeString:'literal_string "Auction.validateBidQuantity: Bid exceeds remaining current sets"'},value:"Auction.validateBidQuantity: Bid exceeds remaining current sets"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_0da7bb30223f91dca0ca55bfdc02386abe3afb82d34d0329991b6e3fdf61480c",typeString:'literal_string "Auction.validateBidQuantity: Bid exceeds remaining current sets"'}],id:7596,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"3760:7:49",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:7602,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3760:152:49",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:7603,nodeType:"ExpressionStatement",src:"3760:152:49"}]},documentation:null,id:7605,implemented:true,kind:"function",modifiers:[],name:"validateBidQuantity",nodeType:"FunctionDefinition",parameters:{id:7583,nodeType:"ParameterList",parameters:[{constant:false,id:7580,name:"_auction",nodeType:"VariableDeclaration",scope:7605,src:"3535:22:49",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:7579,name:"Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"3535:5:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:7582,name:"_quantity",nodeType:"VariableDeclaration",scope:7605,src:"3559:17:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7581,name:"uint256",nodeType:"ElementaryTypeName",src:"3559:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"3534:43:49"},returnParameters:{id:7584,nodeType:"ParameterList",parameters:[],src:"3592:0:49"},scope:7971,src:"3506:413:49",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:7618,nodeType:"Block",src:"4127:142:49",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:7614,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"UnaryOperation",operator:"!",prefix:true,src:"4158:30:49",subExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:7612,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7607,src:"4179:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}],id:7611,name:"hasBiddableQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7633,src:"4159:19:49",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$returns$_t_bool_$",typeString:"function (struct Auction.Setup storage pointer) view returns (bool)"}},id:7613,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4159:29:49",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"41756374696f6e2e736574746c65526562616c616e63653a20526562616c616e6365206e6f7420636f6d706c65746564",id:7615,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"4202:50:49",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_f1c772cee96e6c9ba87ce16fe0a8196c057feb9325c2caa88c7e8ed227bbe057",typeString:'literal_string "Auction.settleRebalance: Rebalance not completed"'},value:"Auction.settleRebalance: Rebalance not completed"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_f1c772cee96e6c9ba87ce16fe0a8196c057feb9325c2caa88c7e8ed227bbe057",typeString:'literal_string "Auction.settleRebalance: Rebalance not completed"'}],id:7610,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"4137:7:49",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:7616,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4137:125:49",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:7617,nodeType:"ExpressionStatement",src:"4137:125:49"}]},documentation:null,id:7619,implemented:true,kind:"function",modifiers:[],name:"validateAuctionCompletion",nodeType:"FunctionDefinition",parameters:{id:7608,nodeType:"ParameterList",parameters:[{constant:false,id:7607,name:"_auction",nodeType:"VariableDeclaration",scope:7619,src:"4089:22:49",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:7606,name:"Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"4089:5:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"}],src:"4088:24:49"},returnParameters:{id:7609,nodeType:"ParameterList",parameters:[],src:"4127:0:49"},scope:7971,src:"4054:215:49",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:7632,nodeType:"Block",src:"4471:76:49",statements:[{expression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:7630,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:7626,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7621,src:"4488:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7627,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"remainingCurrentSets",nodeType:"MemberAccess",referencedDeclaration:7473,src:"4488:29:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">=",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:7628,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7621,src:"4521:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7629,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"minimumBid",nodeType:"MemberAccess",referencedDeclaration:7467,src:"4521:19:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"4488:52:49",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},functionReturnParameters:7625,id:7631,nodeType:"Return",src:"4481:59:49"}]},documentation:"Returns whether the remainingSets is still a quantity equal or greater than the minimum bid",id:7633,implemented:true,kind:"function",modifiers:[],name:"hasBiddableQuantity",nodeType:"FunctionDefinition",parameters:{id:7622,nodeType:"ParameterList",parameters:[{constant:false,id:7621,name:"_auction",nodeType:"VariableDeclaration",scope:7633,src:"4419:22:49",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:7620,name:"Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"4419:5:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"}],src:"4418:24:49"},returnParameters:{id:7625,nodeType:"ParameterList",parameters:[{constant:false,id:7624,name:"",nodeType:"VariableDeclaration",scope:7633,src:"4465:4:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:7623,name:"bool",nodeType:"ElementaryTypeName",src:"4465:4:49",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"4464:6:49"},scope:7971,src:"4390:157:49",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:7645,nodeType:"Block",src:"4691:46:49",statements:[{expression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:7643,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:7640,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7635,src:"4708:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7641,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"startTime",nodeType:"MemberAccess",referencedDeclaration:7469,src:"4708:18:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:7642,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"4729:1:49",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"4708:22:49",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},functionReturnParameters:7639,id:7644,nodeType:"Return",src:"4701:29:49"}]},documentation:"Returns whether the auction is active",id:7646,implemented:true,kind:"function",modifiers:[],name:"isAuctionActive",nodeType:"FunctionDefinition",parameters:{id:7636,nodeType:"ParameterList",parameters:[{constant:false,id:7635,name:"_auction",nodeType:"VariableDeclaration",scope:7646,src:"4639:22:49",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:7634,name:"Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"4639:5:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"}],src:"4638:24:49"},returnParameters:{id:7639,nodeType:"ParameterList",parameters:[{constant:false,id:7638,name:"",nodeType:"VariableDeclaration",scope:7646,src:"4685:4:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:7637,name:"bool",nodeType:"ElementaryTypeName",src:"4685:4:49",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"4684:6:49"},scope:7971,src:"4614:123:49",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:7737,nodeType:"Block",src:"5213:1016:49",statements:[{assignments:[7658],declarations:[{constant:false,id:7658,name:"unitsMultiplier",nodeType:"VariableDeclaration",scope:7737,src:"5261:23:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7657,name:"uint256",nodeType:"ElementaryTypeName",src:"5261:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:7664,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:7661,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7648,src:"5301:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7662,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"maxNaturalUnit",nodeType:"MemberAccess",referencedDeclaration:7465,src:"5301:23:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7659,name:"_quantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7650,src:"5287:9:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7660,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"5287:13:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7663,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5287:38:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"5261:64:49"},{assignments:[7668],declarations:[{constant:false,id:7668,name:"memCombinedTokenArray",nodeType:"VariableDeclaration",scope:7737,src:"5336:38:49",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:7666,name:"address",nodeType:"ElementaryTypeName",src:"5336:7:49",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:7667,length:null,nodeType:"ArrayTypeName",src:"5336:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"}],id:7671,initialValue:{argumentTypes:null,expression:{argumentTypes:null,id:7669,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7648,src:"5377:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7670,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedTokenArray",nodeType:"MemberAccess",referencedDeclaration:7476,src:"5377:27:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[] storage ref"}},nodeType:"VariableDeclarationStatement",src:"5336:68:49"},{assignments:[7673],declarations:[{constant:false,id:7673,name:"combinedTokenCount",nodeType:"VariableDeclaration",scope:7737,src:"5415:26:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7672,name:"uint256",nodeType:"ElementaryTypeName",src:"5415:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:7676,initialValue:{argumentTypes:null,expression:{argumentTypes:null,id:7674,name:"memCombinedTokenArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7668,src:"5444:21:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:7675,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"5444:28:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"5415:57:49"},{assignments:[7680],declarations:[{constant:false,id:7680,name:"inflowUnitArray",nodeType:"VariableDeclaration",scope:7737,src:"5482:32:49",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:7678,name:"uint256",nodeType:"ElementaryTypeName",src:"5482:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7679,length:null,nodeType:"ArrayTypeName",src:"5482:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],id:7686,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:7684,name:"combinedTokenCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7673,src:"5531:18:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:7683,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"NewExpression",src:"5517:13:49",typeDescriptions:{typeIdentifier:"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_$",typeString:"function (uint256) pure returns (uint256[] memory)"},typeName:{baseType:{id:7681,name:"uint256",nodeType:"ElementaryTypeName",src:"5521:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7682,length:null,nodeType:"ArrayTypeName",src:"5521:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}}},id:7685,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5517:33:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory",typeString:"uint256[] memory"}},nodeType:"VariableDeclarationStatement",src:"5482:68:49"},{assignments:[7690],declarations:[{constant:false,id:7690,name:"outflowUnitArray",nodeType:"VariableDeclaration",scope:7737,src:"5560:33:49",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:7688,name:"uint256",nodeType:"ElementaryTypeName",src:"5560:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7689,length:null,nodeType:"ArrayTypeName",src:"5560:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],id:7696,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:7694,name:"combinedTokenCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7673,src:"5610:18:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:7693,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"NewExpression",src:"5596:13:49",typeDescriptions:{typeIdentifier:"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_$",typeString:"function (uint256) pure returns (uint256[] memory)"},typeName:{baseType:{id:7691,name:"uint256",nodeType:"ElementaryTypeName",src:"5600:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7692,length:null,nodeType:"ArrayTypeName",src:"5600:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}}},id:7695,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5596:33:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory",typeString:"uint256[] memory"}},nodeType:"VariableDeclarationStatement",src:"5560:69:49"},{body:{id:7728,nodeType:"Block",src:"5810:311:49",statements:[{expression:{argumentTypes:null,id:7726,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,components:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:7707,name:"inflowUnitArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7680,src:"5842:15:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:7709,indexExpression:{argumentTypes:null,id:7708,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7698,src:"5858:1:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:true,nodeType:"IndexAccess",src:"5842:18:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,baseExpression:{argumentTypes:null,id:7710,name:"outflowUnitArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7690,src:"5878:16:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:7712,indexExpression:{argumentTypes:null,id:7711,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7698,src:"5895:1:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:true,nodeType:"IndexAccess",src:"5878:19:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],id:7713,isConstant:false,isInlineArray:false,isLValue:true,isPure:false,lValueRequested:true,nodeType:"TupleExpression",src:"5824:87:49",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$",typeString:"tuple(uint256,uint256)"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:7715,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7648,src:"5954:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7716,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedCurrentSetUnits",nodeType:"MemberAccess",referencedDeclaration:7479,src:"5954:32:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},id:7718,indexExpression:{argumentTypes:null,id:7717,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7698,src:"5987:1:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"5954:35:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:7719,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7648,src:"6007:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7720,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedNextSetUnits",nodeType:"MemberAccess",referencedDeclaration:7482,src:"6007:29:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},id:7722,indexExpression:{argumentTypes:null,id:7721,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7698,src:"6037:1:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"6007:32:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:7723,name:"unitsMultiplier",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7658,src:"6057:15:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:7724,name:"_price",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7652,src:"6090:6:49",typeDescriptions:{typeIdentifier:"t_uint256",
typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:7714,name:"calculateInflowOutflow",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7854,src:"5914:22:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$_t_uint256_$",typeString:"function (uint256,uint256,uint256,uint256) pure returns (uint256,uint256)"}},id:7725,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5914:196:49",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$",typeString:"tuple(uint256,uint256)"}},src:"5824:286:49",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:7727,nodeType:"ExpressionStatement",src:"5824:286:49"}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:7703,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:7701,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7698,src:"5781:1:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,id:7702,name:"combinedTokenCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7673,src:"5785:18:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"5781:22:49",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:7729,initializationExpression:{assignments:[7698],declarations:[{constant:false,id:7698,name:"i",nodeType:"VariableDeclaration",scope:7729,src:"5766:9:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7697,name:"uint256",nodeType:"ElementaryTypeName",src:"5766:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:7700,initialValue:{argumentTypes:null,hexValue:"30",id:7699,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"5778:1:49",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"5766:13:49"},loopExpression:{expression:{argumentTypes:null,id:7705,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"UnaryOperation",operator:"++",prefix:false,src:"5805:3:49",subExpression:{argumentTypes:null,id:7704,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7698,src:"5805:1:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7706,nodeType:"ExpressionStatement",src:"5805:3:49"},nodeType:"ForStatement",src:"5761:360:49"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:7732,name:"memCombinedTokenArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7668,src:"6165:21:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},{argumentTypes:null,id:7733,name:"inflowUnitArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7680,src:"6188:15:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},{argumentTypes:null,id:7734,name:"outflowUnitArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7690,src:"6205:16:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"},{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"},{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}],expression:{argumentTypes:null,id:7730,name:"Rebalance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6626,src:"6138:9:49",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_Rebalance_$6626_$",typeString:"type(library Rebalance)"}},id:7731,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"composeTokenFlow",nodeType:"MemberAccess",referencedDeclaration:6542,src:"6138:26:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$returns$_t_struct$_TokenFlow_$6521_memory_ptr_$",typeString:"function (address[] memory,uint256[] memory,uint256[] memory) pure returns (struct Rebalance.TokenFlow memory)"}},id:7735,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6138:84:49",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory_ptr",typeString:"struct Rebalance.TokenFlow memory"}},functionReturnParameters:7656,id:7736,nodeType:"Return",src:"6131:91:49"}]},documentation:null,id:7738,implemented:true,kind:"function",modifiers:[],name:"calculateTokenFlow",nodeType:"FunctionDefinition",parameters:{id:7653,nodeType:"ParameterList",parameters:[{constant:false,id:7648,name:"_auction",nodeType:"VariableDeclaration",scope:7738,src:"5054:22:49",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:7647,name:"Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"5054:5:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:7650,name:"_quantity",nodeType:"VariableDeclaration",scope:7738,src:"5086:17:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7649,name:"uint256",nodeType:"ElementaryTypeName",src:"5086:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7652,name:"_price",nodeType:"VariableDeclaration",scope:7738,src:"5113:14:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7651,name:"uint256",nodeType:"ElementaryTypeName",src:"5113:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"5044:89:49"},returnParameters:{id:7656,nodeType:"ParameterList",parameters:[{constant:false,id:7655,name:"",nodeType:"VariableDeclaration",scope:7738,src:"5181:26:49",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory_ptr",typeString:"struct Rebalance.TokenFlow"},typeName:{contractScope:null,id:7654,name:"Rebalance.TokenFlow",nodeType:"UserDefinedTypeName",referencedDeclaration:6521,src:"5181:19:49",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_storage_ptr",typeString:"struct Rebalance.TokenFlow"}},value:null,visibility:"internal"}],src:"5180:28:49"},scope:7971,src:"5017:1212:49",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:7769,nodeType:"Block",src:"6687:217:49",statements:[{assignments:[7751],declarations:[{constant:false,id:7751,name:"currentSetComponents",nodeType:"VariableDeclaration",scope:7769,src:"6697:37:49",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:7749,name:"address",nodeType:"ElementaryTypeName",src:"6697:7:49",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:7750,length:null,nodeType:"ArrayTypeName",src:"6697:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"}],id:7755,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:7752,name:"_currentSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7740,src:"6737:11:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:7753,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getComponents",nodeType:"MemberAccess",referencedDeclaration:5624,src:"6737:25:49",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_array$_t_address_$dyn_memory_ptr_$",typeString:"function () view external returns (address[] memory)"}},id:7754,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6737:27:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},nodeType:"VariableDeclarationStatement",src:"6697:67:49"},{assignments:[7759],declarations:[{constant:false,id:7759,name:"nextSetComponents",nodeType:"VariableDeclaration",scope:7769,src:"6774:34:49",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:7757,name:"address",nodeType:"ElementaryTypeName",src:"6774:7:49",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:7758,length:null,nodeType:"ArrayTypeName",src:"6774:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"}],id:7763,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:7760,name:"_nextSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7742,src:"6811:8:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:7761,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getComponents",nodeType:"MemberAccess",referencedDeclaration:5624,src:"6811:22:49",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_array$_t_address_$dyn_memory_ptr_$",typeString:"function () view external returns (address[] memory)"}},id:7762,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6811:24:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},nodeType:"VariableDeclarationStatement",src:"6774:61:49"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:7766,name:"nextSetComponents",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7759,src:"6879:17:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}],expression:{argumentTypes:null,id:7764,name:"currentSetComponents",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7751,src:"6852:20:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:7765,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"union",nodeType:"MemberAccess",referencedDeclaration:22171,src:"6852:26:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_address_$dyn_memory_ptr_$returns$_t_array$_t_address_$dyn_memory_ptr_$bound_to$_t_array$_t_address_$dyn_memory_ptr_$",typeString:"function (address[] memory,address[] memory) pure returns (address[] memory)"}},id:7767,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6852:45:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},functionReturnParameters:7747,id:7768,nodeType:"Return",src:"6845:52:49"}]},documentation:"Computes the union of the currentSet and nextSet components\n     * @param _currentSet               The Set to rebalance from\n@param _nextSet                  The Set to rebalance to\n@return                          Aggregated components array",id:7770,implemented:true,kind:"function",modifiers:[],name:"getCombinedTokenArray",nodeType:"FunctionDefinition",parameters:{id:7743,nodeType:"ParameterList",parameters:[{constant:false,id:7740,name:"_currentSet",nodeType:"VariableDeclaration",scope:7770,src:"6563:21:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:7739,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"6563:9:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:7742,name:"_nextSet",nodeType:"VariableDeclaration",scope:7770,src:"6594:18:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:7741,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"6594:9:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"}],src:"6553:65:49"},returnParameters:{id:7747,nodeType:"ParameterList",parameters:[{constant:false,id:7746,name:"",nodeType:"VariableDeclaration",scope:7770,src:"6665:16:49",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:7744,name:"address",nodeType:"ElementaryTypeName",src:"6665:7:49",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:7745,length:null,nodeType:"ArrayTypeName",src:"6665:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"}],src:"6664:18:49"},scope:7971,src:"6523:381:49",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:7853,nodeType:"Block",src:"7760:2408:49",statements:[{assignments:[7786],declarations:[{constant:false,id:7786,name:"inflowUnit",nodeType:"VariableDeclaration",scope:7853,src:"9247:18:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7785,name:"uint256",nodeType:"ElementaryTypeName",src:"9247:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:7787,initialValue:null,nodeType:"VariableDeclarationStatement",src:"9247:18:49"},{assignments:[7789],declarations:[{constant:false,id:7789,name:"outflowUnit",nodeType:"VariableDeclaration",scope:7853,src:"9275:19:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7788,name:"uint256",nodeType:"ElementaryTypeName",src:"9275:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:7790,initialValue:null,nodeType:"VariableDeclarationStatement",src:"9275:19:49"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:7799,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:7793,name:"CURVE_DENOMINATOR",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7488,src:"9390:17:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7791,name:"_nextSetUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7774,src:"9373:12:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7792,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"9373:16:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7794,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9373:35:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:7797,name:"_price",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7778,src:"9428:6:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7795,name:"_currentUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7772,src:"9411:12:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7796,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"9411:16:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7798,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9411:24:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"9373:62:49",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:7847,nodeType:"Block",src:"9781:338:49",statements:[{expression:{argumentTypes:null,id:7841,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:7824,name:"outflowUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7789,src:"9835:11:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:7839,name:"_price",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7778,src:"9971:6:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:7834,name:"CURVE_DENOMINATOR",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7488,src:"9933:17:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7832,name:"_nextSetUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7774,src:"9916:12:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7833,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"9916:16:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7835,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9916:35:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:7829,name:"_price",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7778,src:"9904:6:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7827,name:"_currentUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7772,src:"9887:12:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7828,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"9887:16:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7830,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9887:24:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7831,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"9887:28:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7836,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9887:65:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7825,name:"_unitsMultiplier",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7776,src:"9849:16:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7826,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"9849:20:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7837,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9849:117:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7838,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"9849:121:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7840,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9849:129:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"9835:143:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7842,nodeType:"ExpressionStatement",src:"9835:143:49"},{expression:{argumentTypes:null,id:7845,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:7843,name:"inflowUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7786,src:"10094:10:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,hexValue:"30",id:7844,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"10107:1:49",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"10094:14:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7846,nodeType:"ExpressionStatement",src:"10094:14:49"}]},id:7848,nodeType:"IfStatement",src:"9369:750:49",trueBody:{id:7823,nodeType:"Block",src:"9437:338:49",statements:[{expression:{argumentTypes:null,id:7817,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:7800,name:"inflowUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7786,src:"9490:10:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:7815,name:"_price",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7778,src:"9625:6:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:7810,name:"_price",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7778,src:"9598:6:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7808,name:"_currentUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7772,src:"9581:12:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7809,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"9581:16:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7811,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9581:24:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:7805,name:"CURVE_DENOMINATOR",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7488,src:"9558:17:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7803,name:"_nextSetUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7774,src:"9541:12:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7804,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"9541:16:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7806,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9541:35:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7807,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"9541:39:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7812,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9541:65:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7801,name:"_unitsMultiplier",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7776,src:"9503:16:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7802,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"9503:20:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7813,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9503:117:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7814,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"9503:121:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7816,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9503:129:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"9490:142:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7818,nodeType:"ExpressionStatement",src:"9490:142:49"},{expression:{argumentTypes:null,id:7821,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:7819,name:"outflowUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7789,src:"9749:11:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,hexValue:"30",id:7820,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"9763:1:49",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"9749:15:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7822,nodeType:"ExpressionStatement",src:"9749:15:49"}]}},{expression:{argumentTypes:null,components:[{argumentTypes:null,id:7849,name:"inflowUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7786,src:"10137:10:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:7850,name:"outflowUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7789,src:"10149:11:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],id:7851,isConstant:false,isInlineArray:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"TupleExpression",src:"10136:25:49",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$",typeString:"tuple(uint256,uint256)"}},functionReturnParameters:7784,id:7852,nodeType:"Return",src:"10129:32:49"}]},documentation:null,id:7854,implemented:true,kind:"function",modifiers:[],name:"calculateInflowOutflow",nodeType:"FunctionDefinition",parameters:{id:7779,nodeType:"ParameterList",parameters:[{constant:false,id:7772,name:"_currentUnit",nodeType:"VariableDeclaration",scope:7854,src:"7576:20:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7771,name:"uint256",nodeType:"ElementaryTypeName",src:"7576:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7774,name:"_nextSetUnit",nodeType:"VariableDeclaration",scope:7854,src:"7606:20:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7773,name:"uint256",nodeType:"ElementaryTypeName",src:"7606:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,
visibility:"internal"},{constant:false,id:7776,name:"_unitsMultiplier",nodeType:"VariableDeclaration",scope:7854,src:"7636:24:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7775,name:"uint256",nodeType:"ElementaryTypeName",src:"7636:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7778,name:"_price",nodeType:"VariableDeclaration",scope:7854,src:"7670:14:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7777,name:"uint256",nodeType:"ElementaryTypeName",src:"7670:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"7566:124:49"},returnParameters:{id:7784,nodeType:"ParameterList",parameters:[{constant:false,id:7781,name:"",nodeType:"VariableDeclaration",scope:7854,src:"7738:7:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7780,name:"uint256",nodeType:"ElementaryTypeName",src:"7738:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7783,name:"",nodeType:"VariableDeclaration",scope:7854,src:"7747:7:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7782,name:"uint256",nodeType:"ElementaryTypeName",src:"7747:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"7737:18:49"},scope:7971,src:"7535:2633:49",stateMutability:"pure",superFunction:null,visibility:"internal"},{body:{id:7910,nodeType:"Block",src:"10781:442:49",statements:[{assignments:[7867],declarations:[{constant:false,id:7867,name:"combinedTokenArray",nodeType:"VariableDeclaration",scope:7910,src:"10791:35:49",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:7865,name:"address",nodeType:"ElementaryTypeName",src:"10791:7:49",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:7866,length:null,nodeType:"ArrayTypeName",src:"10791:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"}],id:7870,initialValue:{argumentTypes:null,expression:{argumentTypes:null,id:7868,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7856,src:"10829:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7869,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedTokenArray",nodeType:"MemberAccess",referencedDeclaration:7476,src:"10829:27:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[] storage ref"}},nodeType:"VariableDeclarationStatement",src:"10791:65:49"},{assignments:[7874],declarations:[{constant:false,id:7874,name:"combinedUnits",nodeType:"VariableDeclaration",scope:7910,src:"10866:30:49",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:7872,name:"uint256",nodeType:"ElementaryTypeName",src:"10866:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7873,length:null,nodeType:"ArrayTypeName",src:"10866:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],id:7881,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:7878,name:"combinedTokenArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7867,src:"10913:18:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:7879,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"10913:25:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:7877,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"NewExpression",src:"10899:13:49",typeDescriptions:{typeIdentifier:"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_$",typeString:"function (uint256) pure returns (uint256[] memory)"},typeName:{baseType:{id:7875,name:"uint256",nodeType:"ElementaryTypeName",src:"10903:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7876,length:null,nodeType:"ArrayTypeName",src:"10903:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}}},id:7880,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10899:40:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory",typeString:"uint256[] memory"}},nodeType:"VariableDeclarationStatement",src:"10866:73:49"},{body:{id:7906,nodeType:"Block",src:"11005:181:49",statements:[{expression:{argumentTypes:null,id:7904,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:7893,name:"combinedUnits",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7874,src:"11019:13:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:7895,indexExpression:{argumentTypes:null,id:7894,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7883,src:"11033:1:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:true,nodeType:"IndexAccess",src:"11019:16:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:7897,name:"_set",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7858,src:"11077:4:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},{argumentTypes:null,expression:{argumentTypes:null,id:7898,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7856,src:"11099:8:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:7899,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"maxNaturalUnit",nodeType:"MemberAccess",referencedDeclaration:7465,src:"11099:23:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,baseExpression:{argumentTypes:null,id:7900,name:"combinedTokenArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7867,src:"11140:18:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:7902,indexExpression:{argumentTypes:null,id:7901,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7883,src:"11159:1:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"11140:21:49",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_address",typeString:"address"}],id:7896,name:"calculateCombinedUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7951,src:"11038:21:49",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_contract$_ISetToken_$5659_$_t_uint256_$_t_address_$returns$_t_uint256_$",typeString:"function (contract ISetToken,uint256,address) view returns (uint256)"}},id:7903,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11038:137:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"11019:156:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7905,nodeType:"ExpressionStatement",src:"11019:156:49"}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:7889,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:7886,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7883,src:"10969:1:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:7887,name:"combinedTokenArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7867,src:"10973:18:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:7888,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"10973:25:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10969:29:49",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:7907,initializationExpression:{assignments:[7883],declarations:[{constant:false,id:7883,name:"i",nodeType:"VariableDeclaration",scope:7907,src:"10954:9:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7882,name:"uint256",nodeType:"ElementaryTypeName",src:"10954:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:7885,initialValue:{argumentTypes:null,hexValue:"30",id:7884,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"10966:1:49",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"10954:13:49"},loopExpression:{expression:{argumentTypes:null,id:7891,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"UnaryOperation",operator:"++",prefix:false,src:"11000:3:49",subExpression:{argumentTypes:null,id:7890,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7883,src:"11000:1:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7892,nodeType:"ExpressionStatement",src:"11000:3:49"},nodeType:"ForStatement",src:"10949:237:49"},{expression:{argumentTypes:null,id:7908,name:"combinedUnits",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7874,src:"11203:13:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},functionReturnParameters:7863,id:7909,nodeType:"Return",src:"11196:20:49"}]},documentation:"Create uint256 arrays that represents all components in currentSet and nextSet.\nCalcualate unit difference between both sets relative to the largest natural\nunit of the two sets.\n     * @param _auction           Auction Setup object\n@param _set               The Set to generate units for\n@return combinedUnits     ",id:7911,implemented:true,kind:"function",modifiers:[],name:"calculateCombinedUnitArray",nodeType:"FunctionDefinition",parameters:{id:7859,nodeType:"ParameterList",parameters:[{constant:false,id:7856,name:"_auction",nodeType:"VariableDeclaration",scope:7911,src:"10659:22:49",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:7855,name:"Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"10659:5:49",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:7858,name:"_set",nodeType:"VariableDeclaration",scope:7911,src:"10691:14:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:7857,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"10691:9:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"}],src:"10649:62:49"},returnParameters:{id:7863,nodeType:"ParameterList",parameters:[{constant:false,id:7862,name:"",nodeType:"VariableDeclaration",scope:7911,src:"10759:16:49",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:7860,name:"uint256",nodeType:"ElementaryTypeName",src:"10759:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7861,length:null,nodeType:"ArrayTypeName",src:"10759:9:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],src:"10758:18:49"},scope:7971,src:"10614:609:49",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:7950,nodeType:"Block",src:"11806:491:49",statements:[{assignments:[7923,7925],declarations:[{constant:false,id:7923,name:"indexCurrent",nodeType:"VariableDeclaration",scope:7950,src:"11893:20:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7922,name:"uint256",nodeType:"ElementaryTypeName",src:"11893:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7925,name:"isComponent",nodeType:"VariableDeclaration",scope:7950,src:"11928:16:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:7924,name:"bool",nodeType:"ElementaryTypeName",src:"11928:4:49",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],id:7932,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:7930,name:"_component",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7917,src:"11991:10:49",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],expression:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:7926,name:"_setToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7913,src:"11957:9:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:7927,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getComponents",nodeType:"MemberAccess",referencedDeclaration:5624,src:"11957:23:49",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_array$_t_address_$dyn_memory_ptr_$",typeString:"function () view external returns (address[] memory)"}},id:7928,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11957:25:49",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:7929,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"indexOf",nodeType:"MemberAccess",referencedDeclaration:21860,src:"11957:33:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_array$_t_address_$dyn_memory_ptr_$_t_address_$returns$_t_uint256_$_t_bool_$bound_to$_t_array$_t_address_$dyn_memory_ptr_$",typeString:"function (address[] memory,address) pure returns (uint256,bool)"}},id:7931,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11957:45:49",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_bool_$",typeString:"tuple(uint256,bool)"}},nodeType:"VariableDeclarationStatement",src:"11879:123:49"},{condition:{argumentTypes:null,id:7933,name:"isComponent",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7925,src:"12065:11:49",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:7947,nodeType:"IfStatement",src:"12061:211:49",trueBody:{id:7946,nodeType:"Block",src:"12078:194:49",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:7935,name:"_setToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7913,src:"12139:9:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:7936,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getUnits",nodeType:"MemberAccess",referencedDeclaration:5630,src:"12139:18:49",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_array$_t_uint256_$dyn_memory_ptr_$",typeString:"function () view external returns (uint256[] memory)"}},id:7937,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12139:20:49",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:7939,indexExpression:{argumentTypes:null,id:7938,name:"indexCurrent",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7923,src:"12160:12:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"12139:34:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:7940,name:"_setToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7913,src:"12191:9:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:7941,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"naturalUnit",nodeType:"MemberAccess",referencedDeclaration:5618,src:"12191:21:49",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_uint256_$",typeString:"function () view external returns (uint256)"}},id:7942,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12191:23:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:7943,name:"_maxNaturalUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7915,src:"12232:15:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:7934,name:"calculateTransferValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7970,src:"12099:22:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256,uint256,uint256) pure returns (uint256)"}},id:7944,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12099:162:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:7921,id:7945,nodeType:"Return",src:"12092:169:49"}]}},{expression:{argumentTypes:null,hexValue:"30",id:7948,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"12289:1:49",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},functionReturnParameters:7921,id:7949,nodeType:"Return",src:"12282:8:49"}]},documentation:"Calculations the unit amount of Token to include in the the combined Set units.\n     * @param _setToken                 Information on the SetToken\n@param _maxNaturalUnit           Max natural unit of two sets in rebalance\n@param _component                Current component in iteration\n@return                          Unit inflow/outflow",id:7951,implemented:true,kind:"function",modifiers:[],name:"calculateCombinedUnit",nodeType:"FunctionDefinition",parameters:{id:7918,nodeType:"ParameterList",parameters:[{constant:false,id:7913,name:"_setToken",nodeType:"VariableDeclaration",scope:7951,src:"11660:19:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:7912,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"11660:9:49",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:7915,name:"_maxNaturalUnit",nodeType:"VariableDeclaration",scope:7951,src:"11689:23:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7914,name:"uint256",nodeType:"ElementaryTypeName",src:"11689:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7917,name:"_component",nodeType:"VariableDeclaration",scope:7951,src:"11722:18:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:7916,name:"address",nodeType:"ElementaryTypeName",src:"11722:7:49",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"11650:96:49"},returnParameters:{id:7921,nodeType:"ParameterList",parameters:[{constant:false,id:7920,name:"",nodeType:"VariableDeclaration",scope:7951,src:"11793:7:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7919,name:"uint256",nodeType:"ElementaryTypeName",src:"11793:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"11792:9:49"},scope:7971,src:"11620:677:49",stateMutability:"view",superFunction:null,visibility:"private"},{body:{id:7969,nodeType:"Block",src:"12948:84:49",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:7964,name:"_maxNaturalUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7957,src:"12988:15:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:7965,name:"_unit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7953,src:"13005:5:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:7966,name:"_naturalUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7955,src:"13012:12:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7962,name:"SetMath",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6705,src:"12965:7:49",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_SetMath_$6705_$",typeString:"type(library SetMath)"}},id:7963,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"setToComponent",nodeType:"MemberAccess",referencedDeclaration:6684,src:"12965:22:49",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256,uint256,uint256) pure returns (uint256)"}},id:7967,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12965:60:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:7961,id:7968,nodeType:"Return",src:"12958:67:49"}]},documentation:"Function to calculate the transfer value of a component given a standardized bid amount\n(minimumBid/priceDivisor)\n     * @param   _unit               Units of the component token\n@param   _naturalUnit        Natural unit of the Set token\n@param   _maxNaturalUnit     Max natural unit of two sets in rebalance\n@return  uint256             Amount of tokens per standard bid amount (minimumBid/priceDivisor)",id:7970,implemented:true,kind:"function",modifiers:[],name:"calculateTransferValue",nodeType:"FunctionDefinition",parameters:{id:7958,nodeType:"ParameterList",parameters:[{constant:false,id:7953,name:"_unit",nodeType:"VariableDeclaration",scope:7970,src:"12806:13:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7952,name:"uint256",nodeType:"ElementaryTypeName",src:"12806:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7955,name:"_naturalUnit",nodeType:"VariableDeclaration",scope:7970,src:"12829:20:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7954,name:"uint256",nodeType:"ElementaryTypeName",src:"12829:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7957,name:"_maxNaturalUnit",nodeType:"VariableDeclaration",scope:7970,src:"12859:23:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7956,name:"uint256",nodeType:"ElementaryTypeName",src:"12859:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"12796:92:49"},returnParameters:{id:7961,nodeType:"ParameterList",parameters:[{constant:false,id:7960,name:"",nodeType:"VariableDeclaration",scope:7970,src:"12935:7:49",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7959,name:"uint256",nodeType:"ElementaryTypeName",src:"12935:7:49",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"12934:9:49"},scope:7971,src:"12765:267:49",stateMutability:"pure",superFunction:null,visibility:"private"}],scope:7972,src:"1464:11570:49"}],src:"597:12437:49"},compiler:{name:"solc",version:"0.5.7+commit.6da8b019.Linux.g++"},networks:{},schemaVersion:"3.0.23",updatedAt:"2020-04-07T04:29:24.498Z",devdoc:{author:"Set Protocol * Contract containing utility functions for liquidators that use auctions processes. Contains helper functions to value collateral SetTokens and determine parameters used in bidding processes. Meant to be inherited.",methods:{},title:"Auction"},userdoc:{methods:{}}};