"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RebalancingSetIssuanceModule={contractName:"RebalancingSetIssuanceModule",abi:[{constant:true,inputs:[],name:"weth",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"vaultInstance",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"transferProxy",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"coreInstance",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"core",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"vault",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{inputs:[{name:"_core",type:"address"},{name:"_vault",type:"address"},{name:"_transferProxy",type:"address"},{name:"_weth",type:"address"}],payable:false,stateMutability:"nonpayable",type:"constructor"},{payable:true,stateMutability:"payable",type:"fallback"},{anonymous:false,inputs:[{indexed:true,name:"rebalancingSetAddress",type:"address"},{indexed:true,name:"callerAddress",type:"address"},{indexed:false,name:"rebalancingSetQuantity",type:"uint256"}],name:"LogRebalancingSetIssue",type:"event"},{anonymous:false,inputs:[{indexed:true,name:"rebalancingSetAddress",type:"address"},{indexed:true,name:"callerAddress",type:"address"},{indexed:false,name:"rebalancingSetQuantity",type:"uint256"}],name:"LogRebalancingSetRedeem",type:"event"},{constant:false,inputs:[{name:"_rebalancingSetAddress",type:"address"},{name:"_rebalancingSetQuantity",type:"uint256"},{name:"_keepChangeInVault",type:"bool"}],name:"issueRebalancingSet",outputs:[],payable:false,stateMutability:"nonpayable",type:"function"},{constant:false,inputs:[{name:"_rebalancingSetAddress",type:"address"},{name:"_rebalancingSetQuantity",type:"uint256"},{name:"_keepChangeInVault",type:"bool"}],name:"issueRebalancingSetWrappingEther",outputs:[],payable:true,stateMutability:"payable",type:"function"},{constant:false,inputs:[{name:"_rebalancingSetAddress",type:"address"},{name:"_rebalancingSetQuantity",type:"uint256"},{name:"_keepChangeInVault",type:"bool"}],name:"redeemRebalancingSet",outputs:[],payable:false,stateMutability:"nonpayable",type:"function"},{constant:false,inputs:[{name:"_rebalancingSetAddress",type:"address"},{name:"_rebalancingSetQuantity",type:"uint256"},{name:"_keepChangeInVault",type:"bool"}],name:"redeemRebalancingSetUnwrappingEther",outputs:[],payable:false,stateMutability:"nonpayable",type:"function"}],metadata:'{"compiler":{"version":"0.5.7+commit.6da8b019"},"language":"Solidity","output":{"abi":[{"constant":false,"inputs":[{"name":"_rebalancingSetAddress","type":"address"},{"name":"_rebalancingSetQuantity","type":"uint256"},{"name":"_keepChangeInVault","type":"bool"}],"name":"issueRebalancingSet","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_rebalancingSetAddress","type":"address"},{"name":"_rebalancingSetQuantity","type":"uint256"},{"name":"_keepChangeInVault","type":"bool"}],"name":"issueRebalancingSetWrappingEther","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"weth","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"vaultInstance","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"transferProxy","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"coreInstance","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_rebalancingSetAddress","type":"address"},{"name":"_rebalancingSetQuantity","type":"uint256"},{"name":"_keepChangeInVault","type":"bool"}],"name":"redeemRebalancingSet","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"core","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_rebalancingSetAddress","type":"address"},{"name":"_rebalancingSetQuantity","type":"uint256"},{"name":"_keepChangeInVault","type":"bool"}],"name":"redeemRebalancingSetUnwrappingEther","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"vault","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_core","type":"address"},{"name":"_vault","type":"address"},{"name":"_transferProxy","type":"address"},{"name":"_weth","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"rebalancingSetAddress","type":"address"},{"indexed":true,"name":"callerAddress","type":"address"},{"indexed":false,"name":"rebalancingSetQuantity","type":"uint256"}],"name":"LogRebalancingSetIssue","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"rebalancingSetAddress","type":"address"},{"indexed":true,"name":"callerAddress","type":"address"},{"indexed":false,"name":"rebalancingSetQuantity","type":"uint256"}],"name":"LogRebalancingSetRedeem","type":"event"}],"devdoc":{"author":"Set Protocol * A module that includes functions for issuing / redeeming rebalancing SetToken to/from its base components and ether.","methods":{"constructor":{"params":{"_core":"The address of Core","_transferProxy":"The address of TransferProxy","_vault":"The address of Vault","_weth":"The address of Wrapped Ether"}},"issueRebalancingSet(address,uint256,bool)":{"params":{"_keepChangeInVault":"Boolean signifying whether excess base SetToken is transfered to the user                                     or left in the vault","_rebalancingSetAddress":"Address of the rebalancing SetToken to issue","_rebalancingSetQuantity":"The issuance quantity of rebalancing SetToken"}},"issueRebalancingSetWrappingEther(address,uint256,bool)":{"params":{"_keepChangeInVault":"Boolean signifying whether excess base SetToken is transfered to the user                                     or left in the vault","_rebalancingSetAddress":"Address of the rebalancing SetToken to issue","_rebalancingSetQuantity":"The issuance quantity of rebalancing SetToken"}},"redeemRebalancingSet(address,uint256,bool)":{"params":{"_keepChangeInVault":"Boolean signifying whether excess base SetToken is transfered to the user                                     or left in the vault","_rebalancingSetAddress":"Address of the rebalancing SetToken to redeem","_rebalancingSetQuantity":"The Quantity of the rebalancing SetToken to redeem"}},"redeemRebalancingSetUnwrappingEther(address,uint256,bool)":{"params":{"_keepChangeInVault":"Boolean signifying whether excess base SetToken is transferred to the user                                   or left in the vault","_rebalancingSetAddress":"Address of the rebalancing SetToken to redeem","_rebalancingSetQuantity":"The Quantity of the rebalancing SetToken to redeem"}}},"title":"RebalancingSetIssuanceModule"},"userdoc":{"methods":{"constructor":"Constructor function for RebalancingSetIssuanceModule","issueRebalancingSet(address,uint256,bool)":{"notice":"Issue a rebalancing SetToken using the base components of the base SetToken. The base SetToken is then issued into the rebalancing SetToken. The base SetToken quantity issued is calculated by taking the rebalancing SetToken\'s quantity, unit shares, and natural unit. If the calculated quantity is not a multiple of the natural unit of the base SetToken, the quantity is rounded up to the base SetToken natural unit. NOTE: Potential to receive more baseSet than expected if someone transfers some to this module. Be careful with balance checks."},"issueRebalancingSetWrappingEther(address,uint256,bool)":{"notice":"Issue a rebalancing SetToken using the base components and ether of the base SetToken. The ether is wrapped  into wrapped Ether and utilized in issuance. The base SetToken is then issued and reissued into the rebalancing SetToken. Read more about base SetToken quantity in the issueRebalancingSet function. NOTE: Potential to receive more baseSet and ether dust than expected if someone transfers some to this module. Be careful with balance checks."},"redeemRebalancingSet(address,uint256,bool)":{"notice":"Redeems a rebalancing SetToken into the base components of the base SetToken. NOTE: Potential to receive more baseSet than expected if someone transfers some to this module. Be careful with balance checks."},"redeemRebalancingSetUnwrappingEther(address,uint256,bool)":{"notice":"Redeems a rebalancing SetToken into the base components of the base SetToken. Unwraps wrapped ether and sends eth to the user. If no wrapped ether in Set then will REVERT. NOTE: Potential to receive more baseSet and ether dust than expected if someone transfers some to this module. Be careful with balance checks."}}}},"settings":{"compilationTarget":{"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/modules/RebalancingSetIssuanceModule.sol":"RebalancingSetIssuanceModule"},"evmVersion":"byzantium","libraries":{},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ICore.sol":{"keccak256":"0x5dc3db4398630ea52d2a40c9ddfa89d94e65c2770a12bab4d2a5c8eb573fb0a0","urls":["bzzr://25e90b53f61b388e0950b808e2296f82d427b66cfd6021212713436b2a592e31"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IRebalancingSetToken.sol":{"keccak256":"0xe7356a7b0f0cc95d9526395d776f523a48fd65618730d67b4f31f20ffbd380da","urls":["bzzr://605a33a818eff7ce3370f25fccb751f61c066b4db0772605a2215d1357d68072"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ISetToken.sol":{"keccak256":"0xfa6c0c07f8394d89b6b8f72e15778f8452a9341acb20cebb8421f3522aaca1bd","urls":["bzzr://ccf23bb78fd507bf8cbf5cf7ac2a660a1463b87a3689196e42b8f6862d1a6b11"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ITransferProxy.sol":{"keccak256":"0x962d54385cc4760c550cd2f16bfdb53e967def4c5d3acb7b3d0b3d7a49f902de","urls":["bzzr://cb8994c8bae7fa1d55d240f44396f4156b45c81afa6fcfa608fd5e4bf9f1a919"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IVault.sol":{"keccak256":"0xf8a6d376173be39f5744492866db5dd3f91453a124d23679ff164ff3817f2f4f","urls":["bzzr://896c0a8329175c1620e1a22467778b835defe0e61847e5a8427a306f42391e64"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/RebalancingLibrary.sol":{"keccak256":"0x7f9dd2f95b2ee71a98b94cb9b0df15874aa134e7480d04a1fcf36aff166a55f4","urls":["bzzr://f43a5563ec5df095151eee30cf7a0941b5a971917c27c7b34d9586b36563ab5b"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/modules/RebalancingSetIssuanceModule.sol":{"keccak256":"0x72d4e23ad66f4e0a4ff38a330fa8b7311c0119ae1017461904a4a21892645c4d","urls":["bzzr://b7ce04017d334e69396034e35e485629cd6e55153fcb9f559832aa26204ed380"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/modules/lib/ModuleCoreState.sol":{"keccak256":"0x75a216727092c78a7adb0016e4ed49bc174b4e8725b0e6b0689f86c4d20bcba7","urls":["bzzr://29bbd30e5a474c131c8ae83c00cf82f3bf2162e6f4699cb04f7c06507302e50c"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/modules/lib/RebalancingSetIssuance.sol":{"keccak256":"0xeeabd867f7670496bdfe47ecaffec0b9a1a487ef4614881b84597148c080a486","urls":["bzzr://a8b9e8c7eb7b0fec284f607a306135e97ba6a73d15a357602dd52892d125ae2e"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/AddressArrayUtils.sol":{"keccak256":"0xb716eab4e8c5a336a2f19078928530829af097912bd1b925644f914b63601f08","urls":["bzzr://d8a21d39779beb316adb5180d08dcba1941eeccd9412ff08feb21a631c18c269"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/CommonMath.sol":{"keccak256":"0x3d1d08c6efc2a973fe2c02ddcb02fd99a8c8eb75f74dcbd93e8e15864eee2b6b","urls":["bzzr://580815dd1cf648a4521d923e59087de21143d9c48115ab71579a1f5a8f3d36af"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/ERC20Wrapper.sol":{"keccak256":"0xfda5a6d259a0a33081f621d1eefd6948a6dc108118e05a7899066e4ad05f785a","urls":["bzzr://702c566ec79cddeb64160f882cf25eaa530b806018dc50fd0dc5fab5b8ae76b2"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/IERC20.sol":{"keccak256":"0xe4f71b1797f6421de91c6ce3b55199c5845693a58eddfd417a60b81d0198a9dd","urls":["bzzr://a6a4cebcffaff1db8ef9b78ea58d2d7391cc2b1ed533a1e1309286989f6d4ea0"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/IWETH.sol":{"keccak256":"0x7c9e000a6f74c258dc618fa5b58e36eee503ae2c494646782110e962dae19495","urls":["bzzr://9beaaba0143db4bd7856fcba8943f96dcdb6e618b568ffc9c4aa27aa03df5678"]},"openzeppelin-solidity/contracts/math/SafeMath.sol":{"keccak256":"0xc2a200a877c4a9b2475c246c54ffecc69ffde3e11af83319c63c2dc5458bac80","urls":["bzzr://c8876e2c39b60f155d748d71d715c8f3903fae5a405ac599adcb6ad2f9a583f9"]},"openzeppelin-solidity/contracts/utils/ReentrancyGuard.sol":{"keccak256":"0x080fa336eb92fca1f96bf5c7738b6ef6e23582809d81868e9498c08e1207c125","urls":["bzzr://3bc299fd722679f1313dc1387e2efc0591dcddc3727b6a7ccc98132c6e02f323"]}},"version":1}',bytecode:"0x608060405234801561001057600080fd5b506040516080806121de8339810180604052608081101561003057600080fd5b5080516020820151604083015160609093015160008054600160a060020a03948516600160a060020a0319918216811790925560028054821690921790915560018054938516938216841781556003805483169094179093556004929092556006805491841691831691909117905560058054929093169116179055612123806100bb6000396000f3fe6080604052600436106100955760003560e060020a90048063a05cb7551161005d578063a05cb755146101b3578063da89a7b1146101c8578063f2f4eb2614610209578063f7b00c9e1461021e578063fbfa77cf1461025f57610095565b80631cc0bd61146100e35780633ba30551146101245780633fc8cef31461015857806363dc4f95146101895780636e667db31461019e575b600654600160a060020a031633146100e15760405160e560020a62461bcd028152600401808060200182810382526059815260200180611f0b6059913960600191505060405180910390fd5b005b3480156100ef57600080fd5b506100e16004803603606081101561010657600080fd5b50600160a060020a0381351690602081013590604001351515610274565b6100e16004803603606081101561013a57600080fd5b50600160a060020a038135169060208101359060400135151561035e565b34801561016457600080fd5b5061016d610476565b60408051600160a060020a039092168252519081900360200190f35b34801561019557600080fd5b5061016d610485565b3480156101aa57600080fd5b5061016d610494565b3480156101bf57600080fd5b5061016d6104a3565b3480156101d457600080fd5b506100e1600480360360608110156101eb57600080fd5b50600160a060020a03813516906020810135906040013515156104b2565b34801561021557600080fd5b5061016d61074f565b34801561022a57600080fd5b506100e16004803603606081101561024157600080fd5b50600160a060020a038135169060208101359060400135151561075e565b34801561026b57600080fd5b5061016d6109c3565b600480546001019081905560008061028c86866109d2565b600254604080517f7c68561f000000000000000000000000000000000000000000000000000000008152336004820152306024820152600160a060020a0380861660448301526064820185905291519496509294501691637c68561f9160848082019260009290919082900301818387803b15801561030a57600080fd5b505af115801561031e573d6000803e3d6000fd5b505060055461033c92508491503090600160a060020a031684610a64565b61034886838787610a94565b5050600454811461035857600080fd5b50505050565b600480546001019081905560008061037686866109d2565b6006549193509150610392908390600160a060020a0316610b7e565b61039c8282610c45565b600254604080517fa57de4cf000000000000000000000000000000000000000000000000000000008152600160a060020a038581166004830152602482018590529151919092169163a57de4cf91604480830192600092919082900301818387803b15801561040a57600080fd5b505af115801561041e573d6000803e3d6000fd5b5050505061042e86838787610a94565b3031801561046557604051339082156108fc029083906000818181858888f19350505050158015610463573d6000803e3d6000fd5b505b505050600454811461035857600080fd5b600654600160a060020a031681565b600354600160a060020a031681565b600554600160a060020a031681565b600254600160a060020a031681565b60048054600101908190556104c78484611043565b600254604080517f5990ca08000000000000000000000000000000000000000000000000000000008152336004820152306024820152600160a060020a0387811660448301526064820187905291519190921691635990ca0891608480830192600092919082900301818387803b15801561054157600080fd5b505af1158015610555573d6000803e3d6000fd5b50505050600084600160a060020a03166330b866276040518163ffffffff1660e060020a02815260040160206040518083038186803b15801561059757600080fd5b505afa1580156105ab573d6000803e3d6000fd5b505050506040513d60208110156105c157600080fd5b5051905060006105d0826111ca565b600254604080517ff3fef3a3000000000000000000000000000000000000000000000000000000008152600160a060020a03868116600483015260248201859052915193945091169163f3fef3a39160448082019260009290919082900301818387803b15801561064057600080fd5b505af1158015610654573d6000803e3d6000fd5b5050600254604080517f1c2a0e40000000000000000000000000000000000000000000000000000000008152600160a060020a03878116600483015233602483015260448201879052600060648301819052925193169450631c2a0e4093506084808201939182900301818387803b1580156106cf57600080fd5b505af11580156106e3573d6000803e3d6000fd5b50506005546106ff9250849150600160a060020a0316866112fd565b6040805186815290513391600160a060020a038916917f412d6167082ef33d0eb78858a5ca2bc234ae9f96ea4757e6c0e2a66a152c0f629181900360200190a35050600454811461035857600080fd5b600054600160a060020a031681565b60048054600101908190556107738484611043565b600084600160a060020a03166330b866276040518163ffffffff1660e060020a02815260040160206040518083038186803b1580156107b157600080fd5b505afa1580156107c5573d6000803e3d6000fd5b505050506040513d60208110156107db57600080fd5b50516006549091506107f7908290600160a060020a0316610b7e565b600254604080517f5990ca08000000000000000000000000000000000000000000000000000000008152336004820152306024820152600160a060020a0388811660448301526064820188905291519190921691635990ca0891608480830192600092919082900301818387803b15801561087157600080fd5b505af1158015610885573d6000803e3d6000fd5b505050506000610894826111ca565b600254604080517ff3fef3a3000000000000000000000000000000000000000000000000000000008152600160a060020a03868116600483015260248201859052915193945091169163f3fef3a39160448082019260009290919082900301818387803b15801561090457600080fd5b505af1158015610918573d6000803e3d6000fd5b5050600254604080517f1e9a6950000000000000000000000000000000000000000000000000000000008152600160a060020a038781166004830152602482018790529151919092169350631e9a69509250604480830192600092919082900301818387803b15801561098a57600080fd5b505af115801561099e573d6000803e3d6000fd5b505050506109ab82611317565b6005546106ff908390600160a060020a0316866112fd565b600154600160a060020a031681565b6000806109df8484611043565b600084600160a060020a03166330b866276040518163ffffffff1660e060020a02815260040160206040518083038186803b158015610a1d57600080fd5b505afa158015610a31573d6000803e3d6000fd5b505050506040513d6020811015610a4757600080fd5b505190506000610a5786866116a1565b9196919550909350505050565b6000610a718585856118fa565b905081811015610a8d57610a8d8584610a8861199a565b6119a0565b5050505050565b600254604080517f73088bf7000000000000000000000000000000000000000000000000000000008152336004820152600160a060020a03878116602483015260448201869052915191909216916373088bf791606480830192600092919082900301818387803b158015610b0857600080fd5b505af1158015610b1c573d6000803e3d6000fd5b5050600554610b389250859150600160a060020a0316836112fd565b6040805183815290513391600160a060020a038716917f2d3ead46fb20943d335e2ff48b43b66d146fa01aaed75d497fa33a86092446129181900360200190a350505050565b81600160a060020a03166318c53aca826040518263ffffffff1660e060020a0281526004018082600160a060020a0316600160a060020a0316815260200191505060206040518083038186803b158015610bd757600080fd5b505afa158015610beb573d6000803e3d6000fd5b505050506040513d6020811015610c0157600080fd5b5051610c415760405160e560020a62461bcd0281526004018080602001828103825260528152602001806120a66052913960600191505060405180910390fd5b5050565b6000829050606081600160a060020a03166399d50d5d6040518163ffffffff1660e060020a02815260040160006040518083038186803b158015610c8857600080fd5b505afa158015610c9c573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526020811015610cc557600080fd5b810190808051640100000000811115610cdd57600080fd5b82016020810184811115610cf057600080fd5b8151856020820283011164010000000082111715610d0d57600080fd5b50509291905050509050606082600160a060020a031663027aa9f56040518163ffffffff1660e060020a02815260040160006040518083038186803b158015610d5557600080fd5b505afa158015610d69573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526020811015610d9257600080fd5b810190808051640100000000811115610daa57600080fd5b82016020810184811115610dbd57600080fd5b8151856020820283011164010000000082111715610dda57600080fd5b50509291905050509050600083600160a060020a03166342a7cfd56040518163ffffffff1660e060020a02815260040160206040518083038186803b158015610e2257600080fd5b505afa158015610e36573d6000803e3d6000fd5b505050506040513d6020811015610e4c57600080fd5b5051905060005b835181101561103a576000848281518110610e6a57fe5b602002602001015190506000848381518110610e8257fe5b602002602001015190506000610eb182610ea5878c611a7690919063ffffffff16565b9063ffffffff611a9816565b600654909150600160a060020a0384811691161415610f9c5780341015610f0c5760405160e560020a62461bcd028152600401808060200182810382526067815260200180611f8a6067913960800191505060405180910390fd5b600660009054906101000a9004600160a060020a0316600160a060020a031663d0e30db0826040518263ffffffff1660e060020a0281526004016000604051808303818588803b158015610f5f57600080fd5b505af1158015610f73573d6000803e3d6000fd5b5050600654600554610f979450600160a060020a0391821693503092501684610a64565b61102f565b600254604080517fde30f6ee000000000000000000000000000000000000000000000000000000008152336004820152306024820152600160a060020a038681166044830152606482018590529151919092169163de30f6ee91608480830192600092919082900301818387803b15801561101657600080fd5b505af115801561102a573d6000803e3d6000fd5b505050505b505050600101610e53565b50505050505050565b600254604080517ffef3ee73000000000000000000000000000000000000000000000000000000008152600160a060020a0385811660048301529151919092169163fef3ee73916024808301926020929190829003018186803b1580156110a957600080fd5b505afa1580156110bd573d6000803e3d6000fd5b505050506040513d60208110156110d357600080fd5b50516111135760405160e560020a62461bcd02815260040180806020018281038252605881526020018061204e6058913960600191505060405180910390fd5b61118b82600160a060020a03166342a7cfd56040518163ffffffff1660e060020a02815260040160206040518083038186803b15801561115257600080fd5b505afa158015611166573d6000803e3d6000fd5b505050506040513d602081101561117c57600080fd5b5051829063ffffffff611ac616565b15610c415760405160e560020a62461bcd02815260040180806020018281038252605d815260200180611ff1605d913960600191505060405180910390fd5b60008082600160a060020a03166342a7cfd56040518163ffffffff1660e060020a02815260040160206040518083038186803b15801561120957600080fd5b505afa15801561121d573d6000803e3d6000fd5b505050506040513d602081101561123357600080fd5b5051600354604080517f1f98ade3000000000000000000000000000000000000000000000000000000008152600160a060020a03878116600483015230602483015291519394506000939190921691631f98ade3916044808301926020929190829003018186803b1580156112a757600080fd5b505afa1580156112bb573d6000803e3d6000fd5b505050506040513d60208110156112d157600080fd5b505190506112f56112e8828463ffffffff611ac616565b829063ffffffff611ae316565b949350505050565b611308838383611af8565b6113128382611cf5565b505050565b606081600160a060020a03166399d50d5d6040518163ffffffff1660e060020a02815260040160006040518083038186803b15801561135557600080fd5b505afa158015611369573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052602081101561139257600080fd5b8101908080516401000000008111156113aa57600080fd5b820160208101848111156113bd57600080fd5b81518560208202830111640100000000821117156113da57600080fd5b50909450600093505050505b81518110156113125760008282815181106113fd57fe5b602090810291909101810151600354604080517f1f98ade3000000000000000000000000000000000000000000000000000000008152600160a060020a03808516600483015230602483015291519395506000949190921692631f98ade3926044808201939291829003018186803b15801561147857600080fd5b505afa15801561148c573d6000803e3d6000fd5b505050506040513d60208110156114a257600080fd5b5051600654909150600160a060020a038381169116141561160457600254600654604080517f0e1fd33400000000000000000000000000000000000000000000000000000000815230600482018190526024820152600160a060020a0392831660448201526064810185905290519190921691630e1fd33491608480830192600092919082900301818387803b15801561153b57600080fd5b505af115801561154f573d6000803e3d6000fd5b5050600654604080517f2e1a7d4d000000000000000000000000000000000000000000000000000000008152600481018690529051600160a060020a039092169350632e1a7d4d925060248082019260009290919082900301818387803b1580156115b957600080fd5b505af11580156115cd573d6000803e3d6000fd5b505060405133925083156108fc02915083906000818181858888f193505050501580156115fe573d6000803e3d6000fd5b50611697565b600254604080517f0e1fd334000000000000000000000000000000000000000000000000000000008152306004820152336024820152600160a060020a0385811660448301526064820185905291519190921691630e1fd33491608480830192600092919082900301818387803b15801561167e57600080fd5b505af1158015611692573d6000803e3d6000fd5b505050505b50506001016113e6565b600080839050600081600160a060020a0316630193aea26040518163ffffffff1660e060020a02815260040160206040518083038186803b1580156116e557600080fd5b505afa1580156116f9573d6000803e3d6000fd5b505050506040513d602081101561170f57600080fd5b5051604080517f42a7cfd50000000000000000000000000000000000000000000000000000000081529051919250600091600160a060020a038516916342a7cfd5916004808301926020929190829003018186803b15801561177057600080fd5b505afa158015611784573d6000803e3d6000fd5b505050506040513d602081101561179a57600080fd5b5051905060006117b483610ea5888563ffffffff611a7616565b9050600084600160a060020a03166330b866276040518163ffffffff1660e060020a02815260040160206040518083038186803b1580156117f457600080fd5b505afa158015611808573d6000803e3d6000fd5b505050506040513d602081101561181e57600080fd5b5051604080517f42a7cfd50000000000000000000000000000000000000000000000000000000081529051919250600091600160a060020a038416916342a7cfd5916004808301926020929190829003018186803b15801561187f57600080fd5b505afa158015611893573d6000803e3d6000fd5b505050506040513d60208110156118a957600080fd5b5051905060006118bf848363ffffffff611ac616565b905080156118ea576118e7826118db868463ffffffff611ae316565b9063ffffffff611ec316565b93505b5091955050505050505b92915050565b604080517fdd62ed3e000000000000000000000000000000000000000000000000000000008152600160a060020a0384811660048301528381166024830152915160009286169163dd62ed3e916044808301926020929190829003018186803b15801561196657600080fd5b505afa15801561197a573d6000803e3d6000fd5b505050506040513d602081101561199057600080fd5b5051949350505050565b60001990565b82600160a060020a031663095ea7b383836040518363ffffffff1660e060020a0281526004018083600160a060020a0316600160a060020a0316815260200182815260200192505050602060405180830381600087803b158015611a0357600080fd5b505af1158015611a17573d6000803e3d6000fd5b505050506040513d6020811015611a2d57600080fd5b50611a389050611ed5565b6113125760405160e560020a62461bcd028152600401808060200182810382526026815260200180611f646026913960400191505060405180910390fd5b6000808211611a8457600080fd5b6000828481611a8f57fe5b04949350505050565b600082611aa7575060006118f4565b82820282848281611ab457fe5b0414611abf57600080fd5b9392505050565b600081611ad257600080fd5b818381611adb57fe5b069392505050565b600082821115611af257600080fd5b50900390565b604080517ff7888aec000000000000000000000000000000000000000000000000000000008152600160a060020a0385166004820152306024820152905160009173__ERC20Wrapper__________________________9163f7888aec91604480820192602092909190829003018186803b158015611b7557600080fd5b505af4158015611b89573d6000803e3d6000fd5b505050506040513d6020811015611b9f57600080fd5b5051905080611bae5750611312565b8115611c5757611bc084308584610a64565b600254604080517fde30f6ee000000000000000000000000000000000000000000000000000000008152306004820152336024820152600160a060020a038781166044830152606482018590529151919092169163de30f6ee91608480830192600092919082900301818387803b158015611c3a57600080fd5b505af1158015611c4e573d6000803e3d6000fd5b50505050610358565b604080517fbeabacc8000000000000000000000000000000000000000000000000000000008152600160a060020a038616600482015233602482015260448101839052905173__ERC20Wrapper__________________________9163beabacc8916064808301926000929190829003018186803b158015611cd757600080fd5b505af4158015611ceb573d6000803e3d6000fd5b5050505050505050565b600354604080517f1f98ade3000000000000000000000000000000000000000000000000000000008152600160a060020a03858116600483015230602483015291516000939290921691631f98ade391604480820192602092909190829003018186803b158015611d6557600080fd5b505afa158015611d79573d6000803e3d6000fd5b505050506040513d6020811015611d8f57600080fd5b5051905080611d9e5750610c41565b8115611e3557600254604080517f59e026f7000000000000000000000000000000000000000000000000000000008152600160a060020a03868116600483015233602483015260448201859052915191909216916359e026f791606480830192600092919082900301818387803b158015611e1857600080fd5b505af1158015611e2c573d6000803e3d6000fd5b50505050611312565b600254604080517f0e1fd334000000000000000000000000000000000000000000000000000000008152306004820152336024820152600160a060020a0386811660448301526064820185905291519190921691630e1fd33491608480830192600092919082900301818387803b158015611eaf57600080fd5b505af115801561103a573d6000803e3d6000fd5b600082820183811015611abf57600080fd5b6000803d8015611eec5760208114611ef557611f01565b60019150611f01565b60206000803e60005191505b5060011490509056fe526562616c616e63696e6753657449737375616e63654d6f64756c652e66616c6c6261636b3a2043616e6e6f74207265636569766520455448206469726563746c7920756e6c65737320756e7772617070696e6720574554484552433230577261707065722e617070726f76653a204261642072657475726e2076616c7565526562616c616e63696e6753657449737375616e63654d6f64756c652e6465706f736974436f6d706f6e656e7473416e6448616e646c654574683a204e6f7420656e6f75676820657468657220696e636c7564656420666f72206261736520536574546f6b656e526562616c616e63696e6753657449737375616e63652e76616c6964617465526562616c616e63696e6749737375616e63653a205175616e74697479206d757374206265206d756c7469706c65206f66206e61747572616c20756e6974526562616c616e63696e6753657449737375616e63652e76616c6964617465526562616c616e63696e6749737375616e63653a20496e76616c6964206f722064697361626c656420536574546f6b656e2061646472657373526562616c616e63696e6753657449737375616e63652e76616c696461746557455448497341436f6d706f6e656e744f665365743a20436f6d706f6e656e7473206d75737420636f6e7461696e2077657468a165627a7a723058201b7f150147d88e5665dfdbd57aaa659500c5206c68d3a56c6d79074fd2cee30f0029",deployedBytecode:"0x6080604052600436106100955760003560e060020a90048063a05cb7551161005d578063a05cb755146101b3578063da89a7b1146101c8578063f2f4eb2614610209578063f7b00c9e1461021e578063fbfa77cf1461025f57610095565b80631cc0bd61146100e35780633ba30551146101245780633fc8cef31461015857806363dc4f95146101895780636e667db31461019e575b600654600160a060020a031633146100e15760405160e560020a62461bcd028152600401808060200182810382526059815260200180611f0b6059913960600191505060405180910390fd5b005b3480156100ef57600080fd5b506100e16004803603606081101561010657600080fd5b50600160a060020a0381351690602081013590604001351515610274565b6100e16004803603606081101561013a57600080fd5b50600160a060020a038135169060208101359060400135151561035e565b34801561016457600080fd5b5061016d610476565b60408051600160a060020a039092168252519081900360200190f35b34801561019557600080fd5b5061016d610485565b3480156101aa57600080fd5b5061016d610494565b3480156101bf57600080fd5b5061016d6104a3565b3480156101d457600080fd5b506100e1600480360360608110156101eb57600080fd5b50600160a060020a03813516906020810135906040013515156104b2565b34801561021557600080fd5b5061016d61074f565b34801561022a57600080fd5b506100e16004803603606081101561024157600080fd5b50600160a060020a038135169060208101359060400135151561075e565b34801561026b57600080fd5b5061016d6109c3565b600480546001019081905560008061028c86866109d2565b600254604080517f7c68561f000000000000000000000000000000000000000000000000000000008152336004820152306024820152600160a060020a0380861660448301526064820185905291519496509294501691637c68561f9160848082019260009290919082900301818387803b15801561030a57600080fd5b505af115801561031e573d6000803e3d6000fd5b505060055461033c92508491503090600160a060020a031684610a64565b61034886838787610a94565b5050600454811461035857600080fd5b50505050565b600480546001019081905560008061037686866109d2565b6006549193509150610392908390600160a060020a0316610b7e565b61039c8282610c45565b600254604080517fa57de4cf000000000000000000000000000000000000000000000000000000008152600160a060020a038581166004830152602482018590529151919092169163a57de4cf91604480830192600092919082900301818387803b15801561040a57600080fd5b505af115801561041e573d6000803e3d6000fd5b5050505061042e86838787610a94565b3031801561046557604051339082156108fc029083906000818181858888f19350505050158015610463573d6000803e3d6000fd5b505b505050600454811461035857600080fd5b600654600160a060020a031681565b600354600160a060020a031681565b600554600160a060020a031681565b600254600160a060020a031681565b60048054600101908190556104c78484611043565b600254604080517f5990ca08000000000000000000000000000000000000000000000000000000008152336004820152306024820152600160a060020a0387811660448301526064820187905291519190921691635990ca0891608480830192600092919082900301818387803b15801561054157600080fd5b505af1158015610555573d6000803e3d6000fd5b50505050600084600160a060020a03166330b866276040518163ffffffff1660e060020a02815260040160206040518083038186803b15801561059757600080fd5b505afa1580156105ab573d6000803e3d6000fd5b505050506040513d60208110156105c157600080fd5b5051905060006105d0826111ca565b600254604080517ff3fef3a3000000000000000000000000000000000000000000000000000000008152600160a060020a03868116600483015260248201859052915193945091169163f3fef3a39160448082019260009290919082900301818387803b15801561064057600080fd5b505af1158015610654573d6000803e3d6000fd5b5050600254604080517f1c2a0e40000000000000000000000000000000000000000000000000000000008152600160a060020a03878116600483015233602483015260448201879052600060648301819052925193169450631c2a0e4093506084808201939182900301818387803b1580156106cf57600080fd5b505af11580156106e3573d6000803e3d6000fd5b50506005546106ff9250849150600160a060020a0316866112fd565b6040805186815290513391600160a060020a038916917f412d6167082ef33d0eb78858a5ca2bc234ae9f96ea4757e6c0e2a66a152c0f629181900360200190a35050600454811461035857600080fd5b600054600160a060020a031681565b60048054600101908190556107738484611043565b600084600160a060020a03166330b866276040518163ffffffff1660e060020a02815260040160206040518083038186803b1580156107b157600080fd5b505afa1580156107c5573d6000803e3d6000fd5b505050506040513d60208110156107db57600080fd5b50516006549091506107f7908290600160a060020a0316610b7e565b600254604080517f5990ca08000000000000000000000000000000000000000000000000000000008152336004820152306024820152600160a060020a0388811660448301526064820188905291519190921691635990ca0891608480830192600092919082900301818387803b15801561087157600080fd5b505af1158015610885573d6000803e3d6000fd5b505050506000610894826111ca565b600254604080517ff3fef3a3000000000000000000000000000000000000000000000000000000008152600160a060020a03868116600483015260248201859052915193945091169163f3fef3a39160448082019260009290919082900301818387803b15801561090457600080fd5b505af1158015610918573d6000803e3d6000fd5b5050600254604080517f1e9a6950000000000000000000000000000000000000000000000000000000008152600160a060020a038781166004830152602482018790529151919092169350631e9a69509250604480830192600092919082900301818387803b15801561098a57600080fd5b505af115801561099e573d6000803e3d6000fd5b505050506109ab82611317565b6005546106ff908390600160a060020a0316866112fd565b600154600160a060020a031681565b6000806109df8484611043565b600084600160a060020a03166330b866276040518163ffffffff1660e060020a02815260040160206040518083038186803b158015610a1d57600080fd5b505afa158015610a31573d6000803e3d6000fd5b505050506040513d6020811015610a4757600080fd5b505190506000610a5786866116a1565b9196919550909350505050565b6000610a718585856118fa565b905081811015610a8d57610a8d8584610a8861199a565b6119a0565b5050505050565b600254604080517f73088bf7000000000000000000000000000000000000000000000000000000008152336004820152600160a060020a03878116602483015260448201869052915191909216916373088bf791606480830192600092919082900301818387803b158015610b0857600080fd5b505af1158015610b1c573d6000803e3d6000fd5b5050600554610b389250859150600160a060020a0316836112fd565b6040805183815290513391600160a060020a038716917f2d3ead46fb20943d335e2ff48b43b66d146fa01aaed75d497fa33a86092446129181900360200190a350505050565b81600160a060020a03166318c53aca826040518263ffffffff1660e060020a0281526004018082600160a060020a0316600160a060020a0316815260200191505060206040518083038186803b158015610bd757600080fd5b505afa158015610beb573d6000803e3d6000fd5b505050506040513d6020811015610c0157600080fd5b5051610c415760405160e560020a62461bcd0281526004018080602001828103825260528152602001806120a66052913960600191505060405180910390fd5b5050565b6000829050606081600160a060020a03166399d50d5d6040518163ffffffff1660e060020a02815260040160006040518083038186803b158015610c8857600080fd5b505afa158015610c9c573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526020811015610cc557600080fd5b810190808051640100000000811115610cdd57600080fd5b82016020810184811115610cf057600080fd5b8151856020820283011164010000000082111715610d0d57600080fd5b50509291905050509050606082600160a060020a031663027aa9f56040518163ffffffff1660e060020a02815260040160006040518083038186803b158015610d5557600080fd5b505afa158015610d69573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526020811015610d9257600080fd5b810190808051640100000000811115610daa57600080fd5b82016020810184811115610dbd57600080fd5b8151856020820283011164010000000082111715610dda57600080fd5b50509291905050509050600083600160a060020a03166342a7cfd56040518163ffffffff1660e060020a02815260040160206040518083038186803b158015610e2257600080fd5b505afa158015610e36573d6000803e3d6000fd5b505050506040513d6020811015610e4c57600080fd5b5051905060005b835181101561103a576000848281518110610e6a57fe5b602002602001015190506000848381518110610e8257fe5b602002602001015190506000610eb182610ea5878c611a7690919063ffffffff16565b9063ffffffff611a9816565b600654909150600160a060020a0384811691161415610f9c5780341015610f0c5760405160e560020a62461bcd028152600401808060200182810382526067815260200180611f8a6067913960800191505060405180910390fd5b600660009054906101000a9004600160a060020a0316600160a060020a031663d0e30db0826040518263ffffffff1660e060020a0281526004016000604051808303818588803b158015610f5f57600080fd5b505af1158015610f73573d6000803e3d6000fd5b5050600654600554610f979450600160a060020a0391821693503092501684610a64565b61102f565b600254604080517fde30f6ee000000000000000000000000000000000000000000000000000000008152336004820152306024820152600160a060020a038681166044830152606482018590529151919092169163de30f6ee91608480830192600092919082900301818387803b15801561101657600080fd5b505af115801561102a573d6000803e3d6000fd5b505050505b505050600101610e53565b50505050505050565b600254604080517ffef3ee73000000000000000000000000000000000000000000000000000000008152600160a060020a0385811660048301529151919092169163fef3ee73916024808301926020929190829003018186803b1580156110a957600080fd5b505afa1580156110bd573d6000803e3d6000fd5b505050506040513d60208110156110d357600080fd5b50516111135760405160e560020a62461bcd02815260040180806020018281038252605881526020018061204e6058913960600191505060405180910390fd5b61118b82600160a060020a03166342a7cfd56040518163ffffffff1660e060020a02815260040160206040518083038186803b15801561115257600080fd5b505afa158015611166573d6000803e3d6000fd5b505050506040513d602081101561117c57600080fd5b5051829063ffffffff611ac616565b15610c415760405160e560020a62461bcd02815260040180806020018281038252605d815260200180611ff1605d913960600191505060405180910390fd5b60008082600160a060020a03166342a7cfd56040518163ffffffff1660e060020a02815260040160206040518083038186803b15801561120957600080fd5b505afa15801561121d573d6000803e3d6000fd5b505050506040513d602081101561123357600080fd5b5051600354604080517f1f98ade3000000000000000000000000000000000000000000000000000000008152600160a060020a03878116600483015230602483015291519394506000939190921691631f98ade3916044808301926020929190829003018186803b1580156112a757600080fd5b505afa1580156112bb573d6000803e3d6000fd5b505050506040513d60208110156112d157600080fd5b505190506112f56112e8828463ffffffff611ac616565b829063ffffffff611ae316565b949350505050565b611308838383611af8565b6113128382611cf5565b505050565b606081600160a060020a03166399d50d5d6040518163ffffffff1660e060020a02815260040160006040518083038186803b15801561135557600080fd5b505afa158015611369573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052602081101561139257600080fd5b8101908080516401000000008111156113aa57600080fd5b820160208101848111156113bd57600080fd5b81518560208202830111640100000000821117156113da57600080fd5b50909450600093505050505b81518110156113125760008282815181106113fd57fe5b602090810291909101810151600354604080517f1f98ade3000000000000000000000000000000000000000000000000000000008152600160a060020a03808516600483015230602483015291519395506000949190921692631f98ade3926044808201939291829003018186803b15801561147857600080fd5b505afa15801561148c573d6000803e3d6000fd5b505050506040513d60208110156114a257600080fd5b5051600654909150600160a060020a038381169116141561160457600254600654604080517f0e1fd33400000000000000000000000000000000000000000000000000000000815230600482018190526024820152600160a060020a0392831660448201526064810185905290519190921691630e1fd33491608480830192600092919082900301818387803b15801561153b57600080fd5b505af115801561154f573d6000803e3d6000fd5b5050600654604080517f2e1a7d4d000000000000000000000000000000000000000000000000000000008152600481018690529051600160a060020a039092169350632e1a7d4d925060248082019260009290919082900301818387803b1580156115b957600080fd5b505af11580156115cd573d6000803e3d6000fd5b505060405133925083156108fc02915083906000818181858888f193505050501580156115fe573d6000803e3d6000fd5b50611697565b600254604080517f0e1fd334000000000000000000000000000000000000000000000000000000008152306004820152336024820152600160a060020a0385811660448301526064820185905291519190921691630e1fd33491608480830192600092919082900301818387803b15801561167e57600080fd5b505af1158015611692573d6000803e3d6000fd5b505050505b50506001016113e6565b600080839050600081600160a060020a0316630193aea26040518163ffffffff1660e060020a02815260040160206040518083038186803b1580156116e557600080fd5b505afa1580156116f9573d6000803e3d6000fd5b505050506040513d602081101561170f57600080fd5b5051604080517f42a7cfd50000000000000000000000000000000000000000000000000000000081529051919250600091600160a060020a038516916342a7cfd5916004808301926020929190829003018186803b15801561177057600080fd5b505afa158015611784573d6000803e3d6000fd5b505050506040513d602081101561179a57600080fd5b5051905060006117b483610ea5888563ffffffff611a7616565b9050600084600160a060020a03166330b866276040518163ffffffff1660e060020a02815260040160206040518083038186803b1580156117f457600080fd5b505afa158015611808573d6000803e3d6000fd5b505050506040513d602081101561181e57600080fd5b5051604080517f42a7cfd50000000000000000000000000000000000000000000000000000000081529051919250600091600160a060020a038416916342a7cfd5916004808301926020929190829003018186803b15801561187f57600080fd5b505afa158015611893573d6000803e3d6000fd5b505050506040513d60208110156118a957600080fd5b5051905060006118bf848363ffffffff611ac616565b905080156118ea576118e7826118db868463ffffffff611ae316565b9063ffffffff611ec316565b93505b5091955050505050505b92915050565b604080517fdd62ed3e000000000000000000000000000000000000000000000000000000008152600160a060020a0384811660048301528381166024830152915160009286169163dd62ed3e916044808301926020929190829003018186803b15801561196657600080fd5b505afa15801561197a573d6000803e3d6000fd5b505050506040513d602081101561199057600080fd5b5051949350505050565b60001990565b82600160a060020a031663095ea7b383836040518363ffffffff1660e060020a0281526004018083600160a060020a0316600160a060020a0316815260200182815260200192505050602060405180830381600087803b158015611a0357600080fd5b505af1158015611a17573d6000803e3d6000fd5b505050506040513d6020811015611a2d57600080fd5b50611a389050611ed5565b6113125760405160e560020a62461bcd028152600401808060200182810382526026815260200180611f646026913960400191505060405180910390fd5b6000808211611a8457600080fd5b6000828481611a8f57fe5b04949350505050565b600082611aa7575060006118f4565b82820282848281611ab457fe5b0414611abf57600080fd5b9392505050565b600081611ad257600080fd5b818381611adb57fe5b069392505050565b600082821115611af257600080fd5b50900390565b604080517ff7888aec000000000000000000000000000000000000000000000000000000008152600160a060020a0385166004820152306024820152905160009173__ERC20Wrapper__________________________9163f7888aec91604480820192602092909190829003018186803b158015611b7557600080fd5b505af4158015611b89573d6000803e3d6000fd5b505050506040513d6020811015611b9f57600080fd5b5051905080611bae5750611312565b8115611c5757611bc084308584610a64565b600254604080517fde30f6ee000000000000000000000000000000000000000000000000000000008152306004820152336024820152600160a060020a038781166044830152606482018590529151919092169163de30f6ee91608480830192600092919082900301818387803b158015611c3a57600080fd5b505af1158015611c4e573d6000803e3d6000fd5b50505050610358565b604080517fbeabacc8000000000000000000000000000000000000000000000000000000008152600160a060020a038616600482015233602482015260448101839052905173__ERC20Wrapper__________________________9163beabacc8916064808301926000929190829003018186803b158015611cd757600080fd5b505af4158015611ceb573d6000803e3d6000fd5b5050505050505050565b600354604080517f1f98ade3000000000000000000000000000000000000000000000000000000008152600160a060020a03858116600483015230602483015291516000939290921691631f98ade391604480820192602092909190829003018186803b158015611d6557600080fd5b505afa158015611d79573d6000803e3d6000fd5b505050506040513d6020811015611d8f57600080fd5b5051905080611d9e5750610c41565b8115611e3557600254604080517f59e026f7000000000000000000000000000000000000000000000000000000008152600160a060020a03868116600483015233602483015260448201859052915191909216916359e026f791606480830192600092919082900301818387803b158015611e1857600080fd5b505af1158015611e2c573d6000803e3d6000fd5b50505050611312565b600254604080517f0e1fd334000000000000000000000000000000000000000000000000000000008152306004820152336024820152600160a060020a0386811660448301526064820185905291519190921691630e1fd33491608480830192600092919082900301818387803b158015611eaf57600080fd5b505af115801561103a573d6000803e3d6000fd5b600082820183811015611abf57600080fd5b6000803d8015611eec5760208114611ef557611f01565b60019150611f01565b60206000803e60005191505b5060011490509056fe526562616c616e63696e6753657449737375616e63654d6f64756c652e66616c6c6261636b3a2043616e6e6f74207265636569766520455448206469726563746c7920756e6c65737320756e7772617070696e6720574554484552433230577261707065722e617070726f76653a204261642072657475726e2076616c7565526562616c616e63696e6753657449737375616e63654d6f64756c652e6465706f736974436f6d706f6e656e7473416e6448616e646c654574683a204e6f7420656e6f75676820657468657220696e636c7564656420666f72206261736520536574546f6b656e526562616c616e63696e6753657449737375616e63652e76616c6964617465526562616c616e63696e6749737375616e63653a205175616e74697479206d757374206265206d756c7469706c65206f66206e61747572616c20756e6974526562616c616e63696e6753657449737375616e63652e76616c6964617465526562616c616e63696e6749737375616e63653a20496e76616c6964206f722064697361626c656420536574546f6b656e2061646472657373526562616c616e63696e6753657449737375616e63652e76616c696461746557455448497341436f6d706f6e656e744f665365743a20436f6d706f6e656e7473206d75737420636f6e7461696e2077657468a165627a7a723058201b7f150147d88e5665dfdbd57aaa659500c5206c68d3a56c6d79074fd2cee30f0029",
sourceMap:"1365:18166:59:-;;;2432:361;8:9:-1;5:2;;;30:1;27;20:12;5:2;2432:361:59;;;;;;;;;;;;;13:3:-1;8;5:12;2:2;;;30:1;27;20:12;2:2;-1:-1;2432:361:59;;;;;;;;;;;;;;;1652:4:63;:12;;-1:-1:-1;;;;;1652:12:63;;;-1:-1:-1;;;;;;1652:12:63;;;;;;;;1739;:27;;;;;;;;;;1652:12;1834:14;;;;;;;;;;;;1924:13;:30;;;;;;;;;;560:13:179;:17;;;;2688:4:59;:12;;;;;;;;;;;;;;2756:13;:30;;;;;;;;;;;1365:18166;;;;;;",deployedSourceMap:"1365:18166:59:-;;;;;;;;;;-1:-1:-1;;;1365:18166:59;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3036:4;;-1:-1:-1;;;;;3036:4:59;3014:10;:27;2993:163;;;;-1:-1:-1;;;;;2993:163:59;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1365:18166;4187:1208;;8:9:-1;5:2;;;30:1;27;20:12;5:2;4187:1208:59;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;;;;;;4187:1208:59;;;;;;;;;;;;;;;:::i;6269:1789::-;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;;;;;;6269:1789:59;;;;;;;;;;;;;;;:::i;1657:17::-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1657:17:59;;;:::i;:::-;;;;-1:-1:-1;;;;;1657:17:59;;;;;;;;;;;;;;1234:27:63;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1234:27:63;;;:::i;1568:28:59:-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1568:28:59;;;:::i;1168:25:63:-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1168:25:63;;;:::i;8673:1656:59:-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;8673:1656:59;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;;;;;;8673:1656:59;;;;;;;;;;;;;;;:::i;1049:19:63:-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1049:19:63;;;:::i;11059:1759:59:-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;11059:1759:59;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;;;;;;11059:1759:59;;;;;;;;;;;;;;;:::i;1108:20:63:-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1108:20:63;;;:::i;4187:1208:59:-;993:13:179;:18;;1010:1;993:18;;;;;:13;;4567:77:59;4596:22;4620:23;4567:28;:77::i;:::-;4726:12;;:150;;;;;;4764:10;4726:150;;;;4796:4;4726:150;;;;-1:-1:-1;;;;;4726:150:59;;;;;;;;;;;;;;;4473:171;;-1:-1:-1;4473:171:59;;-1:-1:-1;4726:12:59;;:24;;:150;;;;;:12;;:150;;;;;;;;:12;;:150;;;5:2:-1;;;;30:1;27;20:12;5:2;4726:150:59;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;-1:-1;;5047:13:59;;4950:157;;-1:-1:-1;4992:14:59;;-1:-1:-1;5028:4:59;;-1:-1:-1;;;;;5047:13:59;5074:23;4950:28;:157::i;:::-;5207:181;5259:22;5295:14;5323:23;5360:18;5207:38;:181::i;:::-;1067:1:179;;1102:13;;1086:12;:29;1078:38;;;;;;4187:1208:59;;;;:::o;6269:1789::-;993:13:179;:18;;1010:1;993:18;;;;;:13;;6678:77:59;6707:22;6731:23;6678:28;:77::i;:::-;6876:4;;6584:171;;-1:-1:-1;6584:171:59;-1:-1:-1;6822:60:59;;6584:171;;-1:-1:-1;;;;;6876:4:59;6822:29;:60::i;:::-;7069:104;7112:14;7140:23;7069:29;:104::i;:::-;7274:12;;:100;;;;;;-1:-1:-1;;;;;7274:100:59;;;;;;;;;;;;;;;:12;;;;;:25;;:100;;;;;:12;;:100;;;;;;;:12;;:100;;;5:2:-1;;;;30:1;27;20:12;5:2;7274:100:59;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;7274:100:59;;;;7586:181;7638:22;7674:14;7702:23;7739:18;7586:38;:181::i;:::-;7951:4;7943:21;7978:15;;7974:78;;8009:32;;:10;;:32;;;;;8029:11;;8009:32;;;;8029:11;8009:10;:32;;;;;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;8009:32:59;7974:78;1067:1:179;;;1102:13;;1086:12;:29;1078:38;;;;;1657:17:59;;;-1:-1:-1;;;;;1657:17:59;;:::o;1234:27:63:-;;;-1:-1:-1;;;;;1234:27:63;;:::o;1568:28:59:-;;;-1:-1:-1;;;;;1568:28:59;;:::o;1168:25:63:-;;;-1:-1:-1;;;;;1168:25:63;;:::o;8673:1656:59:-;993:13:179;:18;;1010:1;993:18;;;;;8980:79:59;9011:22;9035:23;8980:30;:79::i;:::-;9136:12;;:159;;;;;;9175:10;9136:159;;;;9207:4;9136:159;;;;-1:-1:-1;;;;;9136:159:59;;;;;;;;;;;;;;;:12;;;;;:25;;:159;;;;;:12;;:159;;;;;;;:12;;:159;;;5:2:-1;;;;30:1;27;20:12;5:2;9136:159:59;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;9136:159:59;;;;9361:22;9407;-1:-1:-1;;;;;9386:55:59;;:57;;;;;-1:-1:-1;;;9386:57:59;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;9386:57:59;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;9386:57:59;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;9386:57:59;;-1:-1:-1;9453:29:59;9485:40;9386:57;9485:24;:40::i;:::-;9587:12;;:94;;;;;;-1:-1:-1;;;;;9587:94:59;;;;;;;;;;;;;;;9453:72;;-1:-1:-1;9587:12:59;;;:21;;:94;;;;;:12;;:94;;;;;;;;:12;;:94;;;5:2:-1;;;;30:1;27;20:12;5:2;9587:94:59;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;-1:-1;;9847:12:59;;:144;;;;;;-1:-1:-1;;;;;9847:144:59;;;;;;;9921:10;9847:144;;;;;;;;;;:12;:144;;;;;;;;:12;;;-1:-1:-1;9847:32:59;;-1:-1:-1;9847:144:59;;;;;;;;;;;:12;;:144;;;5:2:-1;;;;30:1;27;20:12;5:2;9847:144:59;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;-1:-1;;10106:13:59;;10070:70;;-1:-1:-1;10090:14:59;;-1:-1:-1;;;;;;10106:13:59;10121:18;10070:19;:70::i;:::-;10192:130;;;;;;;;10265:10;;-1:-1:-1;;;;;10192:130:59;;;;;;;;;;;;1067:1:179;;1102:13;;1086:12;:29;1078:38;;;;;1049:19:63;;;-1:-1:-1;;;;;1049:19:63;;:::o;11059:1759:59:-;993:13:179;:18;;1010:1;993:18;;;;;11381:79:59;11412:22;11436:23;11381:30;:79::i;:::-;11471:22;11517;-1:-1:-1;;;;;11496:55:59;;:57;;;;;-1:-1:-1;;;11496:57:59;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;11496:57:59;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;11496:57:59;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;11496:57:59;11618:4;;11496:57;;-1:-1:-1;11564:60:59;;11496:57;;-1:-1:-1;;;;;11618:4:59;11564:29;:60::i;:::-;11715:12;;:159;;;;;;11754:10;11715:159;;;;11786:4;11715:159;;;;-1:-1:-1;;;;;11715:159:59;;;;;;;;;;;;;;;:12;;;;;:25;;:159;;;;;:12;;:159;;;;;;;:12;;:159;;;5:2:-1;;;;30:1;27;20:12;5:2;11715:159:59;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;11715:159:59;;;;11940:29;11972:40;11997:14;11972:24;:40::i;:::-;12074:12;;:94;;;;;;-1:-1:-1;;;;;12074:94:59;;;;;;;;;;;;;;;11940:72;;-1:-1:-1;12074:12:59;;;:21;;:94;;;;;:12;;:94;;;;;;;;:12;;:94;;;5:2:-1;;;;30:1;27;20:12;5:2;12074:94:59;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;-1:-1;;12249:12:59;;:92;;;;;;-1:-1:-1;;;;;12249:92:59;;;;;;;;;;;;;;;:12;;;;;-1:-1:-1;12249:19:59;;-1:-1:-1;12249:92:59;;;;;:12;;:92;;;;;;;:12;;:92;;;5:2:-1;;;;30:1;27;20:12;5:2;12249:92:59;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;12249:92:59;;;;12429:51;12465:14;12429:35;:51::i;:::-;12595:13;;12559:70;;12579:14;;-1:-1:-1;;;;;12595:13:59;12610:18;12559:19;:70::i;1108:20:63:-;;;-1:-1:-1;;;;;1108:20:63;;:::o;13363:770:59:-;13535:7;13544;13672:79;13703:22;13727:23;13672:30;:79::i;:::-;13762:22;13808;-1:-1:-1;;;;;13787:55:59;;:57;;;;;-1:-1:-1;;;13787:57:59;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;13787:57:59;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;13787:57:59;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;13787:57:59;;-1:-1:-1;13908:31:59;13942:117;13990:22;14026:23;13942:34;:117::i;:::-;14078:14;;;;-1:-1:-1;13363:770:59;;-1:-1:-1;;;;13363:770:59:o;4725:412:118:-;4888:24;4915:35;4925:6;4933;4941:8;4915:9;:35::i;:::-;4888:62;;4983:9;4964:16;:28;4960:171;;;5008:112;5033:6;5057:8;5083:23;:21;:23::i;:::-;5008:7;:112::i;:::-;4725:412;;;;;:::o;14689:750:59:-;14973:12;;:127;;;;;;15007:10;14973:127;;;;-1:-1:-1;;;;;14973:127:59;;;;;;;;;;;;;;;:12;;;;;:20;;:127;;;;;:12;;:127;;;;;;;:12;;:127;;;5:2:-1;;;;30:1;27;20:12;5:2;14973:127:59;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;-1:-1;;15211:13:59;;15174:71;;-1:-1:-1;15194:15:59;;-1:-1:-1;;;;;;15211:13:59;15226:18;15174:19;:71::i;:::-;15296:129;;;;;;;;15368:10;;-1:-1:-1;;;;;15296:129:59;;;;;;;;;;;;14689:750;;;;:::o;1598:353:65:-;1785:11;-1:-1:-1;;;;;1775:39:65;;1815:20;1775:61;;;;;-1:-1:-1;;;1775:61:65;;;;;;;-1:-1:-1;;;;;1775:61:65;-1:-1:-1;;;;;1775:61:65;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1775:61:65;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;1775:61:65;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1775:61:65;1754:190;;;;-1:-1:-1;;;;;1754:190:65;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1598:353;;:::o;15842:1955:59:-;15984:17;16014:15;15984:46;;16041:34;16078:7;-1:-1:-1;;;;;16078:21:59;;:23;;;;;-1:-1:-1;;;16078:23:59;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;16078:23:59;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;16078:23:59;;;;;;39:16:-1;36:1;17:17;2:54;101:4;16078:23:59;80:15:-1;;;-1:-1;;76:31;65:43;;120:4;113:20;13:2;5:11;;2:2;;;29:1;26;19:12;2:2;16078:23:59;;;;;;19:11:-1;14:3;11:20;8:2;;;44:1;41;34:12;8:2;62:21;;123:4;114:14;;138:31;;;135:2;;;182:1;179;172:12;135:2;219:3;213:10;331:9;325:2;311:12;307:21;289:16;285:44;282:59;261:11;247:12;244:29;233:116;230:2;;;362:1;359;352:12;230:2;0:373;;16078:23:59;;;;;;16041:60;;16111:29;16143:7;-1:-1:-1;;;;;16143:16:59;;:18;;;;;-1:-1:-1;;;16143:18:59;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;16143:18:59;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;16143:18:59;;;;;;39:16:-1;36:1;17:17;2:54;101:4;16143:18:59;80:15:-1;;;-1:-1;;76:31;65:43;;120:4;113:20;13:2;5:11;;2:2;;;29:1;26;19:12;2:2;16143:18:59;;;;;;19:11:-1;14:3;11:20;8:2;;;44:1;41;34:12;8:2;62:21;;123:4;114:14;;138:31;;;135:2;;;182:1;179;172:12;135:2;219:3;213:10;331:9;325:2;311:12;307:21;289:16;285:44;282:59;261:11;247:12;244:29;233:116;230:2;;;362:1;359;352:12;230:2;0:373;;16143:18:59;;;;;;16111:50;;16171:26;16200:7;-1:-1:-1;;;;;16200:19:59;;:21;;;;;-1:-1:-1;;;16200:21:59;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;16200:21:59;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;16200:21:59;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;16200:21:59;;-1:-1:-1;16313:9:59;16308:1483;16332:17;:24;16328:1;:28;16308:1483;;;16377:24;16404:17;16422:1;16404:20;;;;;;;;;;;;;;16377:47;;16438:19;16460:12;16473:1;16460:15;;;;;;;;;;;;;;16438:37;;16543:32;16578:57;16623:11;16578:40;16599:18;16578:16;:20;;:40;;;;:::i;:::-;:44;:57;:44;:57;:::i;:::-;16747:4;;16543:92;;-1:-1:-1;;;;;;16719:33:59;;;16747:4;;16719:33;16715:1066;;;16894:24;16881:9;:37;;16852:211;;;;-1:-1:-1;;;;;16852:211:59;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;17134:4;;;;;;;;;-1:-1:-1;;;;;17134:4:59;-1:-1:-1;;;;;17134:12:59;;17153:24;17134:46;;;;;-1:-1:-1;;;17134:46:59;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;17134:46:59;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;-1:-1;;17298:4:59;;17360:13;;17240:197;;-1:-1:-1;;;;;;17298:4:59;;;;-1:-1:-1;17333:4:59;;-1:-1:-1;17360:13:59;17395:24;17240:28;:197::i;:::-;16715:1066;;;17555:12;;:195;;;;;;17603:10;17555:195;;;;17643:4;17555:195;;;;-1:-1:-1;;;;;17555:195:59;;;;;;;;;;;;;;;:12;;;;;:26;;:195;;;;;:12;;:195;;;;;;;:12;;:195;;;5:2:-1;;;;30:1;27;20:12;5:2;17555:195:59;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;17555:195:59;;;;16715:1066;-1:-1:-1;;;16358:3:59;;16308:1483;;;;15842:1955;;;;;;:::o;2289:764:65:-;2554:12;;:46;;;;;;-1:-1:-1;;;;;2554:46:65;;;;;;;;;:12;;;;;:22;;:46;;;;;;;;;;;;;;:12;:46;;;5:2:-1;;;;30:1;27;20:12;5:2;2554:46:65;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;2554:46:65;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;2554:46:65;2533:181;;;;-1:-1:-1;;;;;2533:181:65;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2846:76;2884:22;-1:-1:-1;;;;;2874:45:65;;:47;;;;;-1:-1:-1;;;2874:47:65;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;2874:47:65;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;2874:47:65;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;2874:47:65;2846:23;;:76;:27;:76;:::i;:::-;:81;2825:221;;;;-1:-1:-1;;;;;2825:221:65;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5123:571;5243:7;5333:26;5372:15;-1:-1:-1;;;;;5362:38:65;;:40;;;;;-1:-1:-1;;;5362:40:65;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;5362:40:65;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;5362:40:65;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;5362:40:65;5437:13;;:95;;;;;;-1:-1:-1;;;;;5437:95:65;;;;;;;5517:4;5437:95;;;;;;5362:40;;-1:-1:-1;5412:22:65;;5437:13;;;;;:29;;:95;;;;;5362:40;;5437:95;;;;;;;:13;:95;;;5:2:-1;;;;30:1;27;20:12;5:2;5437:95:65;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;5437:95:65;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;5437:95:65;;-1:-1:-1;5629:58:65;5648:38;5437:95;5667:18;5648:38;:18;:38;:::i;:::-;5629:14;;:58;:18;:58;:::i;:::-;5622:65;5123:571;-1:-1:-1;;;;5123:571:65:o;6253:343::-;6424:91;6456:15;6473:21;6496:18;6424:31;:91::i;:::-;6526:63;6553:15;6570:18;6526:26;:63::i;:::-;6253:343;;;:::o;18034:1495:59:-;18148:34;18195:15;-1:-1:-1;;;;;18185:40:59;;:42;;;;;-1:-1:-1;;;18185:42:59;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;18185:42:59;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;18185:42:59;;;;;;39:16:-1;36:1;17:17;2:54;101:4;18185:42:59;80:15:-1;;;-1:-1;;76:31;65:43;;120:4;113:20;13:2;5:11;;2:2;;;29:1;26;19:12;2:2;18185:42:59;;;;;;19:11:-1;14:3;11:20;8:2;;;44:1;41;34:12;8:2;62:21;;123:4;114:14;;138:31;;;135:2;;;182:1;179;172:12;135:2;219:3;213:10;331:9;325:2;311:12;307:21;289:16;285:44;282:59;261:11;247:12;244:29;233:116;230:2;;;362:1;359;352:12;230:2;-1:-1;18185:42:59;;-1:-1:-1;18297:9:59;;-1:-1:-1;;;;18292:1231:59;18316:17;:24;18312:1;:28;18292:1231;;;18361:24;18388:17;18406:1;18388:20;;;;;;;;;;;;;;;;;;;18457:13;;:108;;;;;;-1:-1:-1;;;;;18457:108:59;;;;;;;18546:4;18457:108;;;;;;18388:20;;-1:-1:-1;18422:32:59;;18457:13;;;;;:29;;:108;;;;;18388:20;18457:108;;;;;;:13;:108;;;5:2:-1;;;;30:1;27;20:12;5:2;18457:108:59;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;18457:108:59;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;18457:108:59;18688:4;;18457:108;;-1:-1:-1;;;;;;18660:33:59;;;18688:4;;18660:33;18656:857;;;18790:12;;18917:4;;18790:196;;;;;;18847:4;18790:196;;;;;;;;;;-1:-1:-1;;;;;18917:4:59;;;18790:196;;;;;;;;;;;;:12;;;;;:27;;:196;;;;;:12;;:196;;;;;;;:12;;:196;;;5:2:-1;;;;30:1;27;20:12;5:2;18790:196:59;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;-1:-1;;19045:4:59;;:39;;;;;;;;;;;;;;-1:-1:-1;;;;;19045:4:59;;;;-1:-1:-1;19045:13:59;;-1:-1:-1;19045:39:59;;;;;:4;;:39;;;;;;;;:4;;:39;;;5:2:-1;;;;30:1;27;20:12;5:2;19045:39:59;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;-1:-1;;19144:45:59;;:10;;-1:-1:-1;19144:45:59;;;;;-1:-1:-1;19164:24:59;;19144:45;;;;19164:24;19144:10;:45;;;;;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;19144:45:59;18656:857;;;19302:12;;:196;;;;;;19359:4;19302:196;;;;19386:10;19302:196;;;;-1:-1:-1;;;;;19302:196:59;;;;;;;;;;;;;;;:12;;;;;:27;;:196;;;;;:12;;:196;;;;;;;:12;;:196;;;5:2:-1;;;;30:1;27;20:12;5:2;19302:196:59;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;19302:196:59;;;;18656:857;-1:-1:-1;;18342:3:59;;18292:1231;;3644:1093:65;3822:7;3845:35;3904:22;3845:82;;3938:18;3959:14;-1:-1:-1;;;;;3959:25:65;;:27;;;;;-1:-1:-1;;;3959:27:65;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;3959:27:65;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;3959:27:65;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;3959:27:65;4018:28;;;;;;;;3959:27;;-1:-1:-1;3996:19:65;;-1:-1:-1;;;;;4018:26:65;;;;;:28;;;;;3959:27;;4018:28;;;;;;;:26;:28;;;5:2:-1;;;;30:1;27;20:12;5:2;4018:28:65;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;4018:28:65;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;4018:28:65;;-1:-1:-1;4057:31:65;4091:56;4136:10;4091:40;:23;4018:28;4091:40;:27;:40;:::i;:56::-;4057:90;;4158:15;4176:14;-1:-1:-1;;;;;4176:25:65;;:27;;;;;-1:-1:-1;;;4176:27:65;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;4176:27:65;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;4176:27:65;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;4176:27:65;4242:32;;;;;;;;4176:27;;-1:-1:-1;4213:26:65;;-1:-1:-1;;;;;4242:30:65;;;;;:32;;;;;4176:27;;4242:32;;;;;;;:30;:32;;;5:2:-1;;;;30:1;27;20:12;5:2;4242:32:65;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;4242:32:65;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;4242:32:65;;-1:-1:-1;4457:25:65;4485:47;:23;4242:32;4485:47;:27;:47;:::i;:::-;4457:75;-1:-1:-1;4546:21:65;;4542:148;;4609:70;4660:18;4609:46;:23;4637:17;4609:46;:27;:46;:::i;:::-;:50;:70;:50;:70;:::i;:::-;4583:96;;4542:148;-1:-1:-1;4707:23:65;;-1:-1:-1;;;;;;3644:1093:65;;;;;:::o;1912:225:118:-;2088:42;;;;;;-1:-1:-1;;;;;2088:42:118;;;;;;;;;;;;;;;;2058:7;;2088:24;;;;;:42;;;;;;;;;;;;;;:24;:42;;;5:2:-1;;;;30:1;27;20:12;5:2;2088:42:118;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;2088:42:118;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;2088:42:118;;1912:225;-1:-1:-1;;;;1912:225:118:o;1220:118:115:-;-1:-1:-1;;1220:118:115;:::o;4001:342:118:-;4139:6;-1:-1:-1;;;;;4132:22:118;;4155:8;4165:9;4132:43;;;;;-1:-1:-1;;;4132:43:118;;;;;;;-1:-1:-1;;;;;4132:43:118;-1:-1:-1;;;;;4132:43:118;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;4132:43:118;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;4132:43:118;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;4258:14:118;;-1:-1:-1;4258:12:118;:14::i;:::-;4237:99;;;;-1:-1:-1;;;;;4237:99:118;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;782:296:174;840:7;937:1;933;:5;925:14;;;;;;949:9;965:1;961;:5;;;;;;;782:296;-1:-1:-1;;;;782:296:174:o;231:421::-;289:7;529:6;525:45;;-1:-1:-1;558:1:174;551:8;;525:45;592:5;;;596:1;592;:5;:1;615:5;;;;;:10;607:19;;;;;;644:1;231:421;-1:-1:-1;;;231:421:174:o;1739:121::-;1797:7;1824:6;1816:15;;;;;;1852:1;1848;:5;;;;;;;1739:121;-1:-1:-1;;;1739:121:174:o;1211:145::-;1269:7;1301:1;1296;:6;;1288:15;;;;;;-1:-1:-1;1325:5:174;;;1211:145::o;7142:1060:65:-;7351:54;;;;;;-1:-1:-1;;;;;7351:54:65;;;;;;7399:4;7351:54;;;;;;7325:23;;7351:12;;:22;;:54;;;;;;;;;;;;;;;:12;:54;;;5:2:-1;;;;30:1;27;20:12;5:2;7351:54:65;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;7351:54:65;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;7351:54:65;;-1:-1:-1;7428:20:65;7424:772;;7465:7;;;7424:772;7493:18;7489:707;;;7573:178;7619:15;7660:4;7683:21;7722:15;7573:28;:178::i;:::-;7815:12;;:165;;;;;;7867:4;7815:165;;;;7890:10;7815:165;;;;-1:-1:-1;;;;;7815:165:65;;;;;;;;;;;;;;;:12;;;;;:26;;:165;;;;;:12;;:165;;;;;;;:12;;:165;;;5:2:-1;;;;30:1;27;20:12;5:2;7815:165:65;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;7815:165:65;;;;7489:707;;;8056:129;;;;;;-1:-1:-1;;;;;8056:129:65;;;;;;8128:10;8056:129;;;;;;;;;;;;:12;;:21;;:129;;;;;-1:-1:-1;;8056:129:65;;;;;;;:12;:129;;;5:2:-1;;;;30:1;27;20:12;5:2;8056:129:65;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;8056:129:65;;;;7142:1060;;;;:::o;8667:940::-;8900:13;;:95;;;;;;-1:-1:-1;;;;;8900:95:65;;;;;;;8980:4;8900:95;;;;;;8867:30;;8900:13;;;;;:29;;:95;;;;;;;;;;;;;;;:13;:95;;;5:2:-1;;;;30:1;27;20:12;5:2;8900:95:65;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;8900:95:65;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;8900:95:65;;-1:-1:-1;9018:27:65;9014:587;;9062:7;;;9014:587;9090:18;9086:515;;;9187:12;;:144;;;;;;-1:-1:-1;;;;;9187:144:65;;;;;;;9267:10;9187:144;;;;;;;;;;;;:12;;;;;:29;;:144;;;;;:12;;:144;;;;;;;:12;;:144;;;5:2:-1;;;;30:1;27;20:12;5:2;9187:144:65;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;9187:144:65;;;;9086:515;;;9417:12;;:173;;;;;;9470:4;9417:173;;;;9493:10;9417:173;;;;-1:-1:-1;;;;;9417:173:65;;;;;;;;;;;;;;;:12;;;;;:27;;:173;;;;;:12;;:173;;;;;;;:12;;:173;;;5:2:-1;;;;30:1;27;20:12;5:2;9417:173:65;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;1439:145:174;1497:7;1528:5;;;1551:6;;;;1543:15;;;;;5351:852:118;5426:4;;5610:14;5687:57;;;;5796:4;5791:220;;;;5603:497;;5687:57;5729:1;5714:16;;5687:57;;5791:220;5896:4;5891:3;5886;5871:30;5993:3;5987:10;5972:25;;5603:497;-1:-1:-1;6195:1:118;6180:16;;-1:-1:-1;5351:852:118;:::o",source:'/*\n    Copyright 2019 Set Labs Inc.\n\n    Licensed under the Apache License, Version 2.0 (the "License");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an "AS IS" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n*/\n\npragma solidity 0.5.7;\n\nimport { ReentrancyGuard } from "openzeppelin-solidity/contracts/utils/ReentrancyGuard.sol";\nimport { SafeMath } from "openzeppelin-solidity/contracts/math/SafeMath.sol";\n\nimport { IRebalancingSetToken } from "../interfaces/IRebalancingSetToken.sol";\nimport { ISetToken } from "../interfaces/ISetToken.sol";\nimport { IWETH } from "../../lib/IWETH.sol";\nimport { ERC20Wrapper } from "../../lib/ERC20Wrapper.sol";\nimport { ModuleCoreState } from "./lib/ModuleCoreState.sol";\nimport { RebalancingSetIssuance } from "./lib/RebalancingSetIssuance.sol";\n\n\n/**\n * @title RebalancingSetIssuanceModule\n * @author Set Protocol\n *\n * A module that includes functions for issuing / redeeming rebalancing SetToken to/from its base components and ether.\n */\ncontract RebalancingSetIssuanceModule is\n    ModuleCoreState,\n    RebalancingSetIssuance,\n    ReentrancyGuard\n{\n    using SafeMath for uint256;\n\n    // Address and instance of TransferProxy contract\n    address public transferProxy;\n\n    // Address and instance of Wrapped Ether contract\n    IWETH public weth;\n\n    /* ============ Events ============ */\n\n    event LogRebalancingSetIssue(\n        address indexed rebalancingSetAddress,\n        address indexed callerAddress,\n        uint256 rebalancingSetQuantity\n    );\n\n    event LogRebalancingSetRedeem(\n        address indexed rebalancingSetAddress,\n        address indexed callerAddress,\n        uint256 rebalancingSetQuantity\n    );\n\n    /* ============ Constructor ============ */\n\n    /**\n     * Constructor function for RebalancingSetIssuanceModule\n     *\n     * @param _core                The address of Core\n     * @param _vault               The address of Vault\n     * @param _transferProxy       The address of TransferProxy\n     * @param _weth                The address of Wrapped Ether\n     */\n    constructor(\n        address _core,\n        address _vault,\n        address _transferProxy,\n        IWETH _weth\n    )\n        public\n        ModuleCoreState(\n            _core,\n            _vault\n        )\n    {\n        // Commit the WETH instance\n        weth = _weth;\n\n        // Commit the transferProxy instance\n        transferProxy = _transferProxy;\n    }\n\n    /**\n     * Fallback function. Disallows ether to be sent to this contract without data except when\n     * unwrapping WETH.\n     */\n    function ()\n        external\n        payable\n    {\n        require(\n            msg.sender == address(weth),\n            "RebalancingSetIssuanceModule.fallback: Cannot receive ETH directly unless unwrapping WETH"\n        );\n    }\n\n    /* ============ External Functions ============ */\n\n    /**\n     * Issue a rebalancing SetToken using the base components of the base SetToken.\n     * The base SetToken is then issued into the rebalancing SetToken. The base SetToken quantity issued is calculated\n     * by taking the rebalancing SetToken\'s quantity, unit shares, and natural unit. If the calculated quantity is not\n     * a multiple of the natural unit of the base SetToken, the quantity is rounded up to the base SetToken natural unit.\n     * NOTE: Potential to receive more baseSet than expected if someone transfers some to this module.\n     * Be careful with balance checks.\n     *\n     * @param  _rebalancingSetAddress    Address of the rebalancing SetToken to issue\n     * @param  _rebalancingSetQuantity   The issuance quantity of rebalancing SetToken\n     * @param  _keepChangeInVault        Boolean signifying whether excess base SetToken is transfered to the user \n     *                                     or left in the vault\n     */\n    function issueRebalancingSet(\n        address _rebalancingSetAddress,\n        uint256 _rebalancingSetQuantity,\n        bool _keepChangeInVault\n    )\n        external\n        nonReentrant\n    {\n        // Get baseSet address and quantity required for issuance of Rebalancing Set\n        (\n            address baseSetAddress,\n            uint256 requiredBaseSetQuantity\n        ) = getBaseSetAddressAndQuantity(_rebalancingSetAddress, _rebalancingSetQuantity);\n\n        // Issue base SetToken to this contract, held in this contract\n        coreInstance.issueModule(\n            msg.sender,\n            address(this),\n            baseSetAddress,\n            requiredBaseSetQuantity\n        );\n\n        // Ensure base SetToken allowance to the transferProxy\n        ERC20Wrapper.ensureAllowance(\n            baseSetAddress,\n            address(this),\n            transferProxy,\n            requiredBaseSetQuantity\n        );\n\n        // Issue rebalancing SetToken to the sender and return any excess base to sender\n        issueRebalancingSetAndReturnExcessBase(\n            _rebalancingSetAddress,\n            baseSetAddress,\n            _rebalancingSetQuantity,\n            _keepChangeInVault\n        );\n    }\n\n    /**\n     * Issue a rebalancing SetToken using the base components and ether of the base SetToken. The ether is wrapped \n     * into wrapped Ether and utilized in issuance.\n     * The base SetToken is then issued and reissued into the rebalancing SetToken. Read more about base SetToken quantity\n     * in the issueRebalancingSet function.\n     * NOTE: Potential to receive more baseSet and ether dust than expected if someone transfers some to this module.\n     * Be careful with balance checks.\n     *\n     * @param  _rebalancingSetAddress    Address of the rebalancing SetToken to issue\n     * @param  _rebalancingSetQuantity   The issuance quantity of rebalancing SetToken\n     * @param  _keepChangeInVault        Boolean signifying whether excess base SetToken is transfered to the user \n     *                                     or left in the vault\n     */\n    function issueRebalancingSetWrappingEther(\n        address _rebalancingSetAddress,\n        uint256 _rebalancingSetQuantity,\n        bool _keepChangeInVault\n    )\n        external\n        payable\n        nonReentrant\n    {\n        // Get baseSet address and quantity required for issuance of Rebalancing Set\n        (\n            address baseSetAddress,\n            uint256 requiredBaseSetQuantity\n        ) = getBaseSetAddressAndQuantity(_rebalancingSetAddress, _rebalancingSetQuantity);\n\n        // Validate that WETH is a component of baseSet\n        validateWETHIsAComponentOfSet(baseSetAddress, address(weth));\n\n        // Deposit all the required non-weth components to the vault under the name of this contract\n        // The required ether is wrapped and approved to the transferProxy\n        depositComponentsAndHandleEth(\n            baseSetAddress,\n            requiredBaseSetQuantity\n        );\n\n        // Issue base SetToken to this contract, with the base SetToken held in the Vault\n        coreInstance.issueInVault(\n            baseSetAddress,\n            requiredBaseSetQuantity\n        );\n\n        // Note: Don\'t need to set allowance of the base SetToken as the base SetToken is already in the vault\n\n        // Issue rebalancing SetToken to the sender and return any excess base to sender\n        issueRebalancingSetAndReturnExcessBase(\n            _rebalancingSetAddress,\n            baseSetAddress,\n            _rebalancingSetQuantity,\n            _keepChangeInVault\n        );\n\n        // Any eth that is not wrapped is sent back to the user\n        // Only the amount required for the base SetToken issuance is wrapped.\n        uint256 leftoverEth = address(this).balance;\n        if (leftoverEth > 0) {\n            msg.sender.transfer(leftoverEth);\n        }\n    }\n\n    /**\n     * Redeems a rebalancing SetToken into the base components of the base SetToken.\n     * NOTE: Potential to receive more baseSet than expected if someone transfers some to this module.\n     * Be careful with balance checks.\n     *\n     * @param  _rebalancingSetAddress    Address of the rebalancing SetToken to redeem\n     * @param  _rebalancingSetQuantity   The Quantity of the rebalancing SetToken to redeem\n     * @param  _keepChangeInVault        Boolean signifying whether excess base SetToken is transfered to the user \n     *                                     or left in the vault\n     */\n    function redeemRebalancingSet(\n        address _rebalancingSetAddress,\n        uint256 _rebalancingSetQuantity,\n        bool _keepChangeInVault\n    )\n        external\n        nonReentrant\n    {\n        // Validate the rebalancing SetToken is valid and the quantity is a multiple of the natural unit\n        validateRebalancingSetIssuance(_rebalancingSetAddress, _rebalancingSetQuantity);\n\n        // Redeem RB Set to the vault attributed to this contract\n        coreInstance.redeemModule(\n            msg.sender,\n            address(this),\n            _rebalancingSetAddress,\n            _rebalancingSetQuantity\n        );\n\n        // Calculate the base SetToken Redeem quantity\n        address baseSetAddress = IRebalancingSetToken(_rebalancingSetAddress).currentSet();\n        uint256 baseSetRedeemQuantity = getBaseSetRedeemQuantity(baseSetAddress);\n\n        // Withdraw base SetToken to this contract\n        coreInstance.withdraw(\n            baseSetAddress,\n            baseSetRedeemQuantity\n        );\n\n        // Redeem base SetToken and send components to the the user\n        // Set exclude to 0, as tokens in rebalancing SetToken are already whitelisted\n        coreInstance.redeemAndWithdrawTo(\n            baseSetAddress,\n            msg.sender,\n            baseSetRedeemQuantity,\n            0\n        );\n\n        // Transfer any change of the base SetToken to the end user\n        returnExcessBaseSet(baseSetAddress, transferProxy, _keepChangeInVault);\n\n        // Log RebalancingSetRedeem\n        emit LogRebalancingSetRedeem(\n            _rebalancingSetAddress,\n            msg.sender,\n            _rebalancingSetQuantity\n        );\n    }\n\n    /**\n     * Redeems a rebalancing SetToken into the base components of the base SetToken. Unwraps\n     * wrapped ether and sends eth to the user. If no wrapped ether in Set then will REVERT.\n     * NOTE: Potential to receive more baseSet and ether dust than expected if someone transfers some to this module.\n     * Be careful with balance checks.\n     *\n     * @param  _rebalancingSetAddress    Address of the rebalancing SetToken to redeem\n     * @param  _rebalancingSetQuantity   The Quantity of the rebalancing SetToken to redeem\n     * @param  _keepChangeInVault        Boolean signifying whether excess base SetToken is transferred to the user \n     *                                   or left in the vault\n     */\n    function redeemRebalancingSetUnwrappingEther(\n        address _rebalancingSetAddress,\n        uint256 _rebalancingSetQuantity,\n        bool _keepChangeInVault\n    )\n        external\n        nonReentrant\n    {\n        // Validate the rebalancing SetToken is valid and the quantity is a multiple of the natural unit\n        validateRebalancingSetIssuance(_rebalancingSetAddress, _rebalancingSetQuantity);\n\n        address baseSetAddress = IRebalancingSetToken(_rebalancingSetAddress).currentSet();\n\n        validateWETHIsAComponentOfSet(baseSetAddress, address(weth));\n\n        // Redeem rebalancing SetToken to the vault attributed to this contract\n        coreInstance.redeemModule(\n            msg.sender,\n            address(this),\n            _rebalancingSetAddress,\n            _rebalancingSetQuantity\n        );\n\n        // Calculate the base SetToken Redeem quantity\n        uint256 baseSetRedeemQuantity = getBaseSetRedeemQuantity(baseSetAddress);\n\n        // Withdraw base SetToken to this contract\n        coreInstance.withdraw(\n            baseSetAddress,\n            baseSetRedeemQuantity\n        );\n\n        // Redeem the base SetToken. The components stay in the vault\n        coreInstance.redeem(\n            baseSetAddress,\n            baseSetRedeemQuantity\n        );\n\n        // Loop through the base SetToken components and transfer to sender.\n        withdrawComponentsToSenderWithEther(baseSetAddress);\n\n        // Transfer any change of the base SetToken to the end user\n        returnExcessBaseSet(baseSetAddress, transferProxy, _keepChangeInVault);\n\n        // Log RebalancingSetRedeem\n        emit LogRebalancingSetRedeem(\n            _rebalancingSetAddress,\n            msg.sender,\n            _rebalancingSetQuantity\n        );\n    }\n\n    /* ============ Private Functions ============ */\n\n    /**\n     * Gets base set address from rebalancing set token and calculates amount of base set needed\n     * for issuance.\n     *\n     * @param  _rebalancingSetAddress    Address of the RebalancingSetToken to issue\n     * @param  _rebalancingSetQuantity   The Quantity of the rebalancing SetToken to issue\n     * @return baseSetAddress            The address of RebalancingSet\'s base SetToken\n     * @return requiredBaseSetQuantity   The quantity of base SetToken to issue\n     */\n    function getBaseSetAddressAndQuantity(\n        address _rebalancingSetAddress,\n        uint256 _rebalancingSetQuantity\n    )\n        internal\n        view\n        returns (address, uint256)\n    {\n        // Validate the rebalancing SetToken is valid and the quantity is a multiple of the natural unit\n        validateRebalancingSetIssuance(_rebalancingSetAddress, _rebalancingSetQuantity);\n\n        address baseSetAddress = IRebalancingSetToken(_rebalancingSetAddress).currentSet();\n\n        // Calculate required base SetToken quantity\n        uint256 requiredBaseSetQuantity = getBaseSetIssuanceRequiredQuantity(\n            _rebalancingSetAddress,\n            _rebalancingSetQuantity\n        );\n\n        return (baseSetAddress, requiredBaseSetQuantity);        \n    }\n\n    /**\n     * Issues the rebalancing set token to sender and returns any excess baseSet.\n     *\n     * @param  _rebalancingSetAddress    Address of the rebalancing SetToken to issue\n     * @param  _baseSetAddress           Address of the rebalancing SetToken\'s base set\n     * @param  _rebalancingSetQuantity   The Quantity of the rebalancing SetToken to redeem\n     * @param  _keepChangeInVault        Boolean signifying whether excess base SetToken is transferred to the user \n     *                                   or left in the vault\n     */\n    function issueRebalancingSetAndReturnExcessBase(\n        address _rebalancingSetAddress,\n        address _baseSetAddress,\n        uint256 _rebalancingSetQuantity,\n        bool _keepChangeInVault\n    )\n        internal\n    {\n        // Issue rebalancing SetToken to the sender\n        coreInstance.issueTo(\n            msg.sender,\n            _rebalancingSetAddress,\n            _rebalancingSetQuantity\n        );\n\n        // Return any excess base SetToken token to the sender\n        returnExcessBaseSet(_baseSetAddress, transferProxy, _keepChangeInVault);\n\n        // Log RebalancingSetIssue\n        emit LogRebalancingSetIssue(\n            _rebalancingSetAddress,\n            msg.sender,\n            _rebalancingSetQuantity\n        );       \n    }\n\n    /**\n     * During issuance, deposit the required quantity of base SetToken, wrap Ether, and deposit components\n     * (excluding Ether, which is deposited during issuance) to the Vault in the name of the module.\n     *\n     * @param  _baseSetAddress           Address of the base SetToken token\n     * @param  _baseSetQuantity          The Quantity of the base SetToken token to issue\n     */\n    function depositComponentsAndHandleEth(\n        address _baseSetAddress,\n        uint256 _baseSetQuantity\n    )\n        private\n    {\n        ISetToken baseSet = ISetToken(_baseSetAddress);\n\n        address[] memory baseSetComponents = baseSet.getComponents();\n        uint256[] memory baseSetUnits = baseSet.getUnits();\n        uint256 baseSetNaturalUnit = baseSet.naturalUnit();\n\n       // Loop through the base SetToken components and deposit components \n        for (uint256 i = 0; i < baseSetComponents.length; i++) {\n            address currentComponent = baseSetComponents[i];\n            uint256 currentUnit = baseSetUnits[i];\n\n            // Calculate required component quantity\n            uint256 currentComponentQuantity = _baseSetQuantity.div(baseSetNaturalUnit).mul(currentUnit);\n\n            // If address is weth, deposit weth and transfer eth\n            if (currentComponent == address(weth)) {\n                // Expect the ether included exceeds the required Weth quantity\n                require(\n                    msg.value >= currentComponentQuantity,\n                    "RebalancingSetIssuanceModule.depositComponentsAndHandleEth: Not enough ether included for base SetToken"\n                );\n\n                // wrap the required ether quantity\n                weth.deposit.value(currentComponentQuantity)();\n\n                // Ensure weth allowance\n                ERC20Wrapper.ensureAllowance(\n                    address(weth),\n                    address(this),\n                    transferProxy,\n                    currentComponentQuantity\n                );\n            } else {\n                // Deposit components to the vault in the name of the contract\n                coreInstance.depositModule(\n                    msg.sender,\n                    address(this),\n                    currentComponent,\n                    currentComponentQuantity\n                );                \n            }\n        }\n    }\n\n    /**\n     * During redemption, withdraw the required quantity of base SetToken, unwrapping Ether, and withdraw\n     * components to the sender\n     *\n     * @param  _baseSetAddress           Address of the base SetToken\n     */\n    function withdrawComponentsToSenderWithEther(\n        address _baseSetAddress\n    )\n        private\n    {\n        address[] memory baseSetComponents = ISetToken(_baseSetAddress).getComponents();\n\n        // Loop through the base SetToken components.\n        for (uint256 i = 0; i < baseSetComponents.length; i++) {\n            address currentComponent = baseSetComponents[i];\n            uint256 currentComponentQuantity = vaultInstance.getOwnerBalance(\n                currentComponent,\n                address(this)\n            );\n\n            // If address is weth, withdraw weth and transfer eth to sender\n            if (currentComponent == address(weth)) {\n                // Transfer the wrapped ether to this address from the Vault\n                coreInstance.withdrawModule(\n                    address(this),\n                    address(this),\n                    address(weth),\n                    currentComponentQuantity\n                );\n\n                // Unwrap wrapped ether\n                weth.withdraw(currentComponentQuantity);\n\n                // Transfer to recipient\n                msg.sender.transfer(currentComponentQuantity);\n            } else {\n                // Withdraw component from the Vault and send to the user\n                coreInstance.withdrawModule(\n                    address(this),\n                    msg.sender,\n                    currentComponent,\n                    currentComponentQuantity\n                );\n            }\n        }\n    }\n}',
sourcePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/modules/RebalancingSetIssuanceModule.sol",ast:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/modules/RebalancingSetIssuanceModule.sol",exportedSymbols:{RebalancingSetIssuanceModule:[13137]},id:13138,nodeType:"SourceUnit",nodes:[{id:12496,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:59"},{absolutePath:"openzeppelin-solidity/contracts/utils/ReentrancyGuard.sol",file:"openzeppelin-solidity/contracts/utils/ReentrancyGuard.sol",id:12498,nodeType:"ImportDirective",scope:13138,sourceUnit:30291,src:"621:92:59",symbolAliases:[{foreign:12497,local:null}],unitAlias:""},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:12500,nodeType:"ImportDirective",scope:13138,sourceUnit:29641,src:"714:77:59",symbolAliases:[{foreign:12499,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IRebalancingSetToken.sol",file:"../interfaces/IRebalancingSetToken.sol",id:12502,nodeType:"ImportDirective",scope:13138,sourceUnit:5225,src:"793:78:59",symbolAliases:[{foreign:12501,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ISetToken.sol",file:"../interfaces/ISetToken.sol",id:12504,nodeType:"ImportDirective",scope:13138,sourceUnit:5660,src:"872:56:59",symbolAliases:[{foreign:12503,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/IWETH.sol",file:"../../lib/IWETH.sol",id:12506,nodeType:"ImportDirective",scope:13138,sourceUnit:23740,src:"929:44:59",symbolAliases:[{foreign:12505,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/ERC20Wrapper.sol",file:"../../lib/ERC20Wrapper.sol",id:12508,nodeType:"ImportDirective",scope:13138,sourceUnit:23680,src:"974:58:59",symbolAliases:[{foreign:12507,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/modules/lib/ModuleCoreState.sol",file:"./lib/ModuleCoreState.sol",id:12510,nodeType:"ImportDirective",scope:13138,sourceUnit:13784,src:"1033:60:59",symbolAliases:[{foreign:12509,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/modules/lib/RebalancingSetIssuance.sol",file:"./lib/RebalancingSetIssuance.sol",id:12512,nodeType:"ImportDirective",scope:13138,sourceUnit:14135,src:"1094:74:59",symbolAliases:[{foreign:12511,local:null}],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:12513,name:"ModuleCoreState",nodeType:"UserDefinedTypeName",referencedDeclaration:13783,src:"1410:15:59",typeDescriptions:{typeIdentifier:"t_contract$_ModuleCoreState_$13783",typeString:"contract ModuleCoreState"}},id:12514,nodeType:"InheritanceSpecifier",src:"1410:15:59"},{arguments:null,baseName:{contractScope:null,id:12515,name:"RebalancingSetIssuance",nodeType:"UserDefinedTypeName",referencedDeclaration:14134,src:"1431:22:59",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetIssuance_$14134",typeString:"contract RebalancingSetIssuance"}},id:12516,nodeType:"InheritanceSpecifier",src:"1431:22:59"},{arguments:null,baseName:{contractScope:null,id:12517,name:"ReentrancyGuard",nodeType:"UserDefinedTypeName",referencedDeclaration:30290,src:"1459:15:59",typeDescriptions:{typeIdentifier:"t_contract$_ReentrancyGuard_$30290",typeString:"contract ReentrancyGuard"}},id:12518,nodeType:"InheritanceSpecifier",src:"1459:15:59"}],contractDependencies:[13783,14134,30290],contractKind:"contract",documentation:"@title RebalancingSetIssuanceModule\n@author Set Protocol\n * A module that includes functions for issuing / redeeming rebalancing SetToken to/from its base components and ether.",fullyImplemented:true,id:13137,linearizedBaseContracts:[13137,30290,14134,13783],name:"RebalancingSetIssuanceModule",nodeType:"ContractDefinition",nodes:[{id:12521,libraryName:{contractScope:null,id:12519,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:29640,src:"1487:8:59",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$29640",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"1481:27:59",typeName:{id:12520,name:"uint256",nodeType:"ElementaryTypeName",src:"1500:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{constant:false,id:12523,name:"transferProxy",nodeType:"VariableDeclaration",scope:13137,src:"1568:28:59",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12522,name:"address",nodeType:"ElementaryTypeName",src:"1568:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"public"},{constant:false,id:12525,name:"weth",nodeType:"VariableDeclaration",scope:13137,src:"1657:17:59",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"},typeName:{contractScope:null,id:12524,name:"IWETH",nodeType:"UserDefinedTypeName",referencedDeclaration:23739,src:"1657:5:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}},value:null,visibility:"public"},{anonymous:false,documentation:null,id:12533,name:"LogRebalancingSetIssue",nodeType:"EventDefinition",parameters:{id:12532,nodeType:"ParameterList",parameters:[{constant:false,id:12527,indexed:true,name:"rebalancingSetAddress",nodeType:"VariableDeclaration",scope:12533,src:"1763:37:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12526,name:"address",nodeType:"ElementaryTypeName",src:"1763:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12529,indexed:true,name:"callerAddress",nodeType:"VariableDeclaration",scope:12533,src:"1810:29:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12528,name:"address",nodeType:"ElementaryTypeName",src:"1810:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12531,indexed:false,name:"rebalancingSetQuantity",nodeType:"VariableDeclaration",scope:12533,src:"1849:30:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12530,name:"uint256",nodeType:"ElementaryTypeName",src:"1849:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1753:132:59"},src:"1725:161:59"},{anonymous:false,documentation:null,id:12541,name:"LogRebalancingSetRedeem",nodeType:"EventDefinition",parameters:{id:12540,nodeType:"ParameterList",parameters:[{constant:false,id:12535,indexed:true,name:"rebalancingSetAddress",nodeType:"VariableDeclaration",scope:12541,src:"1931:37:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12534,name:"address",nodeType:"ElementaryTypeName",src:"1931:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12537,indexed:true,name:"callerAddress",nodeType:"VariableDeclaration",scope:12541,src:"1978:29:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12536,name:"address",nodeType:"ElementaryTypeName",src:"1978:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12539,indexed:false,name:"rebalancingSetQuantity",nodeType:"VariableDeclaration",scope:12541,src:"2017:30:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12538,name:"uint256",nodeType:"ElementaryTypeName",src:"2017:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1921:132:59"},src:"1892:162:59"},{body:{id:12564,nodeType:"Block",src:"2642:151:59",statements:[{expression:{argumentTypes:null,id:12558,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:12556,name:"weth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12525,src:"2688:4:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:12557,name:"_weth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12549,src:"2695:5:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}},src:"2688:12:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}},id:12559,nodeType:"ExpressionStatement",src:"2688:12:59"},{expression:{argumentTypes:null,id:12562,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:12560,name:"transferProxy",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12523,src:"2756:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:12561,name:"_transferProxy",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12547,src:"2772:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"2756:30:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:12563,nodeType:"ExpressionStatement",src:"2756:30:59"}]},documentation:"Constructor function for RebalancingSetIssuanceModule\n     * @param _core                The address of Core\n@param _vault               The address of Vault\n@param _transferProxy       The address of TransferProxy\n@param _weth                The address of Wrapped Ether",id:12565,implemented:true,kind:"constructor",modifiers:[{arguments:[{argumentTypes:null,id:12552,name:"_core",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12543,src:"2602:5:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12553,name:"_vault",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12545,src:"2621:6:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],id:12554,modifierName:{argumentTypes:null,id:12551,name:"ModuleCoreState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13783,src:"2573:15:59",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ModuleCoreState_$13783_$",typeString:"type(contract ModuleCoreState)"}},nodeType:"ModifierInvocation",src:"2573:64:59"}],name:"",nodeType:"FunctionDefinition",parameters:{id:12550,nodeType:"ParameterList",parameters:[{constant:false,id:12543,name:"_core",nodeType:"VariableDeclaration",scope:12565,src:"2453:13:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12542,name:"address",nodeType:"ElementaryTypeName",src:"2453:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12545,name:"_vault",nodeType:"VariableDeclaration",scope:12565,src:"2476:14:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12544,name:"address",nodeType:"ElementaryTypeName",src:"2476:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12547,name:"_transferProxy",nodeType:"VariableDeclaration",scope:12565,src:"2500:22:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12546,name:"address",nodeType:"ElementaryTypeName",src:"2500:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12549,name:"_weth",nodeType:"VariableDeclaration",scope:12565,src:"2532:11:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"},typeName:{contractScope:null,id:12548,name:"IWETH",nodeType:"UserDefinedTypeName",referencedDeclaration:23739,src:"2532:5:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}},value:null,visibility:"internal"}],src:"2443:106:59"},returnParameters:{id:12555,nodeType:"ParameterList",parameters:[],src:"2642:0:59"},scope:13137,src:"2432:361:59",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:12578,nodeType:"Block",src:"2983:180:59",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:12574,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:12569,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"3014:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:12570,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"3014:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12572,name:"weth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12525,src:"3036:4:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}],id:12571,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"3028:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:12573,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3028:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"3014:27:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"526562616c616e63696e6753657449737375616e63654d6f64756c652e66616c6c6261636b3a2043616e6e6f74207265636569766520455448206469726563746c7920756e6c65737320756e7772617070696e672057455448",id:12575,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"3055:91:59",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_140ff44fa475946dea061057188db2b7259b771a29fad7a56568c8da625d1d6e",typeString:'literal_string "RebalancingSetIssuanceModule.fallback: Cannot receive ETH directly unless unwrapping WETH"'},value:"RebalancingSetIssuanceModule.fallback: Cannot receive ETH directly unless unwrapping WETH"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_140ff44fa475946dea061057188db2b7259b771a29fad7a56568c8da625d1d6e",typeString:'literal_string "RebalancingSetIssuanceModule.fallback: Cannot receive ETH directly unless unwrapping WETH"'}],id:12568,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"2993:7:59",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:12576,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2993:163:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12577,nodeType:"ExpressionStatement",src:"2993:163:59"}]},documentation:"Fallback function. Disallows ether to be sent to this contract without data except when\nunwrapping WETH.",id:12579,implemented:true,kind:"fallback",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:12566,nodeType:"ParameterList",parameters:[],src:"2943:2:59"},returnParameters:{id:12567,nodeType:"ParameterList",parameters:[],src:"2983:0:59"},scope:13137,src:"2934:229:59",stateMutability:"payable",superFunction:null,visibility:"external"},{body:{id:12629,nodeType:"Block",src:"4378:1017:59",statements:[{assignments:[12591,12593],declarations:[{constant:false,id:12591,name:"baseSetAddress",nodeType:"VariableDeclaration",scope:12629,src:"4487:22:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12590,name:"address",nodeType:"ElementaryTypeName",src:"4487:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12593,name:"requiredBaseSetQuantity",nodeType:"VariableDeclaration",scope:12629,src:"4523:31:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12592,name:"uint256",nodeType:"ElementaryTypeName",src:"4523:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:12598,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:12595,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12581,src:"4596:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12596,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12583,src:"4620:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:12594,name:"getBaseSetAddressAndQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12887,src:"4567:28:59",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$_t_uint256_$returns$_t_address_$_t_uint256_$",typeString:"function (address,uint256) view returns (address,uint256)"}},id:12597,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4567:77:59",typeDescriptions:{typeIdentifier:"t_tuple$_t_address_$_t_uint256_$",typeString:"tuple(address,uint256)"}},nodeType:"VariableDeclarationStatement",src:"4473:171:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:12602,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"4764:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:12603,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"4764:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:12605,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30578,src:"4796:4:59",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}],id:12604,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"4788:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:12606,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4788:13:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:12607,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12591,src:"4815:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12608,name:"requiredBaseSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12593,src:"4843:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:12599,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13752,src:"4726:12:59",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:12601,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"issueModule",nodeType:"MemberAccess",referencedDeclaration:4675,src:"4726:24:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,address,uint256) external"}},id:12609,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4726:150:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12610,nodeType:"ExpressionStatement",src:"4726:150:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12614,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12591,src:"4992:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:12616,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30578,src:"5028:4:59",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}],id:12615,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"5020:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:12617,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5020:13:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:12618,name:"transferProxy",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12523,src:"5047:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12619,name:"requiredBaseSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12593,src:"5074:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:12611,name:"ERC20Wrapper",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:23679,src:"4950:12:59",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC20Wrapper_$23679_$",typeString:"type(library ERC20Wrapper)"}},id:12613,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"ensureAllowance",nodeType:"MemberAccess",referencedDeclaration:23663,src:"4950:28:59",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,address,uint256)"}},id:12620,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4950:157:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12621,nodeType:"ExpressionStatement",src:"4950:157:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12623,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12581,src:"5259:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12624,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12591,src:"5295:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12625,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12583,src:"5323:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:12626,name:"_keepChangeInVault",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12585,src:"5360:18:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_bool",typeString:"bool"}],id:12622,name:"issueRebalancingSetAndReturnExcessBase",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12921,src:"5207:38:59",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_bool_$returns$__$",typeString:"function (address,address,uint256,bool)"}},id:12627,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5207:181:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12628,nodeType:"ExpressionStatement",src:"5207:181:59"}]},documentation:"Issue a rebalancing SetToken using the base components of the base SetToken.\nThe base SetToken is then issued into the rebalancing SetToken. The base SetToken quantity issued is calculated\nby taking the rebalancing SetToken's quantity, unit shares, and natural unit. If the calculated quantity is not\na multiple of the natural unit of the base SetToken, the quantity is rounded up to the base SetToken natural unit.\nNOTE: Potential to receive more baseSet than expected if someone transfers some to this module.\nBe careful with balance checks.\n     * @param  _rebalancingSetAddress    Address of the rebalancing SetToken to issue\n@param  _rebalancingSetQuantity   The issuance quantity of rebalancing SetToken\n@param  _keepChangeInVault        Boolean signifying whether excess base SetToken is transfered to the user \n                                    or left in the vault",id:12630,implemented:true,kind:"function",modifiers:[{arguments:null,id:12588,modifierName:{argumentTypes:null,id:12587,name:"nonReentrant",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30289,src:"4361:12:59",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"4361:12:59"}],name:"issueRebalancingSet",nodeType:"FunctionDefinition",parameters:{id:12586,nodeType:"ParameterList",parameters:[{constant:false,id:12581,name:"_rebalancingSetAddress",nodeType:"VariableDeclaration",scope:12630,src:"4225:30:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12580,name:"address",nodeType:"ElementaryTypeName",src:"4225:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12583,name:"_rebalancingSetQuantity",nodeType:"VariableDeclaration",scope:12630,src:"4265:31:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12582,name:"uint256",nodeType:"ElementaryTypeName",src:"4265:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:12585,name:"_keepChangeInVault",nodeType:"VariableDeclaration",scope:12630,src:"4306:23:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:12584,name:"bool",nodeType:"ElementaryTypeName",src:"4306:4:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"4215:120:59"},returnParameters:{id:12589,nodeType:"ParameterList",parameters:[],src:"4378:0:59"},scope:13137,src:"4187:1208:59",stateMutability:"nonpayable",superFunction:null,visibility:"external"},{body:{id:12696,nodeType:"Block",src:"6489:1569:59",statements:[{assignments:[12642,12644],declarations:[{constant:false,id:12642,name:"baseSetAddress",nodeType:"VariableDeclaration",scope:12696,src:"6598:22:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12641,name:"address",nodeType:"ElementaryTypeName",src:"6598:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12644,name:"requiredBaseSetQuantity",nodeType:"VariableDeclaration",scope:12696,src:"6634:31:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12643,name:"uint256",nodeType:"ElementaryTypeName",src:"6634:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:12649,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:12646,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12632,src:"6707:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12647,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12634,src:"6731:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:12645,name:"getBaseSetAddressAndQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12887,src:"6678:28:59",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$_t_uint256_$returns$_t_address_$_t_uint256_$",typeString:"function (address,uint256) view returns (address,uint256)"}},id:12648,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6678:77:59",typeDescriptions:{typeIdentifier:"t_tuple$_t_address_$_t_uint256_$",typeString:"tuple(address,uint256)"}},nodeType:"VariableDeclarationStatement",src:"6584:171:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12651,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12642,src:"6852:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{
argumentTypes:null,id:12653,name:"weth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12525,src:"6876:4:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}],id:12652,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"6868:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:12654,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6868:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"}],id:12650,name:"validateWETHIsAComponentOfSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13861,src:"6822:29:59",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$_t_address_$returns$__$",typeString:"function (address,address) view"}},id:12655,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6822:60:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12656,nodeType:"ExpressionStatement",src:"6822:60:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12658,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12642,src:"7112:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12659,name:"requiredBaseSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12644,src:"7140:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:12657,name:"depositComponentsAndHandleEth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13042,src:"7069:29:59",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,uint256)"}},id:12660,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7069:104:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12661,nodeType:"ExpressionStatement",src:"7069:104:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12665,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12642,src:"7313:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12666,name:"requiredBaseSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12644,src:"7341:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:12662,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13752,src:"7274:12:59",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:12664,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"issueInVault",nodeType:"MemberAccess",referencedDeclaration:4520,src:"7274:25:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,uint256) external"}},id:12667,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7274:100:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12668,nodeType:"ExpressionStatement",src:"7274:100:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12670,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12632,src:"7638:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12671,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12642,src:"7674:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12672,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12634,src:"7702:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:12673,name:"_keepChangeInVault",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12636,src:"7739:18:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_bool",typeString:"bool"}],id:12669,name:"issueRebalancingSetAndReturnExcessBase",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12921,src:"7586:38:59",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_bool_$returns$__$",typeString:"function (address,address,uint256,bool)"}},id:12674,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7586:181:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12675,nodeType:"ExpressionStatement",src:"7586:181:59"},{assignments:[12677],declarations:[{constant:false,id:12677,name:"leftoverEth",nodeType:"VariableDeclaration",scope:12696,src:"7921:19:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12676,name:"uint256",nodeType:"ElementaryTypeName",src:"7921:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:12682,initialValue:{argumentTypes:null,expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12679,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30578,src:"7951:4:59",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}],id:12678,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"7943:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:12680,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7943:13:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},id:12681,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"balance",nodeType:"MemberAccess",referencedDeclaration:null,src:"7943:21:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"7921:43:59"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:12685,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:12683,name:"leftoverEth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12677,src:"7978:11:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:12684,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"7992:1:59",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"7978:15:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:12695,nodeType:"IfStatement",src:"7974:78:59",trueBody:{id:12694,nodeType:"Block",src:"7995:57:59",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12691,name:"leftoverEth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12677,src:"8029:11:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:12686,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"8009:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:12689,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"8009:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},id:12690,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"transfer",nodeType:"MemberAccess",referencedDeclaration:null,src:"8009:19:59",typeDescriptions:{typeIdentifier:"t_function_transfer_nonpayable$_t_uint256_$returns$__$",typeString:"function (uint256)"}},id:12692,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8009:32:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12693,nodeType:"ExpressionStatement",src:"8009:32:59"}]}}]},documentation:"Issue a rebalancing SetToken using the base components and ether of the base SetToken. The ether is wrapped \ninto wrapped Ether and utilized in issuance.\nThe base SetToken is then issued and reissued into the rebalancing SetToken. Read more about base SetToken quantity\nin the issueRebalancingSet function.\nNOTE: Potential to receive more baseSet and ether dust than expected if someone transfers some to this module.\nBe careful with balance checks.\n     * @param  _rebalancingSetAddress    Address of the rebalancing SetToken to issue\n@param  _rebalancingSetQuantity   The issuance quantity of rebalancing SetToken\n@param  _keepChangeInVault        Boolean signifying whether excess base SetToken is transfered to the user \n                                    or left in the vault",id:12697,implemented:true,kind:"function",modifiers:[{arguments:null,id:12639,modifierName:{argumentTypes:null,id:12638,name:"nonReentrant",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30289,src:"6472:12:59",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"6472:12:59"}],name:"issueRebalancingSetWrappingEther",nodeType:"FunctionDefinition",parameters:{id:12637,nodeType:"ParameterList",parameters:[{constant:false,id:12632,name:"_rebalancingSetAddress",nodeType:"VariableDeclaration",scope:12697,src:"6320:30:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12631,name:"address",nodeType:"ElementaryTypeName",src:"6320:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12634,name:"_rebalancingSetQuantity",nodeType:"VariableDeclaration",scope:12697,src:"6360:31:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12633,name:"uint256",nodeType:"ElementaryTypeName",src:"6360:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:12636,name:"_keepChangeInVault",nodeType:"VariableDeclaration",scope:12697,src:"6401:23:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:12635,name:"bool",nodeType:"ElementaryTypeName",src:"6401:4:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"6310:120:59"},returnParameters:{id:12640,nodeType:"ParameterList",parameters:[],src:"6489:0:59"},scope:13137,src:"6269:1789:59",stateMutability:"payable",superFunction:null,visibility:"external"},{body:{id:12769,nodeType:"Block",src:"8865:1464:59",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12709,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12699,src:"9011:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12710,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12701,src:"9035:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:12708,name:"validateRebalancingSetIssuance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13891,src:"8980:30:59",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,uint256) view"}},id:12711,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8980:79:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12712,nodeType:"ExpressionStatement",src:"8980:79:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:12716,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"9175:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:12717,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"9175:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:12719,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30578,src:"9207:4:59",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}],id:12718,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"9199:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:12720,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9199:13:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:12721,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12699,src:"9226:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12722,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12701,src:"9262:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:12713,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13752,src:"9136:12:59",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:12715,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"redeemModule",nodeType:"MemberAccess",referencedDeclaration:4686,src:"9136:25:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,address,uint256) external"}},id:12723,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9136:159:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12724,nodeType:"ExpressionStatement",src:"9136:159:59"},{assignments:[12726],declarations:[{constant:false,id:12726,name:"baseSetAddress",nodeType:"VariableDeclaration",scope:12769,src:"9361:22:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12725,name:"address",nodeType:"ElementaryTypeName",src:"9361:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],id:12732,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12728,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12699,src:"9407:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:12727,name:"IRebalancingSetToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5224,src:"9386:20:59",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_IRebalancingSetToken_$5224_$",typeString:"type(contract IRebalancingSetToken)"}},id:12729,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9386:44:59",typeDescriptions:{typeIdentifier:"t_contract$_IRebalancingSetToken_$5224",typeString:"contract IRebalancingSetToken"}},id:12730,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"currentSet",nodeType:"MemberAccess",referencedDeclaration:5152,src:"9386:55:59",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_address_$",typeString:"function () view external returns (address)"}},id:12731,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9386:57:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"VariableDeclarationStatement",src:"9361:82:59"},{assignments:[12734],declarations:[{constant:false,id:12734,name:"baseSetRedeemQuantity",nodeType:"VariableDeclaration",scope:12769,src:"9453:29:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12733,name:"uint256",nodeType:"ElementaryTypeName",src:"9453:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:12738,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:12736,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12726,src:"9510:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:12735,name:"getBaseSetRedeemQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14001,src:"9485:24:59",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:12737,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9485:40:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"9453:72:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12742,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12726,src:"9622:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12743,name:"baseSetRedeemQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12734,src:"9650:21:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:12739,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13752,src:"9587:12:59",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:12741,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"withdraw",nodeType:"MemberAccess",referencedDeclaration:4586,src:"9587:21:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,uint256) external"}},id:12744,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9587:94:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12745,nodeType:"ExpressionStatement",src:"9587:94:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12749,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12726,src:"9893:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,expression:{argumentTypes:null,id:12750,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"9921:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:12751,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"9921:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:12752,name:"baseSetRedeemQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12734,src:"9945:21:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,hexValue:"30",id:12753,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"9980:1:59",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"}],expression:{argumentTypes:null,id:12746,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13752,src:"9847:12:59",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:12748,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"redeemAndWithdrawTo",nodeType:"MemberAccess",referencedDeclaration:4554,src:"9847:32:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (address,address,uint256,uint256) external"}},id:12754,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9847:144:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12755,nodeType:"ExpressionStatement",src:"9847:144:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12757,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12726,src:"10090:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12758,name:"transferProxy",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12523,src:"10106:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12759,name:"_keepChangeInVault",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12703,src:"10121:18:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_bool",typeString:"bool"}],id:12756,name:"returnExcessBaseSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14022,src:"10070:19:59",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_address_$_t_bool_$returns$__$",typeString:"function (address,address,bool)"}},id:12760,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10070:70:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12761,nodeType:"ExpressionStatement",src:"10070:70:59"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:12763,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12699,src:"10229:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,expression:{argumentTypes:null,id:12764,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"10265:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:12765,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"10265:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:12766,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12701,src:"10289:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:12762,name:"LogRebalancingSetRedeem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12541,src:"10192:23:59",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,uint256)"}},id:12767,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10192:130:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12768,nodeType:"EmitStatement",src:"10187:135:59"}]},documentation:"Redeems a rebalancing SetToken into the base components of the base SetToken.\nNOTE: Potential to receive more baseSet than expected if someone transfers some to this module.\nBe careful with balance checks.\n     * @param  _rebalancingSetAddress    Address of the rebalancing SetToken to redeem\n@param  _rebalancingSetQuantity   The Quantity of the rebalancing SetToken to redeem\n@param  _keepChangeInVault        Boolean signifying whether excess base SetToken is transfered to the user \n                                    or left in the vault",id:12770,implemented:true,kind:"function",modifiers:[{arguments:null,id:12706,modifierName:{argumentTypes:null,id:12705,name:"nonReentrant",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30289,src:"8848:12:59",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"8848:12:59"}],name:"redeemRebalancingSet",nodeType:"FunctionDefinition",parameters:{id:12704,nodeType:"ParameterList",parameters:[{constant:false,id:12699,name:"_rebalancingSetAddress",nodeType:"VariableDeclaration",scope:12770,src:"8712:30:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12698,name:"address",nodeType:"ElementaryTypeName",src:"8712:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12701,name:"_rebalancingSetQuantity",nodeType:"VariableDeclaration",scope:12770,src:"8752:31:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12700,name:"uint256",nodeType:"ElementaryTypeName",src:"8752:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:12703,name:"_keepChangeInVault",nodeType:"VariableDeclaration",scope:12770,src:"8793:23:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:12702,name:"bool",nodeType:"ElementaryTypeName",src:"8793:4:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"8702:120:59"},returnParameters:{id:12707,nodeType:"ParameterList",parameters:[],src:"8865:0:59"},scope:13137,src:"8673:1656:59",stateMutability:"nonpayable",superFunction:null,visibility:"external"},{body:{id:12850,nodeType:"Block",src:"11266:1552:59",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12782,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12772,src:"11412:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12783,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12774,src:"11436:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:12781,name:"validateRebalancingSetIssuance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13891,src:"11381:30:59",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,uint256) view"}},id:12784,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11381:79:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12785,nodeType:"ExpressionStatement",src:"11381:79:59"},{assignments:[12787],declarations:[{constant:false,id:12787,name:"baseSetAddress",nodeType:"VariableDeclaration",scope:12850,src:"11471:22:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12786,name:"address",nodeType:"ElementaryTypeName",src:"11471:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],id:12793,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12789,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12772,src:"11517:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:12788,name:"IRebalancingSetToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5224,src:"11496:20:59",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_IRebalancingSetToken_$5224_$",typeString:"type(contract IRebalancingSetToken)"}},id:12790,
isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11496:44:59",typeDescriptions:{typeIdentifier:"t_contract$_IRebalancingSetToken_$5224",typeString:"contract IRebalancingSetToken"}},id:12791,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"currentSet",nodeType:"MemberAccess",referencedDeclaration:5152,src:"11496:55:59",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_address_$",typeString:"function () view external returns (address)"}},id:12792,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11496:57:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"VariableDeclarationStatement",src:"11471:82:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12795,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12787,src:"11594:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:12797,name:"weth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12525,src:"11618:4:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}],id:12796,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"11610:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:12798,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11610:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"}],id:12794,name:"validateWETHIsAComponentOfSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13861,src:"11564:29:59",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$_t_address_$returns$__$",typeString:"function (address,address) view"}},id:12799,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11564:60:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12800,nodeType:"ExpressionStatement",src:"11564:60:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:12804,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"11754:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:12805,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"11754:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:12807,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30578,src:"11786:4:59",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}],id:12806,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"11778:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:12808,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11778:13:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:12809,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12772,src:"11805:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12810,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12774,src:"11841:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:12801,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13752,src:"11715:12:59",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:12803,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"redeemModule",nodeType:"MemberAccess",referencedDeclaration:4686,src:"11715:25:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,address,uint256) external"}},id:12811,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11715:159:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12812,nodeType:"ExpressionStatement",src:"11715:159:59"},{assignments:[12814],declarations:[{constant:false,id:12814,name:"baseSetRedeemQuantity",nodeType:"VariableDeclaration",scope:12850,src:"11940:29:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12813,name:"uint256",nodeType:"ElementaryTypeName",src:"11940:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:12818,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:12816,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12787,src:"11997:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:12815,name:"getBaseSetRedeemQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14001,src:"11972:24:59",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:12817,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11972:40:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"11940:72:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12822,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12787,src:"12109:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12823,name:"baseSetRedeemQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12814,src:"12137:21:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:12819,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13752,src:"12074:12:59",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:12821,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"withdraw",nodeType:"MemberAccess",referencedDeclaration:4586,src:"12074:21:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,uint256) external"}},id:12824,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12074:94:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12825,nodeType:"ExpressionStatement",src:"12074:94:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12829,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12787,src:"12282:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12830,name:"baseSetRedeemQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12814,src:"12310:21:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:12826,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13752,src:"12249:12:59",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:12828,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"redeem",nodeType:"MemberAccess",referencedDeclaration:4527,src:"12249:19:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,uint256) external"}},id:12831,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12249:92:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12832,nodeType:"ExpressionStatement",src:"12249:92:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12834,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12787,src:"12465:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:12833,name:"withdrawComponentsToSenderWithEther",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13136,src:"12429:35:59",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$returns$__$",typeString:"function (address)"}},id:12835,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12429:51:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12836,nodeType:"ExpressionStatement",src:"12429:51:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12838,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12787,src:"12579:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12839,name:"transferProxy",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12523,src:"12595:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12840,name:"_keepChangeInVault",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12776,src:"12610:18:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_bool",typeString:"bool"}],id:12837,name:"returnExcessBaseSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14022,src:"12559:19:59",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_address_$_t_bool_$returns$__$",typeString:"function (address,address,bool)"}},id:12841,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12559:70:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12842,nodeType:"ExpressionStatement",src:"12559:70:59"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:12844,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12772,src:"12718:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,expression:{argumentTypes:null,id:12845,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"12754:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:12846,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"12754:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:12847,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12774,src:"12778:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:12843,name:"LogRebalancingSetRedeem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12541,src:"12681:23:59",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,uint256)"}},id:12848,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12681:130:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12849,nodeType:"EmitStatement",src:"12676:135:59"}]},documentation:"Redeems a rebalancing SetToken into the base components of the base SetToken. Unwraps\nwrapped ether and sends eth to the user. If no wrapped ether in Set then will REVERT.\nNOTE: Potential to receive more baseSet and ether dust than expected if someone transfers some to this module.\nBe careful with balance checks.\n     * @param  _rebalancingSetAddress    Address of the rebalancing SetToken to redeem\n@param  _rebalancingSetQuantity   The Quantity of the rebalancing SetToken to redeem\n@param  _keepChangeInVault        Boolean signifying whether excess base SetToken is transferred to the user \n                                  or left in the vault",id:12851,implemented:true,kind:"function",modifiers:[{arguments:null,id:12779,modifierName:{argumentTypes:null,id:12778,name:"nonReentrant",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30289,src:"11249:12:59",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"11249:12:59"}],name:"redeemRebalancingSetUnwrappingEther",nodeType:"FunctionDefinition",parameters:{id:12777,nodeType:"ParameterList",parameters:[{constant:false,id:12772,name:"_rebalancingSetAddress",nodeType:"VariableDeclaration",scope:12851,src:"11113:30:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12771,name:"address",nodeType:"ElementaryTypeName",src:"11113:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12774,name:"_rebalancingSetQuantity",nodeType:"VariableDeclaration",scope:12851,src:"11153:31:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12773,name:"uint256",nodeType:"ElementaryTypeName",src:"11153:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:12776,name:"_keepChangeInVault",nodeType:"VariableDeclaration",scope:12851,src:"11194:23:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:12775,name:"bool",nodeType:"ElementaryTypeName",src:"11194:4:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"11103:120:59"},returnParameters:{id:12780,nodeType:"ParameterList",parameters:[],src:"11266:0:59"},scope:13137,src:"11059:1759:59",stateMutability:"nonpayable",superFunction:null,visibility:"external"},{body:{id:12886,nodeType:"Block",src:"13557:576:59",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12863,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12853,src:"13703:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12864,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12855,src:"13727:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:12862,name:"validateRebalancingSetIssuance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13891,src:"13672:30:59",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,uint256) view"}},id:12865,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"13672:79:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12866,nodeType:"ExpressionStatement",src:"13672:79:59"},{assignments:[12868],declarations:[{constant:false,id:12868,name:"baseSetAddress",nodeType:"VariableDeclaration",scope:12886,src:"13762:22:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12867,name:"address",nodeType:"ElementaryTypeName",src:"13762:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],id:12874,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12870,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12853,src:"13808:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:12869,name:"IRebalancingSetToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5224,src:"13787:20:59",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_IRebalancingSetToken_$5224_$",typeString:"type(contract IRebalancingSetToken)"}},id:12871,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"13787:44:59",typeDescriptions:{typeIdentifier:"t_contract$_IRebalancingSetToken_$5224",typeString:"contract IRebalancingSetToken"}},id:12872,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"currentSet",nodeType:"MemberAccess",referencedDeclaration:5152,src:"13787:55:59",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_address_$",typeString:"function () view external returns (address)"}},id:12873,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"13787:57:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"VariableDeclarationStatement",src:"13762:82:59"},{assignments:[12876],declarations:[{constant:false,id:12876,name:"requiredBaseSetQuantity",nodeType:"VariableDeclaration",scope:12886,src:"13908:31:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12875,name:"uint256",nodeType:"ElementaryTypeName",src:"13908:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:12881,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:12878,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12853,src:"13990:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12879,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12855,src:"14026:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:12877,name:"getBaseSetIssuanceRequiredQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13967,src:"13942:34:59",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$_t_uint256_$returns$_t_uint256_$",typeString:"function (address,uint256) view returns (uint256)"}},id:12880,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"13942:117:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"13908:151:59"},{expression:{argumentTypes:null,components:[{argumentTypes:null,id:12882,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12868,src:"14078:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12883,name:"requiredBaseSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12876,src:"14094:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],id:12884,isConstant:false,isInlineArray:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"TupleExpression",src:"14077:41:59",typeDescriptions:{typeIdentifier:"t_tuple$_t_address_$_t_uint256_$",typeString:"tuple(address,uint256)"}},functionReturnParameters:12861,id:12885,nodeType:"Return",src:"14070:48:59"}]},documentation:"Gets base set address from rebalancing set token and calculates amount of base set needed\nfor issuance.\n     * @param  _rebalancingSetAddress    Address of the RebalancingSetToken to issue\n@param  _rebalancingSetQuantity   The Quantity of the rebalancing SetToken to issue\n@return baseSetAddress            The address of RebalancingSet's base SetToken\n@return requiredBaseSetQuantity   The quantity of base SetToken to issue",id:12887,implemented:true,kind:"function",modifiers:[],name:"getBaseSetAddressAndQuantity",nodeType:"FunctionDefinition",parameters:{id:12856,nodeType:"ParameterList",parameters:[{constant:false,id:12853,name:"_rebalancingSetAddress",nodeType:"VariableDeclaration",scope:12887,src:"13410:30:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12852,name:"address",nodeType:"ElementaryTypeName",src:"13410:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12855,name:"_rebalancingSetQuantity",nodeType:"VariableDeclaration",scope:12887,src:"13450:31:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12854,name:"uint256",nodeType:"ElementaryTypeName",src:"13450:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"13400:87:59"},returnParameters:{id:12861,nodeType:"ParameterList",parameters:[{constant:false,id:12858,name:"",nodeType:"VariableDeclaration",scope:12887,src:"13535:7:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12857,name:"address",nodeType:"ElementaryTypeName",src:"13535:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12860,name:"",nodeType:"VariableDeclaration",scope:12887,src:"13544:7:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12859,name:"uint256",nodeType:"ElementaryTypeName",src:"13544:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"13534:18:59"},scope:13137,src:"13363:770:59",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:12920,nodeType:"Block",src:"14911:528:59",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:12901,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"15007:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:12902,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"15007:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:12903,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12889,src:"15031:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12904,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12893,src:"15067:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:12898,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13752,src:"14973:12:59",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:12900,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"issueTo",nodeType:"MemberAccess",referencedDeclaration:4513,src:"14973:20:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,uint256) external"}},id:12905,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14973:127:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12906,nodeType:"ExpressionStatement",src:"14973:127:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12908,name:"_baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12891,src:"15194:15:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12909,name:"transferProxy",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12523,src:"15211:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12910,name:"_keepChangeInVault",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12895,src:"15226:18:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_bool",typeString:"bool"}],id:12907,name:"returnExcessBaseSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14022,src:"15174:19:59",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_address_$_t_bool_$returns$__$",typeString:"function (address,address,bool)"}},id:12911,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15174:71:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12912,nodeType:"ExpressionStatement",src:"15174:71:59"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:12914,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12889,src:"15332:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,expression:{argumentTypes:null,id:12915,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"15368:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:12916,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"15368:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:12917,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12893,src:"15392:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:12913,name:"LogRebalancingSetIssue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12533,src:"15296:22:59",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,uint256)"}},id:12918,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15296:129:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12919,nodeType:"EmitStatement",src:"15291:134:59"}]},documentation:"Issues the rebalancing set token to sender and returns any excess baseSet.\n     * @param  _rebalancingSetAddress    Address of the rebalancing SetToken to issue\n@param  _baseSetAddress           Address of the rebalancing SetToken's base set\n@param  _rebalancingSetQuantity   The Quantity of the rebalancing SetToken to redeem\n@param  _keepChangeInVault        Boolean signifying whether excess base SetToken is transferred to the user \n                                  or left in the vault",id:12921,implemented:true,kind:"function",modifiers:[],name:"issueRebalancingSetAndReturnExcessBase",nodeType:"FunctionDefinition",parameters:{id:12896,nodeType:"ParameterList",parameters:[{constant:false,id:12889,name:"_rebalancingSetAddress",nodeType:"VariableDeclaration",scope:12921,src:"14746:30:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12888,name:"address",nodeType:"ElementaryTypeName",src:"14746:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12891,name:"_baseSetAddress",nodeType:"VariableDeclaration",scope:12921,src:"14786:23:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12890,name:"address",nodeType:"ElementaryTypeName",src:"14786:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12893,name:"_rebalancingSetQuantity",nodeType:"VariableDeclaration",scope:12921,src:"14819:31:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12892,name:"uint256",nodeType:"ElementaryTypeName",src:"14819:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:12895,name:"_keepChangeInVault",
nodeType:"VariableDeclaration",scope:12921,src:"14860:23:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:12894,name:"bool",nodeType:"ElementaryTypeName",src:"14860:4:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"14736:153:59"},returnParameters:{id:12897,nodeType:"ParameterList",parameters:[],src:"14911:0:59"},scope:13137,src:"14689:750:59",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:13041,nodeType:"Block",src:"15974:1823:59",statements:[{assignments:[12929],declarations:[{constant:false,id:12929,name:"baseSet",nodeType:"VariableDeclaration",scope:13041,src:"15984:17:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:12928,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"15984:9:59",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"}],id:12933,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:12931,name:"_baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12923,src:"16014:15:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:12930,name:"ISetToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5659,src:"16004:9:59",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ISetToken_$5659_$",typeString:"type(contract ISetToken)"}},id:12932,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16004:26:59",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},nodeType:"VariableDeclarationStatement",src:"15984:46:59"},{assignments:[12937],declarations:[{constant:false,id:12937,name:"baseSetComponents",nodeType:"VariableDeclaration",scope:13041,src:"16041:34:59",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:12935,name:"address",nodeType:"ElementaryTypeName",src:"16041:7:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:12936,length:null,nodeType:"ArrayTypeName",src:"16041:9:59",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"}],id:12941,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:12938,name:"baseSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12929,src:"16078:7:59",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:12939,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getComponents",nodeType:"MemberAccess",referencedDeclaration:5624,src:"16078:21:59",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_array$_t_address_$dyn_memory_ptr_$",typeString:"function () view external returns (address[] memory)"}},id:12940,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16078:23:59",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},nodeType:"VariableDeclarationStatement",src:"16041:60:59"},{assignments:[12945],declarations:[{constant:false,id:12945,name:"baseSetUnits",nodeType:"VariableDeclaration",scope:13041,src:"16111:29:59",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:12943,name:"uint256",nodeType:"ElementaryTypeName",src:"16111:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:12944,length:null,nodeType:"ArrayTypeName",src:"16111:9:59",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],id:12949,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:12946,name:"baseSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12929,src:"16143:7:59",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:12947,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getUnits",nodeType:"MemberAccess",referencedDeclaration:5630,src:"16143:16:59",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_array$_t_uint256_$dyn_memory_ptr_$",typeString:"function () view external returns (uint256[] memory)"}},id:12948,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16143:18:59",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},nodeType:"VariableDeclarationStatement",src:"16111:50:59"},{assignments:[12951],declarations:[{constant:false,id:12951,name:"baseSetNaturalUnit",nodeType:"VariableDeclaration",scope:13041,src:"16171:26:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12950,name:"uint256",nodeType:"ElementaryTypeName",src:"16171:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:12955,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:12952,name:"baseSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12929,src:"16200:7:59",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:12953,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"naturalUnit",nodeType:"MemberAccess",referencedDeclaration:5618,src:"16200:19:59",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_uint256_$",typeString:"function () view external returns (uint256)"}},id:12954,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16200:21:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"16171:50:59"},{body:{id:13039,nodeType:"Block",src:"16363:1428:59",statements:[{assignments:[12968],declarations:[{constant:false,id:12968,name:"currentComponent",nodeType:"VariableDeclaration",scope:13039,src:"16377:24:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12967,name:"address",nodeType:"ElementaryTypeName",src:"16377:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],id:12972,initialValue:{argumentTypes:null,baseExpression:{argumentTypes:null,id:12969,name:"baseSetComponents",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12937,src:"16404:17:59",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:12971,indexExpression:{argumentTypes:null,id:12970,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12957,src:"16422:1:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"16404:20:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"VariableDeclarationStatement",src:"16377:47:59"},{assignments:[12974],declarations:[{constant:false,id:12974,name:"currentUnit",nodeType:"VariableDeclaration",scope:13039,src:"16438:19:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12973,name:"uint256",nodeType:"ElementaryTypeName",src:"16438:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:12978,initialValue:{argumentTypes:null,baseExpression:{argumentTypes:null,id:12975,name:"baseSetUnits",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12945,src:"16460:12:59",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:12977,indexExpression:{argumentTypes:null,id:12976,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12957,src:"16473:1:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"16460:15:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"16438:37:59"},{assignments:[12980],declarations:[{constant:false,id:12980,name:"currentComponentQuantity",nodeType:"VariableDeclaration",scope:13039,src:"16543:32:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12979,name:"uint256",nodeType:"ElementaryTypeName",src:"16543:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:12988,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:12986,name:"currentUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12974,src:"16623:11:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12983,name:"baseSetNaturalUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12951,src:"16599:18:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:12981,name:"_baseSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12925,src:"16578:16:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:12982,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"16578:20:59",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:12984,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16578:40:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:12985,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"16578:44:59",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:12987,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16578:57:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"16543:92:59"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:12993,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:12989,name:"currentComponent",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12968,src:"16719:16:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12991,name:"weth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12525,src:"16747:4:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}],id:12990,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"16739:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:12992,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16739:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"16719:33:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:13037,nodeType:"Block",src:"17458:323:59",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:13028,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"17603:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:13029,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"17603:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:13031,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30578,src:"17643:4:59",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}],id:13030,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"17635:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:13032,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"17635:13:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:13033,name:"currentComponent",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12968,src:"17670:16:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:13034,name:"currentComponentQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12980,src:"17708:24:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:13025,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13752,src:"17555:12:59",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:13027,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"depositModule",nodeType:"MemberAccess",referencedDeclaration:4627,src:"17555:26:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,address,uint256) external"}},id:13035,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"17555:195:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:13036,nodeType:"ExpressionStatement",src:"17555:195:59"}]},id:13038,nodeType:"IfStatement",src:"16715:1066:59",trueBody:{id:13024,nodeType:"Block",src:"16754:698:59",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:12998,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:12995,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"16881:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:12996,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"value",nodeType:"MemberAccess",referencedDeclaration:null,src:"16881:9:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">=",rightExpression:{argumentTypes:null,id:12997,name:"currentComponentQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12980,src:"16894:24:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"16881:37:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"526562616c616e63696e6753657449737375616e63654d6f64756c652e6465706f736974436f6d706f6e656e7473416e6448616e646c654574683a204e6f7420656e6f75676820657468657220696e636c7564656420666f72206261736520536574546f6b656e",id:12999,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"16940:105:59",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_48acf26f04d003a416e3b520b10d24cc519c6a2b7f24369c59736822b6a63123",typeString:'literal_string "RebalancingSetIssuanceModule.depositComponentsAndHandleEth: Not enough ether included for base SetToken"'},value:"RebalancingSetIssuanceModule.depositComponentsAndHandleEth: Not enough ether included for base SetToken"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_48acf26f04d003a416e3b520b10d24cc519c6a2b7f24369c59736822b6a63123",typeString:'literal_string "RebalancingSetIssuanceModule.depositComponentsAndHandleEth: Not enough ether included for base SetToken"'}],id:12994,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"16852:7:59",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:13e3,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16852:211:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:13001,nodeType:"ExpressionStatement",src:"16852:211:59"},{expression:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],arguments:[{argumentTypes:null,id:13007,name:"currentComponentQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12980,src:"17153:24:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:13002,name:"weth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12525,src:"17134:4:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}},id:13005,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"deposit",nodeType:"MemberAccess",referencedDeclaration:23733,src:"17134:12:59",typeDescriptions:{typeIdentifier:"t_function_external_payable$__$returns$__$",typeString:"function () payable external"}},id:13006,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"value",nodeType:"MemberAccess",referencedDeclaration:null,src:"17134:18:59",typeDescriptions:{typeIdentifier:"t_function_setvalue_nonpayable$_t_uint256_$returns$_t_function_external_payable$__$returns$__$value_$",typeString:"function (uint256) returns (function () payable external)"}},id:13008,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"17134:44:59",typeDescriptions:{typeIdentifier:"t_function_external_payable$__$returns$__$value",typeString:"function () payable external"}},id:13009,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"17134:46:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:13010,nodeType:"ExpressionStatement",src:"17134:46:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:13015,name:"weth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12525,src:"17298:4:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}],id:13014,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"17290:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:13016,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"17290:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:13018,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30578,src:"17333:4:59",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}],id:13017,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"17325:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:13019,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"17325:13:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:13020,name:"transferProxy",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12523,src:"17360:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:13021,name:"currentComponentQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12980,src:"17395:24:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:13011,name:"ERC20Wrapper",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:23679,src:"17240:12:59",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC20Wrapper_$23679_$",typeString:"type(library ERC20Wrapper)"}},id:13013,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"ensureAllowance",nodeType:"MemberAccess",referencedDeclaration:23663,src:"17240:28:59",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,address,uint256)"}},id:13022,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"17240:197:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:13023,nodeType:"ExpressionStatement",src:"17240:197:59"}]}}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:12963,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:12960,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12957,src:"16328:1:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:12961,name:"baseSetComponents",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12937,src:"16332:17:59",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:12962,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"16332:24:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"16328:28:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:13040,initializationExpression:{assignments:[12957],declarations:[{constant:false,id:12957,name:"i",nodeType:"VariableDeclaration",scope:13040,src:"16313:9:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12956,name:"uint256",nodeType:"ElementaryTypeName",src:"16313:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:12959,initialValue:{argumentTypes:null,hexValue:"30",id:12958,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"16325:1:59",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"16313:13:59"},loopExpression:{expression:{argumentTypes:null,id:12965,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"UnaryOperation",operator:"++",prefix:false,src:"16358:3:59",subExpression:{argumentTypes:null,id:12964,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12957,src:"16358:1:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:12966,nodeType:"ExpressionStatement",src:"16358:3:59"},nodeType:"ForStatement",src:"16308:1483:59"}]},documentation:"During issuance, deposit the required quantity of base SetToken, wrap Ether, and deposit components\n(excluding Ether, which is deposited during issuance) to the Vault in the name of the module.\n     * @param  _baseSetAddress           Address of the base SetToken token\n@param  _baseSetQuantity          The Quantity of the base SetToken token to issue",id:13042,implemented:true,kind:"function",modifiers:[],name:"depositComponentsAndHandleEth",nodeType:"FunctionDefinition",parameters:{id:12926,nodeType:"ParameterList",parameters:[{constant:false,id:12923,name:"_baseSetAddress",nodeType:"VariableDeclaration",scope:13042,src:"15890:23:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12922,name:"address",nodeType:"ElementaryTypeName",src:"15890:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12925,name:"_baseSetQuantity",nodeType:"VariableDeclaration",scope:13042,src:"15923:24:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12924,name:"uint256",nodeType:"ElementaryTypeName",src:"15923:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"15880:73:59"},returnParameters:{id:12927,nodeType:"ParameterList",parameters:[],src:"15974:0:59"},scope:13137,src:"15842:1955:59",stateMutability:"nonpayable",superFunction:null,visibility:"private"},{body:{id:13135,nodeType:"Block",src:"18138:1391:59",statements:[{assignments:[13050],declarations:[{constant:false,id:13050,name:"baseSetComponents",nodeType:"VariableDeclaration",scope:13135,src:"18148:34:59",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:13048,name:"address",nodeType:"ElementaryTypeName",src:"18148:7:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:13049,length:null,nodeType:"ArrayTypeName",src:"18148:9:59",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"}],id:13056,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:13052,name:"_baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13044,src:"18195:15:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:13051,name:"ISetToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5659,src:"18185:9:59",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ISetToken_$5659_$",typeString:"type(contract ISetToken)"}},id:13053,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"18185:26:59",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:13054,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getComponents",nodeType:"MemberAccess",referencedDeclaration:5624,src:"18185:40:59",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_array$_t_address_$dyn_memory_ptr_$",typeString:"function () view external returns (address[] memory)"}},id:13055,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"18185:42:59",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},nodeType:"VariableDeclarationStatement",src:"18148:79:59"},{body:{id:13133,nodeType:"Block",src:"18347:1176:59",statements:[{assignments:[13069],declarations:[{constant:false,id:13069,name:"currentComponent",nodeType:"VariableDeclaration",scope:13133,src:"18361:24:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:13068,name:"address",nodeType:"ElementaryTypeName",src:"18361:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],id:13073,initialValue:{argumentTypes:null,baseExpression:{argumentTypes:null,id:13070,name:"baseSetComponents",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13050,src:"18388:17:59",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:13072,indexExpression:{argumentTypes:null,id:13071,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13058,src:"18406:1:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"18388:20:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"VariableDeclarationStatement",src:"18361:47:59"},{assignments:[13075],declarations:[{constant:false,id:13075,name:"currentComponentQuantity",nodeType:"VariableDeclaration",scope:13133,src:"18422:32:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:13074,name:"uint256",
nodeType:"ElementaryTypeName",src:"18422:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:13083,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:13078,name:"currentComponent",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13069,src:"18504:16:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:13080,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30578,src:"18546:4:59",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}],id:13079,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"18538:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:13081,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"18538:13:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address_payable",typeString:"address payable"}],expression:{argumentTypes:null,id:13076,name:"vaultInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13754,src:"18457:13:59",typeDescriptions:{typeIdentifier:"t_contract$_IVault_$5782",typeString:"contract IVault"}},id:13077,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getOwnerBalance",nodeType:"MemberAccess",referencedDeclaration:5781,src:"18457:29:59",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_address_$_t_address_$returns$_t_uint256_$",typeString:"function (address,address) view external returns (uint256)"}},id:13082,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"18457:108:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"18422:143:59"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:13088,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:13084,name:"currentComponent",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13069,src:"18660:16:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:13086,name:"weth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12525,src:"18688:4:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}],id:13085,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"18680:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:13087,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"18680:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"18660:33:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:13131,nodeType:"Block",src:"19210:303:59",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:13123,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30578,src:"19359:4:59",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}],id:13122,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"19351:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:13124,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"19351:13:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,expression:{argumentTypes:null,id:13125,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"19386:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:13126,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"19386:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:13127,name:"currentComponent",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13069,src:"19418:16:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:13128,name:"currentComponentQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13075,src:"19456:24:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:13119,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13752,src:"19302:12:59",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:13121,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"withdrawModule",nodeType:"MemberAccess",referencedDeclaration:4638,src:"19302:27:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,address,uint256) external"}},id:13129,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"19302:196:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:13130,nodeType:"ExpressionStatement",src:"19302:196:59"}]},id:13132,nodeType:"IfStatement",src:"18656:857:59",trueBody:{id:13118,nodeType:"Block",src:"18695:509:59",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:13093,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30578,src:"18847:4:59",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}],id:13092,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"18839:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:13094,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"18839:13:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:13096,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30578,src:"18882:4:59",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}],id:13095,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"18874:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:13097,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"18874:13:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:13099,name:"weth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12525,src:"18917:4:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}],id:13098,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"18909:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:13100,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"18909:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:13101,name:"currentComponentQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13075,src:"18944:24:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:13089,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13752,src:"18790:12:59",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:13091,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"withdrawModule",nodeType:"MemberAccess",referencedDeclaration:4638,src:"18790:27:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,address,uint256) external"}},id:13102,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"18790:196:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:13103,nodeType:"ExpressionStatement",src:"18790:196:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:13107,name:"currentComponentQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13075,src:"19059:24:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:13104,name:"weth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12525,src:"19045:4:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}},id:13106,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"withdraw",nodeType:"MemberAccess",referencedDeclaration:23738,src:"19045:13:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_uint256_$returns$__$",typeString:"function (uint256) external"}},id:13108,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"19045:39:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:13109,nodeType:"ExpressionStatement",src:"19045:39:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:13115,name:"currentComponentQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13075,src:"19164:24:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:13110,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"19144:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:13113,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"19144:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},id:13114,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"transfer",nodeType:"MemberAccess",referencedDeclaration:null,src:"19144:19:59",typeDescriptions:{typeIdentifier:"t_function_transfer_nonpayable$_t_uint256_$returns$__$",typeString:"function (uint256)"}},id:13116,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"19144:45:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:13117,nodeType:"ExpressionStatement",src:"19144:45:59"}]}}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:13064,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:13061,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13058,src:"18312:1:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:13062,name:"baseSetComponents",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13050,src:"18316:17:59",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:13063,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"18316:24:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"18312:28:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:13134,initializationExpression:{assignments:[13058],declarations:[{constant:false,id:13058,name:"i",nodeType:"VariableDeclaration",scope:13134,src:"18297:9:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:13057,name:"uint256",nodeType:"ElementaryTypeName",src:"18297:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:13060,initialValue:{argumentTypes:null,hexValue:"30",id:13059,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"18309:1:59",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"18297:13:59"},loopExpression:{expression:{argumentTypes:null,id:13066,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"UnaryOperation",operator:"++",prefix:false,src:"18342:3:59",subExpression:{argumentTypes:null,id:13065,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13058,src:"18342:1:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:13067,nodeType:"ExpressionStatement",src:"18342:3:59"},nodeType:"ForStatement",src:"18292:1231:59"}]},documentation:"During redemption, withdraw the required quantity of base SetToken, unwrapping Ether, and withdraw\ncomponents to the sender\n     * @param  _baseSetAddress           Address of the base SetToken",id:13136,implemented:true,kind:"function",modifiers:[],name:"withdrawComponentsToSenderWithEther",nodeType:"FunctionDefinition",parameters:{id:13045,nodeType:"ParameterList",parameters:[{constant:false,id:13044,name:"_baseSetAddress",nodeType:"VariableDeclaration",scope:13136,src:"18088:23:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:13043,name:"address",nodeType:"ElementaryTypeName",src:"18088:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"18078:39:59"},returnParameters:{id:13046,nodeType:"ParameterList",parameters:[],src:"18138:0:59"},scope:13137,src:"18034:1495:59",stateMutability:"nonpayable",superFunction:null,visibility:"private"}],scope:13138,src:"1365:18166:59"}],src:"597:18934:59"},legacyAST:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/modules/RebalancingSetIssuanceModule.sol",exportedSymbols:{RebalancingSetIssuanceModule:[13137]},id:13138,nodeType:"SourceUnit",nodes:[{id:12496,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:59"},{absolutePath:"openzeppelin-solidity/contracts/utils/ReentrancyGuard.sol",file:"openzeppelin-solidity/contracts/utils/ReentrancyGuard.sol",id:12498,nodeType:"ImportDirective",scope:13138,sourceUnit:30291,src:"621:92:59",symbolAliases:[{foreign:12497,local:null}],unitAlias:""},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:12500,nodeType:"ImportDirective",scope:13138,sourceUnit:29641,src:"714:77:59",symbolAliases:[{foreign:12499,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IRebalancingSetToken.sol",file:"../interfaces/IRebalancingSetToken.sol",id:12502,nodeType:"ImportDirective",scope:13138,sourceUnit:5225,src:"793:78:59",symbolAliases:[{foreign:12501,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ISetToken.sol",file:"../interfaces/ISetToken.sol",id:12504,nodeType:"ImportDirective",scope:13138,sourceUnit:5660,src:"872:56:59",symbolAliases:[{foreign:12503,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/IWETH.sol",file:"../../lib/IWETH.sol",id:12506,nodeType:"ImportDirective",scope:13138,sourceUnit:23740,src:"929:44:59",symbolAliases:[{foreign:12505,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/ERC20Wrapper.sol",file:"../../lib/ERC20Wrapper.sol",id:12508,nodeType:"ImportDirective",scope:13138,sourceUnit:23680,src:"974:58:59",symbolAliases:[{foreign:12507,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/modules/lib/ModuleCoreState.sol",file:"./lib/ModuleCoreState.sol",id:12510,nodeType:"ImportDirective",scope:13138,sourceUnit:13784,src:"1033:60:59",symbolAliases:[{foreign:12509,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/modules/lib/RebalancingSetIssuance.sol",file:"./lib/RebalancingSetIssuance.sol",id:12512,nodeType:"ImportDirective",scope:13138,sourceUnit:14135,src:"1094:74:59",symbolAliases:[{foreign:12511,local:null}],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:12513,name:"ModuleCoreState",nodeType:"UserDefinedTypeName",referencedDeclaration:13783,src:"1410:15:59",typeDescriptions:{typeIdentifier:"t_contract$_ModuleCoreState_$13783",typeString:"contract ModuleCoreState"}},id:12514,nodeType:"InheritanceSpecifier",src:"1410:15:59"},{arguments:null,baseName:{contractScope:null,id:12515,name:"RebalancingSetIssuance",nodeType:"UserDefinedTypeName",referencedDeclaration:14134,src:"1431:22:59",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetIssuance_$14134",typeString:"contract RebalancingSetIssuance"}},id:12516,nodeType:"InheritanceSpecifier",src:"1431:22:59"},{arguments:null,baseName:{contractScope:null,id:12517,name:"ReentrancyGuard",nodeType:"UserDefinedTypeName",referencedDeclaration:30290,src:"1459:15:59",typeDescriptions:{typeIdentifier:"t_contract$_ReentrancyGuard_$30290",typeString:"contract ReentrancyGuard"}},id:12518,nodeType:"InheritanceSpecifier",src:"1459:15:59"}],contractDependencies:[13783,14134,30290],contractKind:"contract",documentation:"@title RebalancingSetIssuanceModule\n@author Set Protocol\n * A module that includes functions for issuing / redeeming rebalancing SetToken to/from its base components and ether.",fullyImplemented:true,id:13137,linearizedBaseContracts:[13137,30290,14134,13783],name:"RebalancingSetIssuanceModule",nodeType:"ContractDefinition",nodes:[{id:12521,libraryName:{contractScope:null,id:12519,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:29640,src:"1487:8:59",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$29640",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"1481:27:59",typeName:{id:12520,name:"uint256",nodeType:"ElementaryTypeName",src:"1500:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{constant:false,id:12523,name:"transferProxy",nodeType:"VariableDeclaration",scope:13137,src:"1568:28:59",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12522,name:"address",nodeType:"ElementaryTypeName",src:"1568:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"public"},{constant:false,id:12525,name:"weth",nodeType:"VariableDeclaration",scope:13137,src:"1657:17:59",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"},typeName:{contractScope:null,id:12524,name:"IWETH",nodeType:"UserDefinedTypeName",referencedDeclaration:23739,src:"1657:5:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}},value:null,visibility:"public"},{anonymous:false,documentation:null,id:12533,name:"LogRebalancingSetIssue",nodeType:"EventDefinition",parameters:{id:12532,nodeType:"ParameterList",parameters:[{constant:false,id:12527,indexed:true,name:"rebalancingSetAddress",nodeType:"VariableDeclaration",scope:12533,src:"1763:37:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12526,name:"address",nodeType:"ElementaryTypeName",src:"1763:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12529,indexed:true,name:"callerAddress",nodeType:"VariableDeclaration",scope:12533,src:"1810:29:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12528,name:"address",nodeType:"ElementaryTypeName",src:"1810:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12531,indexed:false,name:"rebalancingSetQuantity",nodeType:"VariableDeclaration",scope:12533,src:"1849:30:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12530,name:"uint256",nodeType:"ElementaryTypeName",src:"1849:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1753:132:59"},src:"1725:161:59"},{anonymous:false,documentation:null,id:12541,name:"LogRebalancingSetRedeem",nodeType:"EventDefinition",parameters:{id:12540,nodeType:"ParameterList",parameters:[{constant:false,id:12535,indexed:true,name:"rebalancingSetAddress",nodeType:"VariableDeclaration",scope:12541,src:"1931:37:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12534,name:"address",nodeType:"ElementaryTypeName",src:"1931:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12537,indexed:true,name:"callerAddress",nodeType:"VariableDeclaration",scope:12541,src:"1978:29:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12536,name:"address",nodeType:"ElementaryTypeName",src:"1978:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12539,indexed:false,name:"rebalancingSetQuantity",nodeType:"VariableDeclaration",scope:12541,src:"2017:30:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12538,name:"uint256",nodeType:"ElementaryTypeName",src:"2017:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1921:132:59"},src:"1892:162:59"},{body:{id:12564,nodeType:"Block",src:"2642:151:59",statements:[{expression:{argumentTypes:null,id:12558,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:12556,name:"weth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12525,src:"2688:4:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:12557,name:"_weth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12549,src:"2695:5:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}},src:"2688:12:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}},id:12559,nodeType:"ExpressionStatement",src:"2688:12:59"},{expression:{argumentTypes:null,id:12562,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:12560,name:"transferProxy",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12523,src:"2756:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:12561,name:"_transferProxy",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12547,src:"2772:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"2756:30:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:12563,nodeType:"ExpressionStatement",src:"2756:30:59"}]},documentation:"Constructor function for RebalancingSetIssuanceModule\n     * @param _core                The address of Core\n@param _vault               The address of Vault\n@param _transferProxy       The address of TransferProxy\n@param _weth                The address of Wrapped Ether",id:12565,implemented:true,kind:"constructor",modifiers:[{arguments:[{argumentTypes:null,id:12552,name:"_core",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12543,src:"2602:5:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12553,name:"_vault",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12545,src:"2621:6:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],id:12554,modifierName:{argumentTypes:null,id:12551,name:"ModuleCoreState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13783,src:"2573:15:59",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ModuleCoreState_$13783_$",typeString:"type(contract ModuleCoreState)"}},nodeType:"ModifierInvocation",src:"2573:64:59"}],name:"",nodeType:"FunctionDefinition",parameters:{id:12550,nodeType:"ParameterList",parameters:[{constant:false,id:12543,name:"_core",nodeType:"VariableDeclaration",scope:12565,src:"2453:13:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12542,name:"address",nodeType:"ElementaryTypeName",src:"2453:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12545,name:"_vault",nodeType:"VariableDeclaration",scope:12565,src:"2476:14:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12544,name:"address",nodeType:"ElementaryTypeName",src:"2476:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12547,name:"_transferProxy",nodeType:"VariableDeclaration",scope:12565,src:"2500:22:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12546,name:"address",nodeType:"ElementaryTypeName",src:"2500:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12549,name:"_weth",nodeType:"VariableDeclaration",scope:12565,src:"2532:11:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"},typeName:{contractScope:null,id:12548,name:"IWETH",nodeType:"UserDefinedTypeName",referencedDeclaration:23739,src:"2532:5:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}},value:null,visibility:"internal"}],src:"2443:106:59"},returnParameters:{id:12555,nodeType:"ParameterList",parameters:[],src:"2642:0:59"},scope:13137,src:"2432:361:59",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:12578,nodeType:"Block",src:"2983:180:59",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:12574,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:12569,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"3014:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:12570,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"3014:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12572,name:"weth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12525,src:"3036:4:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}],id:12571,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"3028:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:12573,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3028:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"3014:27:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"526562616c616e63696e6753657449737375616e63654d6f64756c652e66616c6c6261636b3a2043616e6e6f74207265636569766520455448206469726563746c7920756e6c65737320756e7772617070696e672057455448",
id:12575,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"3055:91:59",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_140ff44fa475946dea061057188db2b7259b771a29fad7a56568c8da625d1d6e",typeString:'literal_string "RebalancingSetIssuanceModule.fallback: Cannot receive ETH directly unless unwrapping WETH"'},value:"RebalancingSetIssuanceModule.fallback: Cannot receive ETH directly unless unwrapping WETH"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_140ff44fa475946dea061057188db2b7259b771a29fad7a56568c8da625d1d6e",typeString:'literal_string "RebalancingSetIssuanceModule.fallback: Cannot receive ETH directly unless unwrapping WETH"'}],id:12568,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"2993:7:59",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:12576,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2993:163:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12577,nodeType:"ExpressionStatement",src:"2993:163:59"}]},documentation:"Fallback function. Disallows ether to be sent to this contract without data except when\nunwrapping WETH.",id:12579,implemented:true,kind:"fallback",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:12566,nodeType:"ParameterList",parameters:[],src:"2943:2:59"},returnParameters:{id:12567,nodeType:"ParameterList",parameters:[],src:"2983:0:59"},scope:13137,src:"2934:229:59",stateMutability:"payable",superFunction:null,visibility:"external"},{body:{id:12629,nodeType:"Block",src:"4378:1017:59",statements:[{assignments:[12591,12593],declarations:[{constant:false,id:12591,name:"baseSetAddress",nodeType:"VariableDeclaration",scope:12629,src:"4487:22:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12590,name:"address",nodeType:"ElementaryTypeName",src:"4487:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12593,name:"requiredBaseSetQuantity",nodeType:"VariableDeclaration",scope:12629,src:"4523:31:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12592,name:"uint256",nodeType:"ElementaryTypeName",src:"4523:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:12598,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:12595,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12581,src:"4596:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12596,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12583,src:"4620:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:12594,name:"getBaseSetAddressAndQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12887,src:"4567:28:59",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$_t_uint256_$returns$_t_address_$_t_uint256_$",typeString:"function (address,uint256) view returns (address,uint256)"}},id:12597,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4567:77:59",typeDescriptions:{typeIdentifier:"t_tuple$_t_address_$_t_uint256_$",typeString:"tuple(address,uint256)"}},nodeType:"VariableDeclarationStatement",src:"4473:171:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:12602,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"4764:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:12603,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"4764:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:12605,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30578,src:"4796:4:59",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}],id:12604,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"4788:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:12606,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4788:13:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:12607,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12591,src:"4815:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12608,name:"requiredBaseSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12593,src:"4843:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:12599,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13752,src:"4726:12:59",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:12601,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"issueModule",nodeType:"MemberAccess",referencedDeclaration:4675,src:"4726:24:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,address,uint256) external"}},id:12609,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4726:150:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12610,nodeType:"ExpressionStatement",src:"4726:150:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12614,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12591,src:"4992:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:12616,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30578,src:"5028:4:59",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}],id:12615,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"5020:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:12617,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5020:13:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:12618,name:"transferProxy",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12523,src:"5047:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12619,name:"requiredBaseSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12593,src:"5074:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:12611,name:"ERC20Wrapper",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:23679,src:"4950:12:59",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC20Wrapper_$23679_$",typeString:"type(library ERC20Wrapper)"}},id:12613,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"ensureAllowance",nodeType:"MemberAccess",referencedDeclaration:23663,src:"4950:28:59",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,address,uint256)"}},id:12620,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4950:157:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12621,nodeType:"ExpressionStatement",src:"4950:157:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12623,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12581,src:"5259:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12624,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12591,src:"5295:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12625,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12583,src:"5323:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:12626,name:"_keepChangeInVault",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12585,src:"5360:18:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_bool",typeString:"bool"}],id:12622,name:"issueRebalancingSetAndReturnExcessBase",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12921,src:"5207:38:59",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_bool_$returns$__$",typeString:"function (address,address,uint256,bool)"}},id:12627,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5207:181:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12628,nodeType:"ExpressionStatement",src:"5207:181:59"}]},documentation:"Issue a rebalancing SetToken using the base components of the base SetToken.\nThe base SetToken is then issued into the rebalancing SetToken. The base SetToken quantity issued is calculated\nby taking the rebalancing SetToken's quantity, unit shares, and natural unit. If the calculated quantity is not\na multiple of the natural unit of the base SetToken, the quantity is rounded up to the base SetToken natural unit.\nNOTE: Potential to receive more baseSet than expected if someone transfers some to this module.\nBe careful with balance checks.\n     * @param  _rebalancingSetAddress    Address of the rebalancing SetToken to issue\n@param  _rebalancingSetQuantity   The issuance quantity of rebalancing SetToken\n@param  _keepChangeInVault        Boolean signifying whether excess base SetToken is transfered to the user \n                                    or left in the vault",id:12630,implemented:true,kind:"function",modifiers:[{arguments:null,id:12588,modifierName:{argumentTypes:null,id:12587,name:"nonReentrant",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30289,src:"4361:12:59",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"4361:12:59"}],name:"issueRebalancingSet",nodeType:"FunctionDefinition",parameters:{id:12586,nodeType:"ParameterList",parameters:[{constant:false,id:12581,name:"_rebalancingSetAddress",nodeType:"VariableDeclaration",scope:12630,src:"4225:30:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12580,name:"address",nodeType:"ElementaryTypeName",src:"4225:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12583,name:"_rebalancingSetQuantity",nodeType:"VariableDeclaration",scope:12630,src:"4265:31:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12582,name:"uint256",nodeType:"ElementaryTypeName",src:"4265:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:12585,name:"_keepChangeInVault",nodeType:"VariableDeclaration",scope:12630,src:"4306:23:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:12584,name:"bool",nodeType:"ElementaryTypeName",src:"4306:4:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"4215:120:59"},returnParameters:{id:12589,nodeType:"ParameterList",parameters:[],src:"4378:0:59"},scope:13137,src:"4187:1208:59",stateMutability:"nonpayable",superFunction:null,visibility:"external"},{body:{id:12696,nodeType:"Block",src:"6489:1569:59",statements:[{assignments:[12642,12644],declarations:[{constant:false,id:12642,name:"baseSetAddress",nodeType:"VariableDeclaration",scope:12696,src:"6598:22:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12641,name:"address",nodeType:"ElementaryTypeName",src:"6598:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12644,name:"requiredBaseSetQuantity",nodeType:"VariableDeclaration",scope:12696,src:"6634:31:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12643,name:"uint256",nodeType:"ElementaryTypeName",src:"6634:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:12649,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:12646,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12632,src:"6707:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12647,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12634,src:"6731:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:12645,name:"getBaseSetAddressAndQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12887,src:"6678:28:59",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$_t_uint256_$returns$_t_address_$_t_uint256_$",typeString:"function (address,uint256) view returns (address,uint256)"}},id:12648,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6678:77:59",typeDescriptions:{typeIdentifier:"t_tuple$_t_address_$_t_uint256_$",typeString:"tuple(address,uint256)"}},nodeType:"VariableDeclarationStatement",src:"6584:171:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12651,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12642,src:"6852:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:12653,name:"weth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12525,src:"6876:4:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}],id:12652,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"6868:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:12654,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6868:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"}],id:12650,name:"validateWETHIsAComponentOfSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13861,src:"6822:29:59",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$_t_address_$returns$__$",typeString:"function (address,address) view"}},id:12655,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6822:60:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12656,nodeType:"ExpressionStatement",src:"6822:60:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12658,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12642,src:"7112:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12659,name:"requiredBaseSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12644,src:"7140:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:12657,name:"depositComponentsAndHandleEth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13042,src:"7069:29:59",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,uint256)"}},id:12660,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7069:104:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12661,nodeType:"ExpressionStatement",src:"7069:104:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12665,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12642,src:"7313:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12666,name:"requiredBaseSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12644,src:"7341:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:12662,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13752,src:"7274:12:59",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:12664,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"issueInVault",nodeType:"MemberAccess",referencedDeclaration:4520,src:"7274:25:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,uint256) external"}},id:12667,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7274:100:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12668,nodeType:"ExpressionStatement",src:"7274:100:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12670,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12632,src:"7638:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12671,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12642,src:"7674:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12672,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12634,src:"7702:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:12673,name:"_keepChangeInVault",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12636,src:"7739:18:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_bool",typeString:"bool"}],id:12669,name:"issueRebalancingSetAndReturnExcessBase",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12921,src:"7586:38:59",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_bool_$returns$__$",typeString:"function (address,address,uint256,bool)"}},id:12674,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7586:181:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12675,nodeType:"ExpressionStatement",src:"7586:181:59"},{assignments:[12677],declarations:[{constant:false,id:12677,name:"leftoverEth",nodeType:"VariableDeclaration",scope:12696,src:"7921:19:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12676,name:"uint256",nodeType:"ElementaryTypeName",src:"7921:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:12682,initialValue:{argumentTypes:null,expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12679,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30578,src:"7951:4:59",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}],id:12678,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"7943:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:12680,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7943:13:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},id:12681,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"balance",nodeType:"MemberAccess",referencedDeclaration:null,src:"7943:21:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"7921:43:59"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:12685,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:12683,name:"leftoverEth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12677,src:"7978:11:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:12684,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"7992:1:59",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"7978:15:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:12695,nodeType:"IfStatement",src:"7974:78:59",trueBody:{id:12694,nodeType:"Block",src:"7995:57:59",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12691,name:"leftoverEth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12677,src:"8029:11:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:12686,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"8009:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:12689,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"8009:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},id:12690,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"transfer",nodeType:"MemberAccess",referencedDeclaration:null,src:"8009:19:59",typeDescriptions:{typeIdentifier:"t_function_transfer_nonpayable$_t_uint256_$returns$__$",typeString:"function (uint256)"}},id:12692,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8009:32:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12693,nodeType:"ExpressionStatement",src:"8009:32:59"}]}}]},documentation:"Issue a rebalancing SetToken using the base components and ether of the base SetToken. The ether is wrapped \ninto wrapped Ether and utilized in issuance.\nThe base SetToken is then issued and reissued into the rebalancing SetToken. Read more about base SetToken quantity\nin the issueRebalancingSet function.\nNOTE: Potential to receive more baseSet and ether dust than expected if someone transfers some to this module.\nBe careful with balance checks.\n     * @param  _rebalancingSetAddress    Address of the rebalancing SetToken to issue\n@param  _rebalancingSetQuantity   The issuance quantity of rebalancing SetToken\n@param  _keepChangeInVault        Boolean signifying whether excess base SetToken is transfered to the user \n                                    or left in the vault",id:12697,implemented:true,kind:"function",modifiers:[{arguments:null,id:12639,modifierName:{argumentTypes:null,id:12638,name:"nonReentrant",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30289,src:"6472:12:59",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"6472:12:59"}],name:"issueRebalancingSetWrappingEther",nodeType:"FunctionDefinition",parameters:{id:12637,nodeType:"ParameterList",parameters:[{constant:false,id:12632,name:"_rebalancingSetAddress",nodeType:"VariableDeclaration",scope:12697,src:"6320:30:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12631,name:"address",nodeType:"ElementaryTypeName",src:"6320:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12634,name:"_rebalancingSetQuantity",nodeType:"VariableDeclaration",scope:12697,src:"6360:31:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12633,name:"uint256",nodeType:"ElementaryTypeName",src:"6360:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:12636,name:"_keepChangeInVault",nodeType:"VariableDeclaration",scope:12697,src:"6401:23:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:12635,name:"bool",nodeType:"ElementaryTypeName",src:"6401:4:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"6310:120:59"},returnParameters:{id:12640,nodeType:"ParameterList",parameters:[],src:"6489:0:59"},scope:13137,src:"6269:1789:59",stateMutability:"payable",superFunction:null,visibility:"external"},{body:{id:12769,nodeType:"Block",src:"8865:1464:59",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12709,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12699,src:"9011:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12710,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12701,src:"9035:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:12708,name:"validateRebalancingSetIssuance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13891,src:"8980:30:59",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,uint256) view"}},id:12711,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8980:79:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12712,nodeType:"ExpressionStatement",src:"8980:79:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:12716,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"9175:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:12717,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"9175:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:12719,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30578,src:"9207:4:59",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}],id:12718,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"9199:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:12720,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9199:13:59",typeDescriptions:{typeIdentifier:"t_address_payable",
typeString:"address payable"}},{argumentTypes:null,id:12721,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12699,src:"9226:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12722,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12701,src:"9262:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:12713,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13752,src:"9136:12:59",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:12715,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"redeemModule",nodeType:"MemberAccess",referencedDeclaration:4686,src:"9136:25:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,address,uint256) external"}},id:12723,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9136:159:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12724,nodeType:"ExpressionStatement",src:"9136:159:59"},{assignments:[12726],declarations:[{constant:false,id:12726,name:"baseSetAddress",nodeType:"VariableDeclaration",scope:12769,src:"9361:22:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12725,name:"address",nodeType:"ElementaryTypeName",src:"9361:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],id:12732,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12728,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12699,src:"9407:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:12727,name:"IRebalancingSetToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5224,src:"9386:20:59",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_IRebalancingSetToken_$5224_$",typeString:"type(contract IRebalancingSetToken)"}},id:12729,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9386:44:59",typeDescriptions:{typeIdentifier:"t_contract$_IRebalancingSetToken_$5224",typeString:"contract IRebalancingSetToken"}},id:12730,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"currentSet",nodeType:"MemberAccess",referencedDeclaration:5152,src:"9386:55:59",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_address_$",typeString:"function () view external returns (address)"}},id:12731,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9386:57:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"VariableDeclarationStatement",src:"9361:82:59"},{assignments:[12734],declarations:[{constant:false,id:12734,name:"baseSetRedeemQuantity",nodeType:"VariableDeclaration",scope:12769,src:"9453:29:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12733,name:"uint256",nodeType:"ElementaryTypeName",src:"9453:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:12738,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:12736,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12726,src:"9510:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:12735,name:"getBaseSetRedeemQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14001,src:"9485:24:59",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:12737,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9485:40:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"9453:72:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12742,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12726,src:"9622:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12743,name:"baseSetRedeemQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12734,src:"9650:21:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:12739,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13752,src:"9587:12:59",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:12741,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"withdraw",nodeType:"MemberAccess",referencedDeclaration:4586,src:"9587:21:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,uint256) external"}},id:12744,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9587:94:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12745,nodeType:"ExpressionStatement",src:"9587:94:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12749,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12726,src:"9893:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,expression:{argumentTypes:null,id:12750,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"9921:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:12751,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"9921:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:12752,name:"baseSetRedeemQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12734,src:"9945:21:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,hexValue:"30",id:12753,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"9980:1:59",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"}],expression:{argumentTypes:null,id:12746,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13752,src:"9847:12:59",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:12748,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"redeemAndWithdrawTo",nodeType:"MemberAccess",referencedDeclaration:4554,src:"9847:32:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (address,address,uint256,uint256) external"}},id:12754,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9847:144:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12755,nodeType:"ExpressionStatement",src:"9847:144:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12757,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12726,src:"10090:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12758,name:"transferProxy",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12523,src:"10106:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12759,name:"_keepChangeInVault",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12703,src:"10121:18:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_bool",typeString:"bool"}],id:12756,name:"returnExcessBaseSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14022,src:"10070:19:59",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_address_$_t_bool_$returns$__$",typeString:"function (address,address,bool)"}},id:12760,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10070:70:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12761,nodeType:"ExpressionStatement",src:"10070:70:59"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:12763,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12699,src:"10229:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,expression:{argumentTypes:null,id:12764,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"10265:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:12765,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"10265:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:12766,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12701,src:"10289:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:12762,name:"LogRebalancingSetRedeem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12541,src:"10192:23:59",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,uint256)"}},id:12767,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10192:130:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12768,nodeType:"EmitStatement",src:"10187:135:59"}]},documentation:"Redeems a rebalancing SetToken into the base components of the base SetToken.\nNOTE: Potential to receive more baseSet than expected if someone transfers some to this module.\nBe careful with balance checks.\n     * @param  _rebalancingSetAddress    Address of the rebalancing SetToken to redeem\n@param  _rebalancingSetQuantity   The Quantity of the rebalancing SetToken to redeem\n@param  _keepChangeInVault        Boolean signifying whether excess base SetToken is transfered to the user \n                                    or left in the vault",id:12770,implemented:true,kind:"function",modifiers:[{arguments:null,id:12706,modifierName:{argumentTypes:null,id:12705,name:"nonReentrant",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30289,src:"8848:12:59",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"8848:12:59"}],name:"redeemRebalancingSet",nodeType:"FunctionDefinition",parameters:{id:12704,nodeType:"ParameterList",parameters:[{constant:false,id:12699,name:"_rebalancingSetAddress",nodeType:"VariableDeclaration",scope:12770,src:"8712:30:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12698,name:"address",nodeType:"ElementaryTypeName",src:"8712:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12701,name:"_rebalancingSetQuantity",nodeType:"VariableDeclaration",scope:12770,src:"8752:31:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12700,name:"uint256",nodeType:"ElementaryTypeName",src:"8752:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:12703,name:"_keepChangeInVault",nodeType:"VariableDeclaration",scope:12770,src:"8793:23:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:12702,name:"bool",nodeType:"ElementaryTypeName",src:"8793:4:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"8702:120:59"},returnParameters:{id:12707,nodeType:"ParameterList",parameters:[],src:"8865:0:59"},scope:13137,src:"8673:1656:59",stateMutability:"nonpayable",superFunction:null,visibility:"external"},{body:{id:12850,nodeType:"Block",src:"11266:1552:59",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12782,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12772,src:"11412:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12783,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12774,src:"11436:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:12781,name:"validateRebalancingSetIssuance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13891,src:"11381:30:59",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,uint256) view"}},id:12784,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11381:79:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12785,nodeType:"ExpressionStatement",src:"11381:79:59"},{assignments:[12787],declarations:[{constant:false,id:12787,name:"baseSetAddress",nodeType:"VariableDeclaration",scope:12850,src:"11471:22:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12786,name:"address",nodeType:"ElementaryTypeName",src:"11471:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],id:12793,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12789,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12772,src:"11517:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:12788,name:"IRebalancingSetToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5224,src:"11496:20:59",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_IRebalancingSetToken_$5224_$",typeString:"type(contract IRebalancingSetToken)"}},id:12790,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11496:44:59",typeDescriptions:{typeIdentifier:"t_contract$_IRebalancingSetToken_$5224",typeString:"contract IRebalancingSetToken"}},id:12791,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"currentSet",nodeType:"MemberAccess",referencedDeclaration:5152,src:"11496:55:59",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_address_$",typeString:"function () view external returns (address)"}},id:12792,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11496:57:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"VariableDeclarationStatement",src:"11471:82:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12795,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12787,src:"11594:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:12797,name:"weth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12525,src:"11618:4:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}],id:12796,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"11610:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:12798,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11610:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"}],id:12794,name:"validateWETHIsAComponentOfSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13861,src:"11564:29:59",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$_t_address_$returns$__$",typeString:"function (address,address) view"}},id:12799,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11564:60:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12800,nodeType:"ExpressionStatement",src:"11564:60:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:12804,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"11754:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:12805,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"11754:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:12807,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30578,src:"11786:4:59",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}],id:12806,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"11778:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:12808,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11778:13:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:12809,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12772,src:"11805:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12810,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12774,src:"11841:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:12801,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13752,src:"11715:12:59",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:12803,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"redeemModule",nodeType:"MemberAccess",referencedDeclaration:4686,src:"11715:25:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,address,uint256) external"}},id:12811,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11715:159:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12812,nodeType:"ExpressionStatement",src:"11715:159:59"},{assignments:[12814],declarations:[{constant:false,id:12814,name:"baseSetRedeemQuantity",nodeType:"VariableDeclaration",scope:12850,src:"11940:29:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12813,name:"uint256",nodeType:"ElementaryTypeName",src:"11940:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:12818,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:12816,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12787,src:"11997:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:12815,name:"getBaseSetRedeemQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14001,src:"11972:24:59",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:12817,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11972:40:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"11940:72:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12822,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12787,src:"12109:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12823,name:"baseSetRedeemQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12814,src:"12137:21:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:12819,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13752,src:"12074:12:59",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:12821,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"withdraw",nodeType:"MemberAccess",referencedDeclaration:4586,src:"12074:21:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,uint256) external"}},id:12824,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12074:94:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12825,nodeType:"ExpressionStatement",src:"12074:94:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12829,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12787,src:"12282:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12830,name:"baseSetRedeemQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12814,src:"12310:21:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:12826,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13752,src:"12249:12:59",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:12828,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"redeem",nodeType:"MemberAccess",referencedDeclaration:4527,src:"12249:19:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,uint256) external"}},id:12831,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12249:92:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12832,nodeType:"ExpressionStatement",src:"12249:92:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12834,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12787,src:"12465:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:12833,name:"withdrawComponentsToSenderWithEther",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13136,src:"12429:35:59",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$returns$__$",typeString:"function (address)"}},id:12835,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12429:51:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12836,nodeType:"ExpressionStatement",src:"12429:51:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12838,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12787,src:"12579:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12839,name:"transferProxy",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12523,src:"12595:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12840,name:"_keepChangeInVault",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12776,src:"12610:18:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_bool",typeString:"bool"}],id:12837,name:"returnExcessBaseSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14022,src:"12559:19:59",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_address_$_t_bool_$returns$__$",typeString:"function (address,address,bool)"}},id:12841,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12559:70:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12842,nodeType:"ExpressionStatement",src:"12559:70:59"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:12844,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12772,src:"12718:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,expression:{argumentTypes:null,id:12845,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"12754:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:12846,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"12754:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:12847,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12774,src:"12778:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:12843,name:"LogRebalancingSetRedeem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12541,src:"12681:23:59",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,uint256)"}},id:12848,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12681:130:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12849,nodeType:"EmitStatement",src:"12676:135:59"}]},documentation:"Redeems a rebalancing SetToken into the base components of the base SetToken. Unwraps\nwrapped ether and sends eth to the user. If no wrapped ether in Set then will REVERT.\nNOTE: Potential to receive more baseSet and ether dust than expected if someone transfers some to this module.\nBe careful with balance checks.\n     * @param  _rebalancingSetAddress    Address of the rebalancing SetToken to redeem\n@param  _rebalancingSetQuantity   The Quantity of the rebalancing SetToken to redeem\n@param  _keepChangeInVault        Boolean signifying whether excess base SetToken is transferred to the user \n                                  or left in the vault",id:12851,implemented:true,kind:"function",modifiers:[{arguments:null,id:12779,modifierName:{argumentTypes:null,id:12778,name:"nonReentrant",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30289,src:"11249:12:59",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"11249:12:59"}],name:"redeemRebalancingSetUnwrappingEther",nodeType:"FunctionDefinition",parameters:{id:12777,nodeType:"ParameterList",parameters:[{constant:false,id:12772,name:"_rebalancingSetAddress",nodeType:"VariableDeclaration",scope:12851,src:"11113:30:59",stateVariable:false,
storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12771,name:"address",nodeType:"ElementaryTypeName",src:"11113:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12774,name:"_rebalancingSetQuantity",nodeType:"VariableDeclaration",scope:12851,src:"11153:31:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12773,name:"uint256",nodeType:"ElementaryTypeName",src:"11153:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:12776,name:"_keepChangeInVault",nodeType:"VariableDeclaration",scope:12851,src:"11194:23:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:12775,name:"bool",nodeType:"ElementaryTypeName",src:"11194:4:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"11103:120:59"},returnParameters:{id:12780,nodeType:"ParameterList",parameters:[],src:"11266:0:59"},scope:13137,src:"11059:1759:59",stateMutability:"nonpayable",superFunction:null,visibility:"external"},{body:{id:12886,nodeType:"Block",src:"13557:576:59",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12863,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12853,src:"13703:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12864,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12855,src:"13727:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:12862,name:"validateRebalancingSetIssuance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13891,src:"13672:30:59",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,uint256) view"}},id:12865,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"13672:79:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12866,nodeType:"ExpressionStatement",src:"13672:79:59"},{assignments:[12868],declarations:[{constant:false,id:12868,name:"baseSetAddress",nodeType:"VariableDeclaration",scope:12886,src:"13762:22:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12867,name:"address",nodeType:"ElementaryTypeName",src:"13762:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],id:12874,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12870,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12853,src:"13808:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:12869,name:"IRebalancingSetToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5224,src:"13787:20:59",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_IRebalancingSetToken_$5224_$",typeString:"type(contract IRebalancingSetToken)"}},id:12871,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"13787:44:59",typeDescriptions:{typeIdentifier:"t_contract$_IRebalancingSetToken_$5224",typeString:"contract IRebalancingSetToken"}},id:12872,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"currentSet",nodeType:"MemberAccess",referencedDeclaration:5152,src:"13787:55:59",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_address_$",typeString:"function () view external returns (address)"}},id:12873,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"13787:57:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"VariableDeclarationStatement",src:"13762:82:59"},{assignments:[12876],declarations:[{constant:false,id:12876,name:"requiredBaseSetQuantity",nodeType:"VariableDeclaration",scope:12886,src:"13908:31:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12875,name:"uint256",nodeType:"ElementaryTypeName",src:"13908:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:12881,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:12878,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12853,src:"13990:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12879,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12855,src:"14026:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:12877,name:"getBaseSetIssuanceRequiredQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13967,src:"13942:34:59",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$_t_uint256_$returns$_t_uint256_$",typeString:"function (address,uint256) view returns (uint256)"}},id:12880,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"13942:117:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"13908:151:59"},{expression:{argumentTypes:null,components:[{argumentTypes:null,id:12882,name:"baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12868,src:"14078:14:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12883,name:"requiredBaseSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12876,src:"14094:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],id:12884,isConstant:false,isInlineArray:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"TupleExpression",src:"14077:41:59",typeDescriptions:{typeIdentifier:"t_tuple$_t_address_$_t_uint256_$",typeString:"tuple(address,uint256)"}},functionReturnParameters:12861,id:12885,nodeType:"Return",src:"14070:48:59"}]},documentation:"Gets base set address from rebalancing set token and calculates amount of base set needed\nfor issuance.\n     * @param  _rebalancingSetAddress    Address of the RebalancingSetToken to issue\n@param  _rebalancingSetQuantity   The Quantity of the rebalancing SetToken to issue\n@return baseSetAddress            The address of RebalancingSet's base SetToken\n@return requiredBaseSetQuantity   The quantity of base SetToken to issue",id:12887,implemented:true,kind:"function",modifiers:[],name:"getBaseSetAddressAndQuantity",nodeType:"FunctionDefinition",parameters:{id:12856,nodeType:"ParameterList",parameters:[{constant:false,id:12853,name:"_rebalancingSetAddress",nodeType:"VariableDeclaration",scope:12887,src:"13410:30:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12852,name:"address",nodeType:"ElementaryTypeName",src:"13410:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12855,name:"_rebalancingSetQuantity",nodeType:"VariableDeclaration",scope:12887,src:"13450:31:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12854,name:"uint256",nodeType:"ElementaryTypeName",src:"13450:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"13400:87:59"},returnParameters:{id:12861,nodeType:"ParameterList",parameters:[{constant:false,id:12858,name:"",nodeType:"VariableDeclaration",scope:12887,src:"13535:7:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12857,name:"address",nodeType:"ElementaryTypeName",src:"13535:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12860,name:"",nodeType:"VariableDeclaration",scope:12887,src:"13544:7:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12859,name:"uint256",nodeType:"ElementaryTypeName",src:"13544:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"13534:18:59"},scope:13137,src:"13363:770:59",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:12920,nodeType:"Block",src:"14911:528:59",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:12901,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"15007:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:12902,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"15007:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:12903,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12889,src:"15031:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12904,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12893,src:"15067:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:12898,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13752,src:"14973:12:59",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:12900,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"issueTo",nodeType:"MemberAccess",referencedDeclaration:4513,src:"14973:20:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,uint256) external"}},id:12905,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14973:127:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12906,nodeType:"ExpressionStatement",src:"14973:127:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12908,name:"_baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12891,src:"15194:15:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12909,name:"transferProxy",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12523,src:"15211:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:12910,name:"_keepChangeInVault",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12895,src:"15226:18:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_bool",typeString:"bool"}],id:12907,name:"returnExcessBaseSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14022,src:"15174:19:59",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_address_$_t_bool_$returns$__$",typeString:"function (address,address,bool)"}},id:12911,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15174:71:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12912,nodeType:"ExpressionStatement",src:"15174:71:59"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:12914,name:"_rebalancingSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12889,src:"15332:22:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,expression:{argumentTypes:null,id:12915,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"15368:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:12916,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"15368:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:12917,name:"_rebalancingSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12893,src:"15392:23:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:12913,name:"LogRebalancingSetIssue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12533,src:"15296:22:59",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,uint256)"}},id:12918,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15296:129:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:12919,nodeType:"EmitStatement",src:"15291:134:59"}]},documentation:"Issues the rebalancing set token to sender and returns any excess baseSet.\n     * @param  _rebalancingSetAddress    Address of the rebalancing SetToken to issue\n@param  _baseSetAddress           Address of the rebalancing SetToken's base set\n@param  _rebalancingSetQuantity   The Quantity of the rebalancing SetToken to redeem\n@param  _keepChangeInVault        Boolean signifying whether excess base SetToken is transferred to the user \n                                  or left in the vault",id:12921,implemented:true,kind:"function",modifiers:[],name:"issueRebalancingSetAndReturnExcessBase",nodeType:"FunctionDefinition",parameters:{id:12896,nodeType:"ParameterList",parameters:[{constant:false,id:12889,name:"_rebalancingSetAddress",nodeType:"VariableDeclaration",scope:12921,src:"14746:30:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12888,name:"address",nodeType:"ElementaryTypeName",src:"14746:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12891,name:"_baseSetAddress",nodeType:"VariableDeclaration",scope:12921,src:"14786:23:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12890,name:"address",nodeType:"ElementaryTypeName",src:"14786:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12893,name:"_rebalancingSetQuantity",nodeType:"VariableDeclaration",scope:12921,src:"14819:31:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12892,name:"uint256",nodeType:"ElementaryTypeName",src:"14819:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:12895,name:"_keepChangeInVault",nodeType:"VariableDeclaration",scope:12921,src:"14860:23:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:12894,name:"bool",nodeType:"ElementaryTypeName",src:"14860:4:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"14736:153:59"},returnParameters:{id:12897,nodeType:"ParameterList",parameters:[],src:"14911:0:59"},scope:13137,src:"14689:750:59",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:13041,nodeType:"Block",src:"15974:1823:59",statements:[{assignments:[12929],declarations:[{constant:false,id:12929,name:"baseSet",nodeType:"VariableDeclaration",scope:13041,src:"15984:17:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:12928,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"15984:9:59",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"}],id:12933,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:12931,name:"_baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12923,src:"16014:15:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:12930,name:"ISetToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5659,src:"16004:9:59",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ISetToken_$5659_$",typeString:"type(contract ISetToken)"}},id:12932,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16004:26:59",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},nodeType:"VariableDeclarationStatement",src:"15984:46:59"},{assignments:[12937],declarations:[{constant:false,id:12937,name:"baseSetComponents",nodeType:"VariableDeclaration",scope:13041,src:"16041:34:59",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:12935,name:"address",nodeType:"ElementaryTypeName",src:"16041:7:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:12936,length:null,nodeType:"ArrayTypeName",src:"16041:9:59",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"}],id:12941,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:12938,name:"baseSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12929,src:"16078:7:59",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:12939,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getComponents",nodeType:"MemberAccess",referencedDeclaration:5624,src:"16078:21:59",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_array$_t_address_$dyn_memory_ptr_$",typeString:"function () view external returns (address[] memory)"}},id:12940,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16078:23:59",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},nodeType:"VariableDeclarationStatement",src:"16041:60:59"},{assignments:[12945],declarations:[{constant:false,id:12945,name:"baseSetUnits",nodeType:"VariableDeclaration",scope:13041,src:"16111:29:59",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:12943,name:"uint256",nodeType:"ElementaryTypeName",src:"16111:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:12944,length:null,nodeType:"ArrayTypeName",src:"16111:9:59",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],id:12949,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:12946,name:"baseSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12929,src:"16143:7:59",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:12947,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getUnits",nodeType:"MemberAccess",referencedDeclaration:5630,src:"16143:16:59",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_array$_t_uint256_$dyn_memory_ptr_$",typeString:"function () view external returns (uint256[] memory)"}},id:12948,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16143:18:59",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},nodeType:"VariableDeclarationStatement",src:"16111:50:59"},{assignments:[12951],declarations:[{constant:false,id:12951,name:"baseSetNaturalUnit",nodeType:"VariableDeclaration",scope:13041,src:"16171:26:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12950,name:"uint256",nodeType:"ElementaryTypeName",src:"16171:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:12955,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:12952,name:"baseSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12929,src:"16200:7:59",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:12953,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"naturalUnit",nodeType:"MemberAccess",referencedDeclaration:5618,src:"16200:19:59",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_uint256_$",typeString:"function () view external returns (uint256)"}},id:12954,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16200:21:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"16171:50:59"},{body:{id:13039,nodeType:"Block",src:"16363:1428:59",statements:[{assignments:[12968],declarations:[{constant:false,id:12968,name:"currentComponent",nodeType:"VariableDeclaration",scope:13039,src:"16377:24:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12967,name:"address",nodeType:"ElementaryTypeName",src:"16377:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],id:12972,initialValue:{argumentTypes:null,baseExpression:{argumentTypes:null,id:12969,name:"baseSetComponents",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12937,src:"16404:17:59",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:12971,indexExpression:{argumentTypes:null,id:12970,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12957,src:"16422:1:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"16404:20:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"VariableDeclarationStatement",src:"16377:47:59"},{assignments:[12974],declarations:[{constant:false,id:12974,name:"currentUnit",nodeType:"VariableDeclaration",scope:13039,src:"16438:19:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12973,name:"uint256",nodeType:"ElementaryTypeName",src:"16438:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:12978,initialValue:{argumentTypes:null,baseExpression:{argumentTypes:null,id:12975,name:"baseSetUnits",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12945,src:"16460:12:59",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:12977,indexExpression:{argumentTypes:null,id:12976,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12957,src:"16473:1:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"16460:15:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"16438:37:59"},{assignments:[12980],declarations:[{constant:false,id:12980,name:"currentComponentQuantity",nodeType:"VariableDeclaration",scope:13039,src:"16543:32:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12979,name:"uint256",nodeType:"ElementaryTypeName",src:"16543:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:12988,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:12986,name:"currentUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12974,src:"16623:11:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12983,name:"baseSetNaturalUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12951,src:"16599:18:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:12981,name:"_baseSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12925,src:"16578:16:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:12982,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"16578:20:59",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:12984,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16578:40:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:12985,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"16578:44:59",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:12987,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16578:57:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"16543:92:59"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:12993,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:12989,name:"currentComponent",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12968,src:"16719:16:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:12991,name:"weth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12525,src:"16747:4:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}],id:12990,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"16739:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:12992,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16739:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"16719:33:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:13037,nodeType:"Block",src:"17458:323:59",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:13028,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"17603:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:13029,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"17603:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:13031,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30578,src:"17643:4:59",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}],id:13030,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"17635:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:13032,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"17635:13:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:13033,name:"currentComponent",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12968,src:"17670:16:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:13034,name:"currentComponentQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12980,src:"17708:24:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",
typeString:"uint256"}],expression:{argumentTypes:null,id:13025,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13752,src:"17555:12:59",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:13027,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"depositModule",nodeType:"MemberAccess",referencedDeclaration:4627,src:"17555:26:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,address,uint256) external"}},id:13035,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"17555:195:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:13036,nodeType:"ExpressionStatement",src:"17555:195:59"}]},id:13038,nodeType:"IfStatement",src:"16715:1066:59",trueBody:{id:13024,nodeType:"Block",src:"16754:698:59",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:12998,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:12995,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"16881:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:12996,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"value",nodeType:"MemberAccess",referencedDeclaration:null,src:"16881:9:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">=",rightExpression:{argumentTypes:null,id:12997,name:"currentComponentQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12980,src:"16894:24:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"16881:37:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"526562616c616e63696e6753657449737375616e63654d6f64756c652e6465706f736974436f6d706f6e656e7473416e6448616e646c654574683a204e6f7420656e6f75676820657468657220696e636c7564656420666f72206261736520536574546f6b656e",id:12999,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"16940:105:59",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_48acf26f04d003a416e3b520b10d24cc519c6a2b7f24369c59736822b6a63123",typeString:'literal_string "RebalancingSetIssuanceModule.depositComponentsAndHandleEth: Not enough ether included for base SetToken"'},value:"RebalancingSetIssuanceModule.depositComponentsAndHandleEth: Not enough ether included for base SetToken"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_48acf26f04d003a416e3b520b10d24cc519c6a2b7f24369c59736822b6a63123",typeString:'literal_string "RebalancingSetIssuanceModule.depositComponentsAndHandleEth: Not enough ether included for base SetToken"'}],id:12994,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"16852:7:59",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:13e3,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16852:211:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:13001,nodeType:"ExpressionStatement",src:"16852:211:59"},{expression:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],arguments:[{argumentTypes:null,id:13007,name:"currentComponentQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12980,src:"17153:24:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:13002,name:"weth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12525,src:"17134:4:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}},id:13005,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"deposit",nodeType:"MemberAccess",referencedDeclaration:23733,src:"17134:12:59",typeDescriptions:{typeIdentifier:"t_function_external_payable$__$returns$__$",typeString:"function () payable external"}},id:13006,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"value",nodeType:"MemberAccess",referencedDeclaration:null,src:"17134:18:59",typeDescriptions:{typeIdentifier:"t_function_setvalue_nonpayable$_t_uint256_$returns$_t_function_external_payable$__$returns$__$value_$",typeString:"function (uint256) returns (function () payable external)"}},id:13008,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"17134:44:59",typeDescriptions:{typeIdentifier:"t_function_external_payable$__$returns$__$value",typeString:"function () payable external"}},id:13009,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"17134:46:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:13010,nodeType:"ExpressionStatement",src:"17134:46:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:13015,name:"weth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12525,src:"17298:4:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}],id:13014,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"17290:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:13016,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"17290:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:13018,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30578,src:"17333:4:59",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}],id:13017,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"17325:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:13019,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"17325:13:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:13020,name:"transferProxy",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12523,src:"17360:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:13021,name:"currentComponentQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12980,src:"17395:24:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:13011,name:"ERC20Wrapper",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:23679,src:"17240:12:59",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC20Wrapper_$23679_$",typeString:"type(library ERC20Wrapper)"}},id:13013,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"ensureAllowance",nodeType:"MemberAccess",referencedDeclaration:23663,src:"17240:28:59",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,address,uint256)"}},id:13022,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"17240:197:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:13023,nodeType:"ExpressionStatement",src:"17240:197:59"}]}}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:12963,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:12960,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12957,src:"16328:1:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:12961,name:"baseSetComponents",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12937,src:"16332:17:59",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:12962,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"16332:24:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"16328:28:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:13040,initializationExpression:{assignments:[12957],declarations:[{constant:false,id:12957,name:"i",nodeType:"VariableDeclaration",scope:13040,src:"16313:9:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12956,name:"uint256",nodeType:"ElementaryTypeName",src:"16313:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:12959,initialValue:{argumentTypes:null,hexValue:"30",id:12958,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"16325:1:59",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"16313:13:59"},loopExpression:{expression:{argumentTypes:null,id:12965,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"UnaryOperation",operator:"++",prefix:false,src:"16358:3:59",subExpression:{argumentTypes:null,id:12964,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12957,src:"16358:1:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:12966,nodeType:"ExpressionStatement",src:"16358:3:59"},nodeType:"ForStatement",src:"16308:1483:59"}]},documentation:"During issuance, deposit the required quantity of base SetToken, wrap Ether, and deposit components\n(excluding Ether, which is deposited during issuance) to the Vault in the name of the module.\n     * @param  _baseSetAddress           Address of the base SetToken token\n@param  _baseSetQuantity          The Quantity of the base SetToken token to issue",id:13042,implemented:true,kind:"function",modifiers:[],name:"depositComponentsAndHandleEth",nodeType:"FunctionDefinition",parameters:{id:12926,nodeType:"ParameterList",parameters:[{constant:false,id:12923,name:"_baseSetAddress",nodeType:"VariableDeclaration",scope:13042,src:"15890:23:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:12922,name:"address",nodeType:"ElementaryTypeName",src:"15890:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:12925,name:"_baseSetQuantity",nodeType:"VariableDeclaration",scope:13042,src:"15923:24:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:12924,name:"uint256",nodeType:"ElementaryTypeName",src:"15923:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"15880:73:59"},returnParameters:{id:12927,nodeType:"ParameterList",parameters:[],src:"15974:0:59"},scope:13137,src:"15842:1955:59",stateMutability:"nonpayable",superFunction:null,visibility:"private"},{body:{id:13135,nodeType:"Block",src:"18138:1391:59",statements:[{assignments:[13050],declarations:[{constant:false,id:13050,name:"baseSetComponents",nodeType:"VariableDeclaration",scope:13135,src:"18148:34:59",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:13048,name:"address",nodeType:"ElementaryTypeName",src:"18148:7:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:13049,length:null,nodeType:"ArrayTypeName",src:"18148:9:59",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"}],id:13056,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:13052,name:"_baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13044,src:"18195:15:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:13051,name:"ISetToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5659,src:"18185:9:59",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ISetToken_$5659_$",typeString:"type(contract ISetToken)"}},id:13053,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"18185:26:59",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:13054,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getComponents",nodeType:"MemberAccess",referencedDeclaration:5624,src:"18185:40:59",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_array$_t_address_$dyn_memory_ptr_$",typeString:"function () view external returns (address[] memory)"}},id:13055,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"18185:42:59",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},nodeType:"VariableDeclarationStatement",src:"18148:79:59"},{body:{id:13133,nodeType:"Block",src:"18347:1176:59",statements:[{assignments:[13069],declarations:[{constant:false,id:13069,name:"currentComponent",nodeType:"VariableDeclaration",scope:13133,src:"18361:24:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:13068,name:"address",nodeType:"ElementaryTypeName",src:"18361:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],id:13073,initialValue:{argumentTypes:null,baseExpression:{argumentTypes:null,id:13070,name:"baseSetComponents",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13050,src:"18388:17:59",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:13072,indexExpression:{argumentTypes:null,id:13071,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13058,src:"18406:1:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"18388:20:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"VariableDeclarationStatement",src:"18361:47:59"},{assignments:[13075],declarations:[{constant:false,id:13075,name:"currentComponentQuantity",nodeType:"VariableDeclaration",scope:13133,src:"18422:32:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:13074,name:"uint256",nodeType:"ElementaryTypeName",src:"18422:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:13083,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:13078,name:"currentComponent",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13069,src:"18504:16:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:13080,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30578,src:"18546:4:59",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}],id:13079,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"18538:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:13081,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"18538:13:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address_payable",typeString:"address payable"}],expression:{argumentTypes:null,id:13076,name:"vaultInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13754,src:"18457:13:59",typeDescriptions:{typeIdentifier:"t_contract$_IVault_$5782",typeString:"contract IVault"}},id:13077,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getOwnerBalance",nodeType:"MemberAccess",referencedDeclaration:5781,src:"18457:29:59",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_address_$_t_address_$returns$_t_uint256_$",typeString:"function (address,address) view external returns (uint256)"}},id:13082,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"18457:108:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"18422:143:59"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:13088,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:13084,name:"currentComponent",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13069,src:"18660:16:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:13086,name:"weth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12525,src:"18688:4:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}],id:13085,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"18680:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:13087,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"18680:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"18660:33:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:13131,nodeType:"Block",src:"19210:303:59",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:13123,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30578,src:"19359:4:59",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}],id:13122,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"19351:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:13124,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"19351:13:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,expression:{argumentTypes:null,id:13125,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"19386:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:13126,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"19386:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:13127,name:"currentComponent",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13069,src:"19418:16:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:13128,name:"currentComponentQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13075,src:"19456:24:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:13119,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13752,src:"19302:12:59",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:13121,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"withdrawModule",nodeType:"MemberAccess",referencedDeclaration:4638,src:"19302:27:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,address,uint256) external"}},id:13129,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"19302:196:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:13130,nodeType:"ExpressionStatement",src:"19302:196:59"}]},id:13132,nodeType:"IfStatement",src:"18656:857:59",trueBody:{id:13118,nodeType:"Block",src:"18695:509:59",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:13093,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30578,src:"18847:4:59",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}],id:13092,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"18839:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:13094,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"18839:13:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:13096,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30578,src:"18882:4:59",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_RebalancingSetIssuanceModule_$13137",typeString:"contract RebalancingSetIssuanceModule"}],id:13095,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"18874:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:13097,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"18874:13:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:13099,name:"weth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12525,src:"18917:4:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}],id:13098,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"18909:7:59",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:13100,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"18909:13:59",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:13101,name:"currentComponentQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13075,src:"18944:24:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:13089,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13752,src:"18790:12:59",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:13091,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"withdrawModule",nodeType:"MemberAccess",referencedDeclaration:4638,src:"18790:27:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,address,uint256) external"}},id:13102,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"18790:196:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:13103,nodeType:"ExpressionStatement",src:"18790:196:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:13107,name:"currentComponentQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13075,src:"19059:24:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:13104,name:"weth",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:12525,src:"19045:4:59",typeDescriptions:{typeIdentifier:"t_contract$_IWETH_$23739",typeString:"contract IWETH"}},id:13106,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"withdraw",nodeType:"MemberAccess",referencedDeclaration:23738,src:"19045:13:59",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_uint256_$returns$__$",typeString:"function (uint256) external"}},id:13108,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"19045:39:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:13109,nodeType:"ExpressionStatement",src:"19045:39:59"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:13115,name:"currentComponentQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13075,src:"19164:24:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:13110,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"19144:3:59",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:13113,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"19144:10:59",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},id:13114,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"transfer",nodeType:"MemberAccess",referencedDeclaration:null,src:"19144:19:59",typeDescriptions:{typeIdentifier:"t_function_transfer_nonpayable$_t_uint256_$returns$__$",typeString:"function (uint256)"}},id:13116,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"19144:45:59",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:13117,nodeType:"ExpressionStatement",src:"19144:45:59"}]}}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:13064,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:13061,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13058,src:"18312:1:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:13062,name:"baseSetComponents",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13050,src:"18316:17:59",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:13063,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"18316:24:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"18312:28:59",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:13134,initializationExpression:{assignments:[13058],declarations:[{constant:false,id:13058,name:"i",nodeType:"VariableDeclaration",scope:13134,src:"18297:9:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:13057,name:"uint256",nodeType:"ElementaryTypeName",src:"18297:7:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:13060,initialValue:{argumentTypes:null,hexValue:"30",id:13059,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"18309:1:59",subdenomination:null,
typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"18297:13:59"},loopExpression:{expression:{argumentTypes:null,id:13066,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"UnaryOperation",operator:"++",prefix:false,src:"18342:3:59",subExpression:{argumentTypes:null,id:13065,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13058,src:"18342:1:59",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:13067,nodeType:"ExpressionStatement",src:"18342:3:59"},nodeType:"ForStatement",src:"18292:1231:59"}]},documentation:"During redemption, withdraw the required quantity of base SetToken, unwrapping Ether, and withdraw\ncomponents to the sender\n     * @param  _baseSetAddress           Address of the base SetToken",id:13136,implemented:true,kind:"function",modifiers:[],name:"withdrawComponentsToSenderWithEther",nodeType:"FunctionDefinition",parameters:{id:13045,nodeType:"ParameterList",parameters:[{constant:false,id:13044,name:"_baseSetAddress",nodeType:"VariableDeclaration",scope:13136,src:"18088:23:59",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:13043,name:"address",nodeType:"ElementaryTypeName",src:"18088:7:59",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"18078:39:59"},returnParameters:{id:13046,nodeType:"ParameterList",parameters:[],src:"18138:0:59"},scope:13137,src:"18034:1495:59",stateMutability:"nonpayable",superFunction:null,visibility:"private"}],scope:13138,src:"1365:18166:59"}],src:"597:18934:59"},compiler:{name:"solc",version:"0.5.7+commit.6da8b019.Linux.g++"},networks:{},schemaVersion:"3.0.23",updatedAt:"2020-04-07T04:29:24.592Z",devdoc:{author:"Set Protocol * A module that includes functions for issuing / redeeming rebalancing SetToken to/from its base components and ether.",methods:{constructor:{params:{_core:"The address of Core",_transferProxy:"The address of TransferProxy",_vault:"The address of Vault",_weth:"The address of Wrapped Ether"}},"issueRebalancingSet(address,uint256,bool)":{params:{_keepChangeInVault:"Boolean signifying whether excess base SetToken is transfered to the user                                     or left in the vault",_rebalancingSetAddress:"Address of the rebalancing SetToken to issue",_rebalancingSetQuantity:"The issuance quantity of rebalancing SetToken"}},"issueRebalancingSetWrappingEther(address,uint256,bool)":{params:{_keepChangeInVault:"Boolean signifying whether excess base SetToken is transfered to the user                                     or left in the vault",_rebalancingSetAddress:"Address of the rebalancing SetToken to issue",_rebalancingSetQuantity:"The issuance quantity of rebalancing SetToken"}},"redeemRebalancingSet(address,uint256,bool)":{params:{_keepChangeInVault:"Boolean signifying whether excess base SetToken is transfered to the user                                     or left in the vault",_rebalancingSetAddress:"Address of the rebalancing SetToken to redeem",_rebalancingSetQuantity:"The Quantity of the rebalancing SetToken to redeem"}},"redeemRebalancingSetUnwrappingEther(address,uint256,bool)":{params:{_keepChangeInVault:"Boolean signifying whether excess base SetToken is transferred to the user                                   or left in the vault",_rebalancingSetAddress:"Address of the rebalancing SetToken to redeem",_rebalancingSetQuantity:"The Quantity of the rebalancing SetToken to redeem"}}},title:"RebalancingSetIssuanceModule"},userdoc:{methods:{constructor:"Constructor function for RebalancingSetIssuanceModule","issueRebalancingSet(address,uint256,bool)":{notice:"Issue a rebalancing SetToken using the base components of the base SetToken. The base SetToken is then issued into the rebalancing SetToken. The base SetToken quantity issued is calculated by taking the rebalancing SetToken's quantity, unit shares, and natural unit. If the calculated quantity is not a multiple of the natural unit of the base SetToken, the quantity is rounded up to the base SetToken natural unit. NOTE: Potential to receive more baseSet than expected if someone transfers some to this module. Be careful with balance checks."},"issueRebalancingSetWrappingEther(address,uint256,bool)":{notice:"Issue a rebalancing SetToken using the base components and ether of the base SetToken. The ether is wrapped  into wrapped Ether and utilized in issuance. The base SetToken is then issued and reissued into the rebalancing SetToken. Read more about base SetToken quantity in the issueRebalancingSet function. NOTE: Potential to receive more baseSet and ether dust than expected if someone transfers some to this module. Be careful with balance checks."},"redeemRebalancingSet(address,uint256,bool)":{notice:"Redeems a rebalancing SetToken into the base components of the base SetToken. NOTE: Potential to receive more baseSet than expected if someone transfers some to this module. Be careful with balance checks."},"redeemRebalancingSetUnwrappingEther(address,uint256,bool)":{notice:"Redeems a rebalancing SetToken into the base components of the base SetToken. Unwraps wrapped ether and sends eth to the user. If no wrapped ether in Set then will REVERT. NOTE: Potential to receive more baseSet and ether dust than expected if someone transfers some to this module. Be careful with balance checks."}}}};