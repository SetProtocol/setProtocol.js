"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FailAuctionLibrary={contractName:"FailAuctionLibrary",abi:[],metadata:'{"compiler":{"version":"0.5.7+commit.6da8b019"},"language":"Solidity","output":{"abi":[],"devdoc":{"author":"Set Protocol * Default implementation of Rebalancing Set Token endFailedAuction function","methods":{"endFailedAuction(uint256,uint256,address,address,RebalancingLibrary.AuctionPriceParameters,RebalancingLibrary.BiddingParameters,uint8)":{"params":{"_auctionPriceParameters":"Struct containing auction price curve parameters","_biddingParameters":"Struct containing relevant data for calculating token flows","_calculatedUnitShares":"Calculated unitShares amount if rebalance were to be settled","_coreAddress":"Core address","_currentSet":"The Set that failed to rebalance","_rebalanceState":"State rebalancing set token is in","_startingCurrentSetAmount":"Amount of current set at beginning or rebalance"},"return":"State of Rebalancing Set after function called"}},"title":"FailAuctionLibrary"},"userdoc":{"methods":{"endFailedAuction(uint256,uint256,address,address,RebalancingLibrary.AuctionPriceParameters,RebalancingLibrary.BiddingParameters,uint8)":{"notice":"Fail an auction that doesn\'t complete before reaching the pivot price. Move to Drawdown state if bids have been placed. Reset to Default state if no bids placed."}}}},"settings":{"compilationTarget":{"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/tokens/rebalancing-libraries/FailAuctionLibrary.sol":"FailAuctionLibrary"},"evmVersion":"byzantium","libraries":{},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/interfaces/ICore.sol":{"keccak256":"0x5dc3db4398630ea52d2a40c9ddfa89d94e65c2770a12bab4d2a5c8eb573fb0a0","urls":["bzzr://25e90b53f61b388e0950b808e2296f82d427b66cfd6021212713436b2a592e31"]},"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/interfaces/ISetToken.sol":{"keccak256":"0xfa6c0c07f8394d89b6b8f72e15778f8452a9341acb20cebb8421f3522aaca1bd","urls":["bzzr://ccf23bb78fd507bf8cbf5cf7ac2a660a1463b87a3689196e42b8f6862d1a6b11"]},"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/interfaces/IVault.sol":{"keccak256":"0xf8a6d376173be39f5744492866db5dd3f91453a124d23679ff164ff3817f2f4f","urls":["bzzr://896c0a8329175c1620e1a22467778b835defe0e61847e5a8427a306f42391e64"]},"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/lib/RebalancingLibrary.sol":{"keccak256":"0x7f9dd2f95b2ee71a98b94cb9b0df15874aa134e7480d04a1fcf36aff166a55f4","urls":["bzzr://f43a5563ec5df095151eee30cf7a0941b5a971917c27c7b34d9586b36563ab5b"]},"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/tokens/rebalancing-libraries/FailAuctionLibrary.sol":{"keccak256":"0x95b1c746622d4cc08fdcd908aeeea68128133d1b5d9d953b38b9571d31d1ed4f","urls":["bzzr://086477cd43716f90cb9fb1cc9710b0bb42bd26ac6264cd226b5cdd193dbb513d"]},"openzeppelin-solidity/contracts/math/Math.sol":{"keccak256":"0x775160984ceb0931bf67e718fb23afd6fc2a5d38a6e2378ebb438a039ed2269e","urls":["bzzr://209e27ad1c13e3e9b157915e0269ee4c3b6f0a494660dcc4acf1faf102e1a7ad"]},"openzeppelin-solidity/contracts/math/SafeMath.sol":{"keccak256":"0xc2a200a877c4a9b2475c246c54ffecc69ffde3e11af83319c63c2dc5458bac80","urls":["bzzr://c8876e2c39b60f155d748d71d715c8f3903fae5a405ac599adcb6ad2f9a583f9"]},"set-protocol-contract-utils/contracts/lib/CommonMath.sol":{"keccak256":"0x3d1d08c6efc2a973fe2c02ddcb02fd99a8c8eb75f74dcbd93e8e15864eee2b6b","urls":["bzzr://580815dd1cf648a4521d923e59087de21143d9c48115ab71579a1f5a8f3d36af"]}},"version":1}',bytecode:"0x610810610026600b82828239805160001a60731461001957fe5b30600052607381538281f3fe7300000000000000000000000000000000000000003014608060405260043610610051577c010000000000000000000000000000000000000000000000000000000060003504631ab90ff98114610056575b600080fd5b81801561006257600080fd5b5061007661007136600461049e565b61008c565b6040516100839190610750565b60405180910390f35b600060ff82166002146100d4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016100cb90610730565b60405180910390fd5b602084015184516000916100ee919063ffffffff61022f16565b90508042101561012a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016100cb90610740565b600084600001518560200151106101e65784602001518a14156101dd576040517fa57de4cf00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff88169063a57de4cf9061019b908b908e90600401610705565b600060405180830381600087803b1580156101b557600080fd5b505af11580156101c9573d6000803e3d6000fd5b50600092506101d6915050565b90506101e1565b5060035b610222565b881561021e576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016100cb90610720565b5060035b9998505050505050505050565b60008282018381101561024157600080fd5b90505b92915050565b600061025682356107af565b9392505050565b600082601f83011261026e57600080fd5b813561028161027c82610785565b61075e565b915081818352602084019350602081019050838560208402820111156102a657600080fd5b60005b838110156102d257816102bc888261024a565b84525060209283019291909101906001016102a9565b5050505092915050565b600082601f8301126102ed57600080fd5b81356102fb61027c82610785565b9150818183526020840193506020810190508385602084028201111561032057600080fd5b60005b838110156102d257816103368882610486565b8452506020928301929190910190600101610323565b60006080828403121561035e57600080fd5b610368608061075e565b905060006103768484610486565b825250602061038784848301610486565b602083015250604061039b84828501610486565b60408301525060606103af84828501610486565b60608301525092915050565b600060a082840312156103cd57600080fd5b6103d760a061075e565b905060006103e58484610486565b82525060206103f684848301610486565b602083015250604082013567ffffffffffffffff81111561041657600080fd5b610422848285016102dc565b604083015250606082013567ffffffffffffffff81111561044257600080fd5b61044e848285016102dc565b606083015250608082013567ffffffffffffffff81111561046e57600080fd5b61047a8482850161025d565b60808301525092915050565b600061025682356107cd565b600061025682356107d0565b6000806000806000806000610140888a0312156104ba57600080fd5b60006104c68a8a610486565b97505060206104d78a828b01610486565b96505060406104e88a828b0161024a565b95505060606104f98a828b0161024a565b945050608061050a8a828b0161034c565b93505061010088013567ffffffffffffffff81111561052857600080fd5b6105348a828b016103bb565b9250506101206105468a828b01610492565b91505092959891949750929550565b61055e816107af565b82525050565b60006105716057836107a6565b7f526562616c616e63696e67536574546f6b656e2e656e644661696c656441756381527f74696f6e3a2043616e6e6f742062652063616c6c656420696620726562616c6160208201527f6e636520697320766961626c7920636f6d706c65746564000000000000000000604082015260600192915050565b60006105f66059836107a6565b7f526562616c616e636541756374696f6e4d6f64756c652e656e644661696c656481527f41756374696f6e3a20526562616c616e63696e672053657420546f6b656e206d60208201527f75737420626520696e20526562616c616e636520537461746500000000000000604082015260600192915050565b600061067b6057836107a6565b7f526562616c616e636541756374696f6e4d6f64756c652e656e644661696c656481527f41756374696f6e3a2043616e206f6e6c792062652063616c6c6564206166746560208201527f722061756374696f6e2072656163686573207069766f74000000000000000000604082015260600192915050565b61055e816107cd565b61055e816107d0565b604081016107138285610555565b61025660208301846106f3565b6020808252810161024481610564565b60208082528101610244816105e9565b602080825281016102448161066e565b6020810161024482846106fc565b60405181810167ffffffffffffffff8111828210171561077d57600080fd5b604052919050565b600067ffffffffffffffff82111561079c57600080fd5b5060209081020190565b90815260200190565b600073ffffffffffffffffffffffffffffffffffffffff8216610244565b90565b60ff169056fea265627a7a72305820df8e99fcfb8da7285101143009d60332bb1992415dae7fefc9e4cfe2781a69f76c6578706572696d656e74616cf50037",deployedBytecode:"0x7300000000000000000000000000000000000000003014608060405260043610610051577c010000000000000000000000000000000000000000000000000000000060003504631ab90ff98114610056575b600080fd5b81801561006257600080fd5b5061007661007136600461049e565b61008c565b6040516100839190610750565b60405180910390f35b600060ff82166002146100d4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016100cb90610730565b60405180910390fd5b602084015184516000916100ee919063ffffffff61022f16565b90508042101561012a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016100cb90610740565b600084600001518560200151106101e65784602001518a14156101dd576040517fa57de4cf00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff88169063a57de4cf9061019b908b908e90600401610705565b600060405180830381600087803b1580156101b557600080fd5b505af11580156101c9573d6000803e3d6000fd5b50600092506101d6915050565b90506101e1565b5060035b610222565b881561021e576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016100cb90610720565b5060035b9998505050505050505050565b60008282018381101561024157600080fd5b90505b92915050565b600061025682356107af565b9392505050565b600082601f83011261026e57600080fd5b813561028161027c82610785565b61075e565b915081818352602084019350602081019050838560208402820111156102a657600080fd5b60005b838110156102d257816102bc888261024a565b84525060209283019291909101906001016102a9565b5050505092915050565b600082601f8301126102ed57600080fd5b81356102fb61027c82610785565b9150818183526020840193506020810190508385602084028201111561032057600080fd5b60005b838110156102d257816103368882610486565b8452506020928301929190910190600101610323565b60006080828403121561035e57600080fd5b610368608061075e565b905060006103768484610486565b825250602061038784848301610486565b602083015250604061039b84828501610486565b60408301525060606103af84828501610486565b60608301525092915050565b600060a082840312156103cd57600080fd5b6103d760a061075e565b905060006103e58484610486565b82525060206103f684848301610486565b602083015250604082013567ffffffffffffffff81111561041657600080fd5b610422848285016102dc565b604083015250606082013567ffffffffffffffff81111561044257600080fd5b61044e848285016102dc565b606083015250608082013567ffffffffffffffff81111561046e57600080fd5b61047a8482850161025d565b60808301525092915050565b600061025682356107cd565b600061025682356107d0565b6000806000806000806000610140888a0312156104ba57600080fd5b60006104c68a8a610486565b97505060206104d78a828b01610486565b96505060406104e88a828b0161024a565b95505060606104f98a828b0161024a565b945050608061050a8a828b0161034c565b93505061010088013567ffffffffffffffff81111561052857600080fd5b6105348a828b016103bb565b9250506101206105468a828b01610492565b91505092959891949750929550565b61055e816107af565b82525050565b60006105716057836107a6565b7f526562616c616e63696e67536574546f6b656e2e656e644661696c656441756381527f74696f6e3a2043616e6e6f742062652063616c6c656420696620726562616c6160208201527f6e636520697320766961626c7920636f6d706c65746564000000000000000000604082015260600192915050565b60006105f66059836107a6565b7f526562616c616e636541756374696f6e4d6f64756c652e656e644661696c656481527f41756374696f6e3a20526562616c616e63696e672053657420546f6b656e206d60208201527f75737420626520696e20526562616c616e636520537461746500000000000000604082015260600192915050565b600061067b6057836107a6565b7f526562616c616e636541756374696f6e4d6f64756c652e656e644661696c656481527f41756374696f6e3a2043616e206f6e6c792062652063616c6c6564206166746560208201527f722061756374696f6e2072656163686573207069766f74000000000000000000604082015260600192915050565b61055e816107cd565b61055e816107d0565b604081016107138285610555565b61025660208301846106f3565b6020808252810161024481610564565b60208082528101610244816105e9565b602080825281016102448161066e565b6020810161024482846106fc565b60405181810167ffffffffffffffff8111828210171561077d57600080fd5b604052919050565b600067ffffffffffffffff82111561079c57600080fd5b5060209081020190565b90815260200190565b600073ffffffffffffffffffffffffffffffffffffffff8216610244565b90565b60ff169056fea265627a7a72305820df8e99fcfb8da7285101143009d60332bb1992415dae7fefc9e4cfe2781a69f76c6578706572696d656e74616cf50037",sourceMap:"1273:3848:81:-;;132:2:-1;166:7;155:9;146:7;137:37;255:7;249:14;246:1;241:23;235:4;232:33;222:2;;269:9;222:2;293:9;290:1;283:20;323:4;314:7;306:22;347:7;338;331:24",deployedSourceMap:"1273:3848:81:-;;;;;;;;;;;;;;;;;;;;;;;;2235:2884;;8:9:-1;5:2;;;30:1;27;20:12;5:2;-1:-1;2235:2884:81;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;2625:5;2711:61;;;2737:34;2711:61;2690:197;;;;;;;;;;;;;;;;;;;;;;3037:42;;;;2979:40;;2951:25;;2979:110;;:40;:110;:44;:110;:::i;:::-;2951:138;;3195:17;3176:15;:36;;3155:170;;;;;;;;;;;;;;3336:23;3898:18;:29;;;3855:18;:39;;;:72;3851:1227;;4026:18;:39;;;3997:25;:68;3993:595;;;4143:130;;;;;:32;;;;;;:130;;4197:11;;4230:25;;4143:130;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;4143:130:81;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;-1:-1;4378:32:81;;-1:-1:-1;4372:39:81;;-1:-1:-1;;4372:39:81;;4352:59;;3993:595;;;-1:-1:-1;4539:33:81;3993:595;3851:1227;;;4774:26;;4749:172;;;;;;;;;;;;;;-1:-1:-1;5033:33:81;3851:1227;5095:17;2235:2884;-1:-1:-1;;;;;;;;;2235:2884:81:o;1439:145:166:-;1497:7;1528:5;;;1551:6;;;;1543:15;;;;;;1576:1;-1:-1:-1;1439:145:166;;;;;:::o;5:118:-1:-;;72:46;110:6;97:20;72:46;;;63:55;57:66;-1:-1;;;57:66;148:699;;261:3;254:4;246:6;242:17;238:27;228:2;;279:1;276;269:12;228:2;316:6;303:20;338:76;353:60;406:6;353:60;;;338:76;;;329:85;;431:5;456:6;449:5;442:21;486:4;478:6;474:17;464:27;;508:4;503:3;499:14;492:21;;561:6;608:3;600:4;592:6;588:17;583:3;579:27;576:36;573:2;;;625:1;622;615:12;573:2;650:1;635:206;660:6;657:1;654:13;635:206;;;718:3;740:37;773:3;761:10;740:37;;;728:50;;-1:-1;801:4;792:14;;;;820;;;;;682:1;675:9;635:206;;;639:14;221:626;;;;;;;;873:699;;986:3;979:4;971:6;967:17;963:27;953:2;;1004:1;1001;994:12;953:2;1041:6;1028:20;1063:76;1078:60;1131:6;1078:60;;1063:76;1054:85;;1156:5;1181:6;1174:5;1167:21;1211:4;1203:6;1199:17;1189:27;;1233:4;1228:3;1224:14;1217:21;;1286:6;1333:3;1325:4;1317:6;1313:17;1308:3;1304:27;1301:36;1298:2;;;1350:1;1347;1340:12;1298:2;1375:1;1360:206;1385:6;1382:1;1379:13;1360:206;;;1443:3;1465:37;1498:3;1486:10;1465:37;;;1453:50;;-1:-1;1526:4;1517:14;;;;1545;;;;;1407:1;1400:9;1360:206;;1635:821;;1764:4;1752:9;1747:3;1743:19;1739:30;1736:2;;;1782:1;1779;1772:12;1736:2;1800:20;1815:4;1800:20;;;1791:29;-1:-1;1882:1;1913:49;1958:3;1938:9;1913:49;;;1889:74;;-1:-1;2038:2;2071:49;2116:3;2092:22;;;2071:49;;;2064:4;2057:5;2053:16;2046:75;1984:148;2195:2;2228:49;2273:3;2264:6;2253:9;2249:22;2228:49;;;2221:4;2214:5;2210:16;2203:75;2142:147;2352:2;2385:49;2430:3;2421:6;2410:9;2406:22;2385:49;;;2378:4;2371:5;2367:16;2360:75;2299:147;1730:726;;;;;2513:1298;;2637:4;2625:9;2620:3;2616:19;2612:30;2609:2;;;2655:1;2652;2645:12;2609:2;2673:20;2688:4;2673:20;;;2664:29;-1:-1;2749:1;2780:49;2825:3;2805:9;2780:49;;;2756:74;;-1:-1;2907:2;2940:49;2985:3;2961:22;;;2940:49;;;2933:4;2926:5;2922:16;2915:75;2851:150;3095:2;3084:9;3080:18;3067:32;3119:18;3111:6;3108:30;3105:2;;;3151:1;3148;3141:12;3105:2;3186:70;3252:3;3243:6;3232:9;3228:22;3186:70;;;3179:4;3172:5;3168:16;3161:96;3011:257;3362:2;3351:9;3347:18;3334:32;3386:18;3378:6;3375:30;3372:2;;;3418:1;3415;3408:12;3372:2;3453:70;3519:3;3510:6;3499:9;3495:22;3453:70;;;3446:4;3439:5;3435:16;3428:96;3278:257;3627:3;3616:9;3612:19;3599:33;3652:18;3644:6;3641:30;3638:2;;;3684:1;3681;3674:12;3638:2;3719:70;3785:3;3776:6;3765:9;3761:22;3719:70;;;3712:4;3705:5;3701:16;3694:96;3545:256;2603:1208;;;;;3818:118;;3885:46;3923:6;3910:20;3885:46;;3943:114;;4008:44;4044:6;4031:20;4008:44;;4064:1227;;;;;;;;4343:3;4331:9;4322:7;4318:23;4314:33;4311:2;;;4360:1;4357;4350:12;4311:2;4395:1;4412:53;4457:7;4437:9;4412:53;;;4402:63;;4374:97;4502:2;4520:53;4565:7;4556:6;4545:9;4541:22;4520:53;;;4510:63;;4481:98;4610:2;4628:53;4673:7;4664:6;4653:9;4649:22;4628:53;;;4618:63;;4589:98;4718:2;4736:53;4781:7;4772:6;4761:9;4757:22;4736:53;;;4726:63;;4697:98;4826:3;4845:93;4930:7;4921:6;4910:9;4906:22;4845:93;;;4835:103;;4805:139;5003:3;4992:9;4988:19;4975:33;5028:18;5020:6;5017:30;5014:2;;;5060:1;5057;5050:12;5014:2;5080:88;5160:7;5151:6;5140:9;5136:22;5080:88;;;5070:98;;4954:220;5205:3;5224:51;5267:7;5258:6;5247:9;5243:22;5224:51;;;5214:61;;5184:97;4305:986;;;;;;;;;;;5298:120;5381:31;5406:5;5381:31;;;5376:3;5369:44;5363:55;;;5426:566;;5586:67;5650:2;5645:3;5586:67;;;5686:66;5666:87;;5787:66;5782:2;5773:12;;5766:88;5888:66;5883:2;5874:12;;5867:88;5983:2;5974:12;;5572:420;-1:-1;;5572:420;6001:566;;6161:67;6225:2;6220:3;6161:67;;;6261:66;6241:87;;6362:66;6357:2;6348:12;;6341:88;6463:66;6458:2;6449:12;;6442:88;6558:2;6549:12;;6147:420;-1:-1;;6147:420;6576:566;;6736:67;6800:2;6795:3;6736:67;;;6836:66;6816:87;;6937:66;6932:2;6923:12;;6916:88;7038:66;7033:2;7024:12;;7017:88;7133:2;7124:12;;6722:420;-1:-1;;6722:420;7150:120;7233:31;7258:5;7233:31;;7277:122;7364:29;7387:5;7364:29;;7406:324;7552:2;7537:18;;7566:71;7541:9;7610:6;7566:71;;;7648:72;7716:2;7705:9;7701:18;7692:6;7648:72;;7737:407;7928:2;7942:47;;;7913:18;;8003:131;7913:18;8003:131;;8151:407;8342:2;8356:47;;;8327:18;;8417:131;8327:18;8417:131;;8565:407;8756:2;8770:47;;;8741:18;;8831:131;8741:18;8831:131;;8979:221;9101:2;9086:18;;9115:75;9090:9;9163:6;9115:75;;9207:256;9269:2;9263:9;9295:17;;;9370:18;9355:34;;9391:22;;;9352:62;9349:2;;;9427:1;9424;9417:12;9349:2;9443;9436:22;9247:216;;-1:-1;9247:216;9470:254;;9625:18;9617:6;9614:30;9611:2;;;9657:1;9654;9647:12;9611:2;-1:-1;9686:4;9674:17;;;9704:15;;9548:176;9993:163;10096:19;;;10145:4;10136:14;;10089:67;10164:105;;10356:42;10345:54;;10233:31;10328:76;10411:79;10480:5;10463:27;10497:88;10575:4;10564:16;;10547:38",source:'/*\n    Copyright 2018 Set Labs Inc.\n\n    Licensed under the Apache License, Version 2.0 (the "License");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an "AS IS" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n*/\n\npragma solidity 0.5.7;\npragma experimental "ABIEncoderV2";\n\nimport { Math } from "openzeppelin-solidity/contracts/math/Math.sol";\nimport { SafeMath } from "openzeppelin-solidity/contracts/math/SafeMath.sol";\nimport { CommonMath } from "set-protocol-contract-utils/contracts/lib/CommonMath.sol";\n\nimport { ICore } from "../../interfaces/ICore.sol";\nimport { IVault } from "../../interfaces/IVault.sol";\nimport { ISetToken } from "../../interfaces/ISetToken.sol";\nimport { RebalancingLibrary } from "../../lib/RebalancingLibrary.sol";\n\n\n/**\n * @title FailAuctionLibrary\n * @author Set Protocol\n *\n * Default implementation of Rebalancing Set Token endFailedAuction function\n */\nlibrary FailAuctionLibrary {\n    using SafeMath for uint256;\n\n    /**\n     * Fail an auction that doesn\'t complete before reaching the pivot price. Move to Drawdown state\n     * if bids have been placed. Reset to Default state if no bids placed.\n     *\n     * @param _startingCurrentSetAmount     Amount of current set at beginning or rebalance\n     * @param _calculatedUnitShares         Calculated unitShares amount if rebalance were to be settled\n     * @param _currentSet                   The Set that failed to rebalance\n     * @param _coreAddress                  Core address\n     * @param _auctionPriceParameters       Struct containing auction price curve parameters\n     * @param _biddingParameters            Struct containing relevant data for calculating token flows\n     * @param _rebalanceState               State rebalancing set token is in\n     * @return                              State of Rebalancing Set after function called\n     */\n    function endFailedAuction(\n        uint256 _startingCurrentSetAmount,\n        uint256 _calculatedUnitShares,\n        address _currentSet,\n        address _coreAddress,\n        RebalancingLibrary.AuctionPriceParameters memory _auctionPriceParameters,\n        RebalancingLibrary.BiddingParameters memory _biddingParameters,\n        uint8 _rebalanceState\n    )\n        public\n        returns (uint8)\n    {\n        // Token must be in Rebalance State\n        require(\n            _rebalanceState ==  uint8(RebalancingLibrary.State.Rebalance),\n            "RebalanceAuctionModule.endFailedAuction: Rebalancing Set Token must be in Rebalance State"\n        );\n\n        // Calculate timestamp when pivot is reached\n        uint256 revertAuctionTime = _auctionPriceParameters.auctionStartTime.add(\n            _auctionPriceParameters.auctionTimeToPivot\n        );\n\n        // Make sure auction has gone past pivot point\n        require(\n            block.timestamp >= revertAuctionTime,\n            "RebalanceAuctionModule.endFailedAuction: Can only be called after auction reaches pivot"\n        );\n\n        uint8 newRebalanceState;\n        /**\n         * If not enough sets have been bid on then allow auction to fail where no bids being registered\n         * returns the rebalancing set token to pre-auction state and some bids being registered puts the\n         * rebalancing set token in Drawdown mode.\n         *\n         * However, if enough sets have been bid on. Then allow auction to fail and enter Drawdown state if\n         * and only if the calculated post-auction unitShares is equal to 0.\n         */\n        if (_biddingParameters.remainingCurrentSets >= _biddingParameters.minimumBid) {\n            // Check if any bids have been placed\n            if (_startingCurrentSetAmount == _biddingParameters.remainingCurrentSets) {\n                // If bid not placed, reissue current Set\n                ICore(_coreAddress).issueInVault(\n                    _currentSet,\n                    _startingCurrentSetAmount\n                );\n\n                // Set Rebalance Set Token state to Default\n                newRebalanceState = uint8(RebalancingLibrary.State.Default);\n            } else {\n                // Set Rebalancing Set Token to Drawdown state\n                newRebalanceState = uint8(RebalancingLibrary.State.Drawdown);\n            }\n        } else {\n            // If settleRebalance can be called then endFailedAuction can\'t be unless calculatedUnitShares\n            // equals 0\n            require(\n                _calculatedUnitShares == 0,\n                "RebalancingSetToken.endFailedAuction: Cannot be called if rebalance is viably completed"\n            );\n\n            // If calculated unitShares equals 0 set to Drawdown state\n            newRebalanceState = uint8(RebalancingLibrary.State.Drawdown);\n        }\n\n        return newRebalanceState;\n    }\n}\n',sourcePath:"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/tokens/rebalancing-libraries/FailAuctionLibrary.sol",compiler:{name:"solc",version:"0.5.7+commit.6da8b019.Linux.g++"},networks:{},schemaVersion:"3.0.23",updatedAt:"2020-05-05T17:13:36.890Z",devdoc:{author:"Set Protocol * Default implementation of Rebalancing Set Token endFailedAuction function",methods:{"endFailedAuction(uint256,uint256,address,address,RebalancingLibrary.AuctionPriceParameters,RebalancingLibrary.BiddingParameters,uint8)":{params:{_auctionPriceParameters:"Struct containing auction price curve parameters",_biddingParameters:"Struct containing relevant data for calculating token flows",_calculatedUnitShares:"Calculated unitShares amount if rebalance were to be settled",_coreAddress:"Core address",_currentSet:"The Set that failed to rebalance",_rebalanceState:"State rebalancing set token is in",_startingCurrentSetAmount:"Amount of current set at beginning or rebalance"},"return":"State of Rebalancing Set after function called"}},title:"FailAuctionLibrary"},userdoc:{methods:{"endFailedAuction(uint256,uint256,address,address,RebalancingLibrary.AuctionPriceParameters,RebalancingLibrary.BiddingParameters,uint8)":{notice:"Fail an auction that doesn't complete before reaching the pivot price. Move to Drawdown state if bids have been placed. Reset to Default state if no bids placed."}}}};