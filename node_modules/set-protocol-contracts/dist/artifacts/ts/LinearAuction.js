"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LinearAuction={contractName:"LinearAuction",abi:[{constant:true,inputs:[],name:"auctionPeriod",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{inputs:[{name:"_auctionPeriod",type:"uint256"}],payable:false,stateMutability:"nonpayable",type:"constructor"}],metadata:'{"compiler":{"version":"0.5.7+commit.6da8b019"},"language":"Solidity","output":{"abi":[{"constant":true,"inputs":[],"name":"auctionPeriod","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_auctionPeriod","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"}],"devdoc":{"author":"Set Protocol * Library containing utility functions for computing auction Price for a linear price auction.","methods":{"constructor":{"params":{"_auctionPeriod":"Length of auction"}}},"title":"LinearAuction"},"userdoc":{"methods":{"constructor":"LinearAuction constructor"}}},"settings":{"compilationTarget":{"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/LinearAuction.sol":"LinearAuction"},"evmVersion":"byzantium","libraries":{},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ICore.sol":{"keccak256":"0x5dc3db4398630ea52d2a40c9ddfa89d94e65c2770a12bab4d2a5c8eb573fb0a0","urls":["bzzr://25e90b53f61b388e0950b808e2296f82d427b66cfd6021212713436b2a592e31"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IRebalancingSetToken.sol":{"keccak256":"0xe7356a7b0f0cc95d9526395d776f523a48fd65618730d67b4f31f20ffbd380da","urls":["bzzr://605a33a818eff7ce3370f25fccb751f61c066b4db0772605a2215d1357d68072"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ISetToken.sol":{"keccak256":"0xfa6c0c07f8394d89b6b8f72e15778f8452a9341acb20cebb8421f3522aaca1bd","urls":["bzzr://ccf23bb78fd507bf8cbf5cf7ac2a660a1463b87a3689196e42b8f6862d1a6b11"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/Rebalance.sol":{"keccak256":"0x74ffa689d93ced6c6e0377a35ec1274241b6191b5aaac5576ada379ac3840286","urls":["bzzr://25bdda3f1f5adfa2c83c760c44993d250cd2df037360f0018d22d268df79e887"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/RebalancingLibrary.sol":{"keccak256":"0x7f9dd2f95b2ee71a98b94cb9b0df15874aa134e7480d04a1fcf36aff166a55f4","urls":["bzzr://f43a5563ec5df095151eee30cf7a0941b5a971917c27c7b34d9586b36563ab5b"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/SetMath.sol":{"keccak256":"0x4c6762ad3d11c03889df48cc3b26bd199f958deffa651ec30655cd1654a47303","urls":["bzzr://b8e968dd2840d9586babe7852589abff3972135fff299285eaafd31687ae4385"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/Auction.sol":{"keccak256":"0x9010d09660a0cdfc5bc3eb98e6cc127b59d1caec0b55314572017c482be97555","urls":["bzzr://ea4f5d456ca94d8ca2b0b4cbecfcade30f9e718d71d8bb9ddc25db81d29ccc65"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/LinearAuction.sol":{"keccak256":"0x253367c7f2e8870399fcc3c833bf98dc6d6111698418747d9a6b595673917624","urls":["bzzr://b53d7a1098f20a399280bc49355d67613439bc2418e701b5390015aa8e97f0d5"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/AddressArrayUtils.sol":{"keccak256":"0xb716eab4e8c5a336a2f19078928530829af097912bd1b925644f914b63601f08","urls":["bzzr://d8a21d39779beb316adb5180d08dcba1941eeccd9412ff08feb21a631c18c269"]},"openzeppelin-solidity/contracts/math/Math.sol":{"keccak256":"0x775160984ceb0931bf67e718fb23afd6fc2a5d38a6e2378ebb438a039ed2269e","urls":["bzzr://209e27ad1c13e3e9b157915e0269ee4c3b6f0a494660dcc4acf1faf102e1a7ad"]},"openzeppelin-solidity/contracts/math/SafeMath.sol":{"keccak256":"0xc2a200a877c4a9b2475c246c54ffecc69ffde3e11af83319c63c2dc5458bac80","urls":["bzzr://c8876e2c39b60f155d748d71d715c8f3903fae5a405ac599adcb6ad2f9a583f9"]},"set-protocol-oracles/contracts/meta-oracles/interfaces/IOracle.sol":{"keccak256":"0xeb5a447a0b1ef47547ce12a91b72412880edb9690aa9bcd8746fc3a379f2fbe9","urls":["bzzr://261675b916b84f58bea71ec28c4f711291053174ddf47e860c26daaee506744a"]}},"version":1}',bytecode:"0x",deployedBytecode:"0x",sourceMap:"",deployedSourceMap:"",source:'/*\n    Copyright 2019 Set Labs Inc.\n\n    Licensed under the Apache License, Version 2.0 (the "License");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an "AS IS" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n*/\n\npragma solidity 0.5.7;\npragma experimental "ABIEncoderV2";\n\nimport { SafeMath } from "openzeppelin-solidity/contracts/math/SafeMath.sol";\n\nimport { Auction } from "./Auction.sol";\nimport { ISetToken } from "../../interfaces/ISetToken.sol";\nimport { Rebalance } from "../../lib/Rebalance.sol";\n\n\n/**\n * @title LinearAuction\n * @author Set Protocol\n *\n * Library containing utility functions for computing auction Price for a linear price auction.\n */\ncontract LinearAuction is Auction {\n    using SafeMath for uint256;\n\n    /* ============ Structs ============ */\n    struct State {\n        Auction.Setup auction;\n        uint256 endTime;\n        uint256 startPrice;\n        uint256 endPrice;\n    }\n\n    /* ============ State Variables ============ */\n    uint256 public auctionPeriod; // Length in seconds of auction\n\n    /**\n     * LinearAuction constructor\n     *\n     * @param _auctionPeriod          Length of auction\n     */\n    constructor(\n        uint256 _auctionPeriod\n    )\n        public\n    {\n        auctionPeriod = _auctionPeriod;\n    }\n\n    /* ============ Internal Functions ============ */\n\n    /**\n     * Populates the linear auction struct following an auction initiation.\n     *\n     * @param _linearAuction                LinearAuction State object\n     * @param _currentSet                   The Set to rebalance from\n     * @param _nextSet                      The Set to rebalance to\n     * @param _startingCurrentSetQuantity   Quantity of currentSet to rebalance\n     */\n    function initializeLinearAuction(\n        State storage _linearAuction,\n        ISetToken _currentSet,\n        ISetToken _nextSet,\n        uint256 _startingCurrentSetQuantity\n    )\n        internal\n    {\n        initializeAuction(\n            _linearAuction.auction,\n            _currentSet,\n            _nextSet,\n            _startingCurrentSetQuantity\n        );\n\n        uint256 minimumBid = calculateMinimumBid(_linearAuction.auction, _currentSet, _nextSet);\n        \n        // remainingCurrentSets must be greater than minimumBid or no bidding would be allowed\n        require(\n            _startingCurrentSetQuantity.div(minimumBid) >= 100,\n            "Auction.initializeAuction: Minimum bid must be less than or equal to 1% of collateral."\n        );\n\n        _linearAuction.auction.minimumBid = minimumBid;\n\n        _linearAuction.startPrice = calculateStartPrice(_linearAuction.auction, _currentSet, _nextSet);\n        _linearAuction.endPrice = calculateEndPrice(_linearAuction.auction, _currentSet, _nextSet);\n\n        _linearAuction.endTime = block.timestamp.add(auctionPeriod);\n    }\n\n    /* ============ Internal View Functions ============ */\n\n    /**\n     * Returns the TokenFlow based on the current price\n     */\n    function getTokenFlow(\n        State storage _linearAuction,\n        uint256 _quantity\n    )\n        internal\n        view\n        returns (Rebalance.TokenFlow memory)\n    {\n        return Auction.calculateTokenFlow(\n            _linearAuction.auction,\n            _quantity,\n            getPrice(_linearAuction)\n        );        \n    }\n\n    /**\n     * Auction failed is defined the timestamp breacnhing the auction end time and\n     * the auction not being complete\n     */\n    function hasAuctionFailed(State storage _linearAuction) internal view returns(bool) {\n        bool endTimeExceeded = block.timestamp >= _linearAuction.endTime;\n        bool setsNotAuctioned = hasBiddableQuantity(_linearAuction.auction);\n\n        return (endTimeExceeded && setsNotAuctioned);        \n    }\n\n    /**\n     * Returns the price based on the current timestamp. Returns the endPrice\n     * if time has exceeded the auction period\n     *\n     * @param _linearAuction            Linear Auction State object\n     * @return price                    uint representing the current price\n     */\n    function getPrice(State storage _linearAuction) internal view returns (uint256) {\n        uint256 elapsed = block.timestamp.sub(_linearAuction.auction.startTime);\n\n        // If current time has elapsed \n        if (elapsed >= auctionPeriod) {\n            return _linearAuction.endPrice;\n        } else {\n            uint256 range = _linearAuction.endPrice.sub(_linearAuction.startPrice);\n            uint256 elapsedPrice = elapsed.mul(range).div(auctionPeriod);\n\n            return _linearAuction.startPrice.add(elapsedPrice);\n        }\n    }\n\n    /**\n     * Abstract function that must be implemented.\n     * Calculate the minimumBid allowed for the rebalance.\n     *\n     * @param _auction            Auction object\n     * @param _currentSet         The Set to rebalance from\n     * @param _nextSet            The Set to rebalance to\n     * @return                    Minimum bid amount\n     */\n    function calculateMinimumBid(\n        Setup storage _auction,\n        ISetToken _currentSet,\n        ISetToken _nextSet\n    )\n        internal\n        view\n        returns (uint256);\n\n    /**\n     * Abstract function that must be implemented.\n     * Calculates the linear auction start price\n     */\n    function calculateStartPrice(\n        Auction.Setup storage _auction,\n        ISetToken _currentSet,\n        ISetToken _nextSet\n    )\n        internal\n        view\n        returns(uint256);\n\n    /**\n     * Abstract function that must be implemented.\n     * Calculates the linear auction end price\n     */\n    function calculateEndPrice(\n        Auction.Setup storage _auction,\n        ISetToken _currentSet,\n        ISetToken _nextSet\n    )\n        internal\n        view\n        returns(uint256);\n}',sourcePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/LinearAuction.sol",ast:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/LinearAuction.sol",exportedSymbols:{LinearAuction:[8221]},id:8222,nodeType:"SourceUnit",nodes:[{id:7973,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:50"},{id:7974,literals:["experimental","ABIEncoderV2"],nodeType:"PragmaDirective",src:"620:35:50"},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:7976,nodeType:"ImportDirective",scope:8222,sourceUnit:29641,src:"657:77:50",symbolAliases:[{foreign:7975,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/Auction.sol",file:"./Auction.sol",id:7978,nodeType:"ImportDirective",scope:8222,sourceUnit:7972,src:"736:40:50",symbolAliases:[{foreign:7977,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ISetToken.sol",file:"../../interfaces/ISetToken.sol",id:7980,nodeType:"ImportDirective",scope:8222,sourceUnit:5660,src:"777:59:50",symbolAliases:[{foreign:7979,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/Rebalance.sol",file:"../../lib/Rebalance.sol",id:7982,nodeType:"ImportDirective",scope:8222,sourceUnit:6627,src:"837:52:50",symbolAliases:[{foreign:7981,local:null}],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:7983,name:"Auction",nodeType:"UserDefinedTypeName",referencedDeclaration:7971,src:"1073:7:50",typeDescriptions:{typeIdentifier:"t_contract$_Auction_$7971",typeString:"contract Auction"}},id:7984,nodeType:"InheritanceSpecifier",src:"1073:7:50"}],contractDependencies:[7971],contractKind:"contract",documentation:"@title LinearAuction\n@author Set Protocol\n * Library containing utility functions for computing auction Price for a linear price auction.",fullyImplemented:false,id:8221,linearizedBaseContracts:[8221,7971],name:"LinearAuction",nodeType:"ContractDefinition",nodes:[{id:7987,libraryName:{contractScope:null,id:7985,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:29640,src:"1093:8:50",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$29640",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"1087:27:50",typeName:{id:7986,name:"uint256",nodeType:"ElementaryTypeName",src:"1106:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{canonicalName:"LinearAuction.State",id:7996,members:[{constant:false,id:7989,name:"auction",nodeType:"VariableDeclaration",scope:7996,src:"1187:21:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:7988,name:"Auction.Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"1187:13:50",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:7991,name:"endTime",nodeType:"VariableDeclaration",scope:7996,src:"1218:15:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7990,name:"uint256",nodeType:"ElementaryTypeName",src:"1218:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7993,name:"startPrice",nodeType:"VariableDeclaration",scope:7996,src:"1243:18:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7992,name:"uint256",nodeType:"ElementaryTypeName",src:"1243:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7995,name:"endPrice",nodeType:"VariableDeclaration",scope:7996,src:"1271:16:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7994,name:"uint256",nodeType:"ElementaryTypeName",src:"1271:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],name:"State",nodeType:"StructDefinition",scope:8221,src:"1164:130:50",visibility:"public"},{constant:false,id:7998,name:"auctionPeriod",nodeType:"VariableDeclaration",scope:8221,src:"1352:28:50",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7997,name:"uint256",nodeType:"ElementaryTypeName",src:"1352:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"public"},{body:{id:8007,nodeType:"Block",src:"1600:47:50",statements:[{expression:{argumentTypes:null,id:8005,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:8003,name:"auctionPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7998,src:"1610:13:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:8004,name:"_auctionPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8e3,src:"1626:14:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"1610:30:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8006,nodeType:"ExpressionStatement",src:"1610:30:50"}]},documentation:"LinearAuction constructor\n     * @param _auctionPeriod          Length of auction",id:8008,implemented:true,kind:"constructor",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:8001,nodeType:"ParameterList",parameters:[{constant:false,id:8e3,name:"_auctionPeriod",nodeType:"VariableDeclaration",scope:8008,src:"1552:22:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7999,name:"uint256",nodeType:"ElementaryTypeName",src:"1552:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1542:38:50"},returnParameters:{id:8002,nodeType:"ParameterList",parameters:[],src:"1600:0:50"},scope:8221,src:"1531:116:50",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:8086,nodeType:"Block",src:"2299:895:50",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:8020,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8010,src:"2340:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8021,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auction",nodeType:"MemberAccess",referencedDeclaration:7989,src:"2340:22:50",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"}},{argumentTypes:null,id:8022,name:"_currentSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8012,src:"2376:11:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},{argumentTypes:null,id:8023,name:"_nextSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8014,src:"2401:8:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},{argumentTypes:null,id:8024,name:"_startingCurrentSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8016,src:"2423:27:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"},{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:8019,name:"initializeAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7560,src:"2309:17:50",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_struct$_Setup_$7483_storage_ptr_$_t_contract$_ISetToken_$5659_$_t_contract$_ISetToken_$5659_$_t_uint256_$returns$__$",typeString:"function (struct Auction.Setup storage pointer,contract ISetToken,contract ISetToken,uint256)"}},id:8025,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2309:151:50",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:8026,nodeType:"ExpressionStatement",src:"2309:151:50"},{assignments:[8028],declarations:[{constant:false,id:8028,name:"minimumBid",nodeType:"VariableDeclaration",scope:8086,src:"2471:18:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8027,name:"uint256",nodeType:"ElementaryTypeName",src:"2471:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8035,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:8030,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8010,src:"2512:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8031,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auction",nodeType:"MemberAccess",referencedDeclaration:7989,src:"2512:22:50",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"}},{argumentTypes:null,id:8032,name:"_currentSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8012,src:"2536:11:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},{argumentTypes:null,id:8033,name:"_nextSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8014,src:"2549:8:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"},{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}],id:8029,name:"calculateMinimumBid",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8198,src:"2492:19:50",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$_t_contract$_ISetToken_$5659_$_t_contract$_ISetToken_$5659_$returns$_t_uint256_$",typeString:"function (struct Auction.Setup storage pointer,contract ISetToken,contract ISetToken) view returns (uint256)"}},id:8034,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2492:66:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"2471:87:50"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:8042,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8039,name:"minimumBid",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8028,src:"2725:10:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8037,name:"_startingCurrentSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8016,src:"2693:27:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8038,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"2693:31:50",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8040,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2693:43:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">=",rightExpression:{argumentTypes:null,hexValue:"313030",id:8041,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2740:3:50",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_100_by_1",typeString:"int_const 100"},value:"100"},src:"2693:50:50",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"41756374696f6e2e696e697469616c697a6541756374696f6e3a204d696e696d756d20626964206d757374206265206c657373207468616e206f7220657175616c20746f203125206f6620636f6c6c61746572616c2e",id:8043,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"2757:88:50",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_c5a98650fa3133d1a816f1d4665fd4280440d072ca793f851e506598d48060ad",typeString:'literal_string "Auction.initializeAuction: Minimum bid must be less than or equal to 1% of collateral."'},value:"Auction.initializeAuction: Minimum bid must be less than or equal to 1% of collateral."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_c5a98650fa3133d1a816f1d4665fd4280440d072ca793f851e506598d48060ad",typeString:'literal_string "Auction.initializeAuction: Minimum bid must be less than or equal to 1% of collateral."'}],id:8036,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"2672:7:50",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:8044,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2672:183:50",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:8045,nodeType:"ExpressionStatement",src:"2672:183:50"},{expression:{argumentTypes:null,id:8052,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,expression:{argumentTypes:null,id:8046,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8010,src:"2866:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8049,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auction",nodeType:"MemberAccess",referencedDeclaration:7989,src:"2866:22:50",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"}},id:8050,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"minimumBid",nodeType:"MemberAccess",referencedDeclaration:7467,src:"2866:33:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:8051,name:"minimumBid",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8028,src:"2902:10:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2866:46:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8053,nodeType:"ExpressionStatement",src:"2866:46:50"},{expression:{argumentTypes:null,id:8063,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:8054,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8010,src:"2923:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8056,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"startPrice",nodeType:"MemberAccess",referencedDeclaration:7993,src:"2923:25:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:8058,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8010,src:"2971:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8059,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auction",nodeType:"MemberAccess",referencedDeclaration:7989,src:"2971:22:50",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"}},{argumentTypes:null,id:8060,name:"_currentSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8012,src:"2995:11:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},{argumentTypes:null,id:8061,name:"_nextSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8014,src:"3008:8:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"},{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}],id:8057,name:"calculateStartPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8209,src:"2951:19:50",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$_t_contract$_ISetToken_$5659_$_t_contract$_ISetToken_$5659_$returns$_t_uint256_$",typeString:"function (struct Auction.Setup storage pointer,contract ISetToken,contract ISetToken) view returns (uint256)"}},id:8062,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2951:66:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2923:94:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8064,nodeType:"ExpressionStatement",src:"2923:94:50"},{expression:{argumentTypes:null,id:8074,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:8065,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8010,src:"3027:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8067,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"endPrice",nodeType:"MemberAccess",referencedDeclaration:7995,src:"3027:23:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:8069,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8010,src:"3071:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8070,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auction",nodeType:"MemberAccess",referencedDeclaration:7989,src:"3071:22:50",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"}},{argumentTypes:null,id:8071,name:"_currentSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8012,src:"3095:11:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},{argumentTypes:null,id:8072,name:"_nextSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8014,src:"3108:8:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"},{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}],id:8068,name:"calculateEndPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8220,src:"3053:17:50",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$_t_contract$_ISetToken_$5659_$_t_contract$_ISetToken_$5659_$returns$_t_uint256_$",
typeString:"function (struct Auction.Setup storage pointer,contract ISetToken,contract ISetToken) view returns (uint256)"}},id:8073,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3053:64:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"3027:90:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8075,nodeType:"ExpressionStatement",src:"3027:90:50"},{expression:{argumentTypes:null,id:8084,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:8076,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8010,src:"3128:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8078,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"endTime",nodeType:"MemberAccess",referencedDeclaration:7991,src:"3128:22:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:8082,name:"auctionPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7998,src:"3173:13:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:8079,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"3153:5:50",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:8080,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"3153:15:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8081,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:29619,src:"3153:19:50",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8083,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3153:34:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"3128:59:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8085,nodeType:"ExpressionStatement",src:"3128:59:50"}]},documentation:"Populates the linear auction struct following an auction initiation.\n     * @param _linearAuction                LinearAuction State object\n@param _currentSet                   The Set to rebalance from\n@param _nextSet                      The Set to rebalance to\n@param _startingCurrentSetQuantity   Quantity of currentSet to rebalance",id:8087,implemented:true,kind:"function",modifiers:[],name:"initializeLinearAuction",nodeType:"FunctionDefinition",parameters:{id:8017,nodeType:"ParameterList",parameters:[{constant:false,id:8010,name:"_linearAuction",nodeType:"VariableDeclaration",scope:8087,src:"2139:28:50",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State"},typeName:{contractScope:null,id:8009,name:"State",nodeType:"UserDefinedTypeName",referencedDeclaration:7996,src:"2139:5:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State"}},value:null,visibility:"internal"},{constant:false,id:8012,name:"_currentSet",nodeType:"VariableDeclaration",scope:8087,src:"2177:21:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8011,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"2177:9:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:8014,name:"_nextSet",nodeType:"VariableDeclaration",scope:8087,src:"2208:18:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8013,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"2208:9:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:8016,name:"_startingCurrentSetQuantity",nodeType:"VariableDeclaration",scope:8087,src:"2236:35:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8015,name:"uint256",nodeType:"ElementaryTypeName",src:"2236:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"2129:148:50"},returnParameters:{id:8018,nodeType:"ParameterList",parameters:[],src:"2299:0:50"},scope:8221,src:"2097:1097:50",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:8106,nodeType:"Block",src:"3505:165:50",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:8098,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8089,src:"3562:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8099,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auction",nodeType:"MemberAccess",referencedDeclaration:7989,src:"3562:22:50",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"}},{argumentTypes:null,id:8100,name:"_quantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8091,src:"3598:9:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:8102,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8089,src:"3630:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}],id:8101,name:"getPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8187,src:"3621:8:50",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_State_$7996_storage_ptr_$returns$_t_uint256_$",typeString:"function (struct LinearAuction.State storage pointer) view returns (uint256)"}},id:8103,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3621:24:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8096,name:"Auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7971,src:"3522:7:50",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_Auction_$7971_$",typeString:"type(contract Auction)"}},id:8097,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"calculateTokenFlow",nodeType:"MemberAccess",referencedDeclaration:7738,src:"3522:26:50",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$_t_uint256_$_t_uint256_$returns$_t_struct$_TokenFlow_$6521_memory_ptr_$",typeString:"function (struct Auction.Setup storage pointer,uint256,uint256) view returns (struct Rebalance.TokenFlow memory)"}},id:8104,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3522:133:50",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory_ptr",typeString:"struct Rebalance.TokenFlow memory"}},functionReturnParameters:8095,id:8105,nodeType:"Return",src:"3515:140:50"}]},documentation:"Returns the TokenFlow based on the current price",id:8107,implemented:true,kind:"function",modifiers:[],name:"getTokenFlow",nodeType:"FunctionDefinition",parameters:{id:8092,nodeType:"ParameterList",parameters:[{constant:false,id:8089,name:"_linearAuction",nodeType:"VariableDeclaration",scope:8107,src:"3364:28:50",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State"},typeName:{contractScope:null,id:8088,name:"State",nodeType:"UserDefinedTypeName",referencedDeclaration:7996,src:"3364:5:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State"}},value:null,visibility:"internal"},{constant:false,id:8091,name:"_quantity",nodeType:"VariableDeclaration",scope:8107,src:"3402:17:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8090,name:"uint256",nodeType:"ElementaryTypeName",src:"3402:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"3354:71:50"},returnParameters:{id:8095,nodeType:"ParameterList",parameters:[{constant:false,id:8094,name:"",nodeType:"VariableDeclaration",scope:8107,src:"3473:26:50",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory_ptr",typeString:"struct Rebalance.TokenFlow"},typeName:{contractScope:null,id:8093,name:"Rebalance.TokenFlow",nodeType:"UserDefinedTypeName",referencedDeclaration:6521,src:"3473:19:50",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_storage_ptr",typeString:"struct Rebalance.TokenFlow"}},value:null,visibility:"internal"}],src:"3472:28:50"},scope:8221,src:"3333:337:50",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:8134,nodeType:"Block",src:"3897:221:50",statements:[{assignments:[8115],declarations:[{constant:false,id:8115,name:"endTimeExceeded",nodeType:"VariableDeclaration",scope:8134,src:"3907:20:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:8114,name:"bool",nodeType:"ElementaryTypeName",src:"3907:4:50",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],id:8121,initialValue:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:8120,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8116,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"3930:5:50",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:8117,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"3930:15:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">=",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8118,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8109,src:"3949:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8119,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"endTime",nodeType:"MemberAccess",referencedDeclaration:7991,src:"3949:22:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"3930:41:50",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"VariableDeclarationStatement",src:"3907:64:50"},{assignments:[8123],declarations:[{constant:false,id:8123,name:"setsNotAuctioned",nodeType:"VariableDeclaration",scope:8134,src:"3981:21:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:8122,name:"bool",nodeType:"ElementaryTypeName",src:"3981:4:50",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],id:8128,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:8125,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8109,src:"4025:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8126,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auction",nodeType:"MemberAccess",referencedDeclaration:7989,src:"4025:22:50",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"}],id:8124,name:"hasBiddableQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7633,src:"4005:19:50",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$returns$_t_bool_$",typeString:"function (struct Auction.Setup storage pointer) view returns (bool)"}},id:8127,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4005:43:50",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"VariableDeclarationStatement",src:"3981:67:50"},{expression:{argumentTypes:null,components:[{argumentTypes:null,commonType:{typeIdentifier:"t_bool",typeString:"bool"},id:8131,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:8129,name:"endTimeExceeded",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8115,src:"4067:15:50",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"BinaryOperation",operator:"&&",rightExpression:{argumentTypes:null,id:8130,name:"setsNotAuctioned",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8123,src:"4086:16:50",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"4067:35:50",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],id:8132,isConstant:false,isInlineArray:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"TupleExpression",src:"4066:37:50",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},functionReturnParameters:8113,id:8133,nodeType:"Return",src:"4059:44:50"}]},documentation:"Auction failed is defined the timestamp breacnhing the auction end time and\nthe auction not being complete",id:8135,implemented:true,kind:"function",modifiers:[],name:"hasAuctionFailed",nodeType:"FunctionDefinition",parameters:{id:8110,nodeType:"ParameterList",parameters:[{constant:false,id:8109,name:"_linearAuction",nodeType:"VariableDeclaration",scope:8135,src:"3839:28:50",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State"},typeName:{contractScope:null,id:8108,name:"State",nodeType:"UserDefinedTypeName",referencedDeclaration:7996,src:"3839:5:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State"}},value:null,visibility:"internal"}],src:"3838:30:50"},returnParameters:{id:8113,nodeType:"ParameterList",parameters:[{constant:false,id:8112,name:"",nodeType:"VariableDeclaration",scope:8135,src:"3891:4:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:8111,name:"bool",nodeType:"ElementaryTypeName",src:"3891:4:50",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"3890:6:50"},scope:8221,src:"3813:305:50",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:8186,nodeType:"Block",src:"4496:463:50",statements:[{assignments:[8143],declarations:[{constant:false,id:8143,name:"elapsed",nodeType:"VariableDeclaration",scope:8186,src:"4506:15:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8142,name:"uint256",nodeType:"ElementaryTypeName",src:"4506:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8151,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,expression:{argumentTypes:null,id:8147,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8137,src:"4544:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8148,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auction",nodeType:"MemberAccess",referencedDeclaration:7989,src:"4544:22:50",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"}},id:8149,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"startTime",nodeType:"MemberAccess",referencedDeclaration:7469,src:"4544:32:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:8144,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"4524:5:50",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:8145,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"4524:15:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8146,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"4524:19:50",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8150,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4524:53:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"4506:71:50"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:8154,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:8152,name:"elapsed",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8143,src:"4632:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">=",rightExpression:{argumentTypes:null,id:8153,name:"auctionPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7998,src:"4643:13:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"4632:24:50",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:8184,nodeType:"Block",src:"4719:234:50",statements:[{assignments:[8160],declarations:[{constant:false,id:8160,name:"range",nodeType:"VariableDeclaration",scope:8184,src:"4733:13:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8159,name:"uint256",nodeType:"ElementaryTypeName",src:"4733:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8167,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:8164,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8137,src:"4777:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8165,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"startPrice",nodeType:"MemberAccess",referencedDeclaration:7993,src:"4777:25:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:8161,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8137,src:"4749:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8162,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"endPrice",nodeType:"MemberAccess",referencedDeclaration:7995,src:"4749:23:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8163,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"4749:27:50",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8166,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4749:54:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"4733:70:50"},{assignments:[8169],declarations:[{constant:false,id:8169,name:"elapsedPrice",nodeType:"VariableDeclaration",scope:8184,src:"4817:20:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8168,name:"uint256",nodeType:"ElementaryTypeName",src:"4817:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8177,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:8175,name:"auctionPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7998,src:"4863:13:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8172,name:"range",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8160,src:"4852:5:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8170,name:"elapsed",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8143,src:"4840:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8171,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"4840:11:50",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8173,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4840:18:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8174,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"4840:22:50",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8176,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4840:37:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"4817:60:50"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8181,name:"elapsedPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8169,src:"4929:12:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:8178,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8137,src:"4899:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8179,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"startPrice",nodeType:"MemberAccess",referencedDeclaration:7993,src:"4899:25:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8180,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:29619,src:"4899:29:50",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8182,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4899:43:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:8141,id:8183,nodeType:"Return",src:"4892:50:50"}]},id:8185,nodeType:"IfStatement",src:"4628:325:50",trueBody:{id:8158,nodeType:"Block",src:"4658:55:50",statements:[{expression:{argumentTypes:null,expression:{argumentTypes:null,id:8155,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8137,src:"4679:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8156,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"endPrice",nodeType:"MemberAccess",referencedDeclaration:7995,src:"4679:23:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:8141,id:8157,nodeType:"Return",src:"4672:30:50"}]}}]},documentation:"Returns the price based on the current timestamp. Returns the endPrice\nif time has exceeded the auction period\n     * @param _linearAuction            Linear Auction State object\n@return price                    uint representing the current price",id:8187,implemented:true,kind:"function",modifiers:[],name:"getPrice",nodeType:"FunctionDefinition",parameters:{id:8138,nodeType:"ParameterList",parameters:[{constant:false,id:8137,name:"_linearAuction",nodeType:"VariableDeclaration",scope:8187,src:"4434:28:50",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State"},typeName:{contractScope:null,id:8136,name:"State",nodeType:"UserDefinedTypeName",referencedDeclaration:7996,src:"4434:5:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State"}},value:null,visibility:"internal"}],src:"4433:30:50"},returnParameters:{id:8141,nodeType:"ParameterList",parameters:[{constant:false,id:8140,name:"",nodeType:"VariableDeclaration",scope:8187,src:"4487:7:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8139,name:"uint256",nodeType:"ElementaryTypeName",src:"4487:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"4486:9:50"},scope:8221,src:"4416:543:50",stateMutability:"view",superFunction:null,visibility:"internal"},{body:null,documentation:"Abstract function that must be implemented.\nCalculate the minimumBid allowed for the rebalance.\n     * @param _auction            Auction object\n@param _currentSet         The Set to rebalance from\n@param _nextSet            The Set to rebalance to\n@return                    Minimum bid amount",id:8198,implemented:false,kind:"function",modifiers:[],name:"calculateMinimumBid",nodeType:"FunctionDefinition",parameters:{id:8194,nodeType:"ParameterList",parameters:[{constant:false,id:8189,name:"_auction",nodeType:"VariableDeclaration",scope:8198,src:"5356:22:50",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:8188,name:"Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"5356:5:50",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:8191,name:"_currentSet",nodeType:"VariableDeclaration",scope:8198,src:"5388:21:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8190,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"5388:9:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:8193,name:"_nextSet",nodeType:"VariableDeclaration",scope:8198,src:"5419:18:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8192,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"5419:9:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"}],src:"5346:97:50"},returnParameters:{id:8197,nodeType:"ParameterList",parameters:[{constant:false,id:8196,name:"",nodeType:"VariableDeclaration",scope:8198,src:"5491:7:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8195,name:"uint256",nodeType:"ElementaryTypeName",src:"5491:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"5490:9:50"},scope:8221,src:"5318:182:50",stateMutability:"view",superFunction:null,visibility:"internal"},{body:null,documentation:"Abstract function that must be implemented.\nCalculates the linear auction start price",id:8209,implemented:false,kind:"function",modifiers:[],name:"calculateStartPrice",nodeType:"FunctionDefinition",parameters:{id:8205,nodeType:"ParameterList",parameters:[{constant:false,id:8200,name:"_auction",nodeType:"VariableDeclaration",scope:8209,src:"5660:30:50",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:8199,name:"Auction.Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"5660:13:50",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:8202,name:"_currentSet",nodeType:"VariableDeclaration",scope:8209,src:"5700:21:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8201,
name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"5700:9:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:8204,name:"_nextSet",nodeType:"VariableDeclaration",scope:8209,src:"5731:18:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8203,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"5731:9:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"}],src:"5650:105:50"},returnParameters:{id:8208,nodeType:"ParameterList",parameters:[{constant:false,id:8207,name:"",nodeType:"VariableDeclaration",scope:8209,src:"5802:7:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8206,name:"uint256",nodeType:"ElementaryTypeName",src:"5802:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"5801:9:50"},scope:8221,src:"5622:189:50",stateMutability:"view",superFunction:null,visibility:"internal"},{body:null,documentation:"Abstract function that must be implemented.\nCalculates the linear auction end price",id:8220,implemented:false,kind:"function",modifiers:[],name:"calculateEndPrice",nodeType:"FunctionDefinition",parameters:{id:8216,nodeType:"ParameterList",parameters:[{constant:false,id:8211,name:"_auction",nodeType:"VariableDeclaration",scope:8220,src:"5967:30:50",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:8210,name:"Auction.Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"5967:13:50",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:8213,name:"_currentSet",nodeType:"VariableDeclaration",scope:8220,src:"6007:21:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8212,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"6007:9:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:8215,name:"_nextSet",nodeType:"VariableDeclaration",scope:8220,src:"6038:18:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8214,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"6038:9:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"}],src:"5957:105:50"},returnParameters:{id:8219,nodeType:"ParameterList",parameters:[{constant:false,id:8218,name:"",nodeType:"VariableDeclaration",scope:8220,src:"6109:7:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8217,name:"uint256",nodeType:"ElementaryTypeName",src:"6109:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"6108:9:50"},scope:8221,src:"5931:187:50",stateMutability:"view",superFunction:null,visibility:"internal"}],scope:8222,src:"1047:5073:50"}],src:"597:5523:50"},legacyAST:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/LinearAuction.sol",exportedSymbols:{LinearAuction:[8221]},id:8222,nodeType:"SourceUnit",nodes:[{id:7973,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:50"},{id:7974,literals:["experimental","ABIEncoderV2"],nodeType:"PragmaDirective",src:"620:35:50"},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:7976,nodeType:"ImportDirective",scope:8222,sourceUnit:29641,src:"657:77:50",symbolAliases:[{foreign:7975,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/Auction.sol",file:"./Auction.sol",id:7978,nodeType:"ImportDirective",scope:8222,sourceUnit:7972,src:"736:40:50",symbolAliases:[{foreign:7977,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ISetToken.sol",file:"../../interfaces/ISetToken.sol",id:7980,nodeType:"ImportDirective",scope:8222,sourceUnit:5660,src:"777:59:50",symbolAliases:[{foreign:7979,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/Rebalance.sol",file:"../../lib/Rebalance.sol",id:7982,nodeType:"ImportDirective",scope:8222,sourceUnit:6627,src:"837:52:50",symbolAliases:[{foreign:7981,local:null}],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:7983,name:"Auction",nodeType:"UserDefinedTypeName",referencedDeclaration:7971,src:"1073:7:50",typeDescriptions:{typeIdentifier:"t_contract$_Auction_$7971",typeString:"contract Auction"}},id:7984,nodeType:"InheritanceSpecifier",src:"1073:7:50"}],contractDependencies:[7971],contractKind:"contract",documentation:"@title LinearAuction\n@author Set Protocol\n * Library containing utility functions for computing auction Price for a linear price auction.",fullyImplemented:false,id:8221,linearizedBaseContracts:[8221,7971],name:"LinearAuction",nodeType:"ContractDefinition",nodes:[{id:7987,libraryName:{contractScope:null,id:7985,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:29640,src:"1093:8:50",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$29640",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"1087:27:50",typeName:{id:7986,name:"uint256",nodeType:"ElementaryTypeName",src:"1106:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{canonicalName:"LinearAuction.State",id:7996,members:[{constant:false,id:7989,name:"auction",nodeType:"VariableDeclaration",scope:7996,src:"1187:21:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:7988,name:"Auction.Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"1187:13:50",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:7991,name:"endTime",nodeType:"VariableDeclaration",scope:7996,src:"1218:15:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7990,name:"uint256",nodeType:"ElementaryTypeName",src:"1218:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7993,name:"startPrice",nodeType:"VariableDeclaration",scope:7996,src:"1243:18:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7992,name:"uint256",nodeType:"ElementaryTypeName",src:"1243:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:7995,name:"endPrice",nodeType:"VariableDeclaration",scope:7996,src:"1271:16:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7994,name:"uint256",nodeType:"ElementaryTypeName",src:"1271:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],name:"State",nodeType:"StructDefinition",scope:8221,src:"1164:130:50",visibility:"public"},{constant:false,id:7998,name:"auctionPeriod",nodeType:"VariableDeclaration",scope:8221,src:"1352:28:50",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7997,name:"uint256",nodeType:"ElementaryTypeName",src:"1352:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"public"},{body:{id:8007,nodeType:"Block",src:"1600:47:50",statements:[{expression:{argumentTypes:null,id:8005,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:8003,name:"auctionPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7998,src:"1610:13:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:8004,name:"_auctionPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8e3,src:"1626:14:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"1610:30:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8006,nodeType:"ExpressionStatement",src:"1610:30:50"}]},documentation:"LinearAuction constructor\n     * @param _auctionPeriod          Length of auction",id:8008,implemented:true,kind:"constructor",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:8001,nodeType:"ParameterList",parameters:[{constant:false,id:8e3,name:"_auctionPeriod",nodeType:"VariableDeclaration",scope:8008,src:"1552:22:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7999,name:"uint256",nodeType:"ElementaryTypeName",src:"1552:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1542:38:50"},returnParameters:{id:8002,nodeType:"ParameterList",parameters:[],src:"1600:0:50"},scope:8221,src:"1531:116:50",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:8086,nodeType:"Block",src:"2299:895:50",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:8020,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8010,src:"2340:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8021,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auction",nodeType:"MemberAccess",referencedDeclaration:7989,src:"2340:22:50",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"}},{argumentTypes:null,id:8022,name:"_currentSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8012,src:"2376:11:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},{argumentTypes:null,id:8023,name:"_nextSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8014,src:"2401:8:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},{argumentTypes:null,id:8024,name:"_startingCurrentSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8016,src:"2423:27:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"},{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:8019,name:"initializeAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7560,src:"2309:17:50",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_struct$_Setup_$7483_storage_ptr_$_t_contract$_ISetToken_$5659_$_t_contract$_ISetToken_$5659_$_t_uint256_$returns$__$",typeString:"function (struct Auction.Setup storage pointer,contract ISetToken,contract ISetToken,uint256)"}},id:8025,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2309:151:50",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:8026,nodeType:"ExpressionStatement",src:"2309:151:50"},{assignments:[8028],declarations:[{constant:false,id:8028,name:"minimumBid",nodeType:"VariableDeclaration",scope:8086,src:"2471:18:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8027,name:"uint256",nodeType:"ElementaryTypeName",src:"2471:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8035,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:8030,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8010,src:"2512:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8031,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auction",nodeType:"MemberAccess",referencedDeclaration:7989,src:"2512:22:50",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"}},{argumentTypes:null,id:8032,name:"_currentSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8012,src:"2536:11:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},{argumentTypes:null,id:8033,name:"_nextSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8014,src:"2549:8:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"},{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}],id:8029,name:"calculateMinimumBid",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8198,src:"2492:19:50",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$_t_contract$_ISetToken_$5659_$_t_contract$_ISetToken_$5659_$returns$_t_uint256_$",typeString:"function (struct Auction.Setup storage pointer,contract ISetToken,contract ISetToken) view returns (uint256)"}},id:8034,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2492:66:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"2471:87:50"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:8042,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8039,name:"minimumBid",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8028,src:"2725:10:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8037,name:"_startingCurrentSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8016,src:"2693:27:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8038,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"2693:31:50",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8040,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2693:43:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">=",rightExpression:{argumentTypes:null,hexValue:"313030",id:8041,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2740:3:50",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_100_by_1",typeString:"int_const 100"},value:"100"},src:"2693:50:50",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"41756374696f6e2e696e697469616c697a6541756374696f6e3a204d696e696d756d20626964206d757374206265206c657373207468616e206f7220657175616c20746f203125206f6620636f6c6c61746572616c2e",id:8043,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"2757:88:50",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_c5a98650fa3133d1a816f1d4665fd4280440d072ca793f851e506598d48060ad",typeString:'literal_string "Auction.initializeAuction: Minimum bid must be less than or equal to 1% of collateral."'},value:"Auction.initializeAuction: Minimum bid must be less than or equal to 1% of collateral."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_c5a98650fa3133d1a816f1d4665fd4280440d072ca793f851e506598d48060ad",typeString:'literal_string "Auction.initializeAuction: Minimum bid must be less than or equal to 1% of collateral."'}],id:8036,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"2672:7:50",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:8044,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2672:183:50",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:8045,nodeType:"ExpressionStatement",src:"2672:183:50"},{expression:{argumentTypes:null,id:8052,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,expression:{argumentTypes:null,id:8046,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8010,src:"2866:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8049,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auction",nodeType:"MemberAccess",referencedDeclaration:7989,src:"2866:22:50",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"}},id:8050,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"minimumBid",nodeType:"MemberAccess",referencedDeclaration:7467,src:"2866:33:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:8051,name:"minimumBid",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8028,src:"2902:10:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2866:46:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8053,nodeType:"ExpressionStatement",src:"2866:46:50"},{expression:{argumentTypes:null,id:8063,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:8054,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8010,src:"2923:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8056,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"startPrice",nodeType:"MemberAccess",referencedDeclaration:7993,src:"2923:25:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:8058,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8010,src:"2971:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8059,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auction",nodeType:"MemberAccess",referencedDeclaration:7989,src:"2971:22:50",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"}},{argumentTypes:null,id:8060,name:"_currentSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8012,src:"2995:11:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},{argumentTypes:null,id:8061,name:"_nextSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8014,src:"3008:8:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"},{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}],id:8057,name:"calculateStartPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8209,src:"2951:19:50",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$_t_contract$_ISetToken_$5659_$_t_contract$_ISetToken_$5659_$returns$_t_uint256_$",typeString:"function (struct Auction.Setup storage pointer,contract ISetToken,contract ISetToken) view returns (uint256)"}},id:8062,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2951:66:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2923:94:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8064,nodeType:"ExpressionStatement",src:"2923:94:50"},{expression:{argumentTypes:null,id:8074,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:8065,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8010,src:"3027:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8067,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"endPrice",nodeType:"MemberAccess",referencedDeclaration:7995,src:"3027:23:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:8069,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8010,src:"3071:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8070,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auction",nodeType:"MemberAccess",referencedDeclaration:7989,src:"3071:22:50",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"}},{argumentTypes:null,id:8071,name:"_currentSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8012,src:"3095:11:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},{argumentTypes:null,id:8072,name:"_nextSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8014,src:"3108:8:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"},{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}],id:8068,name:"calculateEndPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8220,src:"3053:17:50",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$_t_contract$_ISetToken_$5659_$_t_contract$_ISetToken_$5659_$returns$_t_uint256_$",typeString:"function (struct Auction.Setup storage pointer,contract ISetToken,contract ISetToken) view returns (uint256)"}},id:8073,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3053:64:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"3027:90:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8075,nodeType:"ExpressionStatement",src:"3027:90:50"},{expression:{argumentTypes:null,id:8084,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:8076,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8010,src:"3128:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8078,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"endTime",nodeType:"MemberAccess",referencedDeclaration:7991,src:"3128:22:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:8082,name:"auctionPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7998,src:"3173:13:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:8079,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"3153:5:50",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:8080,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"3153:15:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8081,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:29619,src:"3153:19:50",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8083,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3153:34:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"3128:59:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8085,nodeType:"ExpressionStatement",src:"3128:59:50"}]},documentation:"Populates the linear auction struct following an auction initiation.\n     * @param _linearAuction                LinearAuction State object\n@param _currentSet                   The Set to rebalance from\n@param _nextSet                      The Set to rebalance to\n@param _startingCurrentSetQuantity   Quantity of currentSet to rebalance",id:8087,implemented:true,kind:"function",modifiers:[],name:"initializeLinearAuction",nodeType:"FunctionDefinition",parameters:{id:8017,nodeType:"ParameterList",parameters:[{constant:false,id:8010,name:"_linearAuction",nodeType:"VariableDeclaration",scope:8087,src:"2139:28:50",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State"},typeName:{contractScope:null,id:8009,name:"State",nodeType:"UserDefinedTypeName",referencedDeclaration:7996,src:"2139:5:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State"}},value:null,visibility:"internal"},{constant:false,id:8012,name:"_currentSet",nodeType:"VariableDeclaration",scope:8087,src:"2177:21:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8011,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"2177:9:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:8014,name:"_nextSet",nodeType:"VariableDeclaration",scope:8087,src:"2208:18:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8013,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"2208:9:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:8016,name:"_startingCurrentSetQuantity",nodeType:"VariableDeclaration",scope:8087,src:"2236:35:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8015,name:"uint256",nodeType:"ElementaryTypeName",src:"2236:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"2129:148:50"},returnParameters:{id:8018,nodeType:"ParameterList",parameters:[],src:"2299:0:50"},scope:8221,src:"2097:1097:50",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:8106,nodeType:"Block",src:"3505:165:50",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:8098,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8089,src:"3562:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8099,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auction",nodeType:"MemberAccess",referencedDeclaration:7989,src:"3562:22:50",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"}},{argumentTypes:null,id:8100,name:"_quantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8091,src:"3598:9:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:8102,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8089,src:"3630:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}],id:8101,name:"getPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8187,src:"3621:8:50",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_State_$7996_storage_ptr_$returns$_t_uint256_$",typeString:"function (struct LinearAuction.State storage pointer) view returns (uint256)"}},id:8103,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,
names:[],nodeType:"FunctionCall",src:"3621:24:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8096,name:"Auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7971,src:"3522:7:50",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_Auction_$7971_$",typeString:"type(contract Auction)"}},id:8097,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"calculateTokenFlow",nodeType:"MemberAccess",referencedDeclaration:7738,src:"3522:26:50",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$_t_uint256_$_t_uint256_$returns$_t_struct$_TokenFlow_$6521_memory_ptr_$",typeString:"function (struct Auction.Setup storage pointer,uint256,uint256) view returns (struct Rebalance.TokenFlow memory)"}},id:8104,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3522:133:50",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory_ptr",typeString:"struct Rebalance.TokenFlow memory"}},functionReturnParameters:8095,id:8105,nodeType:"Return",src:"3515:140:50"}]},documentation:"Returns the TokenFlow based on the current price",id:8107,implemented:true,kind:"function",modifiers:[],name:"getTokenFlow",nodeType:"FunctionDefinition",parameters:{id:8092,nodeType:"ParameterList",parameters:[{constant:false,id:8089,name:"_linearAuction",nodeType:"VariableDeclaration",scope:8107,src:"3364:28:50",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State"},typeName:{contractScope:null,id:8088,name:"State",nodeType:"UserDefinedTypeName",referencedDeclaration:7996,src:"3364:5:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State"}},value:null,visibility:"internal"},{constant:false,id:8091,name:"_quantity",nodeType:"VariableDeclaration",scope:8107,src:"3402:17:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8090,name:"uint256",nodeType:"ElementaryTypeName",src:"3402:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"3354:71:50"},returnParameters:{id:8095,nodeType:"ParameterList",parameters:[{constant:false,id:8094,name:"",nodeType:"VariableDeclaration",scope:8107,src:"3473:26:50",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory_ptr",typeString:"struct Rebalance.TokenFlow"},typeName:{contractScope:null,id:8093,name:"Rebalance.TokenFlow",nodeType:"UserDefinedTypeName",referencedDeclaration:6521,src:"3473:19:50",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_storage_ptr",typeString:"struct Rebalance.TokenFlow"}},value:null,visibility:"internal"}],src:"3472:28:50"},scope:8221,src:"3333:337:50",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:8134,nodeType:"Block",src:"3897:221:50",statements:[{assignments:[8115],declarations:[{constant:false,id:8115,name:"endTimeExceeded",nodeType:"VariableDeclaration",scope:8134,src:"3907:20:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:8114,name:"bool",nodeType:"ElementaryTypeName",src:"3907:4:50",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],id:8121,initialValue:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:8120,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8116,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"3930:5:50",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:8117,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"3930:15:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">=",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8118,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8109,src:"3949:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8119,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"endTime",nodeType:"MemberAccess",referencedDeclaration:7991,src:"3949:22:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"3930:41:50",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"VariableDeclarationStatement",src:"3907:64:50"},{assignments:[8123],declarations:[{constant:false,id:8123,name:"setsNotAuctioned",nodeType:"VariableDeclaration",scope:8134,src:"3981:21:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:8122,name:"bool",nodeType:"ElementaryTypeName",src:"3981:4:50",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],id:8128,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:8125,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8109,src:"4025:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8126,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auction",nodeType:"MemberAccess",referencedDeclaration:7989,src:"4025:22:50",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"}],id:8124,name:"hasBiddableQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7633,src:"4005:19:50",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$returns$_t_bool_$",typeString:"function (struct Auction.Setup storage pointer) view returns (bool)"}},id:8127,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4005:43:50",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"VariableDeclarationStatement",src:"3981:67:50"},{expression:{argumentTypes:null,components:[{argumentTypes:null,commonType:{typeIdentifier:"t_bool",typeString:"bool"},id:8131,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:8129,name:"endTimeExceeded",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8115,src:"4067:15:50",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"BinaryOperation",operator:"&&",rightExpression:{argumentTypes:null,id:8130,name:"setsNotAuctioned",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8123,src:"4086:16:50",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"4067:35:50",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],id:8132,isConstant:false,isInlineArray:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"TupleExpression",src:"4066:37:50",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},functionReturnParameters:8113,id:8133,nodeType:"Return",src:"4059:44:50"}]},documentation:"Auction failed is defined the timestamp breacnhing the auction end time and\nthe auction not being complete",id:8135,implemented:true,kind:"function",modifiers:[],name:"hasAuctionFailed",nodeType:"FunctionDefinition",parameters:{id:8110,nodeType:"ParameterList",parameters:[{constant:false,id:8109,name:"_linearAuction",nodeType:"VariableDeclaration",scope:8135,src:"3839:28:50",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State"},typeName:{contractScope:null,id:8108,name:"State",nodeType:"UserDefinedTypeName",referencedDeclaration:7996,src:"3839:5:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State"}},value:null,visibility:"internal"}],src:"3838:30:50"},returnParameters:{id:8113,nodeType:"ParameterList",parameters:[{constant:false,id:8112,name:"",nodeType:"VariableDeclaration",scope:8135,src:"3891:4:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:8111,name:"bool",nodeType:"ElementaryTypeName",src:"3891:4:50",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"3890:6:50"},scope:8221,src:"3813:305:50",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:8186,nodeType:"Block",src:"4496:463:50",statements:[{assignments:[8143],declarations:[{constant:false,id:8143,name:"elapsed",nodeType:"VariableDeclaration",scope:8186,src:"4506:15:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8142,name:"uint256",nodeType:"ElementaryTypeName",src:"4506:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8151,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,expression:{argumentTypes:null,id:8147,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8137,src:"4544:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8148,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auction",nodeType:"MemberAccess",referencedDeclaration:7989,src:"4544:22:50",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage",typeString:"struct Auction.Setup storage ref"}},id:8149,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"startTime",nodeType:"MemberAccess",referencedDeclaration:7469,src:"4544:32:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:8144,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"4524:5:50",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:8145,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"4524:15:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8146,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"4524:19:50",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8150,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4524:53:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"4506:71:50"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:8154,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:8152,name:"elapsed",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8143,src:"4632:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">=",rightExpression:{argumentTypes:null,id:8153,name:"auctionPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7998,src:"4643:13:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"4632:24:50",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:8184,nodeType:"Block",src:"4719:234:50",statements:[{assignments:[8160],declarations:[{constant:false,id:8160,name:"range",nodeType:"VariableDeclaration",scope:8184,src:"4733:13:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8159,name:"uint256",nodeType:"ElementaryTypeName",src:"4733:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8167,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:8164,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8137,src:"4777:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8165,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"startPrice",nodeType:"MemberAccess",referencedDeclaration:7993,src:"4777:25:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:8161,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8137,src:"4749:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8162,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"endPrice",nodeType:"MemberAccess",referencedDeclaration:7995,src:"4749:23:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8163,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"4749:27:50",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8166,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4749:54:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"4733:70:50"},{assignments:[8169],declarations:[{constant:false,id:8169,name:"elapsedPrice",nodeType:"VariableDeclaration",scope:8184,src:"4817:20:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8168,name:"uint256",nodeType:"ElementaryTypeName",src:"4817:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8177,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:8175,name:"auctionPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7998,src:"4863:13:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8172,name:"range",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8160,src:"4852:5:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8170,name:"elapsed",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8143,src:"4840:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8171,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"4840:11:50",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8173,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4840:18:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8174,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"4840:22:50",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8176,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4840:37:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"4817:60:50"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8181,name:"elapsedPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8169,src:"4929:12:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:8178,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8137,src:"4899:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8179,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"startPrice",nodeType:"MemberAccess",referencedDeclaration:7993,src:"4899:25:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8180,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:29619,src:"4899:29:50",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8182,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4899:43:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:8141,id:8183,nodeType:"Return",src:"4892:50:50"}]},id:8185,nodeType:"IfStatement",src:"4628:325:50",trueBody:{id:8158,nodeType:"Block",src:"4658:55:50",statements:[{expression:{argumentTypes:null,expression:{argumentTypes:null,id:8155,name:"_linearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8137,src:"4679:14:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State storage pointer"}},id:8156,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"endPrice",nodeType:"MemberAccess",referencedDeclaration:7995,src:"4679:23:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:8141,id:8157,nodeType:"Return",src:"4672:30:50"}]}}]},documentation:"Returns the price based on the current timestamp. Returns the endPrice\nif time has exceeded the auction period\n     * @param _linearAuction            Linear Auction State object\n@return price                    uint representing the current price",id:8187,implemented:true,kind:"function",modifiers:[],name:"getPrice",nodeType:"FunctionDefinition",parameters:{id:8138,nodeType:"ParameterList",parameters:[{constant:false,id:8137,name:"_linearAuction",nodeType:"VariableDeclaration",scope:8187,src:"4434:28:50",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State"},typeName:{contractScope:null,id:8136,name:"State",nodeType:"UserDefinedTypeName",referencedDeclaration:7996,src:"4434:5:50",typeDescriptions:{typeIdentifier:"t_struct$_State_$7996_storage_ptr",typeString:"struct LinearAuction.State"}},value:null,visibility:"internal"}],src:"4433:30:50"},returnParameters:{id:8141,nodeType:"ParameterList",parameters:[{constant:false,id:8140,name:"",nodeType:"VariableDeclaration",scope:8187,src:"4487:7:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8139,name:"uint256",nodeType:"ElementaryTypeName",src:"4487:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"4486:9:50"},scope:8221,src:"4416:543:50",stateMutability:"view",superFunction:null,visibility:"internal"},{body:null,documentation:"Abstract function that must be implemented.\nCalculate the minimumBid allowed for the rebalance.\n     * @param _auction            Auction object\n@param _currentSet         The Set to rebalance from\n@param _nextSet            The Set to rebalance to\n@return                    Minimum bid amount",id:8198,implemented:false,kind:"function",modifiers:[],name:"calculateMinimumBid",nodeType:"FunctionDefinition",parameters:{id:8194,nodeType:"ParameterList",parameters:[{constant:false,id:8189,name:"_auction",nodeType:"VariableDeclaration",scope:8198,src:"5356:22:50",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:8188,name:"Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"5356:5:50",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:8191,name:"_currentSet",nodeType:"VariableDeclaration",scope:8198,src:"5388:21:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8190,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"5388:9:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:8193,name:"_nextSet",nodeType:"VariableDeclaration",scope:8198,src:"5419:18:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8192,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"5419:9:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"}],src:"5346:97:50"},returnParameters:{id:8197,nodeType:"ParameterList",parameters:[{constant:false,id:8196,name:"",nodeType:"VariableDeclaration",scope:8198,src:"5491:7:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8195,name:"uint256",nodeType:"ElementaryTypeName",src:"5491:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"5490:9:50"},scope:8221,src:"5318:182:50",stateMutability:"view",superFunction:null,visibility:"internal"},{body:null,documentation:"Abstract function that must be implemented.\nCalculates the linear auction start price",id:8209,implemented:false,kind:"function",modifiers:[],name:"calculateStartPrice",nodeType:"FunctionDefinition",parameters:{id:8205,nodeType:"ParameterList",parameters:[{constant:false,id:8200,name:"_auction",nodeType:"VariableDeclaration",scope:8209,src:"5660:30:50",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:8199,name:"Auction.Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"5660:13:50",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:8202,name:"_currentSet",nodeType:"VariableDeclaration",scope:8209,src:"5700:21:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8201,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"5700:9:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:8204,name:"_nextSet",nodeType:"VariableDeclaration",scope:8209,src:"5731:18:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8203,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"5731:9:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"}],src:"5650:105:50"},returnParameters:{id:8208,nodeType:"ParameterList",parameters:[{constant:false,id:8207,name:"",nodeType:"VariableDeclaration",scope:8209,src:"5802:7:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8206,name:"uint256",nodeType:"ElementaryTypeName",src:"5802:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"5801:9:50"},scope:8221,src:"5622:189:50",stateMutability:"view",superFunction:null,visibility:"internal"},{body:null,documentation:"Abstract function that must be implemented.\nCalculates the linear auction end price",id:8220,implemented:false,kind:"function",modifiers:[],name:"calculateEndPrice",nodeType:"FunctionDefinition",parameters:{id:8216,nodeType:"ParameterList",parameters:[{constant:false,id:8211,name:"_auction",nodeType:"VariableDeclaration",scope:8220,src:"5967:30:50",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:8210,name:"Auction.Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"5967:13:50",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:8213,name:"_currentSet",nodeType:"VariableDeclaration",scope:8220,src:"6007:21:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8212,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"6007:9:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:8215,name:"_nextSet",nodeType:"VariableDeclaration",scope:8220,src:"6038:18:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8214,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"6038:9:50",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"}],src:"5957:105:50"},returnParameters:{id:8219,nodeType:"ParameterList",parameters:[{constant:false,id:8218,name:"",nodeType:"VariableDeclaration",scope:8220,src:"6109:7:50",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8217,name:"uint256",nodeType:"ElementaryTypeName",src:"6109:7:50",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"6108:9:50"},scope:8221,src:"5931:187:50",stateMutability:"view",superFunction:null,visibility:"internal"}],scope:8222,src:"1047:5073:50"}],src:"597:5523:50"},compiler:{name:"solc",version:"0.5.7+commit.6da8b019.Linux.g++"},networks:{},schemaVersion:"3.0.23",updatedAt:"2020-04-07T04:29:24.504Z",devdoc:{author:"Set Protocol * Library containing utility functions for computing auction Price for a linear price auction.",methods:{constructor:{params:{_auctionPeriod:"Length of auction"}}},title:"LinearAuction"},userdoc:{methods:{constructor:"LinearAuction constructor"}}};