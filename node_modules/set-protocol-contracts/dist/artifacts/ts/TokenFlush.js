"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TokenFlush={contractName:"TokenFlush",abi:[{constant:true,inputs:[],name:"transferProxyInstance",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"vaultInstance",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"coreInstance",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"}],metadata:'{"compiler":{"version":"0.5.7+commit.6da8b019"},"language":"Solidity","output":{"abi":[{"constant":true,"inputs":[],"name":"transferProxyInstance","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"vaultInstance","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"coreInstance","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"}],"devdoc":{"author":"Set Protocol * The TokenFlush contains utility functions to send tokens and base SetTokens from the Vault or Contract to a specified user address","methods":{},"title":"TokenFlush"},"userdoc":{"methods":{}}},"settings":{"compilationTarget":{"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/modules/lib/TokenFlush.sol":"TokenFlush"},"evmVersion":"byzantium","libraries":{},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ICore.sol":{"keccak256":"0x5dc3db4398630ea52d2a40c9ddfa89d94e65c2770a12bab4d2a5c8eb573fb0a0","urls":["bzzr://25e90b53f61b388e0950b808e2296f82d427b66cfd6021212713436b2a592e31"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ISetToken.sol":{"keccak256":"0xfa6c0c07f8394d89b6b8f72e15778f8452a9341acb20cebb8421f3522aaca1bd","urls":["bzzr://ccf23bb78fd507bf8cbf5cf7ac2a660a1463b87a3689196e42b8f6862d1a6b11"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ITransferProxy.sol":{"keccak256":"0x962d54385cc4760c550cd2f16bfdb53e967def4c5d3acb7b3d0b3d7a49f902de","urls":["bzzr://cb8994c8bae7fa1d55d240f44396f4156b45c81afa6fcfa608fd5e4bf9f1a919"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IVault.sol":{"keccak256":"0xf8a6d376173be39f5744492866db5dd3f91453a124d23679ff164ff3817f2f4f","urls":["bzzr://896c0a8329175c1620e1a22467778b835defe0e61847e5a8427a306f42391e64"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/modules/lib/ModuleCoreStateV2.sol":{"keccak256":"0x5abe818b7be8b89413a09d1a46f3fa45215d6c9635a7e1863a7adcb4c81563d5","urls":["bzzr://6dca336b9478019098670ae4e3dc7a8e768e2a5f2f7b3c5bbdd2927d05c255bc"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/modules/lib/TokenFlush.sol":{"keccak256":"0x4706e182584adeebcaec1dd8abafbbfae37ee5bc684a9b90ad542142e30adc2d","urls":["bzzr://ad1c332280a5b09a2bd4d518ba2e3c7a0ee07a1b65e6d4c33188d7a3a53a23a1"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/AddressArrayUtils.sol":{"keccak256":"0xb716eab4e8c5a336a2f19078928530829af097912bd1b925644f914b63601f08","urls":["bzzr://d8a21d39779beb316adb5180d08dcba1941eeccd9412ff08feb21a631c18c269"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/CommonMath.sol":{"keccak256":"0x3d1d08c6efc2a973fe2c02ddcb02fd99a8c8eb75f74dcbd93e8e15864eee2b6b","urls":["bzzr://580815dd1cf648a4521d923e59087de21143d9c48115ab71579a1f5a8f3d36af"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/ERC20Wrapper.sol":{"keccak256":"0xfda5a6d259a0a33081f621d1eefd6948a6dc108118e05a7899066e4ad05f785a","urls":["bzzr://702c566ec79cddeb64160f882cf25eaa530b806018dc50fd0dc5fab5b8ae76b2"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/IERC20.sol":{"keccak256":"0xe4f71b1797f6421de91c6ce3b55199c5845693a58eddfd417a60b81d0198a9dd","urls":["bzzr://a6a4cebcffaff1db8ef9b78ea58d2d7391cc2b1ed533a1e1309286989f6d4ea0"]},"openzeppelin-solidity/contracts/math/SafeMath.sol":{"keccak256":"0xc2a200a877c4a9b2475c246c54ffecc69ffde3e11af83319c63c2dc5458bac80","urls":["bzzr://c8876e2c39b60f155d748d71d715c8f3903fae5a405ac599adcb6ad2f9a583f9"]}},"version":1}',bytecode:"0x",deployedBytecode:"0x",sourceMap:"",deployedSourceMap:"",source:'/*\n    Copyright 2019 Set Labs Inc.\n\n    Licensed under the Apache License, Version 2.0 (the "License");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an "AS IS" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n*/\n\npragma solidity 0.5.7;\n\nimport { SafeMath } from "openzeppelin-solidity/contracts/math/SafeMath.sol";\n\nimport { AddressArrayUtils } from "../../../lib/AddressArrayUtils.sol";\nimport { ERC20Wrapper } from "../../../lib/ERC20Wrapper.sol";\nimport { ISetToken } from "../../interfaces/ISetToken.sol";\nimport { ModuleCoreStateV2 } from "./ModuleCoreStateV2.sol";\n\n\n/**\n * @title TokenFlush\n * @author Set Protocol\n *\n * The TokenFlush contains utility functions to send tokens and base SetTokens from the\n * Vault or Contract to a specified user address\n */\ncontract TokenFlush is \n    ModuleCoreStateV2\n{\n    using SafeMath for uint256;\n    using AddressArrayUtils for address[];\n\n    // ============ Internal ============\n\n    /**\n     * Checks the base SetToken balances on the contract and sends\n     * any positive quantity to the user directly or into the Vault\n     * depending on the keepChangeInVault flag.\n     *\n     * @param _baseSetAddress             The address of the base SetToken\n     * @param _returnAddress              The address to send excess tokens to\n     * @param  _keepChangeInVault         Boolean signifying whether excess base SetToken is transfered to the user \n     *                                     or left in the vault\n     */\n    function returnExcessBaseSetFromContract(\n        address _baseSetAddress,\n        address _returnAddress,\n        bool _keepChangeInVault\n    )\n        internal\n    {\n        uint256 baseSetQuantity = ERC20Wrapper.balanceOf(_baseSetAddress, address(this));\n        \n        if (baseSetQuantity > 0) { \n            if (_keepChangeInVault) {\n                // Ensure base SetToken allowance\n                ERC20Wrapper.ensureAllowance(\n                    _baseSetAddress,\n                    address(this),\n                    address(transferProxyInstance),\n                    baseSetQuantity\n                );\n\n                // Deposit base SetToken to the user\n                coreInstance.depositModule(\n                    address(this),\n                    _returnAddress,\n                    _baseSetAddress,\n                    baseSetQuantity\n                );\n            } else {\n                // Transfer directly to the user\n                ERC20Wrapper.transfer(\n                    _baseSetAddress,\n                    _returnAddress,\n                    baseSetQuantity\n                );\n            }\n        }\n    }\n\n    /**\n     * Checks the base SetToken balances in the Vault and sends\n     * any positive quantity to the user directly or into the Vault\n     * depending on the keepChangeInVault flag.\n     *\n     * @param _baseSetAddress             The address of the base SetToken\n     * @param _returnAddress              The address to send excess tokens to\n     * @param  _keepChangeInVault         Boolean signifying whether excess base SetToken is transfered to the user \n     *                                     or left in the vault\n     */\n    function returnExcessBaseSetInVault(\n        address _baseSetAddress,\n        address _returnAddress,\n        bool _keepChangeInVault\n    )\n        internal\n    {\n        // Return base SetToken if any that are in the Vault\n        uint256 baseSetQuantityInVault = vaultInstance.getOwnerBalance(\n            _baseSetAddress,\n            address(this)\n        );\n        \n        if (baseSetQuantityInVault > 0) { \n            if (_keepChangeInVault) {\n                // Transfer ownership within the vault to the user\n                coreInstance.internalTransfer(\n                    _baseSetAddress,\n                    _returnAddress,\n                    baseSetQuantityInVault\n                );\n            } else {\n                // Transfer ownership directly to the user\n                coreInstance.withdrawModule(\n                    address(this),\n                    _returnAddress,\n                    _baseSetAddress,\n                    baseSetQuantityInVault\n                );\n            }\n        }\n    } \n\n    /**\n     * Withdraw any base Set components to the user from the contract.\n     *\n     * @param _baseSetToken               Instance of the Base SetToken\n     * @param _returnAddress              The address to send excess tokens to\n     */\n    function returnExcessComponentsFromContract(\n        ISetToken _baseSetToken,\n        address _returnAddress\n    )\n        internal\n    {\n        // Return base Set components\n        address[] memory baseSetComponents = _baseSetToken.getComponents();\n        for (uint256 i = 0; i < baseSetComponents.length; i++) {\n            uint256 withdrawQuantity = ERC20Wrapper.balanceOf(baseSetComponents[i], address(this));\n            if (withdrawQuantity > 0) {\n                ERC20Wrapper.transfer(\n                    baseSetComponents[i],\n                    _returnAddress,\n                    withdrawQuantity\n                );\n            }\n        }         \n    }\n\n    /**\n     * Any base Set components in the Vault are returned to the caller.\n     *\n     * @param _baseSetToken               Instance of the Base SetToken\n     * @param _returnAddress              The address to send excess tokens to\n     */\n    function returnExcessComponentsFromVault(\n        ISetToken _baseSetToken,\n        address _returnAddress\n    )\n        internal\n    {\n        // Return base Set components not used in issuance of base set\n        address[] memory baseSetComponents = _baseSetToken.getComponents();\n        for (uint256 i = 0; i < baseSetComponents.length; i++) {\n            uint256 vaultQuantity = vaultInstance.getOwnerBalance(baseSetComponents[i], address(this));\n            if (vaultQuantity > 0) {\n                coreInstance.withdrawModule(\n                    address(this),\n                    _returnAddress,\n                    baseSetComponents[i],\n                    vaultQuantity\n                );\n            }\n        }\n    }   \n}\n',sourcePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/modules/lib/TokenFlush.sol",ast:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/modules/lib/TokenFlush.sol",exportedSymbols:{TokenFlush:[14380]},id:14381,nodeType:"SourceUnit",nodes:[{id:14136,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:66"},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:14138,nodeType:"ImportDirective",scope:14381,sourceUnit:29641,src:"621:77:66",symbolAliases:[{foreign:14137,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/AddressArrayUtils.sol",file:"../../../lib/AddressArrayUtils.sol",id:14140,nodeType:"ImportDirective",scope:14381,sourceUnit:22511,src:"700:71:66",symbolAliases:[{foreign:14139,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/ERC20Wrapper.sol",file:"../../../lib/ERC20Wrapper.sol",id:14142,nodeType:"ImportDirective",scope:14381,sourceUnit:23680,src:"772:61:66",symbolAliases:[{foreign:14141,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ISetToken.sol",file:"../../interfaces/ISetToken.sol",id:14144,nodeType:"ImportDirective",scope:14381,sourceUnit:5660,src:"834:59:66",symbolAliases:[{foreign:14143,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/modules/lib/ModuleCoreStateV2.sol",file:"./ModuleCoreStateV2.sol",id:14146,nodeType:"ImportDirective",scope:14381,sourceUnit:13821,src:"894:60:66",symbolAliases:[{foreign:14145,local:null}],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:14147,name:"ModuleCoreStateV2",nodeType:"UserDefinedTypeName",referencedDeclaration:13820,src:"1178:17:66",typeDescriptions:{typeIdentifier:"t_contract$_ModuleCoreStateV2_$13820",typeString:"contract ModuleCoreStateV2"}},id:14148,nodeType:"InheritanceSpecifier",src:"1178:17:66"}],contractDependencies:[13820],contractKind:"contract",documentation:"@title TokenFlush\n@author Set Protocol\n * The TokenFlush contains utility functions to send tokens and base SetTokens from the\nVault or Contract to a specified user address",fullyImplemented:false,id:14380,linearizedBaseContracts:[14380,13820],name:"TokenFlush",nodeType:"ContractDefinition",nodes:[{id:14151,libraryName:{contractScope:null,id:14149,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:29640,src:"1208:8:66",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$29640",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"1202:27:66",typeName:{id:14150,name:"uint256",nodeType:"ElementaryTypeName",src:"1221:7:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{id:14155,libraryName:{contractScope:null,id:14152,name:"AddressArrayUtils",nodeType:"UserDefinedTypeName",referencedDeclaration:22510,src:"1240:17:66",typeDescriptions:{typeIdentifier:"t_contract$_AddressArrayUtils_$22510",typeString:"library AddressArrayUtils"}},nodeType:"UsingForDirective",src:"1234:38:66",typeName:{baseType:{id:14153,name:"address",nodeType:"ElementaryTypeName",src:"1262:7:66",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:14154,length:null,nodeType:"ArrayTypeName",src:"1262:9:66",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}}},{body:{id:14215,nodeType:"Block",src:"2028:977:66",statements:[{assignments:[14165],declarations:[{constant:false,id:14165,name:"baseSetQuantity",nodeType:"VariableDeclaration",scope:14215,src:"2038:23:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:14164,name:"uint256",nodeType:"ElementaryTypeName",src:"2038:7:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:14173,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:14168,name:"_baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14157,src:"2087:15:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:14170,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30570,src:"2112:4:66",typeDescriptions:{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}],id:14169,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"2104:7:66",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:14171,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2104:13:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"}],expression:{argumentTypes:null,id:14166,name:"ERC20Wrapper",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:23679,src:"2064:12:66",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC20Wrapper_$23679_$",typeString:"type(library ERC20Wrapper)"}},id:14167,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"balanceOf",nodeType:"MemberAccess",referencedDeclaration:23535,src:"2064:22:66",typeDescriptions:{typeIdentifier:"t_function_delegatecall_view$_t_address_$_t_address_$returns$_t_uint256_$",typeString:"function (address,address) view returns (uint256)"}},id:14172,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2064:54:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"2038:80:66"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:14176,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:14174,name:"baseSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14165,src:"2141:15:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:14175,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2159:1:66",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"2141:19:66",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:14214,nodeType:"IfStatement",src:"2137:862:66",trueBody:{id:14213,nodeType:"Block",src:"2162:837:66",statements:[{condition:{argumentTypes:null,id:14177,name:"_keepChangeInVault",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14161,src:"2181:18:66",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:14211,nodeType:"Block",src:"2758:231:66",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:14206,name:"_baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14157,src:"2868:15:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14207,name:"_returnAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14159,src:"2905:14:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14208,name:"baseSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14165,src:"2941:15:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:14203,name:"ERC20Wrapper",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:23679,src:"2825:12:66",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC20Wrapper_$23679_$",typeString:"type(library ERC20Wrapper)"}},id:14205,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"transfer",nodeType:"MemberAccess",referencedDeclaration:23579,src:"2825:21:66",typeDescriptions:{typeIdentifier:"t_function_delegatecall_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,uint256)"}},id:14209,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2825:149:66",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:14210,nodeType:"ExpressionStatement",src:"2825:149:66"}]},id:14212,nodeType:"IfStatement",src:"2177:812:66",trueBody:{id:14202,nodeType:"Block",src:"2201:551:66",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:14181,name:"_baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14157,src:"2319:15:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:14183,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30570,src:"2364:4:66",typeDescriptions:{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}],id:14182,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"2356:7:66",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:14184,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2356:13:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:14186,name:"transferProxyInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13797,src:"2399:21:66",typeDescriptions:{typeIdentifier:"t_contract$_ITransferProxy_$5686",typeString:"contract ITransferProxy"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_ITransferProxy_$5686",typeString:"contract ITransferProxy"}],id:14185,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"2391:7:66",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:14187,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2391:30:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14188,name:"baseSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14165,src:"2443:15:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:14178,name:"ERC20Wrapper",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:23679,src:"2269:12:66",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC20Wrapper_$23679_$",typeString:"type(library ERC20Wrapper)"}},id:14180,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"ensureAllowance",nodeType:"MemberAccess",referencedDeclaration:23663,src:"2269:28:66",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,address,uint256)"}},id:14189,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2269:207:66",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:14190,nodeType:"ExpressionStatement",src:"2269:207:66"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:14195,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30570,src:"2604:4:66",typeDescriptions:{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}],id:14194,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"2596:7:66",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:14196,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2596:13:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14197,name:"_returnAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14159,src:"2631:14:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14198,name:"_baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14157,src:"2667:15:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14199,name:"baseSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14165,src:"2704:15:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:14191,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13793,src:"2548:12:66",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:14193,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"depositModule",nodeType:"MemberAccess",referencedDeclaration:4627,src:"2548:26:66",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,address,uint256) external"}},id:14200,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2548:189:66",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:14201,nodeType:"ExpressionStatement",src:"2548:189:66"}]}}]}}]},documentation:"Checks the base SetToken balances on the contract and sends\nany positive quantity to the user directly or into the Vault\ndepending on the keepChangeInVault flag.\n     * @param _baseSetAddress             The address of the base SetToken\n@param _returnAddress              The address to send excess tokens to\n@param  _keepChangeInVault         Boolean signifying whether excess base SetToken is transfered to the user \n                                    or left in the vault",id:14216,implemented:true,kind:"function",modifiers:[],name:"returnExcessBaseSetFromContract",nodeType:"FunctionDefinition",parameters:{id:14162,nodeType:"ParameterList",parameters:[{constant:false,id:14157,name:"_baseSetAddress",nodeType:"VariableDeclaration",scope:14216,src:"1912:23:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:14156,name:"address",nodeType:"ElementaryTypeName",src:"1912:7:66",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:14159,name:"_returnAddress",nodeType:"VariableDeclaration",scope:14216,src:"1945:22:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:14158,name:"address",nodeType:"ElementaryTypeName",src:"1945:7:66",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:14161,name:"_keepChangeInVault",nodeType:"VariableDeclaration",scope:14216,src:"1977:23:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:14160,name:"bool",nodeType:"ElementaryTypeName",src:"1977:4:66",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"1902:104:66"},returnParameters:{id:14163,nodeType:"ParameterList",parameters:[],src:"2028:0:66"},scope:14380,src:"1862:1143:66",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:14263,nodeType:"Block",src:"3710:864:66",statements:[{assignments:[14226],declarations:[{constant:false,id:14226,name:"baseSetQuantityInVault",nodeType:"VariableDeclaration",scope:14263,src:"3781:30:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:14225,name:"uint256",nodeType:"ElementaryTypeName",src:"3781:7:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:14234,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:14229,name:"_baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14218,src:"3857:15:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:14231,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30570,src:"3894:4:66",typeDescriptions:{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}],id:14230,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"3886:7:66",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:14232,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3886:13:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"}],expression:{argumentTypes:null,id:14227,name:"vaultInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13795,src:"3814:13:66",typeDescriptions:{typeIdentifier:"t_contract$_IVault_$5782",typeString:"contract IVault"}},id:14228,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getOwnerBalance",nodeType:"MemberAccess",referencedDeclaration:5781,src:"3814:29:66",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_address_$_t_address_$returns$_t_uint256_$",typeString:"function (address,address) view external returns (uint256)"}},id:14233,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3814:95:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"3781:128:66"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:14237,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:14235,name:"baseSetQuantityInVault",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14226,src:"3932:22:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:14236,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"3957:1:66",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"3932:26:66",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:14262,
nodeType:"IfStatement",src:"3928:640:66",trueBody:{id:14261,nodeType:"Block",src:"3960:608:66",statements:[{condition:{argumentTypes:null,id:14238,name:"_keepChangeInVault",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14222,src:"3979:18:66",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:14259,nodeType:"Block",src:"4269:289:66",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:14252,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30570,src:"4403:4:66",typeDescriptions:{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}],id:14251,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"4395:7:66",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:14253,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4395:13:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14254,name:"_returnAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14220,src:"4430:14:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14255,name:"_baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14218,src:"4466:15:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14256,name:"baseSetQuantityInVault",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14226,src:"4503:22:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:14248,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13793,src:"4346:12:66",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:14250,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"withdrawModule",nodeType:"MemberAccess",referencedDeclaration:4638,src:"4346:27:66",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,address,uint256) external"}},id:14257,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4346:197:66",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:14258,nodeType:"ExpressionStatement",src:"4346:197:66"}]},id:14260,nodeType:"IfStatement",src:"3975:583:66",trueBody:{id:14247,nodeType:"Block",src:"3999:264:66",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:14242,name:"_baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14218,src:"4135:15:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14243,name:"_returnAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14220,src:"4172:14:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14244,name:"baseSetQuantityInVault",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14226,src:"4208:22:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:14239,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13793,src:"4084:12:66",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:14241,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"internalTransfer",nodeType:"MemberAccess",referencedDeclaration:4595,src:"4084:29:66",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,uint256) external"}},id:14245,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4084:164:66",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:14246,nodeType:"ExpressionStatement",src:"4084:164:66"}]}}]}}]},documentation:"Checks the base SetToken balances in the Vault and sends\nany positive quantity to the user directly or into the Vault\ndepending on the keepChangeInVault flag.\n     * @param _baseSetAddress             The address of the base SetToken\n@param _returnAddress              The address to send excess tokens to\n@param  _keepChangeInVault         Boolean signifying whether excess base SetToken is transfered to the user \n                                    or left in the vault",id:14264,implemented:true,kind:"function",modifiers:[],name:"returnExcessBaseSetInVault",nodeType:"FunctionDefinition",parameters:{id:14223,nodeType:"ParameterList",parameters:[{constant:false,id:14218,name:"_baseSetAddress",nodeType:"VariableDeclaration",scope:14264,src:"3594:23:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:14217,name:"address",nodeType:"ElementaryTypeName",src:"3594:7:66",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:14220,name:"_returnAddress",nodeType:"VariableDeclaration",scope:14264,src:"3627:22:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:14219,name:"address",nodeType:"ElementaryTypeName",src:"3627:7:66",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:14222,name:"_keepChangeInVault",nodeType:"VariableDeclaration",scope:14264,src:"3659:23:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:14221,name:"bool",nodeType:"ElementaryTypeName",src:"3659:4:66",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"3584:104:66"},returnParameters:{id:14224,nodeType:"ParameterList",parameters:[],src:"3710:0:66"},scope:14380,src:"3549:1025:66",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:14319,nodeType:"Block",src:"4962:532:66",statements:[{assignments:[14274],declarations:[{constant:false,id:14274,name:"baseSetComponents",nodeType:"VariableDeclaration",scope:14319,src:"5010:34:66",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:14272,name:"address",nodeType:"ElementaryTypeName",src:"5010:7:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:14273,length:null,nodeType:"ArrayTypeName",src:"5010:9:66",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"}],id:14278,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:14275,name:"_baseSetToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14266,src:"5047:13:66",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:14276,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getComponents",nodeType:"MemberAccess",referencedDeclaration:5624,src:"5047:27:66",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_array$_t_address_$dyn_memory_ptr_$",typeString:"function () view external returns (address[] memory)"}},id:14277,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5047:29:66",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},nodeType:"VariableDeclarationStatement",src:"5010:66:66"},{body:{id:14317,nodeType:"Block",src:"5141:338:66",statements:[{assignments:[14291],declarations:[{constant:false,id:14291,name:"withdrawQuantity",nodeType:"VariableDeclaration",scope:14317,src:"5155:24:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:14290,name:"uint256",nodeType:"ElementaryTypeName",src:"5155:7:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:14301,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:14294,name:"baseSetComponents",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14274,src:"5205:17:66",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:14296,indexExpression:{argumentTypes:null,id:14295,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14280,src:"5223:1:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"5205:20:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:14298,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30570,src:"5235:4:66",typeDescriptions:{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}],id:14297,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"5227:7:66",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:14299,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5227:13:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"}],expression:{argumentTypes:null,id:14292,name:"ERC20Wrapper",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:23679,src:"5182:12:66",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC20Wrapper_$23679_$",typeString:"type(library ERC20Wrapper)"}},id:14293,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"balanceOf",nodeType:"MemberAccess",referencedDeclaration:23535,src:"5182:22:66",typeDescriptions:{typeIdentifier:"t_function_delegatecall_view$_t_address_$_t_address_$returns$_t_uint256_$",typeString:"function (address,address) view returns (uint256)"}},id:14300,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5182:59:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"5155:86:66"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:14304,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:14302,name:"withdrawQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14291,src:"5259:16:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:14303,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"5278:1:66",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"5259:20:66",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:14316,nodeType:"IfStatement",src:"5255:214:66",trueBody:{id:14315,nodeType:"Block",src:"5281:188:66",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:14308,name:"baseSetComponents",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14274,src:"5342:17:66",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:14310,indexExpression:{argumentTypes:null,id:14309,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14280,src:"5360:1:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"5342:20:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14311,name:"_returnAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14268,src:"5384:14:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14312,name:"withdrawQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14291,src:"5420:16:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:14305,name:"ERC20Wrapper",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:23679,src:"5299:12:66",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC20Wrapper_$23679_$",typeString:"type(library ERC20Wrapper)"}},id:14307,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"transfer",nodeType:"MemberAccess",referencedDeclaration:23579,src:"5299:21:66",typeDescriptions:{typeIdentifier:"t_function_delegatecall_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,uint256)"}},id:14313,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5299:155:66",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:14314,nodeType:"ExpressionStatement",src:"5299:155:66"}]}}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:14286,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:14283,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14280,src:"5106:1:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:14284,name:"baseSetComponents",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14274,src:"5110:17:66",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:14285,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"5110:24:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"5106:28:66",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:14318,initializationExpression:{assignments:[14280],declarations:[{constant:false,id:14280,name:"i",nodeType:"VariableDeclaration",scope:14318,src:"5091:9:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:14279,name:"uint256",nodeType:"ElementaryTypeName",src:"5091:7:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:14282,initialValue:{argumentTypes:null,hexValue:"30",id:14281,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"5103:1:66",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"5091:13:66"},loopExpression:{expression:{argumentTypes:null,id:14288,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"UnaryOperation",operator:"++",prefix:false,src:"5136:3:66",subExpression:{argumentTypes:null,id:14287,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14280,src:"5136:1:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:14289,nodeType:"ExpressionStatement",src:"5136:3:66"},nodeType:"ForStatement",src:"5086:393:66"}]},documentation:"Withdraw any base Set components to the user from the contract.\n     * @param _baseSetToken               Instance of the Base SetToken\n@param _returnAddress              The address to send excess tokens to",id:14320,implemented:true,kind:"function",modifiers:[],name:"returnExcessComponentsFromContract",nodeType:"FunctionDefinition",parameters:{id:14269,nodeType:"ParameterList",parameters:[{constant:false,id:14266,name:"_baseSetToken",nodeType:"VariableDeclaration",scope:14320,src:"4879:23:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:14265,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"4879:9:66",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:14268,name:"_returnAddress",nodeType:"VariableDeclaration",scope:14320,src:"4912:22:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:14267,name:"address",nodeType:"ElementaryTypeName",src:"4912:7:66",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"4869:71:66"},returnParameters:{id:14270,nodeType:"ParameterList",parameters:[],src:"4962:0:66"},scope:14380,src:"4826:668:66",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:14378,nodeType:"Block",src:"5879:595:66",statements:[{assignments:[14330],declarations:[{constant:false,id:14330,name:"baseSetComponents",nodeType:"VariableDeclaration",scope:14378,src:"5960:34:66",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:14328,name:"address",nodeType:"ElementaryTypeName",src:"5960:7:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:14329,length:null,nodeType:"ArrayTypeName",src:"5960:9:66",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"}],id:14334,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:14331,name:"_baseSetToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14322,src:"5997:13:66",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:14332,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getComponents",nodeType:"MemberAccess",referencedDeclaration:5624,src:"5997:27:66",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_array$_t_address_$dyn_memory_ptr_$",typeString:"function () view external returns (address[] memory)"}},id:14333,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5997:29:66",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},nodeType:"VariableDeclarationStatement",src:"5960:66:66"},{body:{id:14376,nodeType:"Block",src:"6091:377:66",statements:[{assignments:[14347],declarations:[{constant:false,id:14347,name:"vaultQuantity",nodeType:"VariableDeclaration",scope:14376,src:"6105:21:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:14346,name:"uint256",nodeType:"ElementaryTypeName",src:"6105:7:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:14357,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:14350,name:"baseSetComponents",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14330,src:"6159:17:66",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:14352,indexExpression:{argumentTypes:null,id:14351,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14336,src:"6177:1:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"6159:20:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:14354,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30570,src:"6189:4:66",typeDescriptions:{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}],id:14353,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"6181:7:66",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:14355,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6181:13:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"}],expression:{argumentTypes:null,id:14348,name:"vaultInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13795,src:"6129:13:66",typeDescriptions:{typeIdentifier:"t_contract$_IVault_$5782",typeString:"contract IVault"}},id:14349,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getOwnerBalance",nodeType:"MemberAccess",referencedDeclaration:5781,src:"6129:29:66",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_address_$_t_address_$returns$_t_uint256_$",typeString:"function (address,address) view external returns (uint256)"}},id:14356,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6129:66:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"6105:90:66"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:14360,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:14358,name:"vaultQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14347,src:"6213:13:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:14359,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"6229:1:66",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"6213:17:66",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:14375,nodeType:"IfStatement",src:"6209:249:66",trueBody:{id:14374,nodeType:"Block",src:"6232:226:66",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:14365,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30570,src:"6307:4:66",typeDescriptions:{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}],id:14364,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"6299:7:66",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:14366,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6299:13:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14367,name:"_returnAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14324,src:"6334:14:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,baseExpression:{argumentTypes:null,id:14368,name:"baseSetComponents",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14330,src:"6370:17:66",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:14370,indexExpression:{argumentTypes:null,id:14369,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14336,src:"6388:1:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"6370:20:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14371,name:"vaultQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14347,src:"6412:13:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:14361,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13793,src:"6250:12:66",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:14363,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"withdrawModule",nodeType:"MemberAccess",referencedDeclaration:4638,src:"6250:27:66",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,address,uint256) external"}},id:14372,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6250:193:66",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:14373,nodeType:"ExpressionStatement",src:"6250:193:66"}]}}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:14342,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:14339,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14336,src:"6056:1:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:14340,name:"baseSetComponents",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14330,src:"6060:17:66",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:14341,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"6060:24:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"6056:28:66",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:14377,initializationExpression:{assignments:[14336],declarations:[{constant:false,id:14336,name:"i",nodeType:"VariableDeclaration",scope:14377,src:"6041:9:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:14335,name:"uint256",nodeType:"ElementaryTypeName",src:"6041:7:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:14338,initialValue:{argumentTypes:null,hexValue:"30",id:14337,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"6053:1:66",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"6041:13:66"},loopExpression:{expression:{argumentTypes:null,id:14344,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"UnaryOperation",operator:"++",prefix:false,src:"6086:3:66",subExpression:{argumentTypes:null,id:14343,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14336,src:"6086:1:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:14345,nodeType:"ExpressionStatement",src:"6086:3:66"},nodeType:"ForStatement",src:"6036:432:66"}]},documentation:"Any base Set components in the Vault are returned to the caller.\n     * @param _baseSetToken               Instance of the Base SetToken\n@param _returnAddress              The address to send excess tokens to",id:14379,implemented:true,kind:"function",modifiers:[],name:"returnExcessComponentsFromVault",nodeType:"FunctionDefinition",parameters:{id:14325,nodeType:"ParameterList",parameters:[{constant:false,id:14322,name:"_baseSetToken",nodeType:"VariableDeclaration",scope:14379,src:"5796:23:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:14321,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"5796:9:66",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:14324,name:"_returnAddress",nodeType:"VariableDeclaration",scope:14379,src:"5829:22:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:14323,name:"address",nodeType:"ElementaryTypeName",src:"5829:7:66",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"5786:71:66"},returnParameters:{id:14326,nodeType:"ParameterList",parameters:[],src:"5879:0:66"},scope:14380,src:"5746:728:66",stateMutability:"nonpayable",superFunction:null,visibility:"internal"}],scope:14381,src:"1150:5329:66"}],src:"597:5883:66"},legacyAST:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/modules/lib/TokenFlush.sol",exportedSymbols:{TokenFlush:[14380]},id:14381,nodeType:"SourceUnit",nodes:[{id:14136,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:66"},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",
file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:14138,nodeType:"ImportDirective",scope:14381,sourceUnit:29641,src:"621:77:66",symbolAliases:[{foreign:14137,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/AddressArrayUtils.sol",file:"../../../lib/AddressArrayUtils.sol",id:14140,nodeType:"ImportDirective",scope:14381,sourceUnit:22511,src:"700:71:66",symbolAliases:[{foreign:14139,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/ERC20Wrapper.sol",file:"../../../lib/ERC20Wrapper.sol",id:14142,nodeType:"ImportDirective",scope:14381,sourceUnit:23680,src:"772:61:66",symbolAliases:[{foreign:14141,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ISetToken.sol",file:"../../interfaces/ISetToken.sol",id:14144,nodeType:"ImportDirective",scope:14381,sourceUnit:5660,src:"834:59:66",symbolAliases:[{foreign:14143,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/modules/lib/ModuleCoreStateV2.sol",file:"./ModuleCoreStateV2.sol",id:14146,nodeType:"ImportDirective",scope:14381,sourceUnit:13821,src:"894:60:66",symbolAliases:[{foreign:14145,local:null}],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:14147,name:"ModuleCoreStateV2",nodeType:"UserDefinedTypeName",referencedDeclaration:13820,src:"1178:17:66",typeDescriptions:{typeIdentifier:"t_contract$_ModuleCoreStateV2_$13820",typeString:"contract ModuleCoreStateV2"}},id:14148,nodeType:"InheritanceSpecifier",src:"1178:17:66"}],contractDependencies:[13820],contractKind:"contract",documentation:"@title TokenFlush\n@author Set Protocol\n * The TokenFlush contains utility functions to send tokens and base SetTokens from the\nVault or Contract to a specified user address",fullyImplemented:false,id:14380,linearizedBaseContracts:[14380,13820],name:"TokenFlush",nodeType:"ContractDefinition",nodes:[{id:14151,libraryName:{contractScope:null,id:14149,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:29640,src:"1208:8:66",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$29640",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"1202:27:66",typeName:{id:14150,name:"uint256",nodeType:"ElementaryTypeName",src:"1221:7:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{id:14155,libraryName:{contractScope:null,id:14152,name:"AddressArrayUtils",nodeType:"UserDefinedTypeName",referencedDeclaration:22510,src:"1240:17:66",typeDescriptions:{typeIdentifier:"t_contract$_AddressArrayUtils_$22510",typeString:"library AddressArrayUtils"}},nodeType:"UsingForDirective",src:"1234:38:66",typeName:{baseType:{id:14153,name:"address",nodeType:"ElementaryTypeName",src:"1262:7:66",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:14154,length:null,nodeType:"ArrayTypeName",src:"1262:9:66",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}}},{body:{id:14215,nodeType:"Block",src:"2028:977:66",statements:[{assignments:[14165],declarations:[{constant:false,id:14165,name:"baseSetQuantity",nodeType:"VariableDeclaration",scope:14215,src:"2038:23:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:14164,name:"uint256",nodeType:"ElementaryTypeName",src:"2038:7:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:14173,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:14168,name:"_baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14157,src:"2087:15:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:14170,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30570,src:"2112:4:66",typeDescriptions:{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}],id:14169,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"2104:7:66",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:14171,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2104:13:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"}],expression:{argumentTypes:null,id:14166,name:"ERC20Wrapper",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:23679,src:"2064:12:66",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC20Wrapper_$23679_$",typeString:"type(library ERC20Wrapper)"}},id:14167,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"balanceOf",nodeType:"MemberAccess",referencedDeclaration:23535,src:"2064:22:66",typeDescriptions:{typeIdentifier:"t_function_delegatecall_view$_t_address_$_t_address_$returns$_t_uint256_$",typeString:"function (address,address) view returns (uint256)"}},id:14172,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2064:54:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"2038:80:66"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:14176,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:14174,name:"baseSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14165,src:"2141:15:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:14175,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2159:1:66",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"2141:19:66",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:14214,nodeType:"IfStatement",src:"2137:862:66",trueBody:{id:14213,nodeType:"Block",src:"2162:837:66",statements:[{condition:{argumentTypes:null,id:14177,name:"_keepChangeInVault",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14161,src:"2181:18:66",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:14211,nodeType:"Block",src:"2758:231:66",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:14206,name:"_baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14157,src:"2868:15:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14207,name:"_returnAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14159,src:"2905:14:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14208,name:"baseSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14165,src:"2941:15:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:14203,name:"ERC20Wrapper",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:23679,src:"2825:12:66",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC20Wrapper_$23679_$",typeString:"type(library ERC20Wrapper)"}},id:14205,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"transfer",nodeType:"MemberAccess",referencedDeclaration:23579,src:"2825:21:66",typeDescriptions:{typeIdentifier:"t_function_delegatecall_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,uint256)"}},id:14209,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2825:149:66",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:14210,nodeType:"ExpressionStatement",src:"2825:149:66"}]},id:14212,nodeType:"IfStatement",src:"2177:812:66",trueBody:{id:14202,nodeType:"Block",src:"2201:551:66",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:14181,name:"_baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14157,src:"2319:15:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:14183,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30570,src:"2364:4:66",typeDescriptions:{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}],id:14182,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"2356:7:66",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:14184,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2356:13:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:14186,name:"transferProxyInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13797,src:"2399:21:66",typeDescriptions:{typeIdentifier:"t_contract$_ITransferProxy_$5686",typeString:"contract ITransferProxy"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_ITransferProxy_$5686",typeString:"contract ITransferProxy"}],id:14185,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"2391:7:66",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:14187,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2391:30:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14188,name:"baseSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14165,src:"2443:15:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:14178,name:"ERC20Wrapper",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:23679,src:"2269:12:66",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC20Wrapper_$23679_$",typeString:"type(library ERC20Wrapper)"}},id:14180,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"ensureAllowance",nodeType:"MemberAccess",referencedDeclaration:23663,src:"2269:28:66",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,address,uint256)"}},id:14189,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2269:207:66",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:14190,nodeType:"ExpressionStatement",src:"2269:207:66"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:14195,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30570,src:"2604:4:66",typeDescriptions:{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}],id:14194,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"2596:7:66",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:14196,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2596:13:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14197,name:"_returnAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14159,src:"2631:14:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14198,name:"_baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14157,src:"2667:15:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14199,name:"baseSetQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14165,src:"2704:15:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:14191,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13793,src:"2548:12:66",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:14193,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"depositModule",nodeType:"MemberAccess",referencedDeclaration:4627,src:"2548:26:66",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,address,uint256) external"}},id:14200,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2548:189:66",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:14201,nodeType:"ExpressionStatement",src:"2548:189:66"}]}}]}}]},documentation:"Checks the base SetToken balances on the contract and sends\nany positive quantity to the user directly or into the Vault\ndepending on the keepChangeInVault flag.\n     * @param _baseSetAddress             The address of the base SetToken\n@param _returnAddress              The address to send excess tokens to\n@param  _keepChangeInVault         Boolean signifying whether excess base SetToken is transfered to the user \n                                    or left in the vault",id:14216,implemented:true,kind:"function",modifiers:[],name:"returnExcessBaseSetFromContract",nodeType:"FunctionDefinition",parameters:{id:14162,nodeType:"ParameterList",parameters:[{constant:false,id:14157,name:"_baseSetAddress",nodeType:"VariableDeclaration",scope:14216,src:"1912:23:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:14156,name:"address",nodeType:"ElementaryTypeName",src:"1912:7:66",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:14159,name:"_returnAddress",nodeType:"VariableDeclaration",scope:14216,src:"1945:22:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:14158,name:"address",nodeType:"ElementaryTypeName",src:"1945:7:66",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:14161,name:"_keepChangeInVault",nodeType:"VariableDeclaration",scope:14216,src:"1977:23:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:14160,name:"bool",nodeType:"ElementaryTypeName",src:"1977:4:66",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"1902:104:66"},returnParameters:{id:14163,nodeType:"ParameterList",parameters:[],src:"2028:0:66"},scope:14380,src:"1862:1143:66",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:14263,nodeType:"Block",src:"3710:864:66",statements:[{assignments:[14226],declarations:[{constant:false,id:14226,name:"baseSetQuantityInVault",nodeType:"VariableDeclaration",scope:14263,src:"3781:30:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:14225,name:"uint256",nodeType:"ElementaryTypeName",src:"3781:7:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:14234,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:14229,name:"_baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14218,src:"3857:15:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:14231,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30570,src:"3894:4:66",typeDescriptions:{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}],id:14230,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"3886:7:66",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:14232,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3886:13:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"}],expression:{argumentTypes:null,id:14227,name:"vaultInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13795,src:"3814:13:66",typeDescriptions:{typeIdentifier:"t_contract$_IVault_$5782",typeString:"contract IVault"}},id:14228,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getOwnerBalance",nodeType:"MemberAccess",referencedDeclaration:5781,src:"3814:29:66",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_address_$_t_address_$returns$_t_uint256_$",typeString:"function (address,address) view external returns (uint256)"}},id:14233,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3814:95:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"3781:128:66"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:14237,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:14235,name:"baseSetQuantityInVault",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14226,src:"3932:22:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:14236,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"3957:1:66",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"3932:26:66",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:14262,nodeType:"IfStatement",src:"3928:640:66",trueBody:{id:14261,nodeType:"Block",src:"3960:608:66",statements:[{condition:{argumentTypes:null,id:14238,name:"_keepChangeInVault",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14222,src:"3979:18:66",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:14259,nodeType:"Block",src:"4269:289:66",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:14252,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30570,src:"4403:4:66",typeDescriptions:{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}],id:14251,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"4395:7:66",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:14253,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4395:13:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14254,name:"_returnAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14220,src:"4430:14:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14255,name:"_baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14218,src:"4466:15:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14256,name:"baseSetQuantityInVault",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14226,src:"4503:22:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:14248,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13793,src:"4346:12:66",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:14250,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"withdrawModule",nodeType:"MemberAccess",referencedDeclaration:4638,src:"4346:27:66",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,address,uint256) external"}},id:14257,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4346:197:66",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:14258,nodeType:"ExpressionStatement",src:"4346:197:66"}]},id:14260,nodeType:"IfStatement",src:"3975:583:66",trueBody:{id:14247,nodeType:"Block",src:"3999:264:66",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:14242,name:"_baseSetAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14218,src:"4135:15:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14243,name:"_returnAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14220,src:"4172:14:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14244,name:"baseSetQuantityInVault",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14226,src:"4208:22:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:14239,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13793,src:"4084:12:66",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:14241,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"internalTransfer",nodeType:"MemberAccess",referencedDeclaration:4595,src:"4084:29:66",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,uint256) external"}},id:14245,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4084:164:66",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:14246,nodeType:"ExpressionStatement",src:"4084:164:66"}]}}]}}]},documentation:"Checks the base SetToken balances in the Vault and sends\nany positive quantity to the user directly or into the Vault\ndepending on the keepChangeInVault flag.\n     * @param _baseSetAddress             The address of the base SetToken\n@param _returnAddress              The address to send excess tokens to\n@param  _keepChangeInVault         Boolean signifying whether excess base SetToken is transfered to the user \n                                    or left in the vault",id:14264,implemented:true,kind:"function",modifiers:[],name:"returnExcessBaseSetInVault",nodeType:"FunctionDefinition",parameters:{id:14223,nodeType:"ParameterList",parameters:[{constant:false,id:14218,name:"_baseSetAddress",nodeType:"VariableDeclaration",scope:14264,src:"3594:23:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:14217,name:"address",nodeType:"ElementaryTypeName",src:"3594:7:66",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:14220,name:"_returnAddress",nodeType:"VariableDeclaration",scope:14264,src:"3627:22:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:14219,name:"address",nodeType:"ElementaryTypeName",src:"3627:7:66",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:14222,name:"_keepChangeInVault",nodeType:"VariableDeclaration",scope:14264,src:"3659:23:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:14221,name:"bool",nodeType:"ElementaryTypeName",src:"3659:4:66",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"3584:104:66"},returnParameters:{id:14224,nodeType:"ParameterList",parameters:[],src:"3710:0:66"},scope:14380,src:"3549:1025:66",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:14319,nodeType:"Block",src:"4962:532:66",statements:[{assignments:[14274],declarations:[{constant:false,id:14274,name:"baseSetComponents",nodeType:"VariableDeclaration",scope:14319,src:"5010:34:66",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:14272,name:"address",nodeType:"ElementaryTypeName",src:"5010:7:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:14273,length:null,nodeType:"ArrayTypeName",src:"5010:9:66",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"}],id:14278,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:14275,name:"_baseSetToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14266,src:"5047:13:66",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:14276,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getComponents",nodeType:"MemberAccess",referencedDeclaration:5624,src:"5047:27:66",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_array$_t_address_$dyn_memory_ptr_$",typeString:"function () view external returns (address[] memory)"}},id:14277,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5047:29:66",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},nodeType:"VariableDeclarationStatement",src:"5010:66:66"},{body:{id:14317,nodeType:"Block",src:"5141:338:66",statements:[{assignments:[14291],declarations:[{constant:false,id:14291,name:"withdrawQuantity",nodeType:"VariableDeclaration",scope:14317,src:"5155:24:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:14290,name:"uint256",nodeType:"ElementaryTypeName",src:"5155:7:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:14301,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:14294,name:"baseSetComponents",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14274,src:"5205:17:66",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:14296,indexExpression:{argumentTypes:null,id:14295,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14280,src:"5223:1:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"5205:20:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:14298,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30570,src:"5235:4:66",typeDescriptions:{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}],id:14297,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"5227:7:66",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:14299,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5227:13:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"}],expression:{argumentTypes:null,id:14292,name:"ERC20Wrapper",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:23679,src:"5182:12:66",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC20Wrapper_$23679_$",typeString:"type(library ERC20Wrapper)"}},id:14293,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"balanceOf",nodeType:"MemberAccess",referencedDeclaration:23535,src:"5182:22:66",typeDescriptions:{typeIdentifier:"t_function_delegatecall_view$_t_address_$_t_address_$returns$_t_uint256_$",typeString:"function (address,address) view returns (uint256)"}},id:14300,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5182:59:66",typeDescriptions:{typeIdentifier:"t_uint256",
typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"5155:86:66"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:14304,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:14302,name:"withdrawQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14291,src:"5259:16:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:14303,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"5278:1:66",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"5259:20:66",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:14316,nodeType:"IfStatement",src:"5255:214:66",trueBody:{id:14315,nodeType:"Block",src:"5281:188:66",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:14308,name:"baseSetComponents",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14274,src:"5342:17:66",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:14310,indexExpression:{argumentTypes:null,id:14309,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14280,src:"5360:1:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"5342:20:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14311,name:"_returnAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14268,src:"5384:14:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14312,name:"withdrawQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14291,src:"5420:16:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:14305,name:"ERC20Wrapper",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:23679,src:"5299:12:66",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC20Wrapper_$23679_$",typeString:"type(library ERC20Wrapper)"}},id:14307,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"transfer",nodeType:"MemberAccess",referencedDeclaration:23579,src:"5299:21:66",typeDescriptions:{typeIdentifier:"t_function_delegatecall_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,uint256)"}},id:14313,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5299:155:66",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:14314,nodeType:"ExpressionStatement",src:"5299:155:66"}]}}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:14286,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:14283,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14280,src:"5106:1:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:14284,name:"baseSetComponents",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14274,src:"5110:17:66",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:14285,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"5110:24:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"5106:28:66",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:14318,initializationExpression:{assignments:[14280],declarations:[{constant:false,id:14280,name:"i",nodeType:"VariableDeclaration",scope:14318,src:"5091:9:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:14279,name:"uint256",nodeType:"ElementaryTypeName",src:"5091:7:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:14282,initialValue:{argumentTypes:null,hexValue:"30",id:14281,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"5103:1:66",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"5091:13:66"},loopExpression:{expression:{argumentTypes:null,id:14288,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"UnaryOperation",operator:"++",prefix:false,src:"5136:3:66",subExpression:{argumentTypes:null,id:14287,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14280,src:"5136:1:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:14289,nodeType:"ExpressionStatement",src:"5136:3:66"},nodeType:"ForStatement",src:"5086:393:66"}]},documentation:"Withdraw any base Set components to the user from the contract.\n     * @param _baseSetToken               Instance of the Base SetToken\n@param _returnAddress              The address to send excess tokens to",id:14320,implemented:true,kind:"function",modifiers:[],name:"returnExcessComponentsFromContract",nodeType:"FunctionDefinition",parameters:{id:14269,nodeType:"ParameterList",parameters:[{constant:false,id:14266,name:"_baseSetToken",nodeType:"VariableDeclaration",scope:14320,src:"4879:23:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:14265,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"4879:9:66",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:14268,name:"_returnAddress",nodeType:"VariableDeclaration",scope:14320,src:"4912:22:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:14267,name:"address",nodeType:"ElementaryTypeName",src:"4912:7:66",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"4869:71:66"},returnParameters:{id:14270,nodeType:"ParameterList",parameters:[],src:"4962:0:66"},scope:14380,src:"4826:668:66",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:14378,nodeType:"Block",src:"5879:595:66",statements:[{assignments:[14330],declarations:[{constant:false,id:14330,name:"baseSetComponents",nodeType:"VariableDeclaration",scope:14378,src:"5960:34:66",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:14328,name:"address",nodeType:"ElementaryTypeName",src:"5960:7:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:14329,length:null,nodeType:"ArrayTypeName",src:"5960:9:66",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"}],id:14334,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:14331,name:"_baseSetToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14322,src:"5997:13:66",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},id:14332,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getComponents",nodeType:"MemberAccess",referencedDeclaration:5624,src:"5997:27:66",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_array$_t_address_$dyn_memory_ptr_$",typeString:"function () view external returns (address[] memory)"}},id:14333,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5997:29:66",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},nodeType:"VariableDeclarationStatement",src:"5960:66:66"},{body:{id:14376,nodeType:"Block",src:"6091:377:66",statements:[{assignments:[14347],declarations:[{constant:false,id:14347,name:"vaultQuantity",nodeType:"VariableDeclaration",scope:14376,src:"6105:21:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:14346,name:"uint256",nodeType:"ElementaryTypeName",src:"6105:7:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:14357,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:14350,name:"baseSetComponents",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14330,src:"6159:17:66",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:14352,indexExpression:{argumentTypes:null,id:14351,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14336,src:"6177:1:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"6159:20:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:14354,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30570,src:"6189:4:66",typeDescriptions:{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}],id:14353,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"6181:7:66",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:14355,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6181:13:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"}],expression:{argumentTypes:null,id:14348,name:"vaultInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13795,src:"6129:13:66",typeDescriptions:{typeIdentifier:"t_contract$_IVault_$5782",typeString:"contract IVault"}},id:14349,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getOwnerBalance",nodeType:"MemberAccess",referencedDeclaration:5781,src:"6129:29:66",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_address_$_t_address_$returns$_t_uint256_$",typeString:"function (address,address) view external returns (uint256)"}},id:14356,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6129:66:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"6105:90:66"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:14360,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:14358,name:"vaultQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14347,src:"6213:13:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:14359,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"6229:1:66",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"6213:17:66",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:14375,nodeType:"IfStatement",src:"6209:249:66",trueBody:{id:14374,nodeType:"Block",src:"6232:226:66",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:14365,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30570,src:"6307:4:66",typeDescriptions:{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_TokenFlush_$14380",typeString:"contract TokenFlush"}],id:14364,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"6299:7:66",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:14366,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6299:13:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14367,name:"_returnAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14324,src:"6334:14:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,baseExpression:{argumentTypes:null,id:14368,name:"baseSetComponents",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14330,src:"6370:17:66",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:14370,indexExpression:{argumentTypes:null,id:14369,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14336,src:"6388:1:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"6370:20:66",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:14371,name:"vaultQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14347,src:"6412:13:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:14361,name:"coreInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:13793,src:"6250:12:66",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:14363,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"withdrawModule",nodeType:"MemberAccess",referencedDeclaration:4638,src:"6250:27:66",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,address,uint256) external"}},id:14372,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6250:193:66",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:14373,nodeType:"ExpressionStatement",src:"6250:193:66"}]}}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:14342,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:14339,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14336,src:"6056:1:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:14340,name:"baseSetComponents",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14330,src:"6060:17:66",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:14341,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"6060:24:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"6056:28:66",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:14377,initializationExpression:{assignments:[14336],declarations:[{constant:false,id:14336,name:"i",nodeType:"VariableDeclaration",scope:14377,src:"6041:9:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:14335,name:"uint256",nodeType:"ElementaryTypeName",src:"6041:7:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:14338,initialValue:{argumentTypes:null,hexValue:"30",id:14337,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"6053:1:66",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"6041:13:66"},loopExpression:{expression:{argumentTypes:null,id:14344,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"UnaryOperation",operator:"++",prefix:false,src:"6086:3:66",subExpression:{argumentTypes:null,id:14343,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:14336,src:"6086:1:66",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:14345,nodeType:"ExpressionStatement",src:"6086:3:66"},nodeType:"ForStatement",src:"6036:432:66"}]},documentation:"Any base Set components in the Vault are returned to the caller.\n     * @param _baseSetToken               Instance of the Base SetToken\n@param _returnAddress              The address to send excess tokens to",id:14379,implemented:true,kind:"function",modifiers:[],name:"returnExcessComponentsFromVault",nodeType:"FunctionDefinition",parameters:{id:14325,nodeType:"ParameterList",parameters:[{constant:false,id:14322,name:"_baseSetToken",nodeType:"VariableDeclaration",scope:14379,src:"5796:23:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:14321,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"5796:9:66",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:14324,name:"_returnAddress",nodeType:"VariableDeclaration",scope:14379,src:"5829:22:66",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:14323,name:"address",nodeType:"ElementaryTypeName",src:"5829:7:66",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"5786:71:66"},returnParameters:{id:14326,nodeType:"ParameterList",parameters:[],src:"5879:0:66"},scope:14380,src:"5746:728:66",stateMutability:"nonpayable",superFunction:null,visibility:"internal"}],scope:14381,src:"1150:5329:66"}],src:"597:5883:66"},compiler:{name:"solc",version:"0.5.7+commit.6da8b019.Linux.g++"},networks:{},schemaVersion:"3.0.23",updatedAt:"2020-04-07T04:29:24.617Z",devdoc:{author:"Set Protocol * The TokenFlush contains utility functions to send tokens and base SetTokens from the Vault or Contract to a specified user address",methods:{},title:"TokenFlush"},userdoc:{methods:{}}};