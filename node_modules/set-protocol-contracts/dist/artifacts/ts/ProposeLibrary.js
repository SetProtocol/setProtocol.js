"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ProposeLibrary={contractName:"ProposeLibrary",abi:[],metadata:'{"compiler":{"version":"0.5.7+commit.6da8b019"},"language":"Solidity","output":{"abi":[],"devdoc":{"author":"Set Protocol * Default implementation of Rebalancing Set Token propose function","methods":{"validateProposal(address,address,ProposeLibrary.ProposalContext,RebalancingLibrary.AuctionPriceParameters)":{"params":{"_auctionLibrary":"The library used to calculate the Dutch Auction price","_nextSet":"The Set to rebalance into","_proposalContext":"Rebalancing Set Token state parameters needed for proposal validation"}}},"title":"ProposeLibrary"},"userdoc":{"methods":{"validateProposal(address,address,ProposeLibrary.ProposalContext,RebalancingLibrary.AuctionPriceParameters)":{"notice":"Function used to validate inputs to propose function"}}}},"settings":{"compilationTarget":{"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/tokens/rebalancing-libraries/ProposeLibrary.sol":"ProposeLibrary"},"evmVersion":"byzantium","libraries":{},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/interfaces/ICore.sol":{"keccak256":"0x5dc3db4398630ea52d2a40c9ddfa89d94e65c2770a12bab4d2a5c8eb573fb0a0","urls":["bzzr://25e90b53f61b388e0950b808e2296f82d427b66cfd6021212713436b2a592e31"]},"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/interfaces/IRebalancingSetFactory.sol":{"keccak256":"0x781ccbdaa2b8908599e6cd5cdf077f2add7077b72acd064fb4ae560c00ddf62d","urls":["bzzr://93950fa7b8ce25f427edfe6a136c850ef41f1002eadd94ec957b8e6abe85812b"]},"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/interfaces/ISetFactory.sol":{"keccak256":"0xf795ab9e9ac11340a600f235073b4ec4bdea92d3c01601ced1e5afd3c2718301","urls":["bzzr://eb4f00f66933560aa133ee90030b23d7a30937e6591a83d56b3935a927e8ca9f"]},"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/interfaces/ISetToken.sol":{"keccak256":"0xfa6c0c07f8394d89b6b8f72e15778f8452a9341acb20cebb8421f3522aaca1bd","urls":["bzzr://ccf23bb78fd507bf8cbf5cf7ac2a660a1463b87a3689196e42b8f6862d1a6b11"]},"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/interfaces/IWhiteList.sol":{"keccak256":"0x35158bdba86e9e08faf0bdf5e1756fb20ee0404e0b0b3c2d529e0e5b03b5adfd","urls":["bzzr://130cfe1fe490b464a6d42fd8613dd42a9f3375f24b6ab2dd91448f12895992ab"]},"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/lib/RebalancingLibrary.sol":{"keccak256":"0x7f9dd2f95b2ee71a98b94cb9b0df15874aa134e7480d04a1fcf36aff166a55f4","urls":["bzzr://f43a5563ec5df095151eee30cf7a0941b5a971917c27c7b34d9586b36563ab5b"]},"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/lib/auction-price-libraries/IAuctionPriceCurve.sol":{"keccak256":"0x52e8b84f3475cb162f93666d1d32dd19cc8838a72c6934ebc22075e58a7acf1b","urls":["bzzr://5d6b372b7dcfab18dfa74013bedaadb1bb455d263dd414a30d01b05abbf5300c"]},"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/tokens/rebalancing-libraries/ProposeLibrary.sol":{"keccak256":"0xfb5026dbaa20cea64fe6c630f87835e566b6105834364dcbaee5379df5b16c78","urls":["bzzr://68966afebbd941f13db7b3e39ed16b8402ea7af9b002138f42f5aecec89f1606"]},"openzeppelin-solidity/contracts/math/Math.sol":{"keccak256":"0x775160984ceb0931bf67e718fb23afd6fc2a5d38a6e2378ebb438a039ed2269e","urls":["bzzr://209e27ad1c13e3e9b157915e0269ee4c3b6f0a494660dcc4acf1faf102e1a7ad"]},"openzeppelin-solidity/contracts/math/SafeMath.sol":{"keccak256":"0xc2a200a877c4a9b2475c246c54ffecc69ffde3e11af83319c63c2dc5458bac80","urls":["bzzr://c8876e2c39b60f155d748d71d715c8f3903fae5a405ac599adcb6ad2f9a583f9"]}},"version":1}',bytecode:"0x610fd4610026600b82828239805160001a60731461001957fe5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600436106100385760e060020a600035046356ca7aa2811461003d575b600080fd5b81801561004957600080fd5b5061005d6100583660046108d7565b61005f565b005b604082015160808301518351600160a060020a0316331461009e5760405160e560020a62461bcd02815260040161009590610e92565b60405180910390fd5b60e084015160ff1615806100b9575060e084015160ff166001145b6100d85760405160e560020a62461bcd02815260040161009590610eb2565b60c084015160a08501516100f19163ffffffff61068216565b4210156101135760405160e560020a62461bcd02815260040161009590610ea2565b6040517ffef3ee73000000000000000000000000000000000000000000000000000000008152600160a060020a0383169063fef3ee7390610158908990600401610e43565b60206040518083038186803b15801561017057600080fd5b505afa158015610184573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506101a89190810190610977565b6101c75760405160e560020a62461bcd02815260040161009590610e62565b8360600151600160a060020a03166332ed010e87600160a060020a03166399d50d5d6040518163ffffffff1660e060020a02815260040160006040518083038186803b15801561021657600080fd5b505afa15801561022a573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610252919081019061093a565b6040518263ffffffff1660e060020a0281526004016102719190610e51565b60206040518083038186803b15801561028957600080fd5b505afa15801561029d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506102c19190810190610977565b6102e05760405160e560020a62461bcd02815260040161009590610e82565b6040517fa2c9eb6d000000000000000000000000000000000000000000000000000000008152600160a060020a0383169063a2c9eb6d90610325908890600401610e43565b60206040518083038186803b15801561033d57600080fd5b505afa158015610351573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506103759190810190610977565b6103945760405160e560020a62461bcd02815260040161009590610ec2565b80600160a060020a0316632b1357336040518163ffffffff1660e060020a028152600401602060405180830381600087803b1580156103d257600080fd5b505af11580156103e6573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061040a9190810190610995565b836020015110156104305760405160e560020a62461bcd02815260040161009590610e72565b80600160a060020a0316635a5650856040518163ffffffff1660e060020a028152600401602060405180830381600087803b15801561046e57600080fd5b505af1158015610482573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506104a69190810190610995565b836020015111156104cc5760405160e560020a62461bcd02815260040161009590610ee2565b60008460200151600160a060020a03166342a7cfd56040518163ffffffff1660e060020a02815260040160206040518083038186803b15801561050e57600080fd5b505afa158015610522573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506105469190810190610995565b9050600087600160a060020a03166342a7cfd56040518163ffffffff1660e060020a02815260040160206040518083038186803b15801561058657600080fd5b505afa15801561059a573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506105be9190810190610995565b90506105e36105cd838361069d565b6105d784846106b3565b9063ffffffff6106c316565b156106035760405160e560020a62461bcd02815260040161009590610ed2565b6040517f6a370ca8000000000000000000000000000000000000000000000000000000008152600160a060020a03881690636a370ca890610648908890600401610ef2565b60006040518083038186803b15801561066057600080fd5b505afa158015610674573d6000803e3d6000fd5b505050505050505050505050565b60008282018381101561069457600080fd5b90505b92915050565b60008183106106ac5781610694565b5090919050565b6000818310156106ac5781610694565b6000816106cf57600080fd5b8183816106d857fe5b069392505050565b60006106948235610f5b565b60006106948251610f5b565b600082601f83011261070957600080fd5b815161071c61071782610f27565b610f00565b9150818183526020840193506020810190508385602084028201111561074157600080fd5b60005b8381101561076d578161075788826106ec565b8452506020928301929190910190600101610744565b5050505092915050565b60006106948251610f6f565b60006080828403121561079557600080fd5b61079f6080610f00565b905060006107ad84846108b3565b82525060206107be848483016108b3565b60208301525060406107d2848285016108b3565b60408301525060606107e6848285016108b3565b60608301525092915050565b6000610100828403121561080557600080fd5b610810610100610f00565b9050600061081e84846106e0565b825250602061082f848483016106e0565b6020830152506040610843848285016106e0565b6040830152506060610857848285016106e0565b606083015250608061086b848285016106e0565b60808301525060a061087f848285016108b3565b60a08301525060c0610893848285016108b3565b60c08301525060e06108a7848285016108cb565b60e08301525092915050565b60006106948235610f6c565b60006106948251610f6c565b60006106948235610f74565b6000806000806101c085870312156108ee57600080fd5b60006108fa87876106e0565b945050602061090b878288016106e0565b935050604061091c878288016107f2565b92505061014061092e87828801610783565b91505092959194509250565b60006020828403121561094c57600080fd5b815167ffffffffffffffff81111561096357600080fd5b61096f848285016106f8565b949350505050565b60006020828403121561098957600080fd5b600061096f8484610777565b6000602082840312156109a757600080fd5b600061096f84846108bf565b60006109bf83836109c7565b505060200190565b6109d081610f5b565b82525050565b60006109e182610f4e565b6109eb8185610f52565b93506109f683610f48565b60005b82811015610a2157610a0c8683516109b3565b9550610a1782610f48565b91506001016109f9565b5093949350505050565b6000610a38604e83610f52565b600080516020610f7b83398151915281527f20496e76616c6964206f722064697361626c65642070726f706f73656420536560208201527f74546f6b656e2061646472657373000000000000000000000000000000000000604082015260600192915050565b6000610aab604b83610f52565b600080516020610f7b83398151915281527f2054696d6520746f207069766f74206d7573742062652067726561746572207460208201527f68616e206d696e696d756d000000000000000000000000000000000000000000604082015260600192915050565b6000610b1e604e83610f52565b600080516020610f7b83398151915281527f2050726f706f7365642073657420636f6e7461696e7320696e76616c6964206360208201527f6f6d706f6e656e7420746f6b656e000000000000000000000000000000000000604082015260600192915050565b6000610b91603783610f52565b600080516020610f7b83398151915281527f2053656e646572206d757374206265206d616e61676572000000000000000000602082015260400192915050565b6000610bde603f83610f52565b600080516020610f7b83398151915281527f20526562616c616e636520696e74657276616c206e6f7420656c617073656400602082015260400192915050565b6000610c2b604483610f52565b600080516020610f7b83398151915281527f205374617465206d75737420626520696e2050726f706f7365206f722044656660208201527f61756c7400000000000000000000000000000000000000000000000000000000604082015260600192915050565b6000610c9e604983610f52565b600080516020610f7b83398151915281527f20496e76616c6964206f722064697361626c65642050726963654c696272617260208201527f7920616464726573730000000000000000000000000000000000000000000000604082015260600192915050565b6000610d11604283610f52565b600080516020610f7b83398151915281527f20496e76616c69642070726f706f73656420536574206e61747572616c20756e60208201527f6974000000000000000000000000000000000000000000000000000000000000604082015260600192915050565b6000610d84604b83610f52565b600080516020610f7b83398151915281527f2054696d6520746f207069766f74206d7573742062652067726561746572207460208201527f68616e206d6178696d756d000000000000000000000000000000000000000000604082015260600192915050565b80516080830190610dfb8482610e3a565b506020820151610e0e6020850182610e3a565b506040820151610e216040850182610e3a565b506060820151610e346060850182610e3a565b50505050565b6109d081610f6c565b6020810161069782846109c7565b6020808252810161069481846109d6565b6020808252810161069781610a2b565b6020808252810161069781610a9e565b6020808252810161069781610b11565b6020808252810161069781610b84565b6020808252810161069781610bd1565b6020808252810161069781610c1e565b6020808252810161069781610c91565b6020808252810161069781610d04565b6020808252810161069781610d77565b608081016106978284610dea565b60405181810167ffffffffffffffff81118282101715610f1f57600080fd5b604052919050565b600067ffffffffffffffff821115610f3e57600080fd5b5060209081020190565b60200190565b5190565b90815260200190565b6000600160a060020a038216610697565b90565b151590565b60ff169056fe50726f706f73654c6962726172792e76616c696461746550726f706f73616c3aa265627a7a72305820f513227671f6b9666bc69b7f51007618207ccf39e2ffc944fdb5b43a4ff32d126c6578706572696d656e74616cf50037",deployedBytecode:"0x73000000000000000000000000000000000000000030146080604052600436106100385760e060020a600035046356ca7aa2811461003d575b600080fd5b81801561004957600080fd5b5061005d6100583660046108d7565b61005f565b005b604082015160808301518351600160a060020a0316331461009e5760405160e560020a62461bcd02815260040161009590610e92565b60405180910390fd5b60e084015160ff1615806100b9575060e084015160ff166001145b6100d85760405160e560020a62461bcd02815260040161009590610eb2565b60c084015160a08501516100f19163ffffffff61068216565b4210156101135760405160e560020a62461bcd02815260040161009590610ea2565b6040517ffef3ee73000000000000000000000000000000000000000000000000000000008152600160a060020a0383169063fef3ee7390610158908990600401610e43565b60206040518083038186803b15801561017057600080fd5b505afa158015610184573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506101a89190810190610977565b6101c75760405160e560020a62461bcd02815260040161009590610e62565b8360600151600160a060020a03166332ed010e87600160a060020a03166399d50d5d6040518163ffffffff1660e060020a02815260040160006040518083038186803b15801561021657600080fd5b505afa15801561022a573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610252919081019061093a565b6040518263ffffffff1660e060020a0281526004016102719190610e51565b60206040518083038186803b15801561028957600080fd5b505afa15801561029d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506102c19190810190610977565b6102e05760405160e560020a62461bcd02815260040161009590610e82565b6040517fa2c9eb6d000000000000000000000000000000000000000000000000000000008152600160a060020a0383169063a2c9eb6d90610325908890600401610e43565b60206040518083038186803b15801561033d57600080fd5b505afa158015610351573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506103759190810190610977565b6103945760405160e560020a62461bcd02815260040161009590610ec2565b80600160a060020a0316632b1357336040518163ffffffff1660e060020a028152600401602060405180830381600087803b1580156103d257600080fd5b505af11580156103e6573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061040a9190810190610995565b836020015110156104305760405160e560020a62461bcd02815260040161009590610e72565b80600160a060020a0316635a5650856040518163ffffffff1660e060020a028152600401602060405180830381600087803b15801561046e57600080fd5b505af1158015610482573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506104a69190810190610995565b836020015111156104cc5760405160e560020a62461bcd02815260040161009590610ee2565b60008460200151600160a060020a03166342a7cfd56040518163ffffffff1660e060020a02815260040160206040518083038186803b15801561050e57600080fd5b505afa158015610522573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506105469190810190610995565b9050600087600160a060020a03166342a7cfd56040518163ffffffff1660e060020a02815260040160206040518083038186803b15801561058657600080fd5b505afa15801561059a573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506105be9190810190610995565b90506105e36105cd838361069d565b6105d784846106b3565b9063ffffffff6106c316565b156106035760405160e560020a62461bcd02815260040161009590610ed2565b6040517f6a370ca8000000000000000000000000000000000000000000000000000000008152600160a060020a03881690636a370ca890610648908890600401610ef2565b60006040518083038186803b15801561066057600080fd5b505afa158015610674573d6000803e3d6000fd5b505050505050505050505050565b60008282018381101561069457600080fd5b90505b92915050565b60008183106106ac5781610694565b5090919050565b6000818310156106ac5781610694565b6000816106cf57600080fd5b8183816106d857fe5b069392505050565b60006106948235610f5b565b60006106948251610f5b565b600082601f83011261070957600080fd5b815161071c61071782610f27565b610f00565b9150818183526020840193506020810190508385602084028201111561074157600080fd5b60005b8381101561076d578161075788826106ec565b8452506020928301929190910190600101610744565b5050505092915050565b60006106948251610f6f565b60006080828403121561079557600080fd5b61079f6080610f00565b905060006107ad84846108b3565b82525060206107be848483016108b3565b60208301525060406107d2848285016108b3565b60408301525060606107e6848285016108b3565b60608301525092915050565b6000610100828403121561080557600080fd5b610810610100610f00565b9050600061081e84846106e0565b825250602061082f848483016106e0565b6020830152506040610843848285016106e0565b6040830152506060610857848285016106e0565b606083015250608061086b848285016106e0565b60808301525060a061087f848285016108b3565b60a08301525060c0610893848285016108b3565b60c08301525060e06108a7848285016108cb565b60e08301525092915050565b60006106948235610f6c565b60006106948251610f6c565b60006106948235610f74565b6000806000806101c085870312156108ee57600080fd5b60006108fa87876106e0565b945050602061090b878288016106e0565b935050604061091c878288016107f2565b92505061014061092e87828801610783565b91505092959194509250565b60006020828403121561094c57600080fd5b815167ffffffffffffffff81111561096357600080fd5b61096f848285016106f8565b949350505050565b60006020828403121561098957600080fd5b600061096f8484610777565b6000602082840312156109a757600080fd5b600061096f84846108bf565b60006109bf83836109c7565b505060200190565b6109d081610f5b565b82525050565b60006109e182610f4e565b6109eb8185610f52565b93506109f683610f48565b60005b82811015610a2157610a0c8683516109b3565b9550610a1782610f48565b91506001016109f9565b5093949350505050565b6000610a38604e83610f52565b600080516020610f7b83398151915281527f20496e76616c6964206f722064697361626c65642070726f706f73656420536560208201527f74546f6b656e2061646472657373000000000000000000000000000000000000604082015260600192915050565b6000610aab604b83610f52565b600080516020610f7b83398151915281527f2054696d6520746f207069766f74206d7573742062652067726561746572207460208201527f68616e206d696e696d756d000000000000000000000000000000000000000000604082015260600192915050565b6000610b1e604e83610f52565b600080516020610f7b83398151915281527f2050726f706f7365642073657420636f6e7461696e7320696e76616c6964206360208201527f6f6d706f6e656e7420746f6b656e000000000000000000000000000000000000604082015260600192915050565b6000610b91603783610f52565b600080516020610f7b83398151915281527f2053656e646572206d757374206265206d616e61676572000000000000000000602082015260400192915050565b6000610bde603f83610f52565b600080516020610f7b83398151915281527f20526562616c616e636520696e74657276616c206e6f7420656c617073656400602082015260400192915050565b6000610c2b604483610f52565b600080516020610f7b83398151915281527f205374617465206d75737420626520696e2050726f706f7365206f722044656660208201527f61756c7400000000000000000000000000000000000000000000000000000000604082015260600192915050565b6000610c9e604983610f52565b600080516020610f7b83398151915281527f20496e76616c6964206f722064697361626c65642050726963654c696272617260208201527f7920616464726573730000000000000000000000000000000000000000000000604082015260600192915050565b6000610d11604283610f52565b600080516020610f7b83398151915281527f20496e76616c69642070726f706f73656420536574206e61747572616c20756e60208201527f6974000000000000000000000000000000000000000000000000000000000000604082015260600192915050565b6000610d84604b83610f52565b600080516020610f7b83398151915281527f2054696d6520746f207069766f74206d7573742062652067726561746572207460208201527f68616e206d6178696d756d000000000000000000000000000000000000000000604082015260600192915050565b80516080830190610dfb8482610e3a565b506020820151610e0e6020850182610e3a565b506040820151610e216040850182610e3a565b506060820151610e346060850182610e3a565b50505050565b6109d081610f6c565b6020810161069782846109c7565b6020808252810161069481846109d6565b6020808252810161069781610a2b565b6020808252810161069781610a9e565b6020808252810161069781610b11565b6020808252810161069781610b84565b6020808252810161069781610bd1565b6020808252810161069781610c1e565b6020808252810161069781610c91565b6020808252810161069781610d04565b6020808252810161069781610d77565b608081016106978284610dea565b60405181810167ffffffffffffffff81118282101715610f1f57600080fd5b604052919050565b600067ffffffffffffffff821115610f3e57600080fd5b5060209081020190565b60200190565b5190565b90815260200190565b6000600160a060020a038216610697565b90565b151590565b60ff169056fe50726f706f73654c6962726172792e76616c696461746550726f706f73616c3aa265627a7a72305820f513227671f6b9666bc69b7f51007618207ccf39e2ffc944fdb5b43a4ff32d126c6578706572696d656e74616cf50037",sourceMap:"1361:4562:83:-;;132:2:-1;166:7;155:9;146:7;137:37;255:7;249:14;246:1;241:23;235:4;232:33;222:2;;269:9;222:2;293:9;290:1;283:20;323:4;314:7;306:22;347:7;338;331:24",deployedSourceMap:"1361:4562:83:-;;;;;;;;;;;-1:-1:-1;;;1361:4562:83;;;;;;;;;;;;2174:3747;;8:9:-1;5:2;;;30:1;27;20:12;5:2;-1:-1;2174:3747:83;;;;;;;;:::i;:::-;;;2452:28;;;;2555:31;;;;2700:24;;-1:-1:-1;;;;;2686:38:83;:10;:38;2665:140;;;;-1:-1:-1;;;;;2665:140:83;;;;;;;;;;;;;;;;;2908:31;;;;:74;;;;:165;;-1:-1:-1;2998:31:83;;;;:75;;3039:33;2998:75;2908:165;2887:280;;;;-1:-1:-1;;;;;2887:280:83;;;;;;;;;3367:34;;;;3306:39;;;;:109;;;:43;:109;:::i;:::-;3287:15;:128;;3266:238;;;;-1:-1:-1;;;;;3266:238:83;;;;;;;;;3604:32;;;;;-1:-1:-1;;;;;3604:22:83;;;;;:32;;3627:8;;3604:32;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;3604:32:83;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;3604:32:83;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;3604:32:83;;;;;;;;;3583:157;;;;-1:-1:-1;;;;;3583:157:83;;;;;;;;;4035:16;:35;;;-1:-1:-1;;;;;4007:95:83;;4113:8;-1:-1:-1;;;;;4103:33:83;;:35;;;;;-1:-1:-1;;;4103:35:83;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;4103:35:83;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;4103:35:83;;;;;;39:16:-1;36:1;17:17;2:54;101:4;4103:35:83;80:15:-1;;;-1:-1;;76:31;65:43;;120:4;113:20;4103:35:83;;;;;;;;;4007:132;;;;;-1:-1:-1;;;4007:132:83;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;4007:132:83;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;4007:132:83;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;4007:132:83;;;;;;;;;3986:257;;;;-1:-1:-1;;;;;3986:257:83;;;;;;;;;4357:49;;;;;-1:-1:-1;;;;;4357:32:83;;;;;:49;;4390:15;;4357:49;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;4357:49:83;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;4357:49:83;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;4357:49:83;;;;;;;;;4336:169;;;;-1:-1:-1;;;;;4336:169:83;;;;;;;;;4660:15;-1:-1:-1;;;;;4660:34:83;;:36;;;;;-1:-1:-1;;;4660:36:83;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;4660:36:83;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;4660:36:83;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;4660:36:83;;;;;;;;;4614:23;:42;;;:82;;4593:204;;;;-1:-1:-1;;;;;4593:204:83;;;;;;;;;4948:15;-1:-1:-1;;;;;4948:34:83;;:36;;;;;-1:-1:-1;;;4948:36:83;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;4948:36:83;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;4948:36:83;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;4948:36:83;;;;;;;;;4902:23;:42;;;:82;;4881:204;;;;-1:-1:-1;;;;;4881:204:83;;;;;;;;;5304:26;5343:16;:27;;;-1:-1:-1;;;;;5333:50:83;;:52;;;;;-1:-1:-1;;;5333:52:83;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;5333:52:83;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;5333:52:83;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;5333:52:83;;;;;;;;;5304:81;;5395:26;5434:8;-1:-1:-1;;;;;5424:31:83;;:33;;;;;-1:-1:-1;;;5424:33:83;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;5424:33:83;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;5424:33:83;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;5424:33:83;;;;;;;;;5395:62;;5488:132;5558:48;5567:18;5587;5558:8;:48::i;:::-;5488;5497:18;5517;5488:8;:48::i;:::-;:52;:132;:52;:132;:::i;:::-;:137;5467:250;;;;-1:-1:-1;;;;;5467:250:83;;;;;;;;;5801:113;;;;;-1:-1:-1;;;;;5801:66:83;;;;;:113;;5881:23;;5801:113;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;5801:113:83;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;5801:113:83;;;;2174:3747;;;;;;;;:::o;1439:145:166:-;1497:7;1528:5;;;1551:6;;;;1543:15;;;;;;1576:1;-1:-1:-1;1439:145:166;;;;;:::o;340:104:165:-;398:7;428:1;424;:5;:13;;436:1;424:13;;;-1:-1:-1;432:1:165;;417:20;-1:-1:-1;340:104:165:o;164:105::-;222:7;253:1;248;:6;;:14;;261:1;248:14;;1739:121:166;1797:7;1824:6;1816:15;;;;;;1852:1;1848;:5;;;;;;;1739:121;-1:-1:-1;;;1739:121:166:o;5:118:-1:-;;72:46;110:6;97:20;72:46;;130:122;;208:39;239:6;233:13;208:39;;277:722;;405:3;398:4;390:6;386:17;382:27;372:2;;423:1;420;413:12;372:2;453:6;447:13;475:80;490:64;547:6;490:64;;;475:80;;;466:89;;572:5;597:6;590:5;583:21;627:4;619:6;615:17;605:27;;649:4;644:3;640:14;633:21;;702:6;749:3;741:4;733:6;729:17;724:3;720:27;717:36;714:2;;;766:1;763;756:12;714:2;791:1;776:217;801:6;798:1;795:13;776:217;;;859:3;881:48;925:3;913:10;881:48;;;869:61;;-1:-1;953:4;944:14;;;;972;;;;;823:1;816:9;776:217;;;780:14;365:634;;;;;;;;1007:116;;1082:36;1110:6;1104:13;1082:36;;1185:821;;1314:4;1302:9;1297:3;1293:19;1289:30;1286:2;;;1332:1;1329;1322:12;1286:2;1350:20;1365:4;1350:20;;;1341:29;-1:-1;1432:1;1463:49;1508:3;1488:9;1463:49;;;1439:74;;-1:-1;1588:2;1621:49;1666:3;1642:22;;;1621:49;;;1614:4;1607:5;1603:16;1596:75;1534:148;1745:2;1778:49;1823:3;1814:6;1803:9;1799:22;1778:49;;;1771:4;1764:5;1760:16;1753:75;1692:147;1902:2;1935:49;1980:3;1971:6;1960:9;1956:22;1935:49;;;1928:4;1921:5;1917:16;1910:75;1849:147;1280:726;;;;;2057:1424;;2180:5;2168:9;2163:3;2159:19;2155:31;2152:2;;;2199:1;2196;2189:12;2152:2;2217:21;2232:5;2217:21;;;2208:30;-1:-1;2291:1;2322:49;2367:3;2347:9;2322:49;;;2298:74;;-1:-1;2439:2;2472:49;2517:3;2493:22;;;2472:49;;;2465:4;2458:5;2454:16;2447:75;2393:140;2590:2;2623:49;2668:3;2659:6;2648:9;2644:22;2623:49;;;2616:4;2609:5;2605:16;2598:75;2543:141;2748:2;2781:49;2826:3;2817:6;2806:9;2802:22;2781:49;;;2774:4;2767:5;2763:16;2756:75;2694:148;2902:3;2936:49;2981:3;2972:6;2961:9;2957:22;2936:49;;;2929:4;2922:5;2918:16;2911:75;2852:145;3065:3;3099:49;3144:3;3135:6;3124:9;3120:22;3099:49;;;3092:4;3085:5;3081:16;3074:75;3007:153;3223:3;3257:49;3302:3;3293:6;3282:9;3278:22;3257:49;;;3250:4;3243:5;3239:16;3232:75;3170:148;3378:3;3412:47;3455:3;3446:6;3435:9;3431:22;3412:47;;;3405:4;3398:5;3394:16;3387:73;3328:143;2146:1335;;;;;3488:118;;3555:46;3593:6;3580:20;3555:46;;3613:122;;3691:39;3722:6;3716:13;3691:39;;3742:114;;3807:44;3843:6;3830:20;3807:44;;3863:766;;;;;4092:3;4080:9;4071:7;4067:23;4063:33;4060:2;;;4109:1;4106;4099:12;4060:2;4144:1;4161:53;4206:7;4186:9;4161:53;;;4151:63;;4123:97;4251:2;4269:53;4314:7;4305:6;4294:9;4290:22;4269:53;;;4259:63;;4230:98;4359:2;4377:87;4456:7;4447:6;4436:9;4432:22;4377:87;;;4367:97;;4338:132;4501:3;4520:93;4605:7;4596:6;4585:9;4581:22;4520:93;;;4510:103;;4480:139;4054:575;;;;;;;;4636:392;;4776:2;4764:9;4755:7;4751:23;4747:32;4744:2;;;4792:1;4789;4782:12;4744:2;4827:24;;4871:18;4860:30;;4857:2;;;4903:1;4900;4893:12;4857:2;4923:89;5004:7;4995:6;4984:9;4980:22;4923:89;;;4913:99;4738:290;-1:-1;;;;4738:290;5035:257;;5147:2;5135:9;5126:7;5122:23;5118:32;5115:2;;;5163:1;5160;5153:12;5115:2;5198:1;5215:61;5268:7;5248:9;5215:61;;5299:263;;5414:2;5402:9;5393:7;5389:23;5385:32;5382:2;;;5430:1;5427;5420:12;5382:2;5465:1;5482:64;5538:7;5518:9;5482:64;;5570:173;;5657:46;5699:3;5691:6;5657:46;;;-1:-1;;5732:4;5723:14;;5650:93;5751:110;5824:31;5849:5;5824:31;;;5819:3;5812:44;5806:55;;;6026:621;;6171:54;6219:5;6171:54;;;6238:86;6317:6;6312:3;6238:86;;;6231:93;;6344:56;6394:5;6344:56;;;6421:1;6406:219;6431:6;6428:1;6425:13;6406:219;;;6478:63;6537:3;6528:6;6522:13;6478:63;;;6471:70;;6558:60;6611:6;6558:60;;;6548:70;-1:-1;6453:1;6446:9;6406:219;;;-1:-1;6638:3;;6150:497;-1:-1;;;;6150:497;6656:566;;6816:67;6880:2;6875:3;6816:67;;;-1:-1;;;;;;;;;;;6896:87;;7017:66;7012:2;7003:12;;6996:88;7118:66;7113:2;7104:12;;7097:88;7213:2;7204:12;;6802:420;-1:-1;;6802:420;7231:566;;7391:67;7455:2;7450:3;7391:67;;;-1:-1;;;;;;;;;;;7471:87;;7592:66;7587:2;7578:12;;7571:88;7693:66;7688:2;7679:12;;7672:88;7788:2;7779:12;;7377:420;-1:-1;;7377:420;7806:566;;7966:67;8030:2;8025:3;7966:67;;;-1:-1;;;;;;;;;;;8046:87;;8167:66;8162:2;8153:12;;8146:88;8268:66;8263:2;8254:12;;8247:88;8363:2;8354:12;;7952:420;-1:-1;;7952:420;8381:465;;8541:67;8605:2;8600:3;8541:67;;;-1:-1;;;;;;;;;;;8621:87;;8742:66;8737:2;8728:12;;8721:88;8837:2;8828:12;;8527:319;-1:-1;;8527:319;8855:465;;9015:67;9079:2;9074:3;9015:67;;;-1:-1;;;;;;;;;;;9095:87;;9216:66;9211:2;9202:12;;9195:88;9311:2;9302:12;;9001:319;-1:-1;;9001:319;9329:566;;9489:67;9553:2;9548:3;9489:67;;;-1:-1;;;;;;;;;;;9569:87;;9690:66;9685:2;9676:12;;9669:88;9791:66;9786:2;9777:12;;9770:88;9886:2;9877:12;;9475:420;-1:-1;;9475:420;9904:566;;10064:67;10128:2;10123:3;10064:67;;;-1:-1;;;;;;;;;;;10144:87;;10265:66;10260:2;10251:12;;10244:88;10366:66;10361:2;10352:12;;10345:88;10461:2;10452:12;;10050:420;-1:-1;;10050:420;10479:566;;10639:67;10703:2;10698:3;10639:67;;;-1:-1;;;;;;;;;;;10719:87;;10840:66;10835:2;10826:12;;10819:88;10941:66;10936:2;10927:12;;10920:88;11036:2;11027:12;;10625:420;-1:-1;;10625:420;11054:566;;11214:67;11278:2;11273:3;11214:67;;;-1:-1;;;;;;;;;;;11294:87;;11415:66;11410:2;11401:12;;11394:88;11516:66;11511:2;11502:12;;11495:88;11611:2;11602:12;;11200:420;-1:-1;;11200:420;11735:856;11985:22;;11908:4;11899:14;;;12013:61;11903:3;11985:22;12013:61;;;11928:152;12166:4;12159:5;12155:16;12149:23;12178:62;12234:4;12229:3;12225:14;12212:11;12178:62;;;12090:156;12331:4;12324:5;12320:16;12314:23;12343:62;12399:4;12394:3;12390:14;12377:11;12343:62;;;12256:155;12496:4;12489:5;12485:16;12479:23;12508:62;12564:4;12559:3;12555:14;12542:11;12508:62;;;12421:155;11881:710;;;;12598:110;12671:31;12696:5;12671:31;;12715:213;12833:2;12818:18;;12847:71;12822:9;12891:6;12847:71;;12935:361;13103:2;13117:47;;;13088:18;;13178:108;13088:18;13272:6;13178:108;;13303:407;13494:2;13508:47;;;13479:18;;13569:131;13479:18;13569:131;;13717:407;13908:2;13922:47;;;13893:18;;13983:131;13893:18;13983:131;;14131:407;14322:2;14336:47;;;14307:18;;14397:131;14307:18;14397:131;;14545:407;14736:2;14750:47;;;14721:18;;14811:131;14721:18;14811:131;;14959:407;15150:2;15164:47;;;15135:18;;15225:131;15135:18;15225:131;;15373:407;15564:2;15578:47;;;15549:18;;15639:131;15549:18;15639:131;;15787:407;15978:2;15992:47;;;15963:18;;16053:131;15963:18;16053:131;;16201:407;16392:2;16406:47;;;16377:18;;16467:131;16377:18;16467:131;;16615:407;16806:2;16820:47;;;16791:18;;16881:131;16791:18;16881:131;;17029:374;17227:3;17212:19;;17242:151;17216:9;17366:6;17242:151;;17410:256;17472:2;17466:9;17498:17;;;17573:18;17558:34;;17594:22;;;17555:62;17552:2;;;17630:1;17627;17620:12;17552:2;17646;17639:22;17450:216;;-1:-1;17450:216;17673:258;;17832:18;17824:6;17821:30;17818:2;;;17864:1;17861;17854:12;17818:2;-1:-1;17893:4;17881:17;;;17911:15;;17755:176;17940:121;18049:4;18037:17;;18018:43;18070:107;18160:12;;18144:33;18316:178;18434:19;;;18483:4;18474:14;;18427:67;18674:105;;-1:-1;;;;;18855:54;;18743:31;18838:76;18921:79;18990:5;18973:27;19119:92;19192:13;19185:21;;19168:43;19439:88;19517:4;19506:16;;19489:38",source:'/*\n    Copyright 2018 Set Labs Inc.\n\n    Licensed under the Apache License, Version 2.0 (the "License");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an "AS IS" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n*/\n\npragma solidity 0.5.7;\npragma experimental "ABIEncoderV2";\n\nimport { Math } from "openzeppelin-solidity/contracts/math/Math.sol";\nimport { SafeMath } from "openzeppelin-solidity/contracts/math/SafeMath.sol";\nimport { IAuctionPriceCurve } from "../../lib/auction-price-libraries/IAuctionPriceCurve.sol";\nimport { ICore } from "../../interfaces/ICore.sol";\nimport { IRebalancingSetFactory } from "../../interfaces/IRebalancingSetFactory.sol";\nimport { ISetToken } from "../../interfaces/ISetToken.sol";\nimport { IWhiteList } from "../../interfaces/IWhiteList.sol";\nimport { RebalancingLibrary } from "../../lib/RebalancingLibrary.sol";\n\n\n/**\n * @title ProposeLibrary\n * @author Set Protocol\n *\n * Default implementation of Rebalancing Set Token propose function\n */\nlibrary ProposeLibrary {\n    using SafeMath for uint256;\n\n    /* ============ Structs ============ */\n\n    struct ProposalContext {\n        address manager;\n        address currentSet;\n        address coreAddress;\n        address componentWhitelist;\n        address factoryAddress;\n        uint256 lastRebalanceTimestamp;\n        uint256 rebalanceInterval;\n        uint8 rebalanceState;\n    }\n\n    /* ============ Internal Functions ============ */\n\n    /**\n     * Function used to validate inputs to propose function\n     *\n     * @param _nextSet                    The Set to rebalance into\n     * @param _auctionLibrary             The library used to calculate the Dutch Auction price\n     * @param _proposalContext            Rebalancing Set Token state parameters needed for proposal validation\n     */\n    function validateProposal(\n        address _nextSet,\n        address _auctionLibrary,\n        ProposalContext memory _proposalContext,\n        RebalancingLibrary.AuctionPriceParameters memory _auctionPriceParameters\n    )\n        public\n    {\n        ICore coreInstance = ICore(_proposalContext.coreAddress);\n        IRebalancingSetFactory factoryInstance = IRebalancingSetFactory(_proposalContext.factoryAddress);\n\n        // Make sure it is manager that is proposing the rebalance\n        require(\n            msg.sender == _proposalContext.manager,\n            "ProposeLibrary.validateProposal: Sender must be manager"\n        );\n\n        // New Proposal can only be made in Default and Proposal state\n        require(\n            _proposalContext.rebalanceState == uint8(RebalancingLibrary.State.Default) ||\n            _proposalContext.rebalanceState == uint8(RebalancingLibrary.State.Proposal),\n            "ProposeLibrary.validateProposal: State must be in Propose or Default"\n        );\n\n        // Make sure enough time has passed from last rebalance to start a new proposal\n        require(\n            block.timestamp >= _proposalContext.lastRebalanceTimestamp.add(\n                _proposalContext.rebalanceInterval\n            ),\n            "ProposeLibrary.validateProposal: Rebalance interval not elapsed"\n        );\n\n        // Check that new proposed Set is valid Set created by Core\n        require(\n            coreInstance.validSets(_nextSet),\n            "ProposeLibrary.validateProposal: Invalid or disabled proposed SetToken address"\n        );\n\n        // Check proposed components on whitelist. This is to ensure managers are unable to add contract addresses\n        // to a propose that prohibit the set from carrying out an auction i.e. a token that only the manager possesses\n        require(\n            IWhiteList(\n                _proposalContext.componentWhitelist\n            ).areValidAddresses(ISetToken(_nextSet).getComponents()),\n            "ProposeLibrary.validateProposal: Proposed set contains invalid component token"\n        );\n\n        // Check that the auction library is a valid priceLibrary tracked by Core\n        require(\n            coreInstance.validPriceLibraries(_auctionLibrary),\n            "ProposeLibrary.validateProposal: Invalid or disabled PriceLibrary address"\n        );\n\n        // Check that auctionTimeToPivot is greater than or equal to 6 hours\n        require(\n            _auctionPriceParameters.auctionTimeToPivot >= factoryInstance.minimumTimeToPivot(),\n            "ProposeLibrary.validateProposal: Time to pivot must be greater than minimum"\n        );\n\n        // Check that auctionTimeToPivot is less than or equal to 3 days\n        require(\n            _auctionPriceParameters.auctionTimeToPivot <= factoryInstance.maximumTimeToPivot(),\n            "ProposeLibrary.validateProposal: Time to pivot must be greater than maximum"\n        );\n\n        // Check that the proposed set natural unit is a multiple of current set natural unit, or vice versa.\n        // Done to make sure that when calculating token units there will are no rounding errors.\n        uint256 currentNaturalUnit = ISetToken(_proposalContext.currentSet).naturalUnit();\n        uint256 nextSetNaturalUnit = ISetToken(_nextSet).naturalUnit();\n        require(\n            Math.max(currentNaturalUnit, nextSetNaturalUnit).mod(\n                Math.min(currentNaturalUnit, nextSetNaturalUnit)\n            ) == 0,\n            "ProposeLibrary.validateProposal: Invalid proposed Set natural unit"\n        );\n\n        // Check that pivot price is compliant with library restrictions\n        IAuctionPriceCurve(_auctionLibrary).validateAuctionPriceParameters(\n            _auctionPriceParameters\n        );\n    }\n}\n',
sourcePath:"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/tokens/rebalancing-libraries/ProposeLibrary.sol",compiler:{name:"solc",version:"0.5.7+commit.6da8b019.Linux.g++"},networks:{},schemaVersion:"3.0.23",updatedAt:"2020-05-05T17:13:36.909Z",devdoc:{author:"Set Protocol * Default implementation of Rebalancing Set Token propose function",methods:{"validateProposal(address,address,ProposeLibrary.ProposalContext,RebalancingLibrary.AuctionPriceParameters)":{params:{_auctionLibrary:"The library used to calculate the Dutch Auction price",_nextSet:"The Set to rebalance into",_proposalContext:"Rebalancing Set Token state parameters needed for proposal validation"}}},title:"ProposeLibrary"},userdoc:{methods:{"validateProposal(address,address,ProposeLibrary.ProposalContext,RebalancingLibrary.AuctionPriceParameters)":{notice:"Function used to validate inputs to propose function"}}}};