"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TimeLockUpgrade={contractName:"TimeLockUpgrade",abi:[{constant:true,inputs:[{name:"",type:"bytes32"}],name:"timeLockedUpgrades",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:false,inputs:[],name:"renounceOwnership",outputs:[],payable:false,stateMutability:"nonpayable",type:"function"},{constant:true,inputs:[],name:"timeLockPeriod",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"isOwner",outputs:[{name:"",type:"bool"}],payable:false,stateMutability:"view",type:"function"},{constant:false,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:false,stateMutability:"nonpayable",type:"function"},{anonymous:false,inputs:[{indexed:false,name:"_upgradeHash",type:"bytes32"},{indexed:false,name:"_timestamp",type:"uint256"}],name:"UpgradeRegistered",type:"event"},{anonymous:false,inputs:[{indexed:true,name:"previousOwner",type:"address"},{indexed:true,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{constant:false,inputs:[{name:"_timeLockPeriod",type:"uint256"}],name:"setTimeLockPeriod",outputs:[],payable:false,stateMutability:"nonpayable",type:"function"}],metadata:'{"compiler":{"version":"0.5.7+commit.6da8b019"},"language":"Solidity","output":{"abi":[{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"timeLockedUpgrades","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"timeLockPeriod","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_timeLockPeriod","type":"uint256"}],"name":"setTimeLockPeriod","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_upgradeHash","type":"bytes32"},{"indexed":false,"name":"_timestamp","type":"uint256"}],"name":"UpgradeRegistered","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"}],"devdoc":{"author":"Set Protocol * The TimeLockUpgrade contract contains a modifier for handling minimum time period updates","methods":{"isOwner()":{"return":"true if `msg.sender` is the owner of the contract."},"owner()":{"return":"the address of the owner."},"renounceOwnership()":{"details":"Allows the current owner to relinquish control of the contract. It will not be possible to call the functions with the `onlyOwner` modifier anymore."},"setTimeLockPeriod(uint256)":{"params":{"_timeLockPeriod":"Time in seconds that upgrades need to be evaluated before execution"}},"transferOwnership(address)":{"details":"Allows the current owner to transfer control of the contract to a newOwner.","params":{"newOwner":"The address to transfer ownership to."}}},"title":"TimeLockUpgrade"},"userdoc":{"methods":{"renounceOwnership()":{"notice":"Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner."},"setTimeLockPeriod(uint256)":{"notice":"Change timeLockPeriod period. Generally called after initially settings have been set up."}}}},"settings":{"compilationTarget":{"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/TimeLockUpgrade.sol":"TimeLockUpgrade"},"evmVersion":"byzantium","libraries":{},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/TimeLockUpgrade.sol":{"keccak256":"0xacc9cfd889c4056038d06abdb20857c25566fa94f3a054566f913920d58b0415","urls":["bzzr://03e9ad33eb09761e21dc4a1340e177a9e930d35a2dc608102a86671536fdfb4a"]},"openzeppelin-solidity/contracts/math/SafeMath.sol":{"keccak256":"0xc2a200a877c4a9b2475c246c54ffecc69ffde3e11af83319c63c2dc5458bac80","urls":["bzzr://c8876e2c39b60f155d748d71d715c8f3903fae5a405ac599adcb6ad2f9a583f9"]},"openzeppelin-solidity/contracts/ownership/Ownable.sol":{"keccak256":"0xcb16adc00dcf0d75e0bdf94379f4d5a6d74dca7c74e4183b94e15721159f8a30","urls":["bzzr://b81e03f7203cd628cfed19255911a04a05e8670d248afb48a7b067dd03b4ff55"]}},"version":1}',bytecode:"0x6080604081905260008054600160a060020a0319163317808255600160a060020a0316917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908290a3610370806100576000396000f3fe608060405234801561001057600080fd5b506004361061009a576000357c0100000000000000000000000000000000000000000000000000000000900480638da5cb5b116100785780638da5cb5b146100e05780638f32d59b146101045780639303b16f14610120578063f2fde38b1461013d5761009a565b80631766486d1461009f578063715018a6146100ce57806378446bc1146100d8575b600080fd5b6100bc600480360360208110156100b557600080fd5b5035610163565b60408051918252519081900360200190f35b6100d6610175565b005b6100bc6101dd565b6100e86101e3565b60408051600160a060020a039092168252519081900360200190f35b61010c6101f2565b604080519115158252519081900360200190f35b6100d66004803603602081101561013657600080fd5b5035610203565b6100d66004803603602081101561015357600080fd5b5035600160a060020a0316610273565b60026020526000908152604090205481565b61017d6101f2565b61018657600080fd5b60008054604051600160a060020a03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a36000805473ffffffffffffffffffffffffffffffffffffffff19169055565b60015481565b600054600160a060020a031690565b600054600160a060020a0316331490565b61020b6101f2565b61021457600080fd5b600154811161026e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252603981526020018061030c6039913960400191505060405180910390fd5b600155565b61027b6101f2565b61028457600080fd5b61028d81610290565b50565b600160a060020a0381166102a357600080fd5b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039290921691909117905556fe54696d654c6f636b557067726164653a204e657720706572696f64206d7573742062652067726561746572207468616e206578697374696e67a165627a7a72305820e24302a455792eb70c96cb97b56cb6d766767b0edba2242c185f80f5aaa455e60029",deployedBytecode:"0x608060405234801561001057600080fd5b506004361061009a576000357c0100000000000000000000000000000000000000000000000000000000900480638da5cb5b116100785780638da5cb5b146100e05780638f32d59b146101045780639303b16f14610120578063f2fde38b1461013d5761009a565b80631766486d1461009f578063715018a6146100ce57806378446bc1146100d8575b600080fd5b6100bc600480360360208110156100b557600080fd5b5035610163565b60408051918252519081900360200190f35b6100d6610175565b005b6100bc6101dd565b6100e86101e3565b60408051600160a060020a039092168252519081900360200190f35b61010c6101f2565b604080519115158252519081900360200190f35b6100d66004803603602081101561013657600080fd5b5035610203565b6100d66004803603602081101561015357600080fd5b5035600160a060020a0316610273565b60026020526000908152604090205481565b61017d6101f2565b61018657600080fd5b60008054604051600160a060020a03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a36000805473ffffffffffffffffffffffffffffffffffffffff19169055565b60015481565b600054600160a060020a031690565b600054600160a060020a0316331490565b61020b6101f2565b61021457600080fd5b600154811161026e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252603981526020018061030c6039913960400191505060405180910390fd5b600155565b61027b6101f2565b61028457600080fd5b61028d81610290565b50565b600160a060020a0381166102a357600080fd5b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039290921691909117905556fe54696d654c6f636b557067726164653a204e657720706572696f64206d7573742062652067726561746572207468616e206578697374696e67a165627a7a72305820e24302a455792eb70c96cb97b56cb6d766767b0edba2242c185f80f5aaa455e60029",sourceMap:"936:2439:124:-;;;;;515:6:175;:19;;-1:-1:-1;;;;;;515:19:175;524:10;515:19;;;;-1:-1:-1;;;;;582:6:175;;549:40;;515:6;;549:40;936:2439:124;;;;;;",deployedSourceMap:"936:2439:124:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;936:2439:124;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1206:53;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1206:53:124;;:::i;:::-;;;;;;;;;;;;;;;;1423:137:175;;;:::i;:::-;;1110:29:124;;;:::i;659:77:175:-;;;:::i;:::-;;;;-1:-1:-1;;;;;659:77:175;;;;;;;;;;;;;;979:90;;;:::i;:::-;;;;;;;;;;;;;;;;;;2977:396:124;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;2977:396:124;;:::i;1731:107:175:-;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1731:107:175;-1:-1:-1;;;;;1731:107:175;;:::i;1206:53:124:-;;;;;;;;;;;;;:::o;1423:137:175:-;863:9;:7;:9::i;:::-;855:18;;;;;;1521:1;1505:6;;1484:40;;-1:-1:-1;;;;;1505:6:175;;;;1484:40;;1521:1;;1484:40;1551:1;1534:19;;-1:-1:-1;;1534:19:175;;;1423:137::o;1110:29:124:-;;;;:::o;659:77:175:-;697:7;723:6;-1:-1:-1;;;;;723:6:175;659:77;:::o;979:90::-;1019:4;1056:6;-1:-1:-1;;;;;1056:6:175;1042:10;:20;;979:90::o;2977:396:124:-;863:9:175;:7;:9::i;:::-;855:18;;;;;;3226:14:124;;3208:15;:32;3187:136;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3334:14;:32;2977:396::o;1731:107:175:-;863:9;:7;:9::i;:::-;855:18;;;;;;1803:28;1822:8;1803:18;:28::i;:::-;1731:107;:::o;1982:183::-;-1:-1:-1;;;;;2055:22:175;;2047:31;;;;;;2114:6;;;2093:38;;-1:-1:-1;;;;;2093:38:175;;;;2114:6;;;2093:38;;;2141:6;:17;;-1:-1:-1;;2141:17:175;-1:-1:-1;;;;;2141:17:175;;;;;;;;;;1982:183::o",source:'/*\n    Copyright 2018 Set Labs Inc.\n\n    Licensed under the Apache License, Version 2.0 (the "License");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an "AS IS" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n*/\n\npragma solidity 0.5.7;\n\nimport { Ownable } from "openzeppelin-solidity/contracts/ownership/Ownable.sol";\nimport { SafeMath } from "openzeppelin-solidity/contracts/math/SafeMath.sol";\n\n\n/**\n * @title TimeLockUpgrade\n * @author Set Protocol\n *\n * The TimeLockUpgrade contract contains a modifier for handling minimum time period updates\n */\ncontract TimeLockUpgrade is\n    Ownable\n{\n    using SafeMath for uint256;\n\n    /* ============ State Variables ============ */\n\n    // Timelock Upgrade Period in seconds\n    uint256 public timeLockPeriod;\n\n    // Mapping of upgradable units and initialized timelock\n    mapping(bytes32 => uint256) public timeLockedUpgrades;\n\n    /* ============ Events ============ */\n\n    event UpgradeRegistered(\n        bytes32 _upgradeHash,\n        uint256 _timestamp\n    );\n\n    /* ============ Modifiers ============ */\n\n    modifier timeLockUpgrade() {\n        // If the time lock period is 0, then allow non-timebound upgrades.\n        // This is useful for initialization of the protocol and for testing.\n        if (timeLockPeriod == 0) {\n            _;\n\n            return;\n        }\n\n        // The upgrade hash is defined by the hash of the transaction call data,\n        // which uniquely identifies the function as well as the passed in arguments.\n        bytes32 upgradeHash = keccak256(\n            abi.encodePacked(\n                msg.data\n            )\n        );\n\n        uint256 registrationTime = timeLockedUpgrades[upgradeHash];\n\n        // If the upgrade hasn\'t been registered, register with the current time.\n        if (registrationTime == 0) {\n            timeLockedUpgrades[upgradeHash] = block.timestamp;\n\n            emit UpgradeRegistered(\n                upgradeHash,\n                block.timestamp\n            );\n\n            return;\n        }\n\n        require(\n            block.timestamp >= registrationTime.add(timeLockPeriod),\n            "TimeLockUpgrade: Time lock period must have elapsed."\n        );\n\n        // Reset the timestamp to 0\n        timeLockedUpgrades[upgradeHash] = 0;\n\n        // Run the rest of the upgrades\n        _;\n    }\n\n    /* ============ Function ============ */\n\n    /**\n     * Change timeLockPeriod period. Generally called after initially settings have been set up.\n     *\n     * @param  _timeLockPeriod   Time in seconds that upgrades need to be evaluated before execution\n     */\n    function setTimeLockPeriod(\n        uint256 _timeLockPeriod\n    )\n        external\n        onlyOwner\n    {\n        // Only allow setting of the timeLockPeriod if the period is greater than the existing\n        require(\n            _timeLockPeriod > timeLockPeriod,\n            "TimeLockUpgrade: New period must be greater than existing"\n        );\n\n        timeLockPeriod = _timeLockPeriod;\n    }\n}\n',sourcePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/TimeLockUpgrade.sol",ast:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/TimeLockUpgrade.sol",exportedSymbols:{TimeLockUpgrade:[24316]},id:24317,nodeType:"SourceUnit",nodes:[{id:24212,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:124"},{absolutePath:"openzeppelin-solidity/contracts/ownership/Ownable.sol",file:"openzeppelin-solidity/contracts/ownership/Ownable.sol",id:24214,nodeType:"ImportDirective",scope:24317,sourceUnit:29750,src:"621:80:124",symbolAliases:[{foreign:24213,local:null}],unitAlias:""},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:24216,nodeType:"ImportDirective",scope:24317,sourceUnit:29641,src:"702:77:124",symbolAliases:[{foreign:24215,local:null}],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:24217,name:"Ownable",nodeType:"UserDefinedTypeName",referencedDeclaration:29749,src:"968:7:124",typeDescriptions:{typeIdentifier:"t_contract$_Ownable_$29749",typeString:"contract Ownable"}},id:24218,nodeType:"InheritanceSpecifier",src:"968:7:124"}],contractDependencies:[29749],contractKind:"contract",documentation:"@title TimeLockUpgrade\n@author Set Protocol\n * The TimeLockUpgrade contract contains a modifier for handling minimum time period updates",fullyImplemented:true,id:24316,linearizedBaseContracts:[24316,29749],name:"TimeLockUpgrade",nodeType:"ContractDefinition",nodes:[{id:24221,libraryName:{contractScope:null,id:24219,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:29640,src:"988:8:124",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$29640",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"982:27:124",typeName:{id:24220,name:"uint256",nodeType:"ElementaryTypeName",src:"1001:7:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{constant:false,id:24223,name:"timeLockPeriod",nodeType:"VariableDeclaration",scope:24316,src:"1110:29:124",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:24222,name:"uint256",nodeType:"ElementaryTypeName",src:"1110:7:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"public"},{constant:false,id:24227,name:"timeLockedUpgrades",nodeType:"VariableDeclaration",scope:24316,src:"1206:53:124",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"},typeName:{id:24226,keyType:{id:24224,name:"bytes32",nodeType:"ElementaryTypeName",src:"1214:7:124",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Mapping",src:"1206:27:124",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"},valueType:{id:24225,name:"uint256",nodeType:"ElementaryTypeName",src:"1225:7:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},value:null,visibility:"public"},{anonymous:false,documentation:null,id:24233,name:"UpgradeRegistered",nodeType:"EventDefinition",parameters:{id:24232,nodeType:"ParameterList",parameters:[{constant:false,id:24229,indexed:false,name:"_upgradeHash",nodeType:"VariableDeclaration",scope:24233,src:"1343:20:124",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:24228,name:"bytes32",nodeType:"ElementaryTypeName",src:"1343:7:124",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"},{constant:false,id:24231,indexed:false,name:"_timestamp",nodeType:"VariableDeclaration",scope:24233,src:"1373:18:124",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:24230,name:"uint256",nodeType:"ElementaryTypeName",src:"1373:7:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1333:64:124"},src:"1310:88:124"},{body:{id:24295,nodeType:"Block",src:"1478:1226:124",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:24237,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:24235,name:"timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24223,src:"1646:14:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:24236,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"1664:1:124",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"1646:19:124",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:24241,nodeType:"IfStatement",src:"1642:72:124",trueBody:{id:24240,nodeType:"Block",src:"1667:47:124",statements:[{id:24238,nodeType:"PlaceholderStatement",src:"1681:1:124"},{expression:null,functionReturnParameters:null,id:24239,nodeType:"Return",src:"1697:7:124"}]}},{assignments:[24243],declarations:[{constant:false,id:24243,name:"upgradeHash",nodeType:"VariableDeclaration",scope:24295,src:"1891:19:124",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:24242,name:"bytes32",nodeType:"ElementaryTypeName",src:"1891:7:124",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],id:24251,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:24247,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"1970:3:124",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:24248,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"data",nodeType:"MemberAccess",referencedDeclaration:null,src:"1970:8:124",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}],expression:{argumentTypes:null,id:24245,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30363,src:"1936:3:124",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:24246,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"1936:16:124",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:24249,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"1936:56:124",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:24244,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30370,src:"1913:9:124",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:24250,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"1913:89:124",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"VariableDeclarationStatement",src:"1891:111:124"},{assignments:[24253],declarations:[{constant:false,id:24253,name:"registrationTime",nodeType:"VariableDeclaration",scope:24295,src:"2013:24:124",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:24252,name:"uint256",nodeType:"ElementaryTypeName",src:"2013:7:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:24257,initialValue:{argumentTypes:null,baseExpression:{argumentTypes:null,id:24254,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24227,src:"2040:18:124",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:24256,indexExpression:{argumentTypes:null,id:24255,name:"upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24243,src:"2059:11:124",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"2040:31:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"2013:58:124"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:24260,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:24258,name:"registrationTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24253,src:"2168:16:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:24259,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2188:1:124",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"2168:21:124",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:24276,nodeType:"IfStatement",src:"2164:235:124",trueBody:{id:24275,nodeType:"Block",src:"2191:208:124",statements:[{expression:{argumentTypes:null,id:24266,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:24261,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24227,src:"2205:18:124",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:24263,indexExpression:{argumentTypes:null,id:24262,name:"upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24243,src:"2224:11:124",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:true,nodeType:"IndexAccess",src:"2205:31:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:24264,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"2239:5:124",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:24265,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"2239:15:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2205:49:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:24267,nodeType:"ExpressionStatement",src:"2205:49:124"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:24269,name:"upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24243,src:"2309:11:124",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,expression:{argumentTypes:null,id:24270,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"2338:5:124",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:24271,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"2338:15:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:24268,name:"UpgradeRegistered",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24233,src:"2274:17:124",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$_t_uint256_$returns$__$",typeString:"function (bytes32,uint256)"}},id:24272,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2274:93:124",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:24273,nodeType:"EmitStatement",src:"2269:98:124"},{expression:null,functionReturnParameters:null,id:24274,nodeType:"Return",src:"2382:7:124"}]}},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:24284,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:24278,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"2430:5:124",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:24279,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"2430:15:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">=",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:24282,name:"timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24223,src:"2470:14:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:24280,name:"registrationTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24253,src:"2449:16:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:24281,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:29619,src:"2449:20:124",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:24283,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2449:36:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2430:55:124",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54696d654c6f636b557067726164653a2054696d65206c6f636b20706572696f64206d757374206861766520656c61707365642e",id:24285,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"2499:54:124",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_dc641ea8e6496572b0b17b0af5d7346f816f41dcf17abffff9e2d4d889f64e92",typeString:'literal_string "TimeLockUpgrade: Time lock period must have elapsed."'},value:"TimeLockUpgrade: Time lock period must have elapsed."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_dc641ea8e6496572b0b17b0af5d7346f816f41dcf17abffff9e2d4d889f64e92",typeString:'literal_string "TimeLockUpgrade: Time lock period must have elapsed."'}],id:24277,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"2409:7:124",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:24286,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2409:154:124",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:24287,nodeType:"ExpressionStatement",src:"2409:154:124"},{expression:{argumentTypes:null,id:24292,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:24288,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24227,src:"2610:18:124",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:24290,indexExpression:{argumentTypes:null,id:24289,name:"upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24243,src:"2629:11:124",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:true,nodeType:"IndexAccess",src:"2610:31:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,hexValue:"30",id:24291,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2644:1:124",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"2610:35:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:24293,nodeType:"ExpressionStatement",src:"2610:35:124"},{id:24294,nodeType:"PlaceholderStatement",src:"2696:1:124"}]},documentation:null,id:24296,name:"timeLockUpgrade",nodeType:"ModifierDefinition",parameters:{id:24234,nodeType:"ParameterList",parameters:[],src:"1475:2:124"},src:"1451:1253:124",visibility:"internal"},{body:{id:24314,nodeType:"Block",src:"3082:291:124",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:24306,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,
leftExpression:{argumentTypes:null,id:24304,name:"_timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24298,src:"3208:15:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,id:24305,name:"timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24223,src:"3226:14:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"3208:32:124",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54696d654c6f636b557067726164653a204e657720706572696f64206d7573742062652067726561746572207468616e206578697374696e67",id:24307,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"3254:59:124",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_e0fdc3906422c076986eef38c836dfb5044fad58473fa15af7e336603310b3f3",typeString:'literal_string "TimeLockUpgrade: New period must be greater than existing"'},value:"TimeLockUpgrade: New period must be greater than existing"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_e0fdc3906422c076986eef38c836dfb5044fad58473fa15af7e336603310b3f3",typeString:'literal_string "TimeLockUpgrade: New period must be greater than existing"'}],id:24303,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"3187:7:124",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:24308,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3187:136:124",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:24309,nodeType:"ExpressionStatement",src:"3187:136:124"},{expression:{argumentTypes:null,id:24312,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:24310,name:"timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24223,src:"3334:14:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:24311,name:"_timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24298,src:"3351:15:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"3334:32:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:24313,nodeType:"ExpressionStatement",src:"3334:32:124"}]},documentation:"Change timeLockPeriod period. Generally called after initially settings have been set up.\n     * @param  _timeLockPeriod   Time in seconds that upgrades need to be evaluated before execution",id:24315,implemented:true,kind:"function",modifiers:[{arguments:null,id:24301,modifierName:{argumentTypes:null,id:24300,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:29683,src:"3068:9:124",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"3068:9:124"}],name:"setTimeLockPeriod",nodeType:"FunctionDefinition",parameters:{id:24299,nodeType:"ParameterList",parameters:[{constant:false,id:24298,name:"_timeLockPeriod",nodeType:"VariableDeclaration",scope:24315,src:"3013:23:124",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:24297,name:"uint256",nodeType:"ElementaryTypeName",src:"3013:7:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"3003:39:124"},returnParameters:{id:24302,nodeType:"ParameterList",parameters:[],src:"3082:0:124"},scope:24316,src:"2977:396:124",stateMutability:"nonpayable",superFunction:null,visibility:"external"}],scope:24317,src:"936:2439:124"}],src:"597:2779:124"},legacyAST:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/TimeLockUpgrade.sol",exportedSymbols:{TimeLockUpgrade:[24316]},id:24317,nodeType:"SourceUnit",nodes:[{id:24212,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:124"},{absolutePath:"openzeppelin-solidity/contracts/ownership/Ownable.sol",file:"openzeppelin-solidity/contracts/ownership/Ownable.sol",id:24214,nodeType:"ImportDirective",scope:24317,sourceUnit:29750,src:"621:80:124",symbolAliases:[{foreign:24213,local:null}],unitAlias:""},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:24216,nodeType:"ImportDirective",scope:24317,sourceUnit:29641,src:"702:77:124",symbolAliases:[{foreign:24215,local:null}],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:24217,name:"Ownable",nodeType:"UserDefinedTypeName",referencedDeclaration:29749,src:"968:7:124",typeDescriptions:{typeIdentifier:"t_contract$_Ownable_$29749",typeString:"contract Ownable"}},id:24218,nodeType:"InheritanceSpecifier",src:"968:7:124"}],contractDependencies:[29749],contractKind:"contract",documentation:"@title TimeLockUpgrade\n@author Set Protocol\n * The TimeLockUpgrade contract contains a modifier for handling minimum time period updates",fullyImplemented:true,id:24316,linearizedBaseContracts:[24316,29749],name:"TimeLockUpgrade",nodeType:"ContractDefinition",nodes:[{id:24221,libraryName:{contractScope:null,id:24219,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:29640,src:"988:8:124",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$29640",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"982:27:124",typeName:{id:24220,name:"uint256",nodeType:"ElementaryTypeName",src:"1001:7:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{constant:false,id:24223,name:"timeLockPeriod",nodeType:"VariableDeclaration",scope:24316,src:"1110:29:124",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:24222,name:"uint256",nodeType:"ElementaryTypeName",src:"1110:7:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"public"},{constant:false,id:24227,name:"timeLockedUpgrades",nodeType:"VariableDeclaration",scope:24316,src:"1206:53:124",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"},typeName:{id:24226,keyType:{id:24224,name:"bytes32",nodeType:"ElementaryTypeName",src:"1214:7:124",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Mapping",src:"1206:27:124",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"},valueType:{id:24225,name:"uint256",nodeType:"ElementaryTypeName",src:"1225:7:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},value:null,visibility:"public"},{anonymous:false,documentation:null,id:24233,name:"UpgradeRegistered",nodeType:"EventDefinition",parameters:{id:24232,nodeType:"ParameterList",parameters:[{constant:false,id:24229,indexed:false,name:"_upgradeHash",nodeType:"VariableDeclaration",scope:24233,src:"1343:20:124",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:24228,name:"bytes32",nodeType:"ElementaryTypeName",src:"1343:7:124",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"},{constant:false,id:24231,indexed:false,name:"_timestamp",nodeType:"VariableDeclaration",scope:24233,src:"1373:18:124",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:24230,name:"uint256",nodeType:"ElementaryTypeName",src:"1373:7:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1333:64:124"},src:"1310:88:124"},{body:{id:24295,nodeType:"Block",src:"1478:1226:124",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:24237,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:24235,name:"timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24223,src:"1646:14:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:24236,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"1664:1:124",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"1646:19:124",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:24241,nodeType:"IfStatement",src:"1642:72:124",trueBody:{id:24240,nodeType:"Block",src:"1667:47:124",statements:[{id:24238,nodeType:"PlaceholderStatement",src:"1681:1:124"},{expression:null,functionReturnParameters:null,id:24239,nodeType:"Return",src:"1697:7:124"}]}},{assignments:[24243],declarations:[{constant:false,id:24243,name:"upgradeHash",nodeType:"VariableDeclaration",scope:24295,src:"1891:19:124",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:24242,name:"bytes32",nodeType:"ElementaryTypeName",src:"1891:7:124",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],id:24251,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:24247,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"1970:3:124",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:24248,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"data",nodeType:"MemberAccess",referencedDeclaration:null,src:"1970:8:124",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}],expression:{argumentTypes:null,id:24245,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30363,src:"1936:3:124",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:24246,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"1936:16:124",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:24249,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"1936:56:124",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:24244,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30370,src:"1913:9:124",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:24250,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"1913:89:124",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"VariableDeclarationStatement",src:"1891:111:124"},{assignments:[24253],declarations:[{constant:false,id:24253,name:"registrationTime",nodeType:"VariableDeclaration",scope:24295,src:"2013:24:124",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:24252,name:"uint256",nodeType:"ElementaryTypeName",src:"2013:7:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:24257,initialValue:{argumentTypes:null,baseExpression:{argumentTypes:null,id:24254,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24227,src:"2040:18:124",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:24256,indexExpression:{argumentTypes:null,id:24255,name:"upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24243,src:"2059:11:124",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"2040:31:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"2013:58:124"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:24260,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:24258,name:"registrationTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24253,src:"2168:16:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:24259,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2188:1:124",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"2168:21:124",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:24276,nodeType:"IfStatement",src:"2164:235:124",trueBody:{id:24275,nodeType:"Block",src:"2191:208:124",statements:[{expression:{argumentTypes:null,id:24266,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:24261,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24227,src:"2205:18:124",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:24263,indexExpression:{argumentTypes:null,id:24262,name:"upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24243,src:"2224:11:124",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:true,nodeType:"IndexAccess",src:"2205:31:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:24264,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"2239:5:124",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:24265,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"2239:15:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2205:49:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:24267,nodeType:"ExpressionStatement",src:"2205:49:124"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:24269,name:"upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24243,src:"2309:11:124",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,expression:{argumentTypes:null,id:24270,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"2338:5:124",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:24271,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"2338:15:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:24268,name:"UpgradeRegistered",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24233,src:"2274:17:124",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$_t_uint256_$returns$__$",typeString:"function (bytes32,uint256)"}},id:24272,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2274:93:124",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:24273,nodeType:"EmitStatement",src:"2269:98:124"},{expression:null,functionReturnParameters:null,id:24274,nodeType:"Return",src:"2382:7:124"}]}},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:24284,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:24278,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"2430:5:124",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:24279,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"2430:15:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">=",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:24282,name:"timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24223,src:"2470:14:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:24280,name:"registrationTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24253,src:"2449:16:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:24281,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:29619,src:"2449:20:124",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:24283,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2449:36:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2430:55:124",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54696d654c6f636b557067726164653a2054696d65206c6f636b20706572696f64206d757374206861766520656c61707365642e",id:24285,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"2499:54:124",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_dc641ea8e6496572b0b17b0af5d7346f816f41dcf17abffff9e2d4d889f64e92",typeString:'literal_string "TimeLockUpgrade: Time lock period must have elapsed."'},value:"TimeLockUpgrade: Time lock period must have elapsed."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_dc641ea8e6496572b0b17b0af5d7346f816f41dcf17abffff9e2d4d889f64e92",typeString:'literal_string "TimeLockUpgrade: Time lock period must have elapsed."'}],id:24277,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"2409:7:124",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:24286,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2409:154:124",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:24287,nodeType:"ExpressionStatement",src:"2409:154:124"},{expression:{argumentTypes:null,id:24292,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:24288,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24227,src:"2610:18:124",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:24290,indexExpression:{argumentTypes:null,id:24289,name:"upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24243,src:"2629:11:124",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:true,nodeType:"IndexAccess",src:"2610:31:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,hexValue:"30",id:24291,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2644:1:124",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"2610:35:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:24293,nodeType:"ExpressionStatement",src:"2610:35:124"},{id:24294,nodeType:"PlaceholderStatement",src:"2696:1:124"}]},documentation:null,id:24296,name:"timeLockUpgrade",nodeType:"ModifierDefinition",parameters:{id:24234,nodeType:"ParameterList",parameters:[],src:"1475:2:124"},src:"1451:1253:124",visibility:"internal"},{body:{id:24314,nodeType:"Block",src:"3082:291:124",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:24306,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:24304,name:"_timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24298,src:"3208:15:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,id:24305,name:"timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24223,src:"3226:14:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"3208:32:124",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54696d654c6f636b557067726164653a204e657720706572696f64206d7573742062652067726561746572207468616e206578697374696e67",id:24307,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"3254:59:124",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_e0fdc3906422c076986eef38c836dfb5044fad58473fa15af7e336603310b3f3",typeString:'literal_string "TimeLockUpgrade: New period must be greater than existing"'},value:"TimeLockUpgrade: New period must be greater than existing"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_e0fdc3906422c076986eef38c836dfb5044fad58473fa15af7e336603310b3f3",typeString:'literal_string "TimeLockUpgrade: New period must be greater than existing"'}],id:24303,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"3187:7:124",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:24308,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3187:136:124",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:24309,nodeType:"ExpressionStatement",src:"3187:136:124"},{expression:{argumentTypes:null,id:24312,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:24310,name:"timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24223,src:"3334:14:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:24311,name:"_timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24298,src:"3351:15:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"3334:32:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:24313,nodeType:"ExpressionStatement",src:"3334:32:124"}]},documentation:"Change timeLockPeriod period. Generally called after initially settings have been set up.\n     * @param  _timeLockPeriod   Time in seconds that upgrades need to be evaluated before execution",id:24315,implemented:true,kind:"function",modifiers:[{arguments:null,id:24301,modifierName:{argumentTypes:null,id:24300,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:29683,src:"3068:9:124",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"3068:9:124"}],name:"setTimeLockPeriod",nodeType:"FunctionDefinition",parameters:{id:24299,nodeType:"ParameterList",parameters:[{constant:false,id:24298,name:"_timeLockPeriod",nodeType:"VariableDeclaration",scope:24315,src:"3013:23:124",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:24297,name:"uint256",nodeType:"ElementaryTypeName",src:"3013:7:124",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"3003:39:124"},returnParameters:{id:24302,nodeType:"ParameterList",parameters:[],src:"3082:0:124"},scope:24316,src:"2977:396:124",stateMutability:"nonpayable",superFunction:null,visibility:"external"}],scope:24317,src:"936:2439:124"}],src:"597:2779:124"},compiler:{name:"solc",version:"0.5.7+commit.6da8b019.Linux.g++"},networks:{},schemaVersion:"3.0.23",updatedAt:"2020-04-07T04:29:24.775Z",devdoc:{author:"Set Protocol * The TimeLockUpgrade contract contains a modifier for handling minimum time period updates",methods:{"isOwner()":{"return":"true if `msg.sender` is the owner of the contract."},"owner()":{"return":"the address of the owner."},"renounceOwnership()":{details:"Allows the current owner to relinquish control of the contract. It will not be possible to call the functions with the `onlyOwner` modifier anymore."},"setTimeLockPeriod(uint256)":{params:{_timeLockPeriod:"Time in seconds that upgrades need to be evaluated before execution"}},"transferOwnership(address)":{details:"Allows the current owner to transfer control of the contract to a newOwner.",params:{newOwner:"The address to transfer ownership to."}}},title:"TimeLockUpgrade"},userdoc:{methods:{"renounceOwnership()":{notice:"Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner."},"setTimeLockPeriod(uint256)":{notice:"Change timeLockPeriod period. Generally called after initially settings have been set up."}}}};