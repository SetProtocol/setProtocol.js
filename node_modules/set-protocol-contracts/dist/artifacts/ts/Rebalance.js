"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Rebalance={contractName:"Rebalance",abi:[],metadata:'{"compiler":{"version":"0.5.7+commit.6da8b019"},"language":"Solidity","output":{"abi":[],"devdoc":{"author":"Set Protocol * Types and functions for Rebalance-related data.","methods":{},"title":"Rebalance"},"userdoc":{"methods":{}}},"settings":{"compilationTarget":{"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/Rebalance.sol":"Rebalance"},"evmVersion":"byzantium","libraries":{},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IRebalancingSetToken.sol":{"keccak256":"0xe7356a7b0f0cc95d9526395d776f523a48fd65618730d67b4f31f20ffbd380da","urls":["bzzr://605a33a818eff7ce3370f25fccb751f61c066b4db0772605a2215d1357d68072"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/Rebalance.sol":{"keccak256":"0x74ffa689d93ced6c6e0377a35ec1274241b6191b5aaac5576ada379ac3840286","urls":["bzzr://25bdda3f1f5adfa2c83c760c44993d250cd2df037360f0018d22d268df79e887"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/RebalancingLibrary.sol":{"keccak256":"0x7f9dd2f95b2ee71a98b94cb9b0df15874aa134e7480d04a1fcf36aff166a55f4","urls":["bzzr://f43a5563ec5df095151eee30cf7a0941b5a971917c27c7b34d9586b36563ab5b"]}},"version":1}',bytecode:"0x604c6023600b82828239805160001a607314601657fe5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea165627a7a72305820a0de6ccab8b08b8af9d5399b9813e3a37c7eadada125bf7cc2cc83bd6b5e90160029",deployedBytecode:"0x73000000000000000000000000000000000000000030146080604052600080fdfea165627a7a72305820a0de6ccab8b08b8af9d5399b9813e3a37c7eadada125bf7cc2cc83bd6b5e90160029",sourceMap:"808:2046:42:-;;132:2:-1;166:7;155:9;146:7;137:37;255:7;249:14;246:1;241:23;235:4;232:33;222:2;;269:9;222:2;293:9;290:1;283:20;323:4;314:7;306:22;347:7;338;331:24",deployedSourceMap:"808:2046:42:-;;;;;;;;",source:'/*\n    Copyright 2019 Set Labs Inc.\n\n    Licensed under the Apache License, Version 2.0 (the "License");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an "AS IS" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n*/\n\npragma solidity 0.5.7;\n\nimport { IRebalancingSetToken } from "../interfaces/IRebalancingSetToken.sol";\n\n\n/**\n * @title Rebalance\n * @author Set Protocol\n *\n * Types and functions for Rebalance-related data.\n */\nlibrary Rebalance {\n\n    struct TokenFlow {\n        address[] addresses;\n        uint256[] inflow;\n        uint256[] outflow;\n    }\n\n    function composeTokenFlow(\n        address[] memory _addresses,\n        uint256[] memory _inflow,\n        uint256[] memory _outflow\n    )\n        internal\n        pure\n        returns(TokenFlow memory)\n    {\n        return TokenFlow({addresses: _addresses, inflow: _inflow, outflow: _outflow });\n    }\n\n    function decomposeTokenFlow(TokenFlow memory _tokenFlow)\n        internal\n        pure\n        returns (address[] memory, uint256[] memory, uint256[] memory)\n    {\n        return (_tokenFlow.addresses, _tokenFlow.inflow, _tokenFlow.outflow);\n    }\n\n    function decomposeTokenFlowToBidPrice(TokenFlow memory _tokenFlow)\n        internal\n        pure\n        returns (uint256[] memory, uint256[] memory)\n    {\n        return (_tokenFlow.inflow, _tokenFlow.outflow);\n    }\n\n    /**\n     * Get token flows array of addresses, inflows and outflows\n     *\n     * @param    _rebalancingSetToken   The rebalancing Set Token instance\n     * @param    _quantity              The amount of currentSet to be rebalanced\n     * @return   combinedTokenArray     Array of token addresses\n     * @return   inflowArray            Array of amount of tokens inserted into system in bid\n     * @return   outflowArray           Array of amount of tokens returned from system in bid\n     */\n    function getTokenFlows(\n        IRebalancingSetToken _rebalancingSetToken,\n        uint256 _quantity\n    )\n        internal\n        view\n        returns (address[] memory, uint256[] memory, uint256[] memory)\n    {\n        // Get token addresses\n        address[] memory combinedTokenArray = _rebalancingSetToken.getCombinedTokenArray();\n\n        // Get inflow and outflow arrays for the given bid quantity\n        (\n            uint256[] memory inflowArray,\n            uint256[] memory outflowArray\n        ) = _rebalancingSetToken.getBidPrice(_quantity);\n\n        return (combinedTokenArray, inflowArray, outflowArray);\n    }\n}\n',sourcePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/Rebalance.sol",ast:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/Rebalance.sol",exportedSymbols:{Rebalance:[6626]},id:6627,nodeType:"SourceUnit",nodes:[{id:6509,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:42"},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IRebalancingSetToken.sol",file:"../interfaces/IRebalancingSetToken.sol",id:6511,nodeType:"ImportDirective",scope:6627,sourceUnit:5225,src:"621:78:42",symbolAliases:[{foreign:6510,local:null}],unitAlias:""},{baseContracts:[],contractDependencies:[],contractKind:"library",documentation:"@title Rebalance\n@author Set Protocol\n * Types and functions for Rebalance-related data.",fullyImplemented:true,id:6626,linearizedBaseContracts:[6626],name:"Rebalance",nodeType:"ContractDefinition",nodes:[{canonicalName:"Rebalance.TokenFlow",id:6521,members:[{constant:false,id:6514,name:"addresses",nodeType:"VariableDeclaration",scope:6521,src:"860:19:42",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"},typeName:{baseType:{id:6512,name:"address",nodeType:"ElementaryTypeName",src:"860:7:42",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:6513,length:null,nodeType:"ArrayTypeName",src:"860:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"},{constant:false,id:6517,name:"inflow",nodeType:"VariableDeclaration",scope:6521,src:"889:16:42",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6515,name:"uint256",nodeType:"ElementaryTypeName",src:"889:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6516,length:null,nodeType:"ArrayTypeName",src:"889:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"},{constant:false,id:6520,name:"outflow",nodeType:"VariableDeclaration",scope:6521,src:"915:17:42",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6518,name:"uint256",nodeType:"ElementaryTypeName",src:"915:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6519,length:null,nodeType:"ArrayTypeName",src:"915:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],name:"TokenFlow",nodeType:"StructDefinition",scope:6626,src:"833:106:42",visibility:"public"},{body:{id:6541,nodeType:"Block",src:"1151:95:42",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:6536,name:"_addresses",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6524,src:"1190:10:42",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},{argumentTypes:null,id:6537,name:"_inflow",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6527,src:"1210:7:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},{argumentTypes:null,id:6538,name:"_outflow",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6530,src:"1228:8:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"},{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"},{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}],id:6535,name:"TokenFlow",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6521,src:"1168:9:42",typeDescriptions:{typeIdentifier:"t_type$_t_struct$_TokenFlow_$6521_storage_ptr_$",typeString:"type(struct Rebalance.TokenFlow storage pointer)"}},id:6539,isConstant:false,isLValue:false,isPure:false,kind:"structConstructorCall",lValueRequested:false,names:["addresses","inflow","outflow"],nodeType:"FunctionCall",src:"1168:71:42",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory",typeString:"struct Rebalance.TokenFlow memory"}},functionReturnParameters:6534,id:6540,nodeType:"Return",src:"1161:78:42"}]},documentation:null,id:6542,implemented:true,kind:"function",modifiers:[],name:"composeTokenFlow",nodeType:"FunctionDefinition",parameters:{id:6531,nodeType:"ParameterList",parameters:[{constant:false,id:6524,name:"_addresses",nodeType:"VariableDeclaration",scope:6542,src:"980:27:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:6522,name:"address",nodeType:"ElementaryTypeName",src:"980:7:42",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:6523,length:null,nodeType:"ArrayTypeName",src:"980:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"},{constant:false,id:6527,name:"_inflow",nodeType:"VariableDeclaration",scope:6542,src:"1017:24:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6525,name:"uint256",nodeType:"ElementaryTypeName",src:"1017:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6526,length:null,nodeType:"ArrayTypeName",src:"1017:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"},{constant:false,id:6530,name:"_outflow",nodeType:"VariableDeclaration",scope:6542,src:"1051:25:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6528,name:"uint256",nodeType:"ElementaryTypeName",src:"1051:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6529,length:null,nodeType:"ArrayTypeName",src:"1051:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],src:"970:112:42"},returnParameters:{id:6534,nodeType:"ParameterList",parameters:[{constant:false,id:6533,name:"",nodeType:"VariableDeclaration",scope:6542,src:"1129:16:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory_ptr",typeString:"struct Rebalance.TokenFlow"},typeName:{contractScope:null,id:6532,name:"TokenFlow",nodeType:"UserDefinedTypeName",referencedDeclaration:6521,src:"1129:9:42",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_storage_ptr",typeString:"struct Rebalance.TokenFlow"}},value:null,visibility:"internal"}],src:"1128:18:42"},scope:6626,src:"945:301:42",stateMutability:"pure",superFunction:null,visibility:"internal"},{body:{id:6564,nodeType:"Block",src:"1414:85:42",statements:[{expression:{argumentTypes:null,components:[{argumentTypes:null,expression:{argumentTypes:null,id:6556,name:"_tokenFlow",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6544,src:"1432:10:42",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory_ptr",typeString:"struct Rebalance.TokenFlow memory"}},id:6557,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"addresses",nodeType:"MemberAccess",referencedDeclaration:6514,src:"1432:20:42",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory",typeString:"address[] memory"}},{argumentTypes:null,expression:{argumentTypes:null,id:6558,name:"_tokenFlow",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6544,src:"1454:10:42",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory_ptr",typeString:"struct Rebalance.TokenFlow memory"}},id:6559,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"inflow",nodeType:"MemberAccess",referencedDeclaration:6517,src:"1454:17:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory",typeString:"uint256[] memory"}},{argumentTypes:null,expression:{argumentTypes:null,id:6560,name:"_tokenFlow",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6544,src:"1473:10:42",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory_ptr",typeString:"struct Rebalance.TokenFlow memory"}},id:6561,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"outflow",nodeType:"MemberAccess",referencedDeclaration:6520,src:"1473:18:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory",typeString:"uint256[] memory"}}],id:6562,isConstant:false,isInlineArray:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"TupleExpression",src:"1431:61:42",typeDescriptions:{typeIdentifier:"t_tuple$_t_array$_t_address_$dyn_memory_$_t_array$_t_uint256_$dyn_memory_$_t_array$_t_uint256_$dyn_memory_$",typeString:"tuple(address[] memory,uint256[] memory,uint256[] memory)"}},functionReturnParameters:6555,id:6563,nodeType:"Return",src:"1424:68:42"}]},documentation:null,id:6565,implemented:true,kind:"function",modifiers:[],name:"decomposeTokenFlow",nodeType:"FunctionDefinition",parameters:{id:6545,nodeType:"ParameterList",parameters:[{constant:false,id:6544,name:"_tokenFlow",nodeType:"VariableDeclaration",scope:6565,src:"1280:27:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory_ptr",typeString:"struct Rebalance.TokenFlow"},typeName:{contractScope:null,id:6543,name:"TokenFlow",nodeType:"UserDefinedTypeName",referencedDeclaration:6521,src:"1280:9:42",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_storage_ptr",typeString:"struct Rebalance.TokenFlow"}},value:null,visibility:"internal"}],src:"1279:29:42"},returnParameters:{id:6555,nodeType:"ParameterList",parameters:[{constant:false,id:6548,name:"",nodeType:"VariableDeclaration",scope:6565,src:"1356:16:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:6546,name:"address",nodeType:"ElementaryTypeName",src:"1356:7:42",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:6547,length:null,nodeType:"ArrayTypeName",src:"1356:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"},{constant:false,id:6551,name:"",nodeType:"VariableDeclaration",scope:6565,src:"1374:16:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6549,name:"uint256",nodeType:"ElementaryTypeName",src:"1374:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6550,length:null,nodeType:"ArrayTypeName",src:"1374:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"},{constant:false,id:6554,name:"",nodeType:"VariableDeclaration",scope:6565,src:"1392:16:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6552,name:"uint256",nodeType:"ElementaryTypeName",src:"1392:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6553,length:null,nodeType:"ArrayTypeName",src:"1392:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],src:"1355:54:42"},scope:6626,src:"1252:247:42",stateMutability:"pure",superFunction:null,visibility:"internal"},{body:{id:6582,nodeType:"Block",src:"1659:63:42",statements:[{expression:{argumentTypes:null,components:[{argumentTypes:null,expression:{argumentTypes:null,id:6576,name:"_tokenFlow",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6567,src:"1677:10:42",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory_ptr",typeString:"struct Rebalance.TokenFlow memory"}},id:6577,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"inflow",nodeType:"MemberAccess",referencedDeclaration:6517,src:"1677:17:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory",typeString:"uint256[] memory"}},{argumentTypes:null,expression:{argumentTypes:null,id:6578,name:"_tokenFlow",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6567,src:"1696:10:42",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory_ptr",typeString:"struct Rebalance.TokenFlow memory"}},id:6579,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"outflow",nodeType:"MemberAccess",referencedDeclaration:6520,src:"1696:18:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory",typeString:"uint256[] memory"}}],id:6580,isConstant:false,isInlineArray:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"TupleExpression",src:"1676:39:42",typeDescriptions:{typeIdentifier:"t_tuple$_t_array$_t_uint256_$dyn_memory_$_t_array$_t_uint256_$dyn_memory_$",typeString:"tuple(uint256[] memory,uint256[] memory)"}},functionReturnParameters:6575,id:6581,nodeType:"Return",src:"1669:46:42"}]},documentation:null,id:6583,implemented:true,kind:"function",modifiers:[],name:"decomposeTokenFlowToBidPrice",nodeType:"FunctionDefinition",parameters:{id:6568,nodeType:"ParameterList",parameters:[{constant:false,id:6567,name:"_tokenFlow",nodeType:"VariableDeclaration",scope:6583,src:"1543:27:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory_ptr",typeString:"struct Rebalance.TokenFlow"},typeName:{contractScope:null,id:6566,name:"TokenFlow",nodeType:"UserDefinedTypeName",referencedDeclaration:6521,src:"1543:9:42",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_storage_ptr",typeString:"struct Rebalance.TokenFlow"}},value:null,visibility:"internal"}],src:"1542:29:42"},returnParameters:{id:6575,nodeType:"ParameterList",parameters:[{constant:false,id:6571,name:"",nodeType:"VariableDeclaration",scope:6583,src:"1619:16:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6569,name:"uint256",nodeType:"ElementaryTypeName",src:"1619:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6570,length:null,nodeType:"ArrayTypeName",src:"1619:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"},{constant:false,id:6574,name:"",nodeType:"VariableDeclaration",scope:6583,src:"1637:16:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6572,name:"uint256",nodeType:"ElementaryTypeName",src:"1637:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6573,length:null,nodeType:"ArrayTypeName",src:"1637:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],src:"1618:36:42"},scope:6626,src:"1505:217:42",stateMutability:"pure",superFunction:null,visibility:"internal"},{body:{id:6624,nodeType:"Block",src:"2437:415:42",statements:[{assignments:[6602],declarations:[{constant:false,id:6602,name:"combinedTokenArray",nodeType:"VariableDeclaration",scope:6624,src:"2478:35:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:6600,name:"address",nodeType:"ElementaryTypeName",src:"2478:7:42",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:6601,length:null,nodeType:"ArrayTypeName",src:"2478:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"}],id:6606,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:6603,name:"_rebalancingSetToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6585,src:"2516:20:42",typeDescriptions:{typeIdentifier:"t_contract$_IRebalancingSetToken_$5224",typeString:"contract IRebalancingSetToken"}},id:6604,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getCombinedTokenArray",nodeType:"MemberAccess",referencedDeclaration:5194,src:"2516:42:42",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_array$_t_address_$dyn_memory_ptr_$",typeString:"function () view external returns (address[] memory)"}},id:6605,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2516:44:42",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},nodeType:"VariableDeclarationStatement",src:"2478:82:42"},{assignments:[6610,6613],declarations:[{constant:false,id:6610,name:"inflowArray",nodeType:"VariableDeclaration",scope:6624,src:"2653:28:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6608,name:"uint256",nodeType:"ElementaryTypeName",src:"2653:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6609,length:null,nodeType:"ArrayTypeName",src:"2653:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"},{constant:false,id:6613,name:"outflowArray",nodeType:"VariableDeclaration",scope:6624,src:"2695:29:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6611,name:"uint256",nodeType:"ElementaryTypeName",src:"2695:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6612,length:null,nodeType:"ArrayTypeName",src:"2695:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],id:6618,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:6616,name:"_quantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6587,src:"2770:9:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:6614,name:"_rebalancingSetToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6585,src:"2737:20:42",typeDescriptions:{typeIdentifier:"t_contract$_IRebalancingSetToken_$5224",typeString:"contract IRebalancingSetToken"}},id:6615,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getBidPrice",nodeType:"MemberAccess",referencedDeclaration:5223,src:"2737:32:42",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$",typeString:"function (uint256) view external returns (uint256[] memory,uint256[] memory)"}},id:6617,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2737:43:42",typeDescriptions:{typeIdentifier:"t_tuple$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$",typeString:"tuple(uint256[] memory,uint256[] memory)"}},nodeType:"VariableDeclarationStatement",src:"2639:141:42"},{expression:{argumentTypes:null,components:[{argumentTypes:null,id:6619,name:"combinedTokenArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6602,src:"2799:18:42",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},{argumentTypes:null,id:6620,name:"inflowArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6610,src:"2819:11:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},{argumentTypes:null,id:6621,name:"outflowArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6613,src:"2832:12:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}}],id:6622,isConstant:false,isInlineArray:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"TupleExpression",src:"2798:47:42",typeDescriptions:{typeIdentifier:"t_tuple$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$",typeString:"tuple(address[] memory,uint256[] memory,uint256[] memory)"}},functionReturnParameters:6598,id:6623,nodeType:"Return",src:"2791:54:42"}]},documentation:"Get token flows array of addresses, inflows and outflows\n     * @param    _rebalancingSetToken   The rebalancing Set Token instance\n@param    _quantity              The amount of currentSet to be rebalanced\n@return   combinedTokenArray     Array of token addresses\n@return   inflowArray            Array of amount of tokens inserted into system in bid\n@return   outflowArray           Array of amount of tokens returned from system in bid",id:6625,implemented:true,kind:"function",modifiers:[],name:"getTokenFlows",nodeType:"FunctionDefinition",parameters:{id:6588,nodeType:"ParameterList",parameters:[{constant:false,id:6585,name:"_rebalancingSetToken",nodeType:"VariableDeclaration",scope:6625,src:"2257:41:42",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_IRebalancingSetToken_$5224",typeString:"contract IRebalancingSetToken"},typeName:{contractScope:null,id:6584,name:"IRebalancingSetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5224,src:"2257:20:42",typeDescriptions:{typeIdentifier:"t_contract$_IRebalancingSetToken_$5224",typeString:"contract IRebalancingSetToken"}},value:null,visibility:"internal"},{constant:false,id:6587,name:"_quantity",nodeType:"VariableDeclaration",scope:6625,src:"2308:17:42",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6586,name:"uint256",nodeType:"ElementaryTypeName",src:"2308:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"2247:84:42"},returnParameters:{id:6598,nodeType:"ParameterList",parameters:[{constant:false,id:6591,name:"",nodeType:"VariableDeclaration",scope:6625,src:"2379:16:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:6589,name:"address",nodeType:"ElementaryTypeName",src:"2379:7:42",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:6590,length:null,nodeType:"ArrayTypeName",src:"2379:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"},{constant:false,id:6594,name:"",nodeType:"VariableDeclaration",scope:6625,src:"2397:16:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6592,name:"uint256",nodeType:"ElementaryTypeName",src:"2397:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6593,length:null,nodeType:"ArrayTypeName",src:"2397:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"},{constant:false,id:6597,name:"",nodeType:"VariableDeclaration",scope:6625,src:"2415:16:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6595,name:"uint256",nodeType:"ElementaryTypeName",src:"2415:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6596,length:null,nodeType:"ArrayTypeName",src:"2415:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],src:"2378:54:42"},scope:6626,src:"2225:627:42",stateMutability:"view",superFunction:null,visibility:"internal"}],scope:6627,src:"808:2046:42"}],src:"597:2258:42"},legacyAST:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/Rebalance.sol",exportedSymbols:{Rebalance:[6626]},id:6627,nodeType:"SourceUnit",nodes:[{id:6509,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:42"},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IRebalancingSetToken.sol",file:"../interfaces/IRebalancingSetToken.sol",id:6511,nodeType:"ImportDirective",scope:6627,sourceUnit:5225,src:"621:78:42",symbolAliases:[{foreign:6510,local:null}],unitAlias:""},{baseContracts:[],contractDependencies:[],contractKind:"library",documentation:"@title Rebalance\n@author Set Protocol\n * Types and functions for Rebalance-related data.",fullyImplemented:true,id:6626,linearizedBaseContracts:[6626],name:"Rebalance",nodeType:"ContractDefinition",nodes:[{canonicalName:"Rebalance.TokenFlow",id:6521,members:[{constant:false,id:6514,name:"addresses",nodeType:"VariableDeclaration",scope:6521,src:"860:19:42",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"},typeName:{baseType:{id:6512,name:"address",nodeType:"ElementaryTypeName",src:"860:7:42",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:6513,length:null,nodeType:"ArrayTypeName",src:"860:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"},{constant:false,id:6517,name:"inflow",nodeType:"VariableDeclaration",scope:6521,src:"889:16:42",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6515,name:"uint256",nodeType:"ElementaryTypeName",src:"889:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6516,length:null,nodeType:"ArrayTypeName",
src:"889:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"},{constant:false,id:6520,name:"outflow",nodeType:"VariableDeclaration",scope:6521,src:"915:17:42",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6518,name:"uint256",nodeType:"ElementaryTypeName",src:"915:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6519,length:null,nodeType:"ArrayTypeName",src:"915:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],name:"TokenFlow",nodeType:"StructDefinition",scope:6626,src:"833:106:42",visibility:"public"},{body:{id:6541,nodeType:"Block",src:"1151:95:42",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:6536,name:"_addresses",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6524,src:"1190:10:42",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},{argumentTypes:null,id:6537,name:"_inflow",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6527,src:"1210:7:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},{argumentTypes:null,id:6538,name:"_outflow",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6530,src:"1228:8:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"},{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"},{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}],id:6535,name:"TokenFlow",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6521,src:"1168:9:42",typeDescriptions:{typeIdentifier:"t_type$_t_struct$_TokenFlow_$6521_storage_ptr_$",typeString:"type(struct Rebalance.TokenFlow storage pointer)"}},id:6539,isConstant:false,isLValue:false,isPure:false,kind:"structConstructorCall",lValueRequested:false,names:["addresses","inflow","outflow"],nodeType:"FunctionCall",src:"1168:71:42",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory",typeString:"struct Rebalance.TokenFlow memory"}},functionReturnParameters:6534,id:6540,nodeType:"Return",src:"1161:78:42"}]},documentation:null,id:6542,implemented:true,kind:"function",modifiers:[],name:"composeTokenFlow",nodeType:"FunctionDefinition",parameters:{id:6531,nodeType:"ParameterList",parameters:[{constant:false,id:6524,name:"_addresses",nodeType:"VariableDeclaration",scope:6542,src:"980:27:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:6522,name:"address",nodeType:"ElementaryTypeName",src:"980:7:42",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:6523,length:null,nodeType:"ArrayTypeName",src:"980:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"},{constant:false,id:6527,name:"_inflow",nodeType:"VariableDeclaration",scope:6542,src:"1017:24:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6525,name:"uint256",nodeType:"ElementaryTypeName",src:"1017:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6526,length:null,nodeType:"ArrayTypeName",src:"1017:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"},{constant:false,id:6530,name:"_outflow",nodeType:"VariableDeclaration",scope:6542,src:"1051:25:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6528,name:"uint256",nodeType:"ElementaryTypeName",src:"1051:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6529,length:null,nodeType:"ArrayTypeName",src:"1051:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],src:"970:112:42"},returnParameters:{id:6534,nodeType:"ParameterList",parameters:[{constant:false,id:6533,name:"",nodeType:"VariableDeclaration",scope:6542,src:"1129:16:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory_ptr",typeString:"struct Rebalance.TokenFlow"},typeName:{contractScope:null,id:6532,name:"TokenFlow",nodeType:"UserDefinedTypeName",referencedDeclaration:6521,src:"1129:9:42",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_storage_ptr",typeString:"struct Rebalance.TokenFlow"}},value:null,visibility:"internal"}],src:"1128:18:42"},scope:6626,src:"945:301:42",stateMutability:"pure",superFunction:null,visibility:"internal"},{body:{id:6564,nodeType:"Block",src:"1414:85:42",statements:[{expression:{argumentTypes:null,components:[{argumentTypes:null,expression:{argumentTypes:null,id:6556,name:"_tokenFlow",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6544,src:"1432:10:42",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory_ptr",typeString:"struct Rebalance.TokenFlow memory"}},id:6557,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"addresses",nodeType:"MemberAccess",referencedDeclaration:6514,src:"1432:20:42",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory",typeString:"address[] memory"}},{argumentTypes:null,expression:{argumentTypes:null,id:6558,name:"_tokenFlow",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6544,src:"1454:10:42",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory_ptr",typeString:"struct Rebalance.TokenFlow memory"}},id:6559,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"inflow",nodeType:"MemberAccess",referencedDeclaration:6517,src:"1454:17:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory",typeString:"uint256[] memory"}},{argumentTypes:null,expression:{argumentTypes:null,id:6560,name:"_tokenFlow",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6544,src:"1473:10:42",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory_ptr",typeString:"struct Rebalance.TokenFlow memory"}},id:6561,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"outflow",nodeType:"MemberAccess",referencedDeclaration:6520,src:"1473:18:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory",typeString:"uint256[] memory"}}],id:6562,isConstant:false,isInlineArray:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"TupleExpression",src:"1431:61:42",typeDescriptions:{typeIdentifier:"t_tuple$_t_array$_t_address_$dyn_memory_$_t_array$_t_uint256_$dyn_memory_$_t_array$_t_uint256_$dyn_memory_$",typeString:"tuple(address[] memory,uint256[] memory,uint256[] memory)"}},functionReturnParameters:6555,id:6563,nodeType:"Return",src:"1424:68:42"}]},documentation:null,id:6565,implemented:true,kind:"function",modifiers:[],name:"decomposeTokenFlow",nodeType:"FunctionDefinition",parameters:{id:6545,nodeType:"ParameterList",parameters:[{constant:false,id:6544,name:"_tokenFlow",nodeType:"VariableDeclaration",scope:6565,src:"1280:27:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory_ptr",typeString:"struct Rebalance.TokenFlow"},typeName:{contractScope:null,id:6543,name:"TokenFlow",nodeType:"UserDefinedTypeName",referencedDeclaration:6521,src:"1280:9:42",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_storage_ptr",typeString:"struct Rebalance.TokenFlow"}},value:null,visibility:"internal"}],src:"1279:29:42"},returnParameters:{id:6555,nodeType:"ParameterList",parameters:[{constant:false,id:6548,name:"",nodeType:"VariableDeclaration",scope:6565,src:"1356:16:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:6546,name:"address",nodeType:"ElementaryTypeName",src:"1356:7:42",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:6547,length:null,nodeType:"ArrayTypeName",src:"1356:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"},{constant:false,id:6551,name:"",nodeType:"VariableDeclaration",scope:6565,src:"1374:16:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6549,name:"uint256",nodeType:"ElementaryTypeName",src:"1374:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6550,length:null,nodeType:"ArrayTypeName",src:"1374:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"},{constant:false,id:6554,name:"",nodeType:"VariableDeclaration",scope:6565,src:"1392:16:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6552,name:"uint256",nodeType:"ElementaryTypeName",src:"1392:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6553,length:null,nodeType:"ArrayTypeName",src:"1392:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],src:"1355:54:42"},scope:6626,src:"1252:247:42",stateMutability:"pure",superFunction:null,visibility:"internal"},{body:{id:6582,nodeType:"Block",src:"1659:63:42",statements:[{expression:{argumentTypes:null,components:[{argumentTypes:null,expression:{argumentTypes:null,id:6576,name:"_tokenFlow",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6567,src:"1677:10:42",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory_ptr",typeString:"struct Rebalance.TokenFlow memory"}},id:6577,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"inflow",nodeType:"MemberAccess",referencedDeclaration:6517,src:"1677:17:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory",typeString:"uint256[] memory"}},{argumentTypes:null,expression:{argumentTypes:null,id:6578,name:"_tokenFlow",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6567,src:"1696:10:42",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory_ptr",typeString:"struct Rebalance.TokenFlow memory"}},id:6579,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"outflow",nodeType:"MemberAccess",referencedDeclaration:6520,src:"1696:18:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory",typeString:"uint256[] memory"}}],id:6580,isConstant:false,isInlineArray:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"TupleExpression",src:"1676:39:42",typeDescriptions:{typeIdentifier:"t_tuple$_t_array$_t_uint256_$dyn_memory_$_t_array$_t_uint256_$dyn_memory_$",typeString:"tuple(uint256[] memory,uint256[] memory)"}},functionReturnParameters:6575,id:6581,nodeType:"Return",src:"1669:46:42"}]},documentation:null,id:6583,implemented:true,kind:"function",modifiers:[],name:"decomposeTokenFlowToBidPrice",nodeType:"FunctionDefinition",parameters:{id:6568,nodeType:"ParameterList",parameters:[{constant:false,id:6567,name:"_tokenFlow",nodeType:"VariableDeclaration",scope:6583,src:"1543:27:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_memory_ptr",typeString:"struct Rebalance.TokenFlow"},typeName:{contractScope:null,id:6566,name:"TokenFlow",nodeType:"UserDefinedTypeName",referencedDeclaration:6521,src:"1543:9:42",typeDescriptions:{typeIdentifier:"t_struct$_TokenFlow_$6521_storage_ptr",typeString:"struct Rebalance.TokenFlow"}},value:null,visibility:"internal"}],src:"1542:29:42"},returnParameters:{id:6575,nodeType:"ParameterList",parameters:[{constant:false,id:6571,name:"",nodeType:"VariableDeclaration",scope:6583,src:"1619:16:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6569,name:"uint256",nodeType:"ElementaryTypeName",src:"1619:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6570,length:null,nodeType:"ArrayTypeName",src:"1619:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"},{constant:false,id:6574,name:"",nodeType:"VariableDeclaration",scope:6583,src:"1637:16:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6572,name:"uint256",nodeType:"ElementaryTypeName",src:"1637:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6573,length:null,nodeType:"ArrayTypeName",src:"1637:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],src:"1618:36:42"},scope:6626,src:"1505:217:42",stateMutability:"pure",superFunction:null,visibility:"internal"},{body:{id:6624,nodeType:"Block",src:"2437:415:42",statements:[{assignments:[6602],declarations:[{constant:false,id:6602,name:"combinedTokenArray",nodeType:"VariableDeclaration",scope:6624,src:"2478:35:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:6600,name:"address",nodeType:"ElementaryTypeName",src:"2478:7:42",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:6601,length:null,nodeType:"ArrayTypeName",src:"2478:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"}],id:6606,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:6603,name:"_rebalancingSetToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6585,src:"2516:20:42",typeDescriptions:{typeIdentifier:"t_contract$_IRebalancingSetToken_$5224",typeString:"contract IRebalancingSetToken"}},id:6604,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getCombinedTokenArray",nodeType:"MemberAccess",referencedDeclaration:5194,src:"2516:42:42",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_array$_t_address_$dyn_memory_ptr_$",typeString:"function () view external returns (address[] memory)"}},id:6605,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2516:44:42",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},nodeType:"VariableDeclarationStatement",src:"2478:82:42"},{assignments:[6610,6613],declarations:[{constant:false,id:6610,name:"inflowArray",nodeType:"VariableDeclaration",scope:6624,src:"2653:28:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6608,name:"uint256",nodeType:"ElementaryTypeName",src:"2653:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6609,length:null,nodeType:"ArrayTypeName",src:"2653:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"},{constant:false,id:6613,name:"outflowArray",nodeType:"VariableDeclaration",scope:6624,src:"2695:29:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6611,name:"uint256",nodeType:"ElementaryTypeName",src:"2695:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6612,length:null,nodeType:"ArrayTypeName",src:"2695:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],id:6618,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:6616,name:"_quantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6587,src:"2770:9:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:6614,name:"_rebalancingSetToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6585,src:"2737:20:42",typeDescriptions:{typeIdentifier:"t_contract$_IRebalancingSetToken_$5224",typeString:"contract IRebalancingSetToken"}},id:6615,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getBidPrice",nodeType:"MemberAccess",referencedDeclaration:5223,src:"2737:32:42",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$",typeString:"function (uint256) view external returns (uint256[] memory,uint256[] memory)"}},id:6617,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2737:43:42",typeDescriptions:{typeIdentifier:"t_tuple$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$",typeString:"tuple(uint256[] memory,uint256[] memory)"}},nodeType:"VariableDeclarationStatement",src:"2639:141:42"},{expression:{argumentTypes:null,components:[{argumentTypes:null,id:6619,name:"combinedTokenArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6602,src:"2799:18:42",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},{argumentTypes:null,id:6620,name:"inflowArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6610,src:"2819:11:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},{argumentTypes:null,id:6621,name:"outflowArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6613,src:"2832:12:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}}],id:6622,isConstant:false,isInlineArray:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"TupleExpression",src:"2798:47:42",typeDescriptions:{typeIdentifier:"t_tuple$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$",typeString:"tuple(address[] memory,uint256[] memory,uint256[] memory)"}},functionReturnParameters:6598,id:6623,nodeType:"Return",src:"2791:54:42"}]},documentation:"Get token flows array of addresses, inflows and outflows\n     * @param    _rebalancingSetToken   The rebalancing Set Token instance\n@param    _quantity              The amount of currentSet to be rebalanced\n@return   combinedTokenArray     Array of token addresses\n@return   inflowArray            Array of amount of tokens inserted into system in bid\n@return   outflowArray           Array of amount of tokens returned from system in bid",id:6625,implemented:true,kind:"function",modifiers:[],name:"getTokenFlows",nodeType:"FunctionDefinition",parameters:{id:6588,nodeType:"ParameterList",parameters:[{constant:false,id:6585,name:"_rebalancingSetToken",nodeType:"VariableDeclaration",scope:6625,src:"2257:41:42",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_IRebalancingSetToken_$5224",typeString:"contract IRebalancingSetToken"},typeName:{contractScope:null,id:6584,name:"IRebalancingSetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5224,src:"2257:20:42",typeDescriptions:{typeIdentifier:"t_contract$_IRebalancingSetToken_$5224",typeString:"contract IRebalancingSetToken"}},value:null,visibility:"internal"},{constant:false,id:6587,name:"_quantity",nodeType:"VariableDeclaration",scope:6625,src:"2308:17:42",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6586,name:"uint256",nodeType:"ElementaryTypeName",src:"2308:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"2247:84:42"},returnParameters:{id:6598,nodeType:"ParameterList",parameters:[{constant:false,id:6591,name:"",nodeType:"VariableDeclaration",scope:6625,src:"2379:16:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:6589,name:"address",nodeType:"ElementaryTypeName",src:"2379:7:42",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:6590,length:null,nodeType:"ArrayTypeName",src:"2379:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"},{constant:false,id:6594,name:"",nodeType:"VariableDeclaration",scope:6625,src:"2397:16:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6592,name:"uint256",nodeType:"ElementaryTypeName",src:"2397:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6593,length:null,nodeType:"ArrayTypeName",src:"2397:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"},{constant:false,id:6597,name:"",nodeType:"VariableDeclaration",scope:6625,src:"2415:16:42",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6595,name:"uint256",nodeType:"ElementaryTypeName",src:"2415:7:42",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6596,length:null,nodeType:"ArrayTypeName",src:"2415:9:42",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],src:"2378:54:42"},scope:6626,src:"2225:627:42",stateMutability:"view",superFunction:null,visibility:"internal"}],scope:6627,src:"808:2046:42"}],src:"597:2258:42"},compiler:{name:"solc",version:"0.5.7+commit.6da8b019.Linux.g++"},networks:{},schemaVersion:"3.0.23",updatedAt:"2020-04-07T04:29:24.486Z",devdoc:{author:"Set Protocol * Types and functions for Rebalance-related data.",methods:{},title:"Rebalance"},userdoc:{methods:{}}};