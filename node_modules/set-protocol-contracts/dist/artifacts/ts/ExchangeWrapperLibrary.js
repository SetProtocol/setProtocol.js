"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ExchangeWrapperLibrary={contractName:"ExchangeWrapperLibrary",abi:[],metadata:'{"compiler":{"version":"0.5.7+commit.6da8b019"},"language":"Solidity","output":{"abi":[],"devdoc":{"author":"Set Protocol * This library contains structs and functions to assist executing orders on third party exchanges","methods":{},"title":"ExchangeWrapperLibrary"},"userdoc":{"methods":{}}},"settings":{"compilationTarget":{"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/ExchangeWrapperLibrary.sol":"ExchangeWrapperLibrary"},"evmVersion":"byzantium","libraries":{},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ICore.sol":{"keccak256":"0x5dc3db4398630ea52d2a40c9ddfa89d94e65c2770a12bab4d2a5c8eb573fb0a0","urls":["bzzr://25e90b53f61b388e0950b808e2296f82d427b66cfd6021212713436b2a592e31"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IExchangeWrapper.sol":{"keccak256":"0xbe6c55b4ddd26e1fcda74a09c5202f1c938a23edc3cbe6328780bd8eb05e7fde","urls":["bzzr://fdba29705c0defefa87e4102dc401125a4df8ac76f06555718e39365f316810f"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/ExchangeWrapperLibrary.sol":{"keccak256":"0xcf95f40c291b1d8fb9adab6e0896f91bb8f2f6397d24e741ab82aab1192d3930","urls":["bzzr://3c75694fc0cbc623a02f7db596ffc72c64f8f662624101b87e390c0578407aaf"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/ExchangeWrapperLibraryV2.sol":{"keccak256":"0x92acd5054efb89467456183e7086e6022f9aed0c2044d00aeab382bcc8c86c4f","urls":["bzzr://92084a7a6cc58333b93b929171cdf455cec92ae314dd8c7f082778f0bd825e54"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/external/0x/LibBytes.sol":{"keccak256":"0x8617740051ffe434ec5737fa1cf53fdd3c6dd901d6f8c3b379754d9928daa752","urls":["bzzr://52865a32d5c247782bf2fda7bb606c579caa924875108b96d7ea388ef19991fc"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/CommonMath.sol":{"keccak256":"0x3d1d08c6efc2a973fe2c02ddcb02fd99a8c8eb75f74dcbd93e8e15864eee2b6b","urls":["bzzr://580815dd1cf648a4521d923e59087de21143d9c48115ab71579a1f5a8f3d36af"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/ERC20Wrapper.sol":{"keccak256":"0xfda5a6d259a0a33081f621d1eefd6948a6dc108118e05a7899066e4ad05f785a","urls":["bzzr://702c566ec79cddeb64160f882cf25eaa530b806018dc50fd0dc5fab5b8ae76b2"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/IERC20.sol":{"keccak256":"0xe4f71b1797f6421de91c6ce3b55199c5845693a58eddfd417a60b81d0198a9dd","urls":["bzzr://a6a4cebcffaff1db8ef9b78ea58d2d7391cc2b1ed533a1e1309286989f6d4ea0"]},"openzeppelin-solidity/contracts/math/SafeMath.sol":{"keccak256":"0xc2a200a877c4a9b2475c246c54ffecc69ffde3e11af83319c63c2dc5458bac80","urls":["bzzr://c8876e2c39b60f155d748d71d715c8f3903fae5a405ac599adcb6ad2f9a583f9"]}},"version":1}',bytecode:"0x605a6023600b82828239805160001a607314601657fe5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea265627a7a72305820fe03702313691d3a3edbdbbdc1a6bf5af6255f8ac9b1cb281b6d20afedba8c3b6c6578706572696d656e74616cf50037",deployedBytecode:"0x73000000000000000000000000000000000000000030146080604052600080fdfea265627a7a72305820fe03702313691d3a3edbdbbdc1a6bf5af6255f8ac9b1cb281b6d20afedba8c3b6c6578706572696d656e74616cf50037",sourceMap:"1218:2617:40:-;;132:2:-1;166:7;155:9;146:7;137:37;255:7;249:14;246:1;241:23;235:4;232:33;222:2;;269:9;222:2;293:9;290:1;283:20;323:4;314:7;306:22;347:7;338;331:24",deployedSourceMap:"1218:2617:40:-;;;;;;;;",source:'/*\n    Copyright 2018 Set Labs Inc.\n\n    Licensed under the Apache License, Version 2.0 (the "License");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an "AS IS" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n*/\n\npragma solidity 0.5.7;\npragma experimental "ABIEncoderV2";\n\nimport { SafeMath } from "openzeppelin-solidity/contracts/math/SafeMath.sol";\n\nimport { ERC20Wrapper } from "../../lib/ERC20Wrapper.sol";\nimport { ICore } from "../interfaces/ICore.sol";\nimport { IExchangeWrapper } from "../interfaces/IExchangeWrapper.sol";\nimport { ExchangeWrapperLibraryV2 } from "./ExchangeWrapperLibraryV2.sol";\nimport { LibBytes } from "../../external/0x/LibBytes.sol";\n\n\n/**\n * @title ExchangeWrapperLibrary\n * @author Set Protocol\n *\n * This library contains structs and functions to assist executing orders on third party exchanges\n */\nlibrary ExchangeWrapperLibrary {\n\n    // ============ Structs ============\n\n    /**\n     * caller                           Original user initiating transaction\n     * orderCount                       Expected number of orders to execute\n     */\n    struct ExchangeData {\n        address caller;\n        uint256 orderCount;\n    }\n\n    /**\n     * receiveTokens                    A list of the acquired components from exchange wrapper\n     * receiveTokenAmounts              A list of the component quantities acquired\n     */\n    struct ExchangeResults {\n        address[] receiveTokens;\n        uint256[] receiveTokenAmounts;\n    }\n\n    /**\n     * Checks if any send tokens leftover and transfers to caller\n     * @param  _sendTokens    The addresses of send tokens\n     * @param  _caller        The address of the original transaction caller\n     */\n    function returnLeftoverSendTokens(\n        address[] memory _sendTokens,\n        address _caller\n    )\n        internal\n    {\n        for (uint256 i = 0; i < _sendTokens.length; i++) {\n            // Transfer any unused or remainder send token back to the caller\n            uint256 remainderSendToken = ERC20Wrapper.balanceOf(_sendTokens[i], address(this));\n            if (remainderSendToken > 0) {\n                ERC20Wrapper.transfer(\n                    _sendTokens[i],\n                    _caller,\n                    remainderSendToken\n                );\n            }\n        }\n    }\n\n    /**\n     * Calls exchange to execute trades and deposits fills into Vault for issuanceOrder maker.\n     *\n     *\n     * @param  _core                    Address of Core\n     * @param  _exchangeData            Standard exchange wrapper interface object containing exchange metadata\n     * @param  _exchangeWrapper         Address of exchange wrapper being called\n     * @param  _bodyData                Arbitrary bytes data for orders to be executed on exchange\n     */\n    function callExchange(\n        address _core,\n        ExchangeWrapperLibraryV2.ExchangeData memory _exchangeData,\n        address _exchangeWrapper,\n        bytes memory _bodyData\n    )\n        internal\n    {\n        // Call Exchange\n        ExchangeWrapperLibraryV2.ExchangeResults memory exchangeResults = IExchangeWrapper(_exchangeWrapper).exchange(\n            _exchangeData,\n            _bodyData\n        );\n\n        // Transfer receiveToken tokens from wrapper to vault\n        ICore(_core).batchDepositModule(\n            _exchangeWrapper,\n            _exchangeData.caller,\n            exchangeResults.receiveTokens,\n            exchangeResults.receiveTokenAmounts\n        );\n    }\n}\n',sourcePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/ExchangeWrapperLibrary.sol",ast:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/ExchangeWrapperLibrary.sol",exportedSymbols:{ExchangeWrapperLibrary:[6491]},id:6492,nodeType:"SourceUnit",nodes:[{id:6379,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:40"},{id:6380,literals:["experimental","ABIEncoderV2"],nodeType:"PragmaDirective",src:"620:35:40"},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:6382,nodeType:"ImportDirective",scope:6492,sourceUnit:29641,src:"657:77:40",symbolAliases:[{foreign:6381,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/ERC20Wrapper.sol",file:"../../lib/ERC20Wrapper.sol",id:6384,nodeType:"ImportDirective",scope:6492,sourceUnit:23680,src:"736:58:40",symbolAliases:[{foreign:6383,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ICore.sol",file:"../interfaces/ICore.sol",id:6386,nodeType:"ImportDirective",scope:6492,sourceUnit:4747,src:"795:48:40",symbolAliases:[{foreign:6385,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IExchangeWrapper.sol",file:"../interfaces/IExchangeWrapper.sol",id:6388,nodeType:"ImportDirective",scope:6492,sourceUnit:4845,src:"844:70:40",symbolAliases:[{foreign:6387,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/ExchangeWrapperLibraryV2.sol",file:"./ExchangeWrapperLibraryV2.sol",id:6390,nodeType:"ImportDirective",scope:6492,sourceUnit:6508,src:"915:74:40",symbolAliases:[{foreign:6389,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/external/0x/LibBytes.sol",file:"../../external/0x/LibBytes.sol",id:6392,nodeType:"ImportDirective",scope:6492,sourceUnit:20902,src:"990:58:40",symbolAliases:[{foreign:6391,local:null}],unitAlias:""},{baseContracts:[],contractDependencies:[],contractKind:"library",documentation:"@title ExchangeWrapperLibrary\n@author Set Protocol\n * This library contains structs and functions to assist executing orders on third party exchanges",fullyImplemented:true,id:6491,linearizedBaseContracts:[6491],name:"ExchangeWrapperLibrary",nodeType:"ContractDefinition",nodes:[{canonicalName:"ExchangeWrapperLibrary.ExchangeData",id:6397,members:[{constant:false,id:6394,name:"caller",nodeType:"VariableDeclaration",scope:6397,src:"1498:14:40",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:6393,name:"address",nodeType:"ElementaryTypeName",src:"1498:7:40",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:6396,name:"orderCount",nodeType:"VariableDeclaration",scope:6397,src:"1522:18:40",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6395,name:"uint256",nodeType:"ElementaryTypeName",src:"1522:7:40",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],name:"ExchangeData",nodeType:"StructDefinition",scope:6491,src:"1468:79:40",visibility:"public"},{canonicalName:"ExchangeWrapperLibrary.ExchangeResults",id:6404,members:[{constant:false,id:6400,name:"receiveTokens",nodeType:"VariableDeclaration",scope:6404,src:"1782:23:40",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"},typeName:{baseType:{id:6398,name:"address",nodeType:"ElementaryTypeName",src:"1782:7:40",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:6399,length:null,nodeType:"ArrayTypeName",src:"1782:9:40",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"},{constant:false,id:6403,name:"receiveTokenAmounts",nodeType:"VariableDeclaration",scope:6404,src:"1815:29:40",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6401,name:"uint256",nodeType:"ElementaryTypeName",src:"1815:7:40",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6402,length:null,nodeType:"ArrayTypeName",src:"1815:9:40",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],name:"ExchangeResults",nodeType:"StructDefinition",scope:6491,src:"1749:102:40",visibility:"public"},{body:{id:6452,nodeType:"Block",src:"2199:468:40",statements:[{body:{id:6450,nodeType:"Block",src:"2258:403:40",statements:[{assignments:[6424],declarations:[{constant:false,id:6424,name:"remainderSendToken",nodeType:"VariableDeclaration",scope:6450,src:"2350:26:40",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6423,name:"uint256",nodeType:"ElementaryTypeName",src:"2350:7:40",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:6434,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:6427,name:"_sendTokens",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6407,src:"2402:11:40",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:6429,indexExpression:{argumentTypes:null,id:6428,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6413,src:"2414:1:40",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"2402:14:40",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:6431,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30456,src:"2426:4:40",typeDescriptions:{typeIdentifier:"t_contract$_ExchangeWrapperLibrary_$6491",typeString:"library ExchangeWrapperLibrary"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_ExchangeWrapperLibrary_$6491",typeString:"library ExchangeWrapperLibrary"}],id:6430,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"2418:7:40",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:6432,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2418:13:40",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"}],expression:{argumentTypes:null,id:6425,name:"ERC20Wrapper",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:23679,src:"2379:12:40",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC20Wrapper_$23679_$",typeString:"type(library ERC20Wrapper)"}},id:6426,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"balanceOf",nodeType:"MemberAccess",referencedDeclaration:23535,src:"2379:22:40",typeDescriptions:{typeIdentifier:"t_function_delegatecall_view$_t_address_$_t_address_$returns$_t_uint256_$",typeString:"function (address,address) view returns (uint256)"}},id:6433,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2379:53:40",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"2350:82:40"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:6437,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:6435,name:"remainderSendToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6424,src:"2450:18:40",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:6436,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2471:1:40",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"2450:22:40",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:6449,nodeType:"IfStatement",src:"2446:205:40",trueBody:{id:6448,nodeType:"Block",src:"2474:177:40",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:6441,name:"_sendTokens",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6407,src:"2535:11:40",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:6443,indexExpression:{argumentTypes:null,id:6442,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6413,src:"2547:1:40",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"2535:14:40",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:6444,name:"_caller",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6409,src:"2571:7:40",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:6445,name:"remainderSendToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6424,src:"2600:18:40",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:6438,name:"ERC20Wrapper",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:23679,src:"2492:12:40",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC20Wrapper_$23679_$",typeString:"type(library ERC20Wrapper)"}},id:6440,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"transfer",nodeType:"MemberAccess",referencedDeclaration:23579,src:"2492:21:40",typeDescriptions:{typeIdentifier:"t_function_delegatecall_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,uint256)"}},id:6446,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2492:144:40",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:6447,nodeType:"ExpressionStatement",src:"2492:144:40"}]}}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:6419,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:6416,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6413,src:"2229:1:40",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:6417,name:"_sendTokens",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6407,src:"2233:11:40",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:6418,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"2233:18:40",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2229:22:40",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:6451,initializationExpression:{assignments:[6413],declarations:[{constant:false,id:6413,name:"i",nodeType:"VariableDeclaration",scope:6451,src:"2214:9:40",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6412,name:"uint256",nodeType:"ElementaryTypeName",src:"2214:7:40",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:6415,initialValue:{argumentTypes:null,hexValue:"30",id:6414,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2226:1:40",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"2214:13:40"},loopExpression:{expression:{argumentTypes:null,id:6421,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"UnaryOperation",operator:"++",prefix:false,src:"2253:3:40",subExpression:{argumentTypes:null,id:6420,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6413,src:"2253:1:40",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6422,nodeType:"ExpressionStatement",src:"2253:3:40"},nodeType:"ForStatement",src:"2209:452:40"}]},documentation:"Checks if any send tokens leftover and transfers to caller\n@param  _sendTokens    The addresses of send tokens\n@param  _caller        The address of the original transaction caller",id:6453,implemented:true,kind:"function",modifiers:[],name:"returnLeftoverSendTokens",nodeType:"FunctionDefinition",parameters:{id:6410,nodeType:"ParameterList",parameters:[{constant:false,id:6407,name:"_sendTokens",nodeType:"VariableDeclaration",scope:6453,src:"2118:28:40",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:6405,name:"address",nodeType:"ElementaryTypeName",src:"2118:7:40",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:6406,length:null,nodeType:"ArrayTypeName",src:"2118:9:40",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"},{constant:false,id:6409,name:"_caller",nodeType:"VariableDeclaration",scope:6453,src:"2156:15:40",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:6408,name:"address",nodeType:"ElementaryTypeName",src:"2156:7:40",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"2108:69:40"},returnParameters:{id:6411,nodeType:"ParameterList",parameters:[],src:"2199:0:40"},scope:6491,src:"2075:592:40",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:6489,nodeType:"Block",src:"3352:481:40",statements:[{assignments:[6467],declarations:[{constant:false,id:6467,name:"exchangeResults",nodeType:"VariableDeclaration",scope:6489,src:"3387:63:40",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_ExchangeResults_$6506_memory_ptr",typeString:"struct ExchangeWrapperLibraryV2.ExchangeResults"},typeName:{contractScope:null,id:6466,name:"ExchangeWrapperLibraryV2.ExchangeResults",nodeType:"UserDefinedTypeName",referencedDeclaration:6506,src:"3387:40:40",typeDescriptions:{typeIdentifier:"t_struct$_ExchangeResults_$6506_storage_ptr",typeString:"struct ExchangeWrapperLibraryV2.ExchangeResults"}},value:null,visibility:"internal"}],id:6475,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:6472,name:"_exchangeData",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6457,src:"3510:13:40",typeDescriptions:{typeIdentifier:"t_struct$_ExchangeData_$6499_memory_ptr",typeString:"struct ExchangeWrapperLibraryV2.ExchangeData memory"}},{argumentTypes:null,id:6473,name:"_bodyData",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6461,src:"3537:9:40",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_ExchangeData_$6499_memory_ptr",typeString:"struct ExchangeWrapperLibraryV2.ExchangeData memory"},{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:6469,name:"_exchangeWrapper",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6459,src:"3470:16:40",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:6468,name:"IExchangeWrapper",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4844,src:"3453:16:40",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_IExchangeWrapper_$4844_$",typeString:"type(contract IExchangeWrapper)"}},id:6470,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3453:34:40",typeDescriptions:{typeIdentifier:"t_contract$_IExchangeWrapper_$4844",typeString:"contract IExchangeWrapper"}},id:6471,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"exchange",nodeType:"MemberAccess",referencedDeclaration:4843,src:"3453:43:40",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_struct$_ExchangeData_$6499_memory_ptr_$_t_bytes_memory_ptr_$returns$_t_struct$_ExchangeResults_$6506_memory_ptr_$",typeString:"function (struct ExchangeWrapperLibraryV2.ExchangeData memory,bytes memory) external returns (struct ExchangeWrapperLibraryV2.ExchangeResults memory)"}},id:6474,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3453:103:40",typeDescriptions:{typeIdentifier:"t_struct$_ExchangeResults_$6506_memory_ptr",typeString:"struct ExchangeWrapperLibraryV2.ExchangeResults memory"}},nodeType:"VariableDeclarationStatement",src:"3387:169:40"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:6480,name:"_exchangeWrapper",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6459,src:"3674:16:40",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,expression:{argumentTypes:null,id:6481,name:"_exchangeData",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6457,src:"3704:13:40",typeDescriptions:{typeIdentifier:"t_struct$_ExchangeData_$6499_memory_ptr",typeString:"struct ExchangeWrapperLibraryV2.ExchangeData memory"}},id:6482,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"caller",nodeType:"MemberAccess",referencedDeclaration:6496,src:"3704:20:40",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,expression:{argumentTypes:null,id:6483,name:"exchangeResults",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6467,src:"3738:15:40",typeDescriptions:{typeIdentifier:"t_struct$_ExchangeResults_$6506_memory_ptr",typeString:"struct ExchangeWrapperLibraryV2.ExchangeResults memory"}},id:6484,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"receiveTokens",nodeType:"MemberAccess",referencedDeclaration:6502,src:"3738:29:40",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory",typeString:"address[] memory"}},{argumentTypes:null,expression:{argumentTypes:null,id:6485,name:"exchangeResults",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6467,src:"3781:15:40",typeDescriptions:{typeIdentifier:"t_struct$_ExchangeResults_$6506_memory_ptr",typeString:"struct ExchangeWrapperLibraryV2.ExchangeResults memory"}},id:6486,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"receiveTokenAmounts",nodeType:"MemberAccess",referencedDeclaration:6505,src:"3781:35:40",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory",typeString:"uint256[] memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_array$_t_address_$dyn_memory",typeString:"address[] memory"},{typeIdentifier:"t_array$_t_uint256_$dyn_memory",typeString:"uint256[] memory"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:6477,name:"_core",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6455,src:"3635:5:40",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:6476,name:"ICore",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4746,src:"3629:5:40",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ICore_$4746_$",typeString:"type(contract ICore)"}},id:6478,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3629:12:40",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:6479,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"batchDepositModule",nodeType:"MemberAccess",referencedDeclaration:4651,src:"3629:31:40",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$returns$__$",typeString:"function (address,address,address[] memory,uint256[] memory) external"}},id:6487,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3629:197:40",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:6488,nodeType:"ExpressionStatement",src:"3629:197:40"}]},documentation:"Calls exchange to execute trades and deposits fills into Vault for issuanceOrder maker.\n     *\n@param  _core                    Address of Core\n@param  _exchangeData            Standard exchange wrapper interface object containing exchange metadata\n@param  _exchangeWrapper         Address of exchange wrapper being called\n@param  _bodyData                Arbitrary bytes data for orders to be executed on exchange",id:6490,implemented:true,kind:"function",modifiers:[],name:"callExchange",nodeType:"FunctionDefinition",parameters:{id:6462,nodeType:"ParameterList",parameters:[{constant:false,id:6455,name:"_core",nodeType:"VariableDeclaration",scope:6490,src:"3177:13:40",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:6454,name:"address",nodeType:"ElementaryTypeName",src:"3177:7:40",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:6457,name:"_exchangeData",nodeType:"VariableDeclaration",scope:6490,src:"3200:58:40",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_ExchangeData_$6499_memory_ptr",typeString:"struct ExchangeWrapperLibraryV2.ExchangeData"},typeName:{contractScope:null,id:6456,name:"ExchangeWrapperLibraryV2.ExchangeData",nodeType:"UserDefinedTypeName",referencedDeclaration:6499,src:"3200:37:40",typeDescriptions:{typeIdentifier:"t_struct$_ExchangeData_$6499_storage_ptr",typeString:"struct ExchangeWrapperLibraryV2.ExchangeData"}},value:null,visibility:"internal"},{constant:false,id:6459,name:"_exchangeWrapper",nodeType:"VariableDeclaration",scope:6490,src:"3268:24:40",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:6458,name:"address",nodeType:"ElementaryTypeName",src:"3268:7:40",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:6461,name:"_bodyData",nodeType:"VariableDeclaration",
scope:6490,src:"3302:22:40",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes"},typeName:{id:6460,name:"bytes",nodeType:"ElementaryTypeName",src:"3302:5:40",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"3167:163:40"},returnParameters:{id:6463,nodeType:"ParameterList",parameters:[],src:"3352:0:40"},scope:6491,src:"3146:687:40",stateMutability:"nonpayable",superFunction:null,visibility:"internal"}],scope:6492,src:"1218:2617:40"}],src:"597:3239:40"},legacyAST:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/ExchangeWrapperLibrary.sol",exportedSymbols:{ExchangeWrapperLibrary:[6491]},id:6492,nodeType:"SourceUnit",nodes:[{id:6379,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:40"},{id:6380,literals:["experimental","ABIEncoderV2"],nodeType:"PragmaDirective",src:"620:35:40"},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:6382,nodeType:"ImportDirective",scope:6492,sourceUnit:29641,src:"657:77:40",symbolAliases:[{foreign:6381,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/ERC20Wrapper.sol",file:"../../lib/ERC20Wrapper.sol",id:6384,nodeType:"ImportDirective",scope:6492,sourceUnit:23680,src:"736:58:40",symbolAliases:[{foreign:6383,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ICore.sol",file:"../interfaces/ICore.sol",id:6386,nodeType:"ImportDirective",scope:6492,sourceUnit:4747,src:"795:48:40",symbolAliases:[{foreign:6385,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IExchangeWrapper.sol",file:"../interfaces/IExchangeWrapper.sol",id:6388,nodeType:"ImportDirective",scope:6492,sourceUnit:4845,src:"844:70:40",symbolAliases:[{foreign:6387,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/ExchangeWrapperLibraryV2.sol",file:"./ExchangeWrapperLibraryV2.sol",id:6390,nodeType:"ImportDirective",scope:6492,sourceUnit:6508,src:"915:74:40",symbolAliases:[{foreign:6389,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/external/0x/LibBytes.sol",file:"../../external/0x/LibBytes.sol",id:6392,nodeType:"ImportDirective",scope:6492,sourceUnit:20902,src:"990:58:40",symbolAliases:[{foreign:6391,local:null}],unitAlias:""},{baseContracts:[],contractDependencies:[],contractKind:"library",documentation:"@title ExchangeWrapperLibrary\n@author Set Protocol\n * This library contains structs and functions to assist executing orders on third party exchanges",fullyImplemented:true,id:6491,linearizedBaseContracts:[6491],name:"ExchangeWrapperLibrary",nodeType:"ContractDefinition",nodes:[{canonicalName:"ExchangeWrapperLibrary.ExchangeData",id:6397,members:[{constant:false,id:6394,name:"caller",nodeType:"VariableDeclaration",scope:6397,src:"1498:14:40",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:6393,name:"address",nodeType:"ElementaryTypeName",src:"1498:7:40",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:6396,name:"orderCount",nodeType:"VariableDeclaration",scope:6397,src:"1522:18:40",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6395,name:"uint256",nodeType:"ElementaryTypeName",src:"1522:7:40",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],name:"ExchangeData",nodeType:"StructDefinition",scope:6491,src:"1468:79:40",visibility:"public"},{canonicalName:"ExchangeWrapperLibrary.ExchangeResults",id:6404,members:[{constant:false,id:6400,name:"receiveTokens",nodeType:"VariableDeclaration",scope:6404,src:"1782:23:40",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"},typeName:{baseType:{id:6398,name:"address",nodeType:"ElementaryTypeName",src:"1782:7:40",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:6399,length:null,nodeType:"ArrayTypeName",src:"1782:9:40",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"},{constant:false,id:6403,name:"receiveTokenAmounts",nodeType:"VariableDeclaration",scope:6404,src:"1815:29:40",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"},typeName:{baseType:{id:6401,name:"uint256",nodeType:"ElementaryTypeName",src:"1815:7:40",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6402,length:null,nodeType:"ArrayTypeName",src:"1815:9:40",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],name:"ExchangeResults",nodeType:"StructDefinition",scope:6491,src:"1749:102:40",visibility:"public"},{body:{id:6452,nodeType:"Block",src:"2199:468:40",statements:[{body:{id:6450,nodeType:"Block",src:"2258:403:40",statements:[{assignments:[6424],declarations:[{constant:false,id:6424,name:"remainderSendToken",nodeType:"VariableDeclaration",scope:6450,src:"2350:26:40",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6423,name:"uint256",nodeType:"ElementaryTypeName",src:"2350:7:40",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:6434,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:6427,name:"_sendTokens",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6407,src:"2402:11:40",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:6429,indexExpression:{argumentTypes:null,id:6428,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6413,src:"2414:1:40",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"2402:14:40",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:6431,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30456,src:"2426:4:40",typeDescriptions:{typeIdentifier:"t_contract$_ExchangeWrapperLibrary_$6491",typeString:"library ExchangeWrapperLibrary"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_ExchangeWrapperLibrary_$6491",typeString:"library ExchangeWrapperLibrary"}],id:6430,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"2418:7:40",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:6432,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2418:13:40",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"}],expression:{argumentTypes:null,id:6425,name:"ERC20Wrapper",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:23679,src:"2379:12:40",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC20Wrapper_$23679_$",typeString:"type(library ERC20Wrapper)"}},id:6426,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"balanceOf",nodeType:"MemberAccess",referencedDeclaration:23535,src:"2379:22:40",typeDescriptions:{typeIdentifier:"t_function_delegatecall_view$_t_address_$_t_address_$returns$_t_uint256_$",typeString:"function (address,address) view returns (uint256)"}},id:6433,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2379:53:40",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"2350:82:40"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:6437,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:6435,name:"remainderSendToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6424,src:"2450:18:40",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:6436,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2471:1:40",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"2450:22:40",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:6449,nodeType:"IfStatement",src:"2446:205:40",trueBody:{id:6448,nodeType:"Block",src:"2474:177:40",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:6441,name:"_sendTokens",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6407,src:"2535:11:40",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:6443,indexExpression:{argumentTypes:null,id:6442,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6413,src:"2547:1:40",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"2535:14:40",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:6444,name:"_caller",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6409,src:"2571:7:40",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:6445,name:"remainderSendToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6424,src:"2600:18:40",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:6438,name:"ERC20Wrapper",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:23679,src:"2492:12:40",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC20Wrapper_$23679_$",typeString:"type(library ERC20Wrapper)"}},id:6440,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"transfer",nodeType:"MemberAccess",referencedDeclaration:23579,src:"2492:21:40",typeDescriptions:{typeIdentifier:"t_function_delegatecall_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,address,uint256)"}},id:6446,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2492:144:40",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:6447,nodeType:"ExpressionStatement",src:"2492:144:40"}]}}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:6419,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:6416,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6413,src:"2229:1:40",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:6417,name:"_sendTokens",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6407,src:"2233:11:40",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:6418,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"2233:18:40",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2229:22:40",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:6451,initializationExpression:{assignments:[6413],declarations:[{constant:false,id:6413,name:"i",nodeType:"VariableDeclaration",scope:6451,src:"2214:9:40",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6412,name:"uint256",nodeType:"ElementaryTypeName",src:"2214:7:40",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:6415,initialValue:{argumentTypes:null,hexValue:"30",id:6414,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2226:1:40",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"2214:13:40"},loopExpression:{expression:{argumentTypes:null,id:6421,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"UnaryOperation",operator:"++",prefix:false,src:"2253:3:40",subExpression:{argumentTypes:null,id:6420,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6413,src:"2253:1:40",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6422,nodeType:"ExpressionStatement",src:"2253:3:40"},nodeType:"ForStatement",src:"2209:452:40"}]},documentation:"Checks if any send tokens leftover and transfers to caller\n@param  _sendTokens    The addresses of send tokens\n@param  _caller        The address of the original transaction caller",id:6453,implemented:true,kind:"function",modifiers:[],name:"returnLeftoverSendTokens",nodeType:"FunctionDefinition",parameters:{id:6410,nodeType:"ParameterList",parameters:[{constant:false,id:6407,name:"_sendTokens",nodeType:"VariableDeclaration",scope:6453,src:"2118:28:40",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:6405,name:"address",nodeType:"ElementaryTypeName",src:"2118:7:40",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:6406,length:null,nodeType:"ArrayTypeName",src:"2118:9:40",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"},{constant:false,id:6409,name:"_caller",nodeType:"VariableDeclaration",scope:6453,src:"2156:15:40",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:6408,name:"address",nodeType:"ElementaryTypeName",src:"2156:7:40",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"2108:69:40"},returnParameters:{id:6411,nodeType:"ParameterList",parameters:[],src:"2199:0:40"},scope:6491,src:"2075:592:40",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:6489,nodeType:"Block",src:"3352:481:40",statements:[{assignments:[6467],declarations:[{constant:false,id:6467,name:"exchangeResults",nodeType:"VariableDeclaration",scope:6489,src:"3387:63:40",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_ExchangeResults_$6506_memory_ptr",typeString:"struct ExchangeWrapperLibraryV2.ExchangeResults"},typeName:{contractScope:null,id:6466,name:"ExchangeWrapperLibraryV2.ExchangeResults",nodeType:"UserDefinedTypeName",referencedDeclaration:6506,src:"3387:40:40",typeDescriptions:{typeIdentifier:"t_struct$_ExchangeResults_$6506_storage_ptr",typeString:"struct ExchangeWrapperLibraryV2.ExchangeResults"}},value:null,visibility:"internal"}],id:6475,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:6472,name:"_exchangeData",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6457,src:"3510:13:40",typeDescriptions:{typeIdentifier:"t_struct$_ExchangeData_$6499_memory_ptr",typeString:"struct ExchangeWrapperLibraryV2.ExchangeData memory"}},{argumentTypes:null,id:6473,name:"_bodyData",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6461,src:"3537:9:40",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_ExchangeData_$6499_memory_ptr",typeString:"struct ExchangeWrapperLibraryV2.ExchangeData memory"},{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:6469,name:"_exchangeWrapper",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6459,src:"3470:16:40",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:6468,name:"IExchangeWrapper",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4844,src:"3453:16:40",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_IExchangeWrapper_$4844_$",typeString:"type(contract IExchangeWrapper)"}},id:6470,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3453:34:40",typeDescriptions:{typeIdentifier:"t_contract$_IExchangeWrapper_$4844",typeString:"contract IExchangeWrapper"}},id:6471,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"exchange",nodeType:"MemberAccess",referencedDeclaration:4843,src:"3453:43:40",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_struct$_ExchangeData_$6499_memory_ptr_$_t_bytes_memory_ptr_$returns$_t_struct$_ExchangeResults_$6506_memory_ptr_$",typeString:"function (struct ExchangeWrapperLibraryV2.ExchangeData memory,bytes memory) external returns (struct ExchangeWrapperLibraryV2.ExchangeResults memory)"}},id:6474,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3453:103:40",typeDescriptions:{typeIdentifier:"t_struct$_ExchangeResults_$6506_memory_ptr",typeString:"struct ExchangeWrapperLibraryV2.ExchangeResults memory"}},nodeType:"VariableDeclarationStatement",src:"3387:169:40"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:6480,name:"_exchangeWrapper",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6459,src:"3674:16:40",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,expression:{argumentTypes:null,id:6481,name:"_exchangeData",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6457,src:"3704:13:40",typeDescriptions:{typeIdentifier:"t_struct$_ExchangeData_$6499_memory_ptr",typeString:"struct ExchangeWrapperLibraryV2.ExchangeData memory"}},id:6482,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"caller",nodeType:"MemberAccess",referencedDeclaration:6496,src:"3704:20:40",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,expression:{argumentTypes:null,id:6483,name:"exchangeResults",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6467,src:"3738:15:40",typeDescriptions:{typeIdentifier:"t_struct$_ExchangeResults_$6506_memory_ptr",typeString:"struct ExchangeWrapperLibraryV2.ExchangeResults memory"}},id:6484,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"receiveTokens",nodeType:"MemberAccess",referencedDeclaration:6502,src:"3738:29:40",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory",typeString:"address[] memory"}},{argumentTypes:null,expression:{argumentTypes:null,id:6485,name:"exchangeResults",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6467,src:"3781:15:40",typeDescriptions:{typeIdentifier:"t_struct$_ExchangeResults_$6506_memory_ptr",typeString:"struct ExchangeWrapperLibraryV2.ExchangeResults memory"}},id:6486,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"receiveTokenAmounts",nodeType:"MemberAccess",referencedDeclaration:6505,src:"3781:35:40",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory",typeString:"uint256[] memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_array$_t_address_$dyn_memory",typeString:"address[] memory"},{typeIdentifier:"t_array$_t_uint256_$dyn_memory",typeString:"uint256[] memory"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:6477,name:"_core",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6455,src:"3635:5:40",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:6476,name:"ICore",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4746,src:"3629:5:40",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ICore_$4746_$",typeString:"type(contract ICore)"}},id:6478,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3629:12:40",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:6479,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"batchDepositModule",nodeType:"MemberAccess",referencedDeclaration:4651,src:"3629:31:40",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$returns$__$",typeString:"function (address,address,address[] memory,uint256[] memory) external"}},id:6487,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3629:197:40",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:6488,nodeType:"ExpressionStatement",src:"3629:197:40"}]},documentation:"Calls exchange to execute trades and deposits fills into Vault for issuanceOrder maker.\n     *\n@param  _core                    Address of Core\n@param  _exchangeData            Standard exchange wrapper interface object containing exchange metadata\n@param  _exchangeWrapper         Address of exchange wrapper being called\n@param  _bodyData                Arbitrary bytes data for orders to be executed on exchange",id:6490,implemented:true,kind:"function",modifiers:[],name:"callExchange",nodeType:"FunctionDefinition",parameters:{id:6462,nodeType:"ParameterList",parameters:[{constant:false,id:6455,name:"_core",nodeType:"VariableDeclaration",scope:6490,src:"3177:13:40",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:6454,name:"address",nodeType:"ElementaryTypeName",src:"3177:7:40",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:6457,name:"_exchangeData",nodeType:"VariableDeclaration",scope:6490,src:"3200:58:40",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_ExchangeData_$6499_memory_ptr",typeString:"struct ExchangeWrapperLibraryV2.ExchangeData"},typeName:{contractScope:null,id:6456,name:"ExchangeWrapperLibraryV2.ExchangeData",nodeType:"UserDefinedTypeName",referencedDeclaration:6499,src:"3200:37:40",typeDescriptions:{typeIdentifier:"t_struct$_ExchangeData_$6499_storage_ptr",typeString:"struct ExchangeWrapperLibraryV2.ExchangeData"}},value:null,visibility:"internal"},{constant:false,id:6459,name:"_exchangeWrapper",nodeType:"VariableDeclaration",scope:6490,src:"3268:24:40",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:6458,name:"address",nodeType:"ElementaryTypeName",src:"3268:7:40",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:6461,name:"_bodyData",nodeType:"VariableDeclaration",scope:6490,src:"3302:22:40",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes"},typeName:{id:6460,name:"bytes",nodeType:"ElementaryTypeName",src:"3302:5:40",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"3167:163:40"},returnParameters:{id:6463,nodeType:"ParameterList",parameters:[],src:"3352:0:40"},scope:6491,src:"3146:687:40",stateMutability:"nonpayable",superFunction:null,visibility:"internal"}],scope:6492,src:"1218:2617:40"}],src:"597:3239:40"},compiler:{name:"solc",version:"0.5.7+commit.6da8b019.Linux.g++"},networks:{},schemaVersion:"3.0.23",updatedAt:"2020-04-07T04:29:24.485Z",devdoc:{author:"Set Protocol * This library contains structs and functions to assist executing orders on third party exchanges",methods:{},title:"ExchangeWrapperLibrary"},userdoc:{methods:{}}};