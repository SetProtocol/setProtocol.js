"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TimeLockUpgradeV2={contractName:"TimeLockUpgradeV2",abi:[{constant:true,inputs:[{name:"",type:"bytes32"}],name:"timeLockedUpgrades",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:false,inputs:[],name:"renounceOwnership",outputs:[],payable:false,stateMutability:"nonpayable",type:"function"},{constant:true,inputs:[],name:"timeLockPeriod",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"isOwner",outputs:[{name:"",type:"bool"}],payable:false,stateMutability:"view",type:"function"},{constant:false,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:false,stateMutability:"nonpayable",type:"function"},{anonymous:false,inputs:[{indexed:true,name:"_upgradeHash",type:"bytes32"},{indexed:false,name:"_timestamp",type:"uint256"},{indexed:false,name:"_upgradeData",type:"bytes"}],name:"UpgradeRegistered",type:"event"},{anonymous:false,inputs:[{indexed:true,name:"_upgradeHash",type:"bytes32"}],name:"RemoveRegisteredUpgrade",type:"event"},{anonymous:false,inputs:[{indexed:true,name:"previousOwner",type:"address"},{indexed:true,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{constant:false,inputs:[{name:"_upgradeHash",type:"bytes32"}],name:"removeRegisteredUpgrade",outputs:[],payable:false,stateMutability:"nonpayable",type:"function"},{constant:false,inputs:[{name:"_timeLockPeriod",type:"uint256"}],name:"setTimeLockPeriod",outputs:[],payable:false,stateMutability:"nonpayable",type:"function"}],metadata:'{"compiler":{"version":"0.5.7+commit.6da8b019"},"language":"Solidity","output":{"abi":[{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"timeLockedUpgrades","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"timeLockPeriod","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_timeLockPeriod","type":"uint256"}],"name":"setTimeLockPeriod","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_upgradeHash","type":"bytes32"}],"name":"removeRegisteredUpgrade","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_upgradeHash","type":"bytes32"},{"indexed":false,"name":"_timestamp","type":"uint256"},{"indexed":false,"name":"_upgradeData","type":"bytes"}],"name":"UpgradeRegistered","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_upgradeHash","type":"bytes32"}],"name":"RemoveRegisteredUpgrade","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"}],"devdoc":{"author":"Set Protocol * The TimeLockUpgradeV2 contract contains a modifier for handling minimum time period updates * CHANGELOG: - Requires that the caller is the owner - New function to allow deletion of existing timelocks - Added upgradeData to UpgradeRegistered event","methods":{"isOwner()":{"return":"true if `msg.sender` is the owner of the contract."},"owner()":{"return":"the address of the owner."},"removeRegisteredUpgrade(bytes32)":{"params":{"_upgradeHash":"Keccack256 hash that uniquely identifies function called and arguments "}},"renounceOwnership()":{"details":"Allows the current owner to relinquish control of the contract. It will not be possible to call the functions with the `onlyOwner` modifier anymore."},"setTimeLockPeriod(uint256)":{"params":{"_timeLockPeriod":"Time in seconds that upgrades need to be evaluated before execution"}},"transferOwnership(address)":{"details":"Allows the current owner to transfer control of the contract to a newOwner.","params":{"newOwner":"The address to transfer ownership to."}}},"title":"TimeLockUpgradeV2"},"userdoc":{"methods":{"removeRegisteredUpgrade(bytes32)":{"notice":"Removes an existing upgrade."},"renounceOwnership()":{"notice":"Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner."},"setTimeLockPeriod(uint256)":{"notice":"Change timeLockPeriod period. Generally called after initially settings have been set up."}}}},"settings":{"compilationTarget":{"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/TimeLockUpgradeV2.sol":"TimeLockUpgradeV2"},"evmVersion":"byzantium","libraries":{},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/TimeLockUpgradeV2.sol":{"keccak256":"0x7c8188e262d4db7d352130c56c0eab85a6f9f89afb5fe08efe49084557e3e600","urls":["bzzr://5b0a3762af16f66a60bdb9cc1bcb14a7066bd3c54dd80c6333a9f07118800340"]},"openzeppelin-solidity/contracts/math/SafeMath.sol":{"keccak256":"0xc2a200a877c4a9b2475c246c54ffecc69ffde3e11af83319c63c2dc5458bac80","urls":["bzzr://c8876e2c39b60f155d748d71d715c8f3903fae5a405ac599adcb6ad2f9a583f9"]},"openzeppelin-solidity/contracts/ownership/Ownable.sol":{"keccak256":"0xcb16adc00dcf0d75e0bdf94379f4d5a6d74dca7c74e4183b94e15721159f8a30","urls":["bzzr://b81e03f7203cd628cfed19255911a04a05e8670d248afb48a7b067dd03b4ff55"]}},"version":1}',bytecode:"0x6080604081905260008054600160a060020a0319163317808255600160a060020a0316917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908290a3610494806100576000396000f3fe608060405234801561001057600080fd5b50600436106100a5576000357c0100000000000000000000000000000000000000000000000000000000900480638f32d59b116100785780638f32d59b1461010f5780639303b16f1461012b578063cc75c9b014610148578063f2fde38b14610165576100a5565b80631766486d146100aa578063715018a6146100d957806378446bc1146100e35780638da5cb5b146100eb575b600080fd5b6100c7600480360360208110156100c057600080fd5b503561018b565b60408051918252519081900360200190f35b6100e161019d565b005b6100c7610205565b6100f361020b565b60408051600160a060020a039092168252519081900360200190f35b61011761021a565b604080519115158252519081900360200190f35b6100e16004803603602081101561014157600080fd5b503561022b565b6100e16004803603602081101561015e57600080fd5b503561029b565b6100e16004803603602081101561017b57600080fd5b5035600160a060020a031661034b565b60026020526000908152604090205481565b6101a561021a565b6101ae57600080fd5b60008054604051600160a060020a03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a36000805473ffffffffffffffffffffffffffffffffffffffff19169055565b60015481565b600054600160a060020a031690565b600054600160a060020a0316331490565b61023361021a565b61023c57600080fd5b6001548111610296576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252603b8152602001806103e4603b913960400191505060405180910390fd5b600155565b6102a361021a565b6102ac57600080fd5b600081815260026020526040902054610310576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252604a81526020018061041f604a913960600191505060405180910390fd5b6000818152600260205260408082208290555182917f068cc8f97648f23db94d0e1a707a54447d07effeb11c1c297168aa67321dc4ec91a250565b61035361021a565b61035c57600080fd5b61036581610368565b50565b600160a060020a03811661037b57600080fd5b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039290921691909117905556fe54696d654c6f636b5570677261646556323a204e657720706572696f64206d7573742062652067726561746572207468616e206578697374696e6754696d654c6f636b5570677261646556322e72656d6f766552656769737465726564557067726164653a20557067726164652068617368206d7573742062652072656769737465726564a165627a7a72305820ac6ebe3972c0634ea740c9da566398547c2ff48c7a5acec74819b979d51810590029",deployedBytecode:"0x608060405234801561001057600080fd5b50600436106100a5576000357c0100000000000000000000000000000000000000000000000000000000900480638f32d59b116100785780638f32d59b1461010f5780639303b16f1461012b578063cc75c9b014610148578063f2fde38b14610165576100a5565b80631766486d146100aa578063715018a6146100d957806378446bc1146100e35780638da5cb5b146100eb575b600080fd5b6100c7600480360360208110156100c057600080fd5b503561018b565b60408051918252519081900360200190f35b6100e161019d565b005b6100c7610205565b6100f361020b565b60408051600160a060020a039092168252519081900360200190f35b61011761021a565b604080519115158252519081900360200190f35b6100e16004803603602081101561014157600080fd5b503561022b565b6100e16004803603602081101561015e57600080fd5b503561029b565b6100e16004803603602081101561017b57600080fd5b5035600160a060020a031661034b565b60026020526000908152604090205481565b6101a561021a565b6101ae57600080fd5b60008054604051600160a060020a03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a36000805473ffffffffffffffffffffffffffffffffffffffff19169055565b60015481565b600054600160a060020a031690565b600054600160a060020a0316331490565b61023361021a565b61023c57600080fd5b6001548111610296576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252603b8152602001806103e4603b913960400191505060405180910390fd5b600155565b6102a361021a565b6102ac57600080fd5b600081815260026020526040902054610310576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252604a81526020018061041f604a913960600191505060405180910390fd5b6000818152600260205260408082208290555182917f068cc8f97648f23db94d0e1a707a54447d07effeb11c1c297168aa67321dc4ec91a250565b61035361021a565b61035c57600080fd5b61036581610368565b50565b600160a060020a03811661037b57600080fd5b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039290921691909117905556fe54696d654c6f636b5570677261646556323a204e657720706572696f64206d7573742062652067726561746572207468616e206578697374696e6754696d654c6f636b5570677261646556322e72656d6f766552656769737465726564557067726164653a20557067726164652068617368206d7573742062652072656769737465726564a165627a7a72305820ac6ebe3972c0634ea740c9da566398547c2ff48c7a5acec74819b979d51810590029",sourceMap:"1108:3391:125:-;;;;;515:6:175;:19;;-1:-1:-1;;;;;;515:19:175;524:10;515:19;;;;-1:-1:-1;;;;;582:6:175;;549:40;;515:6;;549:40;1108:3391:125;;;;;;",deployedSourceMap:"1108:3391:125:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1108:3391:125;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1399:53;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1399:53:125;;:::i;:::-;;;;;;;;;;;;;;;;1423:137:175;;;:::i;:::-;;1284:29:125;;;:::i;659:77:175:-;;;:::i;:::-;;;;-1:-1:-1;;;;;659:77:175;;;;;;;;;;;;;;979:90;;;:::i;:::-;;;;;;;;;;;;;;;;;;4099:398:125;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;4099:398:125;;:::i;3428:444::-;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;3428:444:125;;:::i;1731:107:175:-;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1731:107:175;-1:-1:-1;;;;;1731:107:175;;:::i;1399:53:125:-;;;;;;;;;;;;;:::o;1423:137:175:-;863:9;:7;:9::i;:::-;855:18;;;;;;1521:1;1505:6;;1484:40;;-1:-1:-1;;;;;1505:6:175;;;;1484:40;;1521:1;;1484:40;1551:1;1534:19;;-1:-1:-1;;1534:19:175;;;1423:137::o;1284:29:125:-;;;;:::o;659:77:175:-;697:7;723:6;-1:-1:-1;;;;;723:6:175;659:77;:::o;979:90::-;1019:4;1056:6;-1:-1:-1;;;;;1056:6:175;1042:10;:20;;979:90::o;4099:398:125:-;863:9:175;:7;:9::i;:::-;855:18;;;;;;4348:14:125;;4330:15;:32;4309:138;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4458:14;:32;4099:398::o;3428:444::-;863:9:175;:7;:9::i;:::-;855:18;;;;;;3568:32:125;;;;:18;:32;;;;;;3547:158;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3787:1;3752:32;;;:18;:32;;;;;;:36;;;3804:59;3771:12;;3804:59;;;3428:444;:::o;1731:107:175:-;863:9;:7;:9::i;:::-;855:18;;;;;;1803:28;1822:8;1803:18;:28::i;:::-;1731:107;:::o;1982:183::-;-1:-1:-1;;;;;2055:22:175;;2047:31;;;;;;2114:6;;;2093:38;;-1:-1:-1;;;;;2093:38:175;;;;2114:6;;;2093:38;;;2141:6;:17;;-1:-1:-1;;2141:17:175;-1:-1:-1;;;;;2141:17:175;;;;;;;;;;1982:183::o",source:'/*\n    Copyright 2018 Set Labs Inc.\n\n    Licensed under the Apache License, Version 2.0 (the "License");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an "AS IS" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n*/\n\npragma solidity 0.5.7;\n\nimport { Ownable } from "openzeppelin-solidity/contracts/ownership/Ownable.sol";\nimport { SafeMath } from "openzeppelin-solidity/contracts/math/SafeMath.sol";\n\n\n/**\n * @title TimeLockUpgradeV2\n * @author Set Protocol\n *\n * The TimeLockUpgradeV2 contract contains a modifier for handling minimum time period updates\n *\n * CHANGELOG:\n * - Requires that the caller is the owner\n * - New function to allow deletion of existing timelocks\n * - Added upgradeData to UpgradeRegistered event\n */\ncontract TimeLockUpgradeV2 is\n    Ownable\n{\n    using SafeMath for uint256;\n\n    /* ============ State Variables ============ */\n\n    // Timelock Upgrade Period in seconds\n    uint256 public timeLockPeriod;\n\n    // Mapping of maps hash of registered upgrade to its registration timestam\n    mapping(bytes32 => uint256) public timeLockedUpgrades;\n\n    /* ============ Events ============ */\n\n    event UpgradeRegistered(\n        bytes32 indexed _upgradeHash,\n        uint256 _timestamp,\n        bytes _upgradeData\n    );\n\n    event RemoveRegisteredUpgrade(\n        bytes32 indexed _upgradeHash\n    );\n\n    /* ============ Modifiers ============ */\n\n    modifier timeLockUpgrade() {\n        require(\n            isOwner(),\n            "TimeLockUpgradeV2: The caller must be the owner"\n        );\n\n        // If the time lock period is 0, then allow non-timebound upgrades.\n        // This is useful for initialization of the protocol and for testing.\n        if (timeLockPeriod > 0) {\n            // The upgrade hash is defined by the hash of the transaction call data,\n            // which uniquely identifies the function as well as the passed in arguments.\n            bytes32 upgradeHash = keccak256(\n                abi.encodePacked(\n                    msg.data\n                )\n            );\n\n            uint256 registrationTime = timeLockedUpgrades[upgradeHash];\n\n            // If the upgrade hasn\'t been registered, register with the current time.\n            if (registrationTime == 0) {\n                timeLockedUpgrades[upgradeHash] = block.timestamp;\n\n                emit UpgradeRegistered(\n                    upgradeHash,\n                    block.timestamp,\n                    msg.data\n                );\n\n                return;\n            }\n\n            require(\n                block.timestamp >= registrationTime.add(timeLockPeriod),\n                "TimeLockUpgradeV2: Time lock period must have elapsed."\n            );\n\n            // Reset the timestamp to 0\n            timeLockedUpgrades[upgradeHash] = 0;\n\n        }\n\n        // Run the rest of the upgrades\n        _;\n    }\n\n    /* ============ Function ============ */\n\n    /**\n     * Removes an existing upgrade.\n     *\n     * @param  _upgradeHash    Keccack256 hash that uniquely identifies function called and arguments \n     */\n    function removeRegisteredUpgrade(\n        bytes32 _upgradeHash \n    )\n        external\n        onlyOwner\n    {\n        require(\n            timeLockedUpgrades[_upgradeHash] != 0,\n            "TimeLockUpgradeV2.removeRegisteredUpgrade: Upgrade hash must be registered"\n        );\n\n        // Reset the timestamp to 0\n        timeLockedUpgrades[_upgradeHash] = 0;\n\n        emit RemoveRegisteredUpgrade(\n            _upgradeHash\n        );  \n    }\n\n    /**\n     * Change timeLockPeriod period. Generally called after initially settings have been set up.\n     *\n     * @param  _timeLockPeriod   Time in seconds that upgrades need to be evaluated before execution\n     */\n    function setTimeLockPeriod(\n        uint256 _timeLockPeriod\n    )\n        external\n        onlyOwner\n    {\n        // Only allow setting of the timeLockPeriod if the period is greater than the existing\n        require(\n            _timeLockPeriod > timeLockPeriod,\n            "TimeLockUpgradeV2: New period must be greater than existing"\n        );\n\n        timeLockPeriod = _timeLockPeriod;\n    }\n}\n',sourcePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/TimeLockUpgradeV2.sol",ast:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/TimeLockUpgradeV2.sol",exportedSymbols:{TimeLockUpgradeV2:[24461]},id:24462,nodeType:"SourceUnit",nodes:[{id:24318,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:125"},{absolutePath:"openzeppelin-solidity/contracts/ownership/Ownable.sol",file:"openzeppelin-solidity/contracts/ownership/Ownable.sol",id:24320,nodeType:"ImportDirective",scope:24462,sourceUnit:29750,src:"621:80:125",symbolAliases:[{foreign:24319,local:null}],unitAlias:""},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:24322,nodeType:"ImportDirective",scope:24462,sourceUnit:29641,src:"702:77:125",symbolAliases:[{foreign:24321,local:null}],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:24323,name:"Ownable",nodeType:"UserDefinedTypeName",referencedDeclaration:29749,src:"1142:7:125",typeDescriptions:{typeIdentifier:"t_contract$_Ownable_$29749",typeString:"contract Ownable"}},id:24324,nodeType:"InheritanceSpecifier",src:"1142:7:125"}],contractDependencies:[29749],contractKind:"contract",documentation:"@title TimeLockUpgradeV2\n@author Set Protocol\n * The TimeLockUpgradeV2 contract contains a modifier for handling minimum time period updates\n * CHANGELOG:\n- Requires that the caller is the owner\n- New function to allow deletion of existing timelocks\n- Added upgradeData to UpgradeRegistered event",fullyImplemented:true,id:24461,linearizedBaseContracts:[24461,29749],name:"TimeLockUpgradeV2",nodeType:"ContractDefinition",nodes:[{id:24327,libraryName:{contractScope:null,id:24325,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:29640,src:"1162:8:125",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$29640",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"1156:27:125",typeName:{id:24326,name:"uint256",nodeType:"ElementaryTypeName",src:"1175:7:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{constant:false,id:24329,name:"timeLockPeriod",nodeType:"VariableDeclaration",scope:24461,src:"1284:29:125",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:24328,name:"uint256",nodeType:"ElementaryTypeName",src:"1284:7:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"public"},{constant:false,id:24333,name:"timeLockedUpgrades",nodeType:"VariableDeclaration",scope:24461,src:"1399:53:125",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"},typeName:{id:24332,keyType:{id:24330,name:"bytes32",nodeType:"ElementaryTypeName",src:"1407:7:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Mapping",src:"1399:27:125",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"},valueType:{id:24331,name:"uint256",nodeType:"ElementaryTypeName",src:"1418:7:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},value:null,visibility:"public"},{anonymous:false,documentation:null,id:24341,name:"UpgradeRegistered",nodeType:"EventDefinition",parameters:{id:24340,nodeType:"ParameterList",parameters:[{constant:false,id:24335,indexed:true,name:"_upgradeHash",nodeType:"VariableDeclaration",scope:24341,src:"1536:28:125",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:24334,name:"bytes32",nodeType:"ElementaryTypeName",src:"1536:7:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"},{constant:false,id:24337,indexed:false,name:"_timestamp",nodeType:"VariableDeclaration",scope:24341,src:"1574:18:125",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:24336,name:"uint256",nodeType:"ElementaryTypeName",src:"1574:7:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:24339,indexed:false,name:"_upgradeData",nodeType:"VariableDeclaration",scope:24341,src:"1602:18:125",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes"},typeName:{id:24338,name:"bytes",nodeType:"ElementaryTypeName",src:"1602:5:125",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"1526:100:125"},src:"1503:124:125"},{anonymous:false,documentation:null,id:24345,name:"RemoveRegisteredUpgrade",nodeType:"EventDefinition",parameters:{id:24344,nodeType:"ParameterList",parameters:[{constant:false,id:24343,indexed:true,name:"_upgradeHash",nodeType:"VariableDeclaration",scope:24345,src:"1672:28:125",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:24342,name:"bytes32",nodeType:"ElementaryTypeName",src:"1672:7:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"1662:44:125"},src:"1633:74:125"},{body:{id:24413,nodeType:"Block",src:"1787:1427:125",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:24348,name:"isOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:29694,src:"1818:7:125",typeDescriptions:{typeIdentifier:"t_function_internal_view$__$returns$_t_bool_$",typeString:"function () view returns (bool)"}},id:24349,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"1818:9:125",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54696d654c6f636b5570677261646556323a205468652063616c6c6572206d75737420626520746865206f776e6572",id:24350,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"1841:49:125",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_a7cf1bfbe11f47641c2dac030f17e89d9f6664eaa73e9ae90b4aae5f46eaf1ae",typeString:'literal_string "TimeLockUpgradeV2: The caller must be the owner"'},value:"TimeLockUpgradeV2: The caller must be the owner"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_a7cf1bfbe11f47641c2dac030f17e89d9f6664eaa73e9ae90b4aae5f46eaf1ae",typeString:'literal_string "TimeLockUpgradeV2: The caller must be the owner"'}],id:24347,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"1797:7:125",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:24351,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"1797:103:125",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:24352,nodeType:"ExpressionStatement",src:"1797:103:125"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:24355,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:24353,name:"timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24329,src:"2069:14:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:24354,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2086:1:125",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"2069:18:125",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:24411,nodeType:"IfStatement",src:"2065:1091:125",trueBody:{id:24410,nodeType:"Block",src:"2089:1067:125",statements:[{assignments:[24357],declarations:[{constant:false,id:24357,name:"upgradeHash",nodeType:"VariableDeclaration",scope:24410,src:"2278:19:125",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:24356,name:"bytes32",nodeType:"ElementaryTypeName",src:"2278:7:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],id:24365,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:24361,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"2365:3:125",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:24362,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"data",nodeType:"MemberAccess",referencedDeclaration:null,src:"2365:8:125",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}],expression:{argumentTypes:null,id:24359,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30363,src:"2327:3:125",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:24360,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"2327:16:125",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:24363,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2327:64:125",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:24358,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30370,src:"2300:9:125",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:24364,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2300:105:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"VariableDeclarationStatement",src:"2278:127:125"},{assignments:[24367],declarations:[{constant:false,id:24367,name:"registrationTime",nodeType:"VariableDeclaration",scope:24410,src:"2420:24:125",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:24366,name:"uint256",nodeType:"ElementaryTypeName",src:"2420:7:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:24371,initialValue:{argumentTypes:null,baseExpression:{argumentTypes:null,id:24368,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24333,src:"2447:18:125",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:24370,indexExpression:{argumentTypes:null,id:24369,name:"upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24357,src:"2466:11:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"2447:31:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"2420:58:125"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:24374,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:24372,name:"registrationTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24367,src:"2583:16:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:24373,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2603:1:125",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"2583:21:125",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:24392,nodeType:"IfStatement",src:"2579:293:125",trueBody:{id:24391,nodeType:"Block",src:"2606:266:125",statements:[{expression:{argumentTypes:null,id:24380,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:24375,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24333,src:"2624:18:125",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:24377,indexExpression:{argumentTypes:null,id:24376,name:"upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24357,src:"2643:11:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:true,nodeType:"IndexAccess",src:"2624:31:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:24378,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"2658:5:125",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:24379,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"2658:15:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2624:49:125",typeDescriptions:{typeIdentifier:"t_uint256",
typeString:"uint256"}},id:24381,nodeType:"ExpressionStatement",src:"2624:49:125"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:24383,name:"upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24357,src:"2736:11:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,expression:{argumentTypes:null,id:24384,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"2769:5:125",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:24385,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"2769:15:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:24386,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"2806:3:125",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:24387,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"data",nodeType:"MemberAccess",referencedDeclaration:null,src:"2806:8:125",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}],id:24382,name:"UpgradeRegistered",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24341,src:"2697:17:125",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$",typeString:"function (bytes32,uint256,bytes memory)"}},id:24388,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2697:135:125",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:24389,nodeType:"EmitStatement",src:"2692:140:125"},{expression:null,functionReturnParameters:null,id:24390,nodeType:"Return",src:"2851:7:125"}]}},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:24400,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:24394,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"2911:5:125",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:24395,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"2911:15:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">=",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:24398,name:"timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24329,src:"2951:14:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:24396,name:"registrationTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24367,src:"2930:16:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:24397,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:29619,src:"2930:20:125",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:24399,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2930:36:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2911:55:125",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54696d654c6f636b5570677261646556323a2054696d65206c6f636b20706572696f64206d757374206861766520656c61707365642e",id:24401,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"2984:56:125",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_65c573895bc46e6760b220807491f24700562ffc41b2a549f73a050caa5c3e1e",typeString:'literal_string "TimeLockUpgradeV2: Time lock period must have elapsed."'},value:"TimeLockUpgradeV2: Time lock period must have elapsed."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_65c573895bc46e6760b220807491f24700562ffc41b2a549f73a050caa5c3e1e",typeString:'literal_string "TimeLockUpgradeV2: Time lock period must have elapsed."'}],id:24393,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"2886:7:125",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:24402,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2886:168:125",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:24403,nodeType:"ExpressionStatement",src:"2886:168:125"},{expression:{argumentTypes:null,id:24408,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:24404,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24333,src:"3109:18:125",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:24406,indexExpression:{argumentTypes:null,id:24405,name:"upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24357,src:"3128:11:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:true,nodeType:"IndexAccess",src:"3109:31:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,hexValue:"30",id:24407,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"3143:1:125",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"3109:35:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:24409,nodeType:"ExpressionStatement",src:"3109:35:125"}]}},{id:24412,nodeType:"PlaceholderStatement",src:"3206:1:125"}]},documentation:null,id:24414,name:"timeLockUpgrade",nodeType:"ModifierDefinition",parameters:{id:24346,nodeType:"ParameterList",parameters:[],src:"1784:2:125"},src:"1760:1454:125",visibility:"internal"},{body:{id:24440,nodeType:"Block",src:"3537:335:125",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:24426,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:24422,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24333,src:"3568:18:125",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:24424,indexExpression:{argumentTypes:null,id:24423,name:"_upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24416,src:"3587:12:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"3568:32:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,hexValue:"30",id:24425,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"3604:1:125",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"3568:37:125",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54696d654c6f636b5570677261646556322e72656d6f766552656769737465726564557067726164653a20557067726164652068617368206d7573742062652072656769737465726564",id:24427,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"3619:76:125",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_2bc75a00c5313f8e5686c8c1ed1213bc596e6197261ca680fdcfe96f41718d95",typeString:'literal_string "TimeLockUpgradeV2.removeRegisteredUpgrade: Upgrade hash must be registered"'},value:"TimeLockUpgradeV2.removeRegisteredUpgrade: Upgrade hash must be registered"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_2bc75a00c5313f8e5686c8c1ed1213bc596e6197261ca680fdcfe96f41718d95",typeString:'literal_string "TimeLockUpgradeV2.removeRegisteredUpgrade: Upgrade hash must be registered"'}],id:24421,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"3547:7:125",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:24428,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3547:158:125",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:24429,nodeType:"ExpressionStatement",src:"3547:158:125"},{expression:{argumentTypes:null,id:24434,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:24430,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24333,src:"3752:18:125",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:24432,indexExpression:{argumentTypes:null,id:24431,name:"_upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24416,src:"3771:12:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:true,nodeType:"IndexAccess",src:"3752:32:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,hexValue:"30",id:24433,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"3787:1:125",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"3752:36:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:24435,nodeType:"ExpressionStatement",src:"3752:36:125"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:24437,name:"_upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24416,src:"3841:12:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],id:24436,name:"RemoveRegisteredUpgrade",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24345,src:"3804:23:125",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$returns$__$",typeString:"function (bytes32)"}},id:24438,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3804:59:125",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:24439,nodeType:"EmitStatement",src:"3799:64:125"}]},documentation:"Removes an existing upgrade.\n     * @param  _upgradeHash    Keccack256 hash that uniquely identifies function called and arguments ",id:24441,implemented:true,kind:"function",modifiers:[{arguments:null,id:24419,modifierName:{argumentTypes:null,id:24418,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:29683,src:"3523:9:125",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"3523:9:125"}],name:"removeRegisteredUpgrade",nodeType:"FunctionDefinition",parameters:{id:24417,nodeType:"ParameterList",parameters:[{constant:false,id:24416,name:"_upgradeHash",nodeType:"VariableDeclaration",scope:24441,src:"3470:20:125",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:24415,name:"bytes32",nodeType:"ElementaryTypeName",src:"3470:7:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"3460:37:125"},returnParameters:{id:24420,nodeType:"ParameterList",parameters:[],src:"3537:0:125"},scope:24461,src:"3428:444:125",stateMutability:"nonpayable",superFunction:null,visibility:"external"},{body:{id:24459,nodeType:"Block",src:"4204:293:125",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:24451,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:24449,name:"_timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24443,src:"4330:15:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,id:24450,name:"timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24329,src:"4348:14:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"4330:32:125",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54696d654c6f636b5570677261646556323a204e657720706572696f64206d7573742062652067726561746572207468616e206578697374696e67",id:24452,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"4376:61:125",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_146f6048453e5f6d46d175a3e8bab41117c5c39393941cd20e31021214beda19",typeString:'literal_string "TimeLockUpgradeV2: New period must be greater than existing"'},value:"TimeLockUpgradeV2: New period must be greater than existing"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_146f6048453e5f6d46d175a3e8bab41117c5c39393941cd20e31021214beda19",typeString:'literal_string "TimeLockUpgradeV2: New period must be greater than existing"'}],id:24448,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"4309:7:125",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:24453,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4309:138:125",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:24454,nodeType:"ExpressionStatement",src:"4309:138:125"},{expression:{argumentTypes:null,id:24457,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:24455,name:"timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24329,src:"4458:14:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:24456,name:"_timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24443,src:"4475:15:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"4458:32:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:24458,nodeType:"ExpressionStatement",src:"4458:32:125"}]},documentation:"Change timeLockPeriod period. Generally called after initially settings have been set up.\n     * @param  _timeLockPeriod   Time in seconds that upgrades need to be evaluated before execution",id:24460,implemented:true,kind:"function",modifiers:[{arguments:null,id:24446,modifierName:{argumentTypes:null,id:24445,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:29683,src:"4190:9:125",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"4190:9:125"}],name:"setTimeLockPeriod",nodeType:"FunctionDefinition",parameters:{id:24444,nodeType:"ParameterList",parameters:[{constant:false,id:24443,name:"_timeLockPeriod",nodeType:"VariableDeclaration",scope:24460,src:"4135:23:125",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:24442,name:"uint256",nodeType:"ElementaryTypeName",src:"4135:7:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"4125:39:125"},returnParameters:{id:24447,nodeType:"ParameterList",parameters:[],src:"4204:0:125"},scope:24461,src:"4099:398:125",stateMutability:"nonpayable",superFunction:null,visibility:"external"}],scope:24462,src:"1108:3391:125"}],src:"597:3903:125"},legacyAST:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/TimeLockUpgradeV2.sol",exportedSymbols:{TimeLockUpgradeV2:[24461]},id:24462,nodeType:"SourceUnit",nodes:[{id:24318,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:125"},{absolutePath:"openzeppelin-solidity/contracts/ownership/Ownable.sol",file:"openzeppelin-solidity/contracts/ownership/Ownable.sol",id:24320,nodeType:"ImportDirective",scope:24462,sourceUnit:29750,src:"621:80:125",symbolAliases:[{foreign:24319,local:null}],unitAlias:""},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:24322,nodeType:"ImportDirective",scope:24462,sourceUnit:29641,src:"702:77:125",symbolAliases:[{foreign:24321,local:null}],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:24323,name:"Ownable",nodeType:"UserDefinedTypeName",referencedDeclaration:29749,src:"1142:7:125",typeDescriptions:{typeIdentifier:"t_contract$_Ownable_$29749",typeString:"contract Ownable"}},id:24324,nodeType:"InheritanceSpecifier",src:"1142:7:125"}],contractDependencies:[29749],contractKind:"contract",documentation:"@title TimeLockUpgradeV2\n@author Set Protocol\n * The TimeLockUpgradeV2 contract contains a modifier for handling minimum time period updates\n * CHANGELOG:\n- Requires that the caller is the owner\n- New function to allow deletion of existing timelocks\n- Added upgradeData to UpgradeRegistered event",fullyImplemented:true,id:24461,linearizedBaseContracts:[24461,29749],name:"TimeLockUpgradeV2",nodeType:"ContractDefinition",nodes:[{id:24327,libraryName:{contractScope:null,id:24325,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:29640,src:"1162:8:125",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$29640",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"1156:27:125",typeName:{id:24326,name:"uint256",nodeType:"ElementaryTypeName",src:"1175:7:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{constant:false,id:24329,name:"timeLockPeriod",nodeType:"VariableDeclaration",scope:24461,src:"1284:29:125",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:24328,name:"uint256",nodeType:"ElementaryTypeName",src:"1284:7:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"public"},{constant:false,id:24333,name:"timeLockedUpgrades",nodeType:"VariableDeclaration",scope:24461,src:"1399:53:125",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"},typeName:{id:24332,keyType:{id:24330,name:"bytes32",nodeType:"ElementaryTypeName",src:"1407:7:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Mapping",src:"1399:27:125",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"},valueType:{id:24331,name:"uint256",nodeType:"ElementaryTypeName",src:"1418:7:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},value:null,visibility:"public"},{anonymous:false,documentation:null,id:24341,name:"UpgradeRegistered",nodeType:"EventDefinition",parameters:{id:24340,nodeType:"ParameterList",parameters:[{constant:false,id:24335,indexed:true,name:"_upgradeHash",nodeType:"VariableDeclaration",scope:24341,src:"1536:28:125",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:24334,name:"bytes32",nodeType:"ElementaryTypeName",src:"1536:7:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"},{constant:false,id:24337,indexed:false,name:"_timestamp",nodeType:"VariableDeclaration",scope:24341,src:"1574:18:125",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:24336,name:"uint256",nodeType:"ElementaryTypeName",src:"1574:7:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:24339,indexed:false,name:"_upgradeData",nodeType:"VariableDeclaration",scope:24341,src:"1602:18:125",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes"},typeName:{id:24338,name:"bytes",nodeType:"ElementaryTypeName",src:"1602:5:125",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"1526:100:125"},src:"1503:124:125"},{anonymous:false,documentation:null,id:24345,name:"RemoveRegisteredUpgrade",nodeType:"EventDefinition",parameters:{id:24344,nodeType:"ParameterList",parameters:[{constant:false,id:24343,indexed:true,name:"_upgradeHash",nodeType:"VariableDeclaration",scope:24345,src:"1672:28:125",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:24342,name:"bytes32",nodeType:"ElementaryTypeName",src:"1672:7:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"1662:44:125"},src:"1633:74:125"},{body:{id:24413,nodeType:"Block",src:"1787:1427:125",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:24348,name:"isOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:29694,src:"1818:7:125",typeDescriptions:{typeIdentifier:"t_function_internal_view$__$returns$_t_bool_$",typeString:"function () view returns (bool)"}},id:24349,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"1818:9:125",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54696d654c6f636b5570677261646556323a205468652063616c6c6572206d75737420626520746865206f776e6572",id:24350,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"1841:49:125",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_a7cf1bfbe11f47641c2dac030f17e89d9f6664eaa73e9ae90b4aae5f46eaf1ae",typeString:'literal_string "TimeLockUpgradeV2: The caller must be the owner"'},value:"TimeLockUpgradeV2: The caller must be the owner"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_a7cf1bfbe11f47641c2dac030f17e89d9f6664eaa73e9ae90b4aae5f46eaf1ae",typeString:'literal_string "TimeLockUpgradeV2: The caller must be the owner"'}],id:24347,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"1797:7:125",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:24351,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"1797:103:125",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:24352,nodeType:"ExpressionStatement",src:"1797:103:125"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:24355,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:24353,name:"timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24329,src:"2069:14:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:24354,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2086:1:125",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"2069:18:125",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:24411,nodeType:"IfStatement",src:"2065:1091:125",trueBody:{id:24410,nodeType:"Block",src:"2089:1067:125",statements:[{assignments:[24357],declarations:[{constant:false,id:24357,name:"upgradeHash",nodeType:"VariableDeclaration",scope:24410,src:"2278:19:125",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:24356,name:"bytes32",nodeType:"ElementaryTypeName",src:"2278:7:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],id:24365,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:24361,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"2365:3:125",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:24362,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"data",nodeType:"MemberAccess",referencedDeclaration:null,src:"2365:8:125",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}],expression:{argumentTypes:null,id:24359,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30363,src:"2327:3:125",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:24360,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"2327:16:125",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:24363,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2327:64:125",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:24358,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30370,src:"2300:9:125",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:24364,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2300:105:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"VariableDeclarationStatement",src:"2278:127:125"},{assignments:[24367],declarations:[{constant:false,id:24367,name:"registrationTime",nodeType:"VariableDeclaration",scope:24410,src:"2420:24:125",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:24366,name:"uint256",nodeType:"ElementaryTypeName",src:"2420:7:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:24371,initialValue:{argumentTypes:null,baseExpression:{argumentTypes:null,id:24368,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24333,src:"2447:18:125",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:24370,indexExpression:{argumentTypes:null,id:24369,name:"upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24357,src:"2466:11:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"2447:31:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"2420:58:125"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:24374,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:24372,name:"registrationTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24367,src:"2583:16:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:24373,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2603:1:125",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"2583:21:125",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:24392,nodeType:"IfStatement",src:"2579:293:125",trueBody:{id:24391,nodeType:"Block",src:"2606:266:125",statements:[{expression:{argumentTypes:null,id:24380,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:24375,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24333,src:"2624:18:125",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:24377,indexExpression:{argumentTypes:null,id:24376,name:"upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24357,src:"2643:11:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:true,nodeType:"IndexAccess",src:"2624:31:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:24378,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"2658:5:125",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:24379,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"2658:15:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2624:49:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:24381,nodeType:"ExpressionStatement",src:"2624:49:125"},{eventCall:{argumentTypes:null,
arguments:[{argumentTypes:null,id:24383,name:"upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24357,src:"2736:11:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,expression:{argumentTypes:null,id:24384,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"2769:5:125",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:24385,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"2769:15:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:24386,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"2806:3:125",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:24387,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"data",nodeType:"MemberAccess",referencedDeclaration:null,src:"2806:8:125",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}],id:24382,name:"UpgradeRegistered",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24341,src:"2697:17:125",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$",typeString:"function (bytes32,uint256,bytes memory)"}},id:24388,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2697:135:125",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:24389,nodeType:"EmitStatement",src:"2692:140:125"},{expression:null,functionReturnParameters:null,id:24390,nodeType:"Return",src:"2851:7:125"}]}},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:24400,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:24394,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"2911:5:125",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:24395,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"2911:15:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">=",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:24398,name:"timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24329,src:"2951:14:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:24396,name:"registrationTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24367,src:"2930:16:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:24397,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:29619,src:"2930:20:125",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:24399,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2930:36:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2911:55:125",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54696d654c6f636b5570677261646556323a2054696d65206c6f636b20706572696f64206d757374206861766520656c61707365642e",id:24401,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"2984:56:125",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_65c573895bc46e6760b220807491f24700562ffc41b2a549f73a050caa5c3e1e",typeString:'literal_string "TimeLockUpgradeV2: Time lock period must have elapsed."'},value:"TimeLockUpgradeV2: Time lock period must have elapsed."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_65c573895bc46e6760b220807491f24700562ffc41b2a549f73a050caa5c3e1e",typeString:'literal_string "TimeLockUpgradeV2: Time lock period must have elapsed."'}],id:24393,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"2886:7:125",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:24402,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2886:168:125",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:24403,nodeType:"ExpressionStatement",src:"2886:168:125"},{expression:{argumentTypes:null,id:24408,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:24404,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24333,src:"3109:18:125",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:24406,indexExpression:{argumentTypes:null,id:24405,name:"upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24357,src:"3128:11:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:true,nodeType:"IndexAccess",src:"3109:31:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,hexValue:"30",id:24407,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"3143:1:125",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"3109:35:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:24409,nodeType:"ExpressionStatement",src:"3109:35:125"}]}},{id:24412,nodeType:"PlaceholderStatement",src:"3206:1:125"}]},documentation:null,id:24414,name:"timeLockUpgrade",nodeType:"ModifierDefinition",parameters:{id:24346,nodeType:"ParameterList",parameters:[],src:"1784:2:125"},src:"1760:1454:125",visibility:"internal"},{body:{id:24440,nodeType:"Block",src:"3537:335:125",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:24426,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:24422,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24333,src:"3568:18:125",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:24424,indexExpression:{argumentTypes:null,id:24423,name:"_upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24416,src:"3587:12:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"3568:32:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,hexValue:"30",id:24425,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"3604:1:125",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"3568:37:125",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54696d654c6f636b5570677261646556322e72656d6f766552656769737465726564557067726164653a20557067726164652068617368206d7573742062652072656769737465726564",id:24427,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"3619:76:125",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_2bc75a00c5313f8e5686c8c1ed1213bc596e6197261ca680fdcfe96f41718d95",typeString:'literal_string "TimeLockUpgradeV2.removeRegisteredUpgrade: Upgrade hash must be registered"'},value:"TimeLockUpgradeV2.removeRegisteredUpgrade: Upgrade hash must be registered"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_2bc75a00c5313f8e5686c8c1ed1213bc596e6197261ca680fdcfe96f41718d95",typeString:'literal_string "TimeLockUpgradeV2.removeRegisteredUpgrade: Upgrade hash must be registered"'}],id:24421,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"3547:7:125",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:24428,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3547:158:125",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:24429,nodeType:"ExpressionStatement",src:"3547:158:125"},{expression:{argumentTypes:null,id:24434,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:24430,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24333,src:"3752:18:125",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:24432,indexExpression:{argumentTypes:null,id:24431,name:"_upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24416,src:"3771:12:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:true,nodeType:"IndexAccess",src:"3752:32:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,hexValue:"30",id:24433,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"3787:1:125",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"3752:36:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:24435,nodeType:"ExpressionStatement",src:"3752:36:125"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:24437,name:"_upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24416,src:"3841:12:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],id:24436,name:"RemoveRegisteredUpgrade",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24345,src:"3804:23:125",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$returns$__$",typeString:"function (bytes32)"}},id:24438,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3804:59:125",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:24439,nodeType:"EmitStatement",src:"3799:64:125"}]},documentation:"Removes an existing upgrade.\n     * @param  _upgradeHash    Keccack256 hash that uniquely identifies function called and arguments ",id:24441,implemented:true,kind:"function",modifiers:[{arguments:null,id:24419,modifierName:{argumentTypes:null,id:24418,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:29683,src:"3523:9:125",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"3523:9:125"}],name:"removeRegisteredUpgrade",nodeType:"FunctionDefinition",parameters:{id:24417,nodeType:"ParameterList",parameters:[{constant:false,id:24416,name:"_upgradeHash",nodeType:"VariableDeclaration",scope:24441,src:"3470:20:125",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:24415,name:"bytes32",nodeType:"ElementaryTypeName",src:"3470:7:125",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"3460:37:125"},returnParameters:{id:24420,nodeType:"ParameterList",parameters:[],src:"3537:0:125"},scope:24461,src:"3428:444:125",stateMutability:"nonpayable",superFunction:null,visibility:"external"},{body:{id:24459,nodeType:"Block",src:"4204:293:125",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:24451,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:24449,name:"_timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24443,src:"4330:15:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,id:24450,name:"timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24329,src:"4348:14:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"4330:32:125",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54696d654c6f636b5570677261646556323a204e657720706572696f64206d7573742062652067726561746572207468616e206578697374696e67",id:24452,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"4376:61:125",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_146f6048453e5f6d46d175a3e8bab41117c5c39393941cd20e31021214beda19",typeString:'literal_string "TimeLockUpgradeV2: New period must be greater than existing"'},value:"TimeLockUpgradeV2: New period must be greater than existing"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_146f6048453e5f6d46d175a3e8bab41117c5c39393941cd20e31021214beda19",typeString:'literal_string "TimeLockUpgradeV2: New period must be greater than existing"'}],id:24448,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"4309:7:125",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:24453,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4309:138:125",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:24454,nodeType:"ExpressionStatement",src:"4309:138:125"},{expression:{argumentTypes:null,id:24457,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:24455,name:"timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24329,src:"4458:14:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:24456,name:"_timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24443,src:"4475:15:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"4458:32:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:24458,nodeType:"ExpressionStatement",src:"4458:32:125"}]},documentation:"Change timeLockPeriod period. Generally called after initially settings have been set up.\n     * @param  _timeLockPeriod   Time in seconds that upgrades need to be evaluated before execution",id:24460,implemented:true,kind:"function",modifiers:[{arguments:null,id:24446,modifierName:{argumentTypes:null,id:24445,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:29683,src:"4190:9:125",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"4190:9:125"}],name:"setTimeLockPeriod",nodeType:"FunctionDefinition",parameters:{id:24444,nodeType:"ParameterList",parameters:[{constant:false,id:24443,name:"_timeLockPeriod",nodeType:"VariableDeclaration",scope:24460,src:"4135:23:125",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:24442,name:"uint256",nodeType:"ElementaryTypeName",src:"4135:7:125",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"4125:39:125"},returnParameters:{id:24447,nodeType:"ParameterList",parameters:[],src:"4204:0:125"},scope:24461,src:"4099:398:125",stateMutability:"nonpayable",superFunction:null,visibility:"external"}],scope:24462,src:"1108:3391:125"}],src:"597:3903:125"},compiler:{name:"solc",version:"0.5.7+commit.6da8b019.Linux.g++"},networks:{},schemaVersion:"3.0.23",updatedAt:"2020-04-07T04:29:24.776Z",devdoc:{author:"Set Protocol * The TimeLockUpgradeV2 contract contains a modifier for handling minimum time period updates * CHANGELOG: - Requires that the caller is the owner - New function to allow deletion of existing timelocks - Added upgradeData to UpgradeRegistered event",methods:{"isOwner()":{"return":"true if `msg.sender` is the owner of the contract."},"owner()":{"return":"the address of the owner."},"removeRegisteredUpgrade(bytes32)":{params:{_upgradeHash:"Keccack256 hash that uniquely identifies function called and arguments "}},"renounceOwnership()":{details:"Allows the current owner to relinquish control of the contract. It will not be possible to call the functions with the `onlyOwner` modifier anymore."},"setTimeLockPeriod(uint256)":{params:{_timeLockPeriod:"Time in seconds that upgrades need to be evaluated before execution"}},"transferOwnership(address)":{details:"Allows the current owner to transfer control of the contract to a newOwner.",params:{newOwner:"The address to transfer ownership to."}}},title:"TimeLockUpgradeV2"},userdoc:{methods:{"removeRegisteredUpgrade(bytes32)":{notice:"Removes an existing upgrade."},"renounceOwnership()":{notice:"Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner."},"setTimeLockPeriod(uint256)":{notice:"Change timeLockPeriod period. Generally called after initially settings have been set up."}}}};