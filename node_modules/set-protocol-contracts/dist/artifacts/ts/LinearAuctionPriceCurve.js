"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LinearAuctionPriceCurve={contractName:"LinearAuctionPriceCurve",abi:[{constant:true,inputs:[],name:"MAX_30_SECOND_PERIODS",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"MIN_PIVOT_PRICE_DIVISOR",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"MAX_PIVOT_PRICE_NUMERATOR",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"usesStartPrice",outputs:[{name:"",type:"bool"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"priceDivisor",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"THIRTY_SECONDS",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{inputs:[{name:"_priceDivisor",type:"uint256"},{name:"_usesStartPrice",type:"bool"}],payable:false,stateMutability:"nonpayable",type:"constructor"},{constant:true,inputs:[{components:[{name:"auctionStartTime",type:"uint256"},{name:"auctionTimeToPivot",type:"uint256"},{name:"auctionStartPrice",type:"uint256"},{name:"auctionPivotPrice",type:"uint256"}],name:"_auctionPriceParameters",type:"tuple"}],name:"validateAuctionPriceParameters",outputs:[],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[{components:[{name:"auctionStartTime",type:"uint256"},{name:"auctionTimeToPivot",type:"uint256"},{name:"auctionStartPrice",type:"uint256"},{name:"auctionPivotPrice",type:"uint256"}],name:"_auctionPriceParameters",type:"tuple"}],name:"getCurrentPrice",outputs:[{name:"",type:"uint256"},{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"}],metadata:'{"compiler":{"version":"0.5.7+commit.6da8b019"},"language":"Solidity","output":{"abi":[{"constant":true,"inputs":[],"name":"MAX_30_SECOND_PERIODS","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MIN_PIVOT_PRICE_DIVISOR","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MAX_PIVOT_PRICE_NUMERATOR","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"components":[{"name":"auctionStartTime","type":"uint256"},{"name":"auctionTimeToPivot","type":"uint256"},{"name":"auctionStartPrice","type":"uint256"},{"name":"auctionPivotPrice","type":"uint256"}],"name":"_auctionPriceParameters","type":"tuple"}],"name":"validateAuctionPriceParameters","outputs":[],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"usesStartPrice","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"priceDivisor","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"components":[{"name":"auctionStartTime","type":"uint256"},{"name":"auctionTimeToPivot","type":"uint256"},{"name":"auctionStartPrice","type":"uint256"},{"name":"auctionPivotPrice","type":"uint256"}],"name":"_auctionPriceParameters","type":"tuple"}],"name":"getCurrentPrice","outputs":[{"name":"","type":"uint256"},{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"THIRTY_SECONDS","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_priceDivisor","type":"uint256"},{"name":"_usesStartPrice","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"}],"devdoc":{"author":"Set Protocol * Contract used in rebalancing auctions to calculate price based off of a linear curve","methods":{},"title":"LinearAuctionPriceCurve"},"userdoc":{"methods":{}}},"settings":{"compilationTarget":{"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/auction-price-libraries/LinearAuctionPriceCurve.sol":"LinearAuctionPriceCurve"},"evmVersion":"byzantium","libraries":{},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/RebalancingLibrary.sol":{"keccak256":"0x7f9dd2f95b2ee71a98b94cb9b0df15874aa134e7480d04a1fcf36aff166a55f4","urls":["bzzr://f43a5563ec5df095151eee30cf7a0941b5a971917c27c7b34d9586b36563ab5b"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/auction-price-libraries/LinearAuctionPriceCurve.sol":{"keccak256":"0x5a4ea7b36cb74057bcafc22a12ece5baa5565d5e1954f251e8002581838b1f99","urls":["bzzr://7e72bb381c64c6ea57be7e20caeb30697ace50cb0c306aa0d0e1e36cea866cb0"]},"openzeppelin-solidity/contracts/math/SafeMath.sol":{"keccak256":"0xc2a200a877c4a9b2475c246c54ffecc69ffde3e11af83319c63c2dc5458bac80","urls":["bzzr://c8876e2c39b60f155d748d71d715c8f3903fae5a405ac599adcb6ad2f9a583f9"]}},"version":1}',bytecode:"0x608060405234801561001057600080fd5b506040516040806107d8833981018060405261002f919081019061006a565b6000919091556001805460ff19169115159190911790556100ac565b600061005782516100a4565b9392505050565b600061005782516100a9565b6000806040838503121561007d57600080fd5b6000610089858561005e565b925050602061009a8582860161004b565b9150509250929050565b151590565b90565b61071d806100bb6000396000f3fe608060405234801561001057600080fd5b50600436106100a4576000357c0100000000000000000000000000000000000000000000000000000000900480638d383a6e116100785780638d383a6e146100e4578063d690a8c3146100f9578063e0fd5a7f14610101578063f1edf53714610122576100a4565b806279bd17146100a957806312af441c146100c7578063440b0e68146100c75780636a370ca8146100cf575b600080fd5b6100b161012a565b6040516100be9190610682565b60405180910390f35b6100b1610130565b6100e26100dd366004610477565b610135565b005b6100ec610222565b6040516100be9190610644565b6100b161022b565b61011461010f366004610477565b610231565b6040516100be929190610690565b6100b161037e565b6103e881565b600581565b806040015181606001511161017f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161017690610672565b60405180910390fd5b60005461019390600563ffffffff61038316565b8160600151116101cf576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161017690610662565b6000546101e390600563ffffffff6103a716565b81606001511061021f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161017690610652565b50565b60015460ff1681565b60005481565b600080600061024d8460000151426103d590919063ffffffff16565b606085015160008054600154939450919260ff161561026d575060408601515b866020015184116102d1576060870151600090610290908363ffffffff6103d516565b90506102c96102bc89602001516102b084896103a790919063ffffffff16565b9063ffffffff61038316565b839063ffffffff6103ea16565b935050610372565b60006102ef601e6102b08a60200151886103d590919063ffffffff16565b90506103e881101561032f576103286103196103e86102b0600054856103a790919063ffffffff16565b6000549063ffffffff6103d516565b9250610370565b6001925061036d61035c61034b836103e863ffffffff6103d516565b60608b01519063ffffffff6103a716565b60608a01519063ffffffff6103ea16565b93505b505b50909350915050915091565b601e81565b600080821161039157600080fd5b600082848161039c57fe5b049150505b92915050565b6000826103b6575060006103a1565b828202828482816103c357fe5b04146103ce57600080fd5b9392505050565b6000828211156103e457600080fd5b50900390565b6000828201838110156103ce57600080fd5b60006080828403121561040e57600080fd5b61041860806106ab565b90506000610426848461046b565b82525060206104378484830161046b565b602083015250604061044b8482850161046b565b604083015250606061045f8482850161046b565b60608301525092915050565b60006103ce82356106e0565b60006080828403121561048957600080fd5b600061049584846103fc565b949350505050565b6104a6816106db565b82525050565b60006104b9604c836106d2565b7f4c696e65617241756374696f6e507269636543757276652e76616c696461746581527f41756374696f6e5072696365506172616d65746572733a205069766f7420707260208201527f69636520746f6f20686967680000000000000000000000000000000000000000604082015260600192915050565b600061053e604b836106d2565b7f4c696e65617241756374696f6e507269636543757276652e76616c696461746581527f41756374696f6e5072696365506172616d65746572733a205069766f7420707260208201527f69636520746f6f206c6f77000000000000000000000000000000000000000000604082015260600192915050565b60006105c3605c836106d2565b7f4c696e65617241756374696f6e507269636543757276652e76616c696461746581527f41756374696f6e5072696365506172616d65746572733a20537461727420707260208201527f6963652067726561746572207468616e207069766f7420707269636500000000604082015260600192915050565b6104a6816106e0565b602081016103a1828461049d565b602080825281016103a1816104ac565b602080825281016103a181610531565b602080825281016103a1816105b6565b602081016103a1828461063b565b6040810161069e828561063b565b6103ce602083018461063b565b60405181810167ffffffffffffffff811182821017156106ca57600080fd5b604052919050565b90815260200190565b151590565b9056fea265627a7a72305820026533c28f63e9d34d1b711fdad4fde738638f9041920d7af2b9cd02f71130836c6578706572696d656e74616cf50037",deployedBytecode:"0x608060405234801561001057600080fd5b50600436106100a4576000357c0100000000000000000000000000000000000000000000000000000000900480638d383a6e116100785780638d383a6e146100e4578063d690a8c3146100f9578063e0fd5a7f14610101578063f1edf53714610122576100a4565b806279bd17146100a957806312af441c146100c7578063440b0e68146100c75780636a370ca8146100cf575b600080fd5b6100b161012a565b6040516100be9190610682565b60405180910390f35b6100b1610130565b6100e26100dd366004610477565b610135565b005b6100ec610222565b6040516100be9190610644565b6100b161022b565b61011461010f366004610477565b610231565b6040516100be929190610690565b6100b161037e565b6103e881565b600581565b806040015181606001511161017f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161017690610672565b60405180910390fd5b60005461019390600563ffffffff61038316565b8160600151116101cf576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161017690610662565b6000546101e390600563ffffffff6103a716565b81606001511061021f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161017690610652565b50565b60015460ff1681565b60005481565b600080600061024d8460000151426103d590919063ffffffff16565b606085015160008054600154939450919260ff161561026d575060408601515b866020015184116102d1576060870151600090610290908363ffffffff6103d516565b90506102c96102bc89602001516102b084896103a790919063ffffffff16565b9063ffffffff61038316565b839063ffffffff6103ea16565b935050610372565b60006102ef601e6102b08a60200151886103d590919063ffffffff16565b90506103e881101561032f576103286103196103e86102b0600054856103a790919063ffffffff16565b6000549063ffffffff6103d516565b9250610370565b6001925061036d61035c61034b836103e863ffffffff6103d516565b60608b01519063ffffffff6103a716565b60608a01519063ffffffff6103ea16565b93505b505b50909350915050915091565b601e81565b600080821161039157600080fd5b600082848161039c57fe5b049150505b92915050565b6000826103b6575060006103a1565b828202828482816103c357fe5b04146103ce57600080fd5b9392505050565b6000828211156103e457600080fd5b50900390565b6000828201838110156103ce57600080fd5b60006080828403121561040e57600080fd5b61041860806106ab565b90506000610426848461046b565b82525060206104378484830161046b565b602083015250604061044b8482850161046b565b604083015250606061045f8482850161046b565b60608301525092915050565b60006103ce82356106e0565b60006080828403121561048957600080fd5b600061049584846103fc565b949350505050565b6104a6816106db565b82525050565b60006104b9604c836106d2565b7f4c696e65617241756374696f6e507269636543757276652e76616c696461746581527f41756374696f6e5072696365506172616d65746572733a205069766f7420707260208201527f69636520746f6f20686967680000000000000000000000000000000000000000604082015260600192915050565b600061053e604b836106d2565b7f4c696e65617241756374696f6e507269636543757276652e76616c696461746581527f41756374696f6e5072696365506172616d65746572733a205069766f7420707260208201527f69636520746f6f206c6f77000000000000000000000000000000000000000000604082015260600192915050565b60006105c3605c836106d2565b7f4c696e65617241756374696f6e507269636543757276652e76616c696461746581527f41756374696f6e5072696365506172616d65746572733a20537461727420707260208201527f6963652067726561746572207468616e207069766f7420707269636500000000604082015260600192915050565b6104a6816106e0565b602081016103a1828461049d565b602080825281016103a1816104ac565b602080825281016103a181610531565b602080825281016103a1816105b6565b602081016103a1828461063b565b6040810161069e828561063b565b6103ce602083018461063b565b60405181810167ffffffffffffffff811182821017156106ca57600080fd5b604052919050565b90815260200190565b151590565b9056fea265627a7a72305820026533c28f63e9d34d1b711fdad4fde738638f9041920d7af2b9cd02f71130836c6578706572696d656e74616cf50037",sourceMap:"958:7723:47:-;;;1676:232;8:9:-1;5:2;;;30:1;27;20:12;5:2;1676:232:47;;;;;;;;;;;;;;;;;;;;;;1831:12;:28;;;;1869:14;:32;;-1:-1:-1;;1869:32:47;;;;;;;;;;958:7723;;5:116:-1;;80:36;108:6;102:13;80:36;;;71:45;65:56;-1:-1;;;65:56;128:122;;206:39;237:6;231:13;206:39;;257:393;;;386:2;374:9;365:7;361:23;357:32;354:2;;;402:1;399;392:12;354:2;437:1;454:64;510:7;490:9;454:64;;;444:74;;416:108;555:2;573:61;626:7;617:6;606:9;602:22;573:61;;;563:71;;534:106;348:302;;;;;;657:92;730:13;723:21;;706:43;756:79;825:5;808:27;;958:7723:47;;;;;;",deployedSourceMap:"958:7723:47:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;958:7723:47;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1146:52;;;:::i;:::-;;;;;;;;;;;;;;;;1030:51;;;:::i;2107:1151::-;;;;;;;;;:::i;:::-;;1287:26;;;:::i;:::-;;;;;;;;1254:27;;;:::i;3617:5062::-;;;;;;;;;:::i;:::-;;;;;;;;;1204:43;;;:::i;1146:52::-;1194:4;1146:52;:::o;1030:51::-;1080:1;1030:51;:::o;2107:1151::-;2422:23;:41;;;2378:23;:41;;;:85;2357:224;;;;;;;;;;;;;;;;;;;;;;2776:12;;:41;;1080:1;2776:41;:16;:41;:::i;:::-;2732:23;:41;;;:85;2711:207;;;;;;;;;;;;;;3106:12;;:43;;1139:1;3106:43;:16;:43;:::i;:::-;3062:23;:41;;;:87;3041:210;;;;;;;;;;;;;;2107:1151;:::o;1287:26::-;;;;;;:::o;1254:27::-;;;;:::o;3617:5062::-;3775:7;3784;3877:15;3895:61;3915:23;:40;;;3895:15;:19;;:61;;;;:::i;:::-;4040:41;;;;4015:22;4121:12;;4268:14;;3877:79;;-1:-1:-1;4040:41:47;;4268:14;;4264:106;;;-1:-1:-1;4318:41:47;;;;4264:106;6872:23;:42;;;6861:7;:53;6857:1761;;7100:41;;;;7068:29;;7100:64;;7146:17;7100:64;:45;:64;:::i;:::-;7068:96;;7195:135;7234:82;7273:23;:42;;;7234:34;7246:21;7234:7;:11;;:34;;;;:::i;:::-;:38;:82;:38;:82;:::i;:::-;7195:17;;:135;:21;:135;:::i;:::-;7178:152;;6857:1761;;;;7452:27;7482:109;1245:2;7482:72;7511:23;:42;;;7482:7;:28;;:72;;;;:::i;:109::-;7452:139;;1194:4;7708:19;:43;7704:904;;;7975:174;8013:114;1194:4;8013:62;8062:12;;8013:19;:48;;:62;;;;:::i;:114::-;7975:12;;;:174;:37;:174;:::i;:::-;7953:196;;7704:904;;;8277:1;;-1:-1:-1;8415:178:47;8482:93;8528:46;:19;1194:4;8528:46;:23;:46;:::i;:::-;8482:41;;;;;:93;:45;:93;:::i;:::-;8415:41;;;;;:178;:45;:178;:::i;:::-;8398:195;;7704:904;6857:1761;;-1:-1:-1;8636:14:47;;-1:-1:-1;8652:19:47;-1:-1:-1;;3617:5062:47;;;:::o;1204:43::-;1245:2;1204:43;:::o;782:296:174:-;840:7;937:1;933;:5;925:14;;;;;;949:9;965:1;961;:5;;;;;;;-1:-1:-1;;782:296:174;;;;;:::o;231:421::-;289:7;529:6;525:45;;-1:-1:-1;558:1:174;551:8;;525:45;592:5;;;596:1;592;:5;:1;615:5;;;;;:10;607:19;;;;;;644:1;231:421;-1:-1:-1;;;231:421:174:o;1211:145::-;1269:7;1301:1;1296;:6;;1288:15;;;;;;-1:-1:-1;1325:5:174;;;1211:145::o;1439:::-;1497:7;1528:5;;;1551:6;;;;1543:15;;;;;60:821:-1;;189:4;177:9;172:3;168:19;164:30;161:2;;;207:1;204;197:12;161:2;225:20;240:4;225:20;;;216:29;-1:-1;307:1;338:49;383:3;363:9;338:49;;;314:74;;-1:-1;463:2;496:49;541:3;517:22;;;496:49;;;489:4;482:5;478:16;471:75;409:148;620:2;653:49;698:3;689:6;678:9;674:22;653:49;;;646:4;639:5;635:16;628:75;567:147;777:2;810:49;855:3;846:6;835:9;831:22;810:49;;;803:4;796:5;792:16;785:75;724:147;155:726;;;;;888:118;;955:46;993:6;980:20;955:46;;1013:322;;1157:3;1145:9;1136:7;1132:23;1128:33;1125:2;;;1174:1;1171;1164:12;1125:2;1209:1;1226:93;1311:7;1291:9;1226:93;;;1216:103;1119:216;-1:-1;;;;1119:216;1342:111;1419:28;1441:5;1419:28;;;1414:3;1407:41;1401:52;;;1461:566;;1621:67;1685:2;1680:3;1621:67;;;1721:66;1701:87;;1822:66;1817:2;1808:12;;1801:88;1923:66;1918:2;1909:12;;1902:88;2018:2;2009:12;;1607:420;-1:-1;;1607:420;2036:566;;2196:67;2260:2;2255:3;2196:67;;;2296:66;2276:87;;2397:66;2392:2;2383:12;;2376:88;2498:66;2493:2;2484:12;;2477:88;2593:2;2584:12;;2182:420;-1:-1;;2182:420;2611:566;;2771:67;2835:2;2830:3;2771:67;;;2871:66;2851:87;;2972:66;2967:2;2958:12;;2951:88;3073:66;3068:2;3059:12;;3052:88;3168:2;3159:12;;2757:420;-1:-1;;2757:420;3185:120;3268:31;3293:5;3268:31;;3312:201;3424:2;3409:18;;3438:65;3413:9;3476:6;3438:65;;3520:407;3711:2;3725:47;;;3696:18;;3786:131;3696:18;3786:131;;3934:407;4125:2;4139:47;;;4110:18;;4200:131;4110:18;4200:131;;4348:407;4539:2;4553:47;;;4524:18;;4614:131;4524:18;4614:131;;4762:213;4880:2;4865:18;;4894:71;4869:9;4938:6;4894:71;;4982:324;5128:2;5113:18;;5142:71;5117:9;5186:6;5142:71;;;5224:72;5292:2;5281:9;5277:18;5268:6;5224:72;;5313:256;5375:2;5369:9;5401:17;;;5476:18;5461:34;;5497:22;;;5458:62;5455:2;;;5533:1;5530;5523:12;5455:2;5549;5542:22;5353:216;;-1:-1;5353:216;5577:163;5680:19;;;5729:4;5720:14;;5673:67;5748:92;5821:13;5814:21;;5797:43;5847:79;5916:5;5899:27",source:'/*\n    Copyright 2018 Set Labs Inc.\n\n    Licensed under the Apache License, Version 2.0 (the "License");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an "AS IS" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n*/\n\npragma solidity 0.5.7;\npragma experimental "ABIEncoderV2";\n\nimport { SafeMath } from "openzeppelin-solidity/contracts/math/SafeMath.sol";\nimport { RebalancingLibrary } from "../RebalancingLibrary.sol";\n\n\n/**\n * @title LinearAuctionPriceCurve\n * @author Set Protocol\n *\n * Contract used in rebalancing auctions to calculate price based off of a linear curve\n */\ncontract LinearAuctionPriceCurve {\n    using SafeMath for uint256;\n\n    uint256 constant public MIN_PIVOT_PRICE_DIVISOR = 5;\n    uint256 constant public MAX_PIVOT_PRICE_NUMERATOR = 5;\n    uint256 constant public MAX_30_SECOND_PERIODS = 1000;\n    uint256 constant public THIRTY_SECONDS = 30;\n\n    uint256 public priceDivisor;\n    bool public usesStartPrice;\n\n    /*\n     * Declare price denominator (or precision) of price curve\n     *\n     * @param  _priceDivisor            The priceDivisor you want this library to always return\n     * @param  _usesStartPrice          Boolean indicating if provided auctionStartPrice is used (true) or\n     *                                  auction starts at 0 (false)\n     */\n    constructor(\n        uint256 _priceDivisor,\n        bool _usesStartPrice\n    )\n        public\n    {\n        // Set price to be returned by library\n        priceDivisor = _priceDivisor;\n        usesStartPrice = _usesStartPrice;\n    }\n\n    /*\n     * Validate any auction parameters that have library-specific restrictions\n     *\n     * @param _auctionPriceParameters   Struct containing relevant auction price parameters\n     */\n    function validateAuctionPriceParameters(\n        RebalancingLibrary.AuctionPriceParameters memory _auctionPriceParameters\n    )\n        public\n        view\n    {\n        // Require that auction pivot price is greater than auction start price\n        require(\n            _auctionPriceParameters.auctionPivotPrice > _auctionPriceParameters.auctionStartPrice,\n            "LinearAuctionPriceCurve.validateAuctionPriceParameters: Start price greater than pivot price"\n        );\n\n        // Require pivot price to be greater than 0.5 * price denominator\n        // Equivalent to oldSet/newSet = 0.5\n        require(\n            _auctionPriceParameters.auctionPivotPrice > priceDivisor.div(MIN_PIVOT_PRICE_DIVISOR),\n            "LinearAuctionPriceCurve.validateAuctionPriceParameters: Pivot price too low"\n        );\n         // Require pivot price to be less than 5 * price denominator\n        // Equivalent to oldSet/newSet = 5\n        require(\n            _auctionPriceParameters.auctionPivotPrice < priceDivisor.mul(MAX_PIVOT_PRICE_NUMERATOR),\n            "LinearAuctionPriceCurve.validateAuctionPriceParameters: Pivot price too high"\n        );\n    }\n\n    /*\n     * Calculate the current priceRatio for an auction given defined price and time parameters\n     *\n     * @param _auctionPriceParameters     Struct containing relevant auction price parameters\n     * @return uint256                    The auction price numerator\n     * @return uint256                    The auction price denominator\n     */\n    function getCurrentPrice(\n        RebalancingLibrary.AuctionPriceParameters memory _auctionPriceParameters\n    )\n        public\n        view\n        returns (uint256, uint256)\n    {\n        // Calculate how much time has elapsed since start of auction\n        uint256 elapsed = block.timestamp.sub(_auctionPriceParameters.auctionStartTime);\n\n        // Initialize numerator and denominator\n        uint256 priceNumerator = _auctionPriceParameters.auctionPivotPrice;\n        uint256 currentPriceDivisor = priceDivisor;\n\n        // Determine the auctionStartPrice based on if it should be self-defined\n        uint256 auctionStartPrice = 0;\n        if (usesStartPrice) {\n            auctionStartPrice = _auctionPriceParameters.auctionStartPrice;\n        }\n\n        /*\n         * This price curve can be broken down into three stages, 1) set up to allow a portion where managers\n         * have control over the cadence of the auction, and then two more stages that are used to enforce finality\n         * to the auction. The auction price, p(x), is defined by:\n         *\n         * p(x) = (priceNumerator/priceDivisor\n         *\n         * In each stage either the priceNumerator or priceDivisor is manipulated to change p(x).The curve shape\n         * in each stage is defined below.\n         *\n         * 1) Managers have the greatest control over stage 1. Here they define a linear curve that starts at zero\n         * and terminates at the passed pivot price. The length of time it takes for the auction to reach the pivot\n         * price is defined by the manager too, thus resulting in the following equation for the slope of the line:\n         *\n         * PriceNumerator(x) = auctionStartPrice + (auctionPivotPrice-auctionStartPrice)*(x/auctionTimeToPivot),\n         * where x is amount of time from auction start\n         *\n         * 2) Stage 2 the protocol takes over to attempt to hasten/guarantee finality, this unfortunately decreases\n         * the granularity of the auction price changes. In this stage the PriceNumerator remains fixed at the\n         * auctionPivotPrice. However, the priceDivisor decays at a rate equivalent to 0.1% of the ORIGINAL\n         * priceDivisor every 30 secs. This leads to the following function relative to time:\n         *\n         * PriceDenominator(x) = priceDivisor-(0.01*priceDivisor*((x-auctionTimeToPivot)/30)), where x is amount\n         * of time from auction start.\n         *\n         * Since we are decaying the denominator the price curve takes on the shape of e^x. Because of the limitations\n         * of integer math the denominator can only be decayed to 1. Hence in order to maintain simplicity in calculations\n         * there is a third segment defined below.\n         *\n         * 3) The third segment is a simple linear calculation that changes the priceNumerator at the rate of the pivot\n         * price every 30 seconds and fixes the priceDivisor at 1:\n         *\n         * PriceNumerator(x) = auctionPivotPrice + auctionPivotPrice*(x-auctionTimeToPivot-30000), where x is amount of\n         * time from auction start and 30000 represents the amount of time spent in Stage 2\n         */\n\n        // If time hasn\'t passed to pivot use the user-defined curve\n        if (elapsed <= _auctionPriceParameters.auctionTimeToPivot) {\n            // Calculate the priceNumerator as a linear function of time between _auctionStartPrice and\n            // _auctionPivotPrice\n            uint256 linearPriceDifference = _auctionPriceParameters.auctionPivotPrice.sub(auctionStartPrice);\n            priceNumerator = auctionStartPrice.add(\n                elapsed.mul(linearPriceDifference).div(_auctionPriceParameters.auctionTimeToPivot)\n            );\n        } else {\n            // Calculate how many 30 second increments have passed since pivot was reached\n            uint256 thirtySecondPeriods = elapsed\n                .sub(_auctionPriceParameters.auctionTimeToPivot)\n                .div(THIRTY_SECONDS);\n\n            // Because after 1000 thirtySecondPeriods the priceDivisor would be 0 (causes revert)\n            if (thirtySecondPeriods < MAX_30_SECOND_PERIODS) {\n                // Calculate new denominator where the denominator decays at a rate of 0.1% of the ORIGINAL\n                // priceDivisor per time increment (hence divide by 1000)\n                currentPriceDivisor = priceDivisor\n                    .sub(thirtySecondPeriods\n                        .mul(priceDivisor)\n                        .div(MAX_30_SECOND_PERIODS)\n                    );\n            } else {\n                // Once denominator has fully decayed, fix it at 1\n                currentPriceDivisor = 1;\n\n                // Now priceNumerator just changes linearly, but with slope equal to the pivot price\n                priceNumerator = _auctionPriceParameters.auctionPivotPrice.add(\n                    _auctionPriceParameters.auctionPivotPrice.mul(thirtySecondPeriods.sub(MAX_30_SECOND_PERIODS))\n                );\n            }\n        }\n\n        return (priceNumerator, currentPriceDivisor);\n    }\n}\n',sourcePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/auction-price-libraries/LinearAuctionPriceCurve.sol",ast:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/auction-price-libraries/LinearAuctionPriceCurve.sol",exportedSymbols:{LinearAuctionPriceCurve:[7068]},id:7069,nodeType:"SourceUnit",nodes:[{id:6868,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:47"},{id:6869,literals:["experimental","ABIEncoderV2"],nodeType:"PragmaDirective",src:"620:35:47"},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:6871,nodeType:"ImportDirective",scope:7069,sourceUnit:29641,src:"657:77:47",symbolAliases:[{foreign:6870,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/RebalancingLibrary.sol",file:"../RebalancingLibrary.sol",id:6873,nodeType:"ImportDirective",scope:7069,sourceUnit:6658,src:"735:63:47",symbolAliases:[{foreign:6872,local:null}],unitAlias:""},{baseContracts:[],contractDependencies:[],contractKind:"contract",documentation:"@title LinearAuctionPriceCurve\n@author Set Protocol\n * Contract used in rebalancing auctions to calculate price based off of a linear curve",fullyImplemented:true,id:7068,linearizedBaseContracts:[7068],name:"LinearAuctionPriceCurve",nodeType:"ContractDefinition",nodes:[{id:6876,libraryName:{contractScope:null,id:6874,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:29640,src:"1003:8:47",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$29640",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"997:27:47",typeName:{id:6875,name:"uint256",nodeType:"ElementaryTypeName",src:"1016:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{constant:true,id:6879,name:"MIN_PIVOT_PRICE_DIVISOR",nodeType:"VariableDeclaration",scope:7068,src:"1030:51:47",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6877,name:"uint256",nodeType:"ElementaryTypeName",src:"1030:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"35",id:6878,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"1080:1:47",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_5_by_1",typeString:"int_const 5"},value:"5"},visibility:"public"},{constant:true,id:6882,name:"MAX_PIVOT_PRICE_NUMERATOR",nodeType:"VariableDeclaration",scope:7068,src:"1087:53:47",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6880,name:"uint256",nodeType:"ElementaryTypeName",src:"1087:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"35",id:6881,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"1139:1:47",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_5_by_1",typeString:"int_const 5"},value:"5"},visibility:"public"},{constant:true,id:6885,name:"MAX_30_SECOND_PERIODS",nodeType:"VariableDeclaration",scope:7068,src:"1146:52:47",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6883,name:"uint256",nodeType:"ElementaryTypeName",src:"1146:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"31303030",id:6884,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"1194:4:47",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1000_by_1",typeString:"int_const 1000"},value:"1000"},visibility:"public"},{constant:true,id:6888,name:"THIRTY_SECONDS",nodeType:"VariableDeclaration",scope:7068,src:"1204:43:47",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6886,name:"uint256",nodeType:"ElementaryTypeName",src:"1204:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"3330",id:6887,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"1245:2:47",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_30_by_1",typeString:"int_const 30"},value:"30"},visibility:"public"},{constant:false,id:6890,name:"priceDivisor",nodeType:"VariableDeclaration",scope:7068,src:"1254:27:47",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6889,name:"uint256",nodeType:"ElementaryTypeName",src:"1254:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"public"},{constant:false,id:6892,name:"usesStartPrice",nodeType:"VariableDeclaration",scope:7068,src:"1287:26:47",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:6891,name:"bool",nodeType:"ElementaryTypeName",src:"1287:4:47",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"public"},{body:{id:6907,nodeType:"Block",src:"1774:134:47",statements:[{expression:{argumentTypes:null,id:6901,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:6899,name:"priceDivisor",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6890,src:"1831:12:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,
id:6900,name:"_priceDivisor",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6894,src:"1846:13:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"1831:28:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6902,nodeType:"ExpressionStatement",src:"1831:28:47"},{expression:{argumentTypes:null,id:6905,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:6903,name:"usesStartPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6892,src:"1869:14:47",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:6904,name:"_usesStartPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6896,src:"1886:15:47",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"1869:32:47",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:6906,nodeType:"ExpressionStatement",src:"1869:32:47"}]},documentation:null,id:6908,implemented:true,kind:"constructor",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:6897,nodeType:"ParameterList",parameters:[{constant:false,id:6894,name:"_priceDivisor",nodeType:"VariableDeclaration",scope:6908,src:"1697:21:47",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6893,name:"uint256",nodeType:"ElementaryTypeName",src:"1697:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:6896,name:"_usesStartPrice",nodeType:"VariableDeclaration",scope:6908,src:"1728:20:47",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:6895,name:"bool",nodeType:"ElementaryTypeName",src:"1728:4:47",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"1687:67:47"},returnParameters:{id:6898,nodeType:"ParameterList",parameters:[],src:"1774:0:47"},scope:7068,src:"1676:232:47",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:6944,nodeType:"Block",src:"2267:991:47",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:6918,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:6914,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6910,src:"2378:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:6915,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionPivotPrice",nodeType:"MemberAccess",referencedDeclaration:6641,src:"2378:41:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:6916,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6910,src:"2422:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:6917,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionStartPrice",nodeType:"MemberAccess",referencedDeclaration:6639,src:"2422:41:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2378:85:47",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"4c696e65617241756374696f6e507269636543757276652e76616c696461746541756374696f6e5072696365506172616d65746572733a2053746172742070726963652067726561746572207468616e207069766f74207072696365",id:6919,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"2477:94:47",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_f9e352fcfa892c562fa030df5642e843fb0a0a48c4b0989dc88b17aea60e5df7",typeString:'literal_string "LinearAuctionPriceCurve.validateAuctionPriceParameters: Start price greater than pivot price"'},value:"LinearAuctionPriceCurve.validateAuctionPriceParameters: Start price greater than pivot price"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_f9e352fcfa892c562fa030df5642e843fb0a0a48c4b0989dc88b17aea60e5df7",typeString:'literal_string "LinearAuctionPriceCurve.validateAuctionPriceParameters: Start price greater than pivot price"'}],id:6913,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"2357:7:47",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:6920,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2357:224:47",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:6921,nodeType:"ExpressionStatement",src:"2357:224:47"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:6929,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:6923,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6910,src:"2732:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:6924,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionPivotPrice",nodeType:"MemberAccess",referencedDeclaration:6641,src:"2732:41:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:6927,name:"MIN_PIVOT_PRICE_DIVISOR",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6879,src:"2793:23:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:6925,name:"priceDivisor",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6890,src:"2776:12:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6926,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"2776:16:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:6928,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2776:41:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2732:85:47",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"4c696e65617241756374696f6e507269636543757276652e76616c696461746541756374696f6e5072696365506172616d65746572733a205069766f7420707269636520746f6f206c6f77",id:6930,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"2831:77:47",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_f2c9d069d634ed6e6fce24a6b913696df1131a06ed7627f684da8d5f5b22e72e",typeString:'literal_string "LinearAuctionPriceCurve.validateAuctionPriceParameters: Pivot price too low"'},value:"LinearAuctionPriceCurve.validateAuctionPriceParameters: Pivot price too low"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_f2c9d069d634ed6e6fce24a6b913696df1131a06ed7627f684da8d5f5b22e72e",typeString:'literal_string "LinearAuctionPriceCurve.validateAuctionPriceParameters: Pivot price too low"'}],id:6922,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"2711:7:47",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:6931,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2711:207:47",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:6932,nodeType:"ExpressionStatement",src:"2711:207:47"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:6940,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:6934,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6910,src:"3062:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:6935,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionPivotPrice",nodeType:"MemberAccess",referencedDeclaration:6641,src:"3062:41:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:6938,name:"MAX_PIVOT_PRICE_NUMERATOR",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6882,src:"3123:25:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:6936,name:"priceDivisor",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6890,src:"3106:12:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6937,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"3106:16:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:6939,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3106:43:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"3062:87:47",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"4c696e65617241756374696f6e507269636543757276652e76616c696461746541756374696f6e5072696365506172616d65746572733a205069766f7420707269636520746f6f2068696768",id:6941,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"3163:78:47",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_27734529c1445039908dc460d38516f1aa95384debb7e98cf18fc3960ea55b31",typeString:'literal_string "LinearAuctionPriceCurve.validateAuctionPriceParameters: Pivot price too high"'},value:"LinearAuctionPriceCurve.validateAuctionPriceParameters: Pivot price too high"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_27734529c1445039908dc460d38516f1aa95384debb7e98cf18fc3960ea55b31",typeString:'literal_string "LinearAuctionPriceCurve.validateAuctionPriceParameters: Pivot price too high"'}],id:6933,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"3041:7:47",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:6942,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3041:210:47",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:6943,nodeType:"ExpressionStatement",src:"3041:210:47"}]},documentation:null,id:6945,implemented:true,kind:"function",modifiers:[],name:"validateAuctionPriceParameters",nodeType:"FunctionDefinition",parameters:{id:6911,nodeType:"ParameterList",parameters:[{constant:false,id:6910,name:"_auctionPriceParameters",nodeType:"VariableDeclaration",scope:6945,src:"2156:72:47",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters"},typeName:{contractScope:null,id:6909,name:"RebalancingLibrary.AuctionPriceParameters",nodeType:"UserDefinedTypeName",referencedDeclaration:6642,src:"2156:41:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_storage_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters"}},value:null,visibility:"internal"}],src:"2146:88:47"},returnParameters:{id:6912,nodeType:"ParameterList",parameters:[],src:"2267:0:47"},scope:7068,src:"2107:1151:47",stateMutability:"view",superFunction:null,visibility:"public"},{body:{id:7066,nodeType:"Block",src:"3797:4882:47",statements:[{assignments:[6955],declarations:[{constant:false,id:6955,name:"elapsed",nodeType:"VariableDeclaration",scope:7066,src:"3877:15:47",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6954,name:"uint256",nodeType:"ElementaryTypeName",src:"3877:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:6962,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:6959,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6947,src:"3915:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:6960,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionStartTime",nodeType:"MemberAccess",referencedDeclaration:6635,src:"3915:40:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:6956,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"3895:5:47",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:6957,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"3895:15:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6958,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"3895:19:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:6961,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3895:61:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"3877:79:47"},{assignments:[6964],declarations:[{constant:false,id:6964,name:"priceNumerator",nodeType:"VariableDeclaration",scope:7066,src:"4015:22:47",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6963,name:"uint256",nodeType:"ElementaryTypeName",src:"4015:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:6967,initialValue:{argumentTypes:null,expression:{argumentTypes:null,id:6965,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6947,src:"4040:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:6966,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionPivotPrice",nodeType:"MemberAccess",referencedDeclaration:6641,src:"4040:41:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"4015:66:47"},{assignments:[6969],declarations:[{constant:false,id:6969,name:"currentPriceDivisor",nodeType:"VariableDeclaration",scope:7066,src:"4091:27:47",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6968,name:"uint256",nodeType:"ElementaryTypeName",src:"4091:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:6971,initialValue:{argumentTypes:null,id:6970,name:"priceDivisor",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6890,src:"4121:12:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"4091:42:47"},{assignments:[6973],declarations:[{constant:false,id:6973,name:"auctionStartPrice",nodeType:"VariableDeclaration",scope:7066,src:"4225:25:47",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6972,name:"uint256",nodeType:"ElementaryTypeName",src:"4225:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:6975,initialValue:{argumentTypes:null,hexValue:"30",id:6974,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"4253:1:47",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"4225:29:47"},{condition:{argumentTypes:null,id:6976,name:"usesStartPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6892,src:"4268:14:47",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:6983,nodeType:"IfStatement",src:"4264:106:47",trueBody:{id:6982,nodeType:"Block",src:"4284:86:47",statements:[{expression:{argumentTypes:null,id:6980,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:6977,name:"auctionStartPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6973,src:"4298:17:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:6978,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6947,src:"4318:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:6979,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionStartPrice",nodeType:"MemberAccess",referencedDeclaration:6639,src:"4318:41:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"4298:61:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6981,nodeType:"ExpressionStatement",src:"4298:61:47"}]}},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:6987,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:6984,name:"elapsed",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6955,src:"6861:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<=",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:6985,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6947,src:"6872:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:6986,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionTimeToPivot",nodeType:"MemberAccess",referencedDeclaration:6637,src:"6872:42:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"6861:53:47",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:7060,nodeType:"Block",src:"7347:1271:47",statements:[{assignments:[7012],declarations:[{constant:false,id:7012,name:"thirtySecondPeriods",nodeType:"VariableDeclaration",scope:7060,src:"7452:27:47",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7011,name:"uint256",nodeType:"ElementaryTypeName",src:"7452:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:7021,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:7019,name:"THIRTY_SECONDS",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6888,src:"7576:14:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:7015,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6947,src:"7511:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:7016,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionTimeToPivot",nodeType:"MemberAccess",referencedDeclaration:6637,src:"7511:42:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7013,name:"elapsed",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6955,src:"7482:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7014,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"7482:28:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7017,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7482:72:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7018,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"7482:93:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7020,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7482:109:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"7452:139:47"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:7024,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:7022,name:"thirtySecondPeriods",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7012,src:"7708:19:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,id:7023,name:"MAX_30_SECOND_PERIODS",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6885,src:"7730:21:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"7708:43:47",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:7058,nodeType:"Block",src:"8170:438:47",statements:[{expression:{argumentTypes:null,id:7041,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:7039,name:"currentPriceDivisor",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6969,src:"8255:19:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,hexValue:"31",id:7040,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"8277:1:47",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},src:"8255:23:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7042,nodeType:"ExpressionStatement",src:"8255:23:47"},{expression:{argumentTypes:null,id:7056,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:7043,name:"priceNumerator",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6964,src:"8398:14:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:7052,name:"MAX_30_SECOND_PERIODS",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6885,src:"8552:21:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7050,name:"thirtySecondPeriods",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7012,src:"8528:19:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7051,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"8528:23:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7053,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8528:46:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:7047,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6947,src:"8482:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:7048,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionPivotPrice",nodeType:"MemberAccess",referencedDeclaration:6641,src:"8482:41:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7049,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"8482:45:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7054,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8482:93:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:7044,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6947,src:"8415:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:7045,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionPivotPrice",nodeType:"MemberAccess",referencedDeclaration:6641,src:"8415:41:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7046,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:29619,src:"8415:45:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7055,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8415:178:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"8398:195:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7057,nodeType:"ExpressionStatement",src:"8398:195:47"}]},id:7059,nodeType:"IfStatement",src:"7704:904:47",trueBody:{id:7038,nodeType:"Block",src:"7753:411:47",statements:[{expression:{argumentTypes:null,id:7036,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:7025,name:"currentPriceDivisor",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6969,src:"7953:19:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:7033,name:"MAX_30_SECOND_PERIODS",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6885,src:"8105:21:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:7030,name:"priceDivisor",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6890,src:"8062:12:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7028,name:"thirtySecondPeriods",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7012,src:"8013:19:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7029,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"8013:48:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7031,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8013:62:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7032,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"8013:91:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7034,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],
nodeType:"FunctionCall",src:"8013:114:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7026,name:"priceDivisor",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6890,src:"7975:12:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7027,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"7975:37:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7035,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7975:174:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"7953:196:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7037,nodeType:"ExpressionStatement",src:"7953:196:47"}]}}]},id:7061,nodeType:"IfStatement",src:"6857:1761:47",trueBody:{id:7010,nodeType:"Block",src:"6916:425:47",statements:[{assignments:[6989],declarations:[{constant:false,id:6989,name:"linearPriceDifference",nodeType:"VariableDeclaration",scope:7010,src:"7068:29:47",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6988,name:"uint256",nodeType:"ElementaryTypeName",src:"7068:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:6995,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:6993,name:"auctionStartPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6973,src:"7146:17:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:6990,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6947,src:"7100:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:6991,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionPivotPrice",nodeType:"MemberAccess",referencedDeclaration:6641,src:"7100:41:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6992,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"7100:45:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:6994,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7100:64:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"7068:96:47"},{expression:{argumentTypes:null,id:7008,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:6996,name:"priceNumerator",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6964,src:"7178:14:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:7004,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6947,src:"7273:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:7005,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionTimeToPivot",nodeType:"MemberAccess",referencedDeclaration:6637,src:"7273:42:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:7001,name:"linearPriceDifference",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6989,src:"7246:21:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:6999,name:"elapsed",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6955,src:"7234:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7e3,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"7234:11:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7002,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7234:34:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7003,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"7234:38:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7006,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7234:82:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:6997,name:"auctionStartPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6973,src:"7195:17:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6998,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:29619,src:"7195:21:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7007,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7195:135:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"7178:152:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7009,nodeType:"ExpressionStatement",src:"7178:152:47"}]}},{expression:{argumentTypes:null,components:[{argumentTypes:null,id:7062,name:"priceNumerator",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6964,src:"8636:14:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:7063,name:"currentPriceDivisor",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6969,src:"8652:19:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],id:7064,isConstant:false,isInlineArray:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"TupleExpression",src:"8635:37:47",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$",typeString:"tuple(uint256,uint256)"}},functionReturnParameters:6953,id:7065,nodeType:"Return",src:"8628:44:47"}]},documentation:null,id:7067,implemented:true,kind:"function",modifiers:[],name:"getCurrentPrice",nodeType:"FunctionDefinition",parameters:{id:6948,nodeType:"ParameterList",parameters:[{constant:false,id:6947,name:"_auctionPriceParameters",nodeType:"VariableDeclaration",scope:7067,src:"3651:72:47",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters"},typeName:{contractScope:null,id:6946,name:"RebalancingLibrary.AuctionPriceParameters",nodeType:"UserDefinedTypeName",referencedDeclaration:6642,src:"3651:41:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_storage_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters"}},value:null,visibility:"internal"}],src:"3641:88:47"},returnParameters:{id:6953,nodeType:"ParameterList",parameters:[{constant:false,id:6950,name:"",nodeType:"VariableDeclaration",scope:7067,src:"3775:7:47",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6949,name:"uint256",nodeType:"ElementaryTypeName",src:"3775:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:6952,name:"",nodeType:"VariableDeclaration",scope:7067,src:"3784:7:47",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6951,name:"uint256",nodeType:"ElementaryTypeName",src:"3784:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"3774:18:47"},scope:7068,src:"3617:5062:47",stateMutability:"view",superFunction:null,visibility:"public"}],scope:7069,src:"958:7723:47"}],src:"597:8085:47"},legacyAST:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/auction-price-libraries/LinearAuctionPriceCurve.sol",exportedSymbols:{LinearAuctionPriceCurve:[7068]},id:7069,nodeType:"SourceUnit",nodes:[{id:6868,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:47"},{id:6869,literals:["experimental","ABIEncoderV2"],nodeType:"PragmaDirective",src:"620:35:47"},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:6871,nodeType:"ImportDirective",scope:7069,sourceUnit:29641,src:"657:77:47",symbolAliases:[{foreign:6870,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/RebalancingLibrary.sol",file:"../RebalancingLibrary.sol",id:6873,nodeType:"ImportDirective",scope:7069,sourceUnit:6658,src:"735:63:47",symbolAliases:[{foreign:6872,local:null}],unitAlias:""},{baseContracts:[],contractDependencies:[],contractKind:"contract",documentation:"@title LinearAuctionPriceCurve\n@author Set Protocol\n * Contract used in rebalancing auctions to calculate price based off of a linear curve",fullyImplemented:true,id:7068,linearizedBaseContracts:[7068],name:"LinearAuctionPriceCurve",nodeType:"ContractDefinition",nodes:[{id:6876,libraryName:{contractScope:null,id:6874,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:29640,src:"1003:8:47",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$29640",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"997:27:47",typeName:{id:6875,name:"uint256",nodeType:"ElementaryTypeName",src:"1016:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{constant:true,id:6879,name:"MIN_PIVOT_PRICE_DIVISOR",nodeType:"VariableDeclaration",scope:7068,src:"1030:51:47",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6877,name:"uint256",nodeType:"ElementaryTypeName",src:"1030:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"35",id:6878,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"1080:1:47",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_5_by_1",typeString:"int_const 5"},value:"5"},visibility:"public"},{constant:true,id:6882,name:"MAX_PIVOT_PRICE_NUMERATOR",nodeType:"VariableDeclaration",scope:7068,src:"1087:53:47",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6880,name:"uint256",nodeType:"ElementaryTypeName",src:"1087:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"35",id:6881,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"1139:1:47",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_5_by_1",typeString:"int_const 5"},value:"5"},visibility:"public"},{constant:true,id:6885,name:"MAX_30_SECOND_PERIODS",nodeType:"VariableDeclaration",scope:7068,src:"1146:52:47",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6883,name:"uint256",nodeType:"ElementaryTypeName",src:"1146:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"31303030",id:6884,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"1194:4:47",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1000_by_1",typeString:"int_const 1000"},value:"1000"},visibility:"public"},{constant:true,id:6888,name:"THIRTY_SECONDS",nodeType:"VariableDeclaration",scope:7068,src:"1204:43:47",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6886,name:"uint256",nodeType:"ElementaryTypeName",src:"1204:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"3330",id:6887,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"1245:2:47",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_30_by_1",typeString:"int_const 30"},value:"30"},visibility:"public"},{constant:false,id:6890,name:"priceDivisor",nodeType:"VariableDeclaration",scope:7068,src:"1254:27:47",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6889,name:"uint256",nodeType:"ElementaryTypeName",src:"1254:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"public"},{constant:false,id:6892,name:"usesStartPrice",nodeType:"VariableDeclaration",scope:7068,src:"1287:26:47",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:6891,name:"bool",nodeType:"ElementaryTypeName",src:"1287:4:47",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"public"},{body:{id:6907,nodeType:"Block",src:"1774:134:47",statements:[{expression:{argumentTypes:null,id:6901,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:6899,name:"priceDivisor",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6890,src:"1831:12:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:6900,name:"_priceDivisor",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6894,src:"1846:13:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"1831:28:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6902,nodeType:"ExpressionStatement",src:"1831:28:47"},{expression:{argumentTypes:null,id:6905,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:6903,name:"usesStartPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6892,src:"1869:14:47",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:6904,name:"_usesStartPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6896,src:"1886:15:47",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"1869:32:47",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:6906,nodeType:"ExpressionStatement",src:"1869:32:47"}]},documentation:null,id:6908,implemented:true,kind:"constructor",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:6897,nodeType:"ParameterList",parameters:[{constant:false,id:6894,name:"_priceDivisor",nodeType:"VariableDeclaration",scope:6908,src:"1697:21:47",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6893,name:"uint256",nodeType:"ElementaryTypeName",src:"1697:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:6896,name:"_usesStartPrice",nodeType:"VariableDeclaration",scope:6908,src:"1728:20:47",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:6895,name:"bool",nodeType:"ElementaryTypeName",src:"1728:4:47",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"1687:67:47"},returnParameters:{id:6898,nodeType:"ParameterList",parameters:[],src:"1774:0:47"},scope:7068,src:"1676:232:47",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:6944,nodeType:"Block",src:"2267:991:47",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:6918,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:6914,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6910,src:"2378:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:6915,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionPivotPrice",nodeType:"MemberAccess",referencedDeclaration:6641,src:"2378:41:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:6916,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6910,src:"2422:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:6917,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionStartPrice",nodeType:"MemberAccess",referencedDeclaration:6639,src:"2422:41:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2378:85:47",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"4c696e65617241756374696f6e507269636543757276652e76616c696461746541756374696f6e5072696365506172616d65746572733a2053746172742070726963652067726561746572207468616e207069766f74207072696365",id:6919,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"2477:94:47",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_f9e352fcfa892c562fa030df5642e843fb0a0a48c4b0989dc88b17aea60e5df7",typeString:'literal_string "LinearAuctionPriceCurve.validateAuctionPriceParameters: Start price greater than pivot price"'},value:"LinearAuctionPriceCurve.validateAuctionPriceParameters: Start price greater than pivot price"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_f9e352fcfa892c562fa030df5642e843fb0a0a48c4b0989dc88b17aea60e5df7",typeString:'literal_string "LinearAuctionPriceCurve.validateAuctionPriceParameters: Start price greater than pivot price"'}],id:6913,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"2357:7:47",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:6920,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2357:224:47",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:6921,nodeType:"ExpressionStatement",src:"2357:224:47"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:6929,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:6923,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6910,src:"2732:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:6924,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionPivotPrice",nodeType:"MemberAccess",referencedDeclaration:6641,src:"2732:41:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:6927,name:"MIN_PIVOT_PRICE_DIVISOR",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6879,src:"2793:23:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:6925,name:"priceDivisor",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6890,src:"2776:12:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6926,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"2776:16:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:6928,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2776:41:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2732:85:47",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"4c696e65617241756374696f6e507269636543757276652e76616c696461746541756374696f6e5072696365506172616d65746572733a205069766f7420707269636520746f6f206c6f77",id:6930,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"2831:77:47",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_f2c9d069d634ed6e6fce24a6b913696df1131a06ed7627f684da8d5f5b22e72e",typeString:'literal_string "LinearAuctionPriceCurve.validateAuctionPriceParameters: Pivot price too low"'},value:"LinearAuctionPriceCurve.validateAuctionPriceParameters: Pivot price too low"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_f2c9d069d634ed6e6fce24a6b913696df1131a06ed7627f684da8d5f5b22e72e",typeString:'literal_string "LinearAuctionPriceCurve.validateAuctionPriceParameters: Pivot price too low"'}],id:6922,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"2711:7:47",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:6931,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2711:207:47",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:6932,nodeType:"ExpressionStatement",src:"2711:207:47"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:6940,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:6934,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6910,src:"3062:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:6935,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionPivotPrice",nodeType:"MemberAccess",referencedDeclaration:6641,src:"3062:41:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:6938,name:"MAX_PIVOT_PRICE_NUMERATOR",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6882,src:"3123:25:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:6936,name:"priceDivisor",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6890,src:"3106:12:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6937,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"3106:16:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:6939,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3106:43:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"3062:87:47",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"4c696e65617241756374696f6e507269636543757276652e76616c696461746541756374696f6e5072696365506172616d65746572733a205069766f7420707269636520746f6f2068696768",id:6941,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"3163:78:47",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_27734529c1445039908dc460d38516f1aa95384debb7e98cf18fc3960ea55b31",typeString:'literal_string "LinearAuctionPriceCurve.validateAuctionPriceParameters: Pivot price too high"'},value:"LinearAuctionPriceCurve.validateAuctionPriceParameters: Pivot price too high"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_27734529c1445039908dc460d38516f1aa95384debb7e98cf18fc3960ea55b31",typeString:'literal_string "LinearAuctionPriceCurve.validateAuctionPriceParameters: Pivot price too high"'}],id:6933,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"3041:7:47",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:6942,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3041:210:47",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:6943,nodeType:"ExpressionStatement",src:"3041:210:47"}]},documentation:null,id:6945,implemented:true,kind:"function",modifiers:[],name:"validateAuctionPriceParameters",nodeType:"FunctionDefinition",parameters:{id:6911,nodeType:"ParameterList",parameters:[{constant:false,id:6910,name:"_auctionPriceParameters",nodeType:"VariableDeclaration",scope:6945,src:"2156:72:47",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters"},typeName:{contractScope:null,id:6909,name:"RebalancingLibrary.AuctionPriceParameters",nodeType:"UserDefinedTypeName",referencedDeclaration:6642,src:"2156:41:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_storage_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters"}},value:null,visibility:"internal"}],src:"2146:88:47"},returnParameters:{id:6912,nodeType:"ParameterList",parameters:[],src:"2267:0:47"},scope:7068,src:"2107:1151:47",stateMutability:"view",superFunction:null,visibility:"public"},{body:{id:7066,nodeType:"Block",src:"3797:4882:47",statements:[{assignments:[6955],declarations:[{constant:false,id:6955,name:"elapsed",nodeType:"VariableDeclaration",scope:7066,src:"3877:15:47",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6954,name:"uint256",nodeType:"ElementaryTypeName",src:"3877:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:6962,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:6959,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6947,src:"3915:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:6960,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionStartTime",nodeType:"MemberAccess",referencedDeclaration:6635,src:"3915:40:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:6956,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"3895:5:47",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:6957,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"3895:15:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6958,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"3895:19:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:6961,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3895:61:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"3877:79:47"},{assignments:[6964],declarations:[{constant:false,id:6964,name:"priceNumerator",nodeType:"VariableDeclaration",scope:7066,src:"4015:22:47",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6963,name:"uint256",nodeType:"ElementaryTypeName",src:"4015:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:6967,initialValue:{argumentTypes:null,expression:{argumentTypes:null,id:6965,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6947,src:"4040:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:6966,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionPivotPrice",nodeType:"MemberAccess",referencedDeclaration:6641,src:"4040:41:47",typeDescriptions:{
typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"4015:66:47"},{assignments:[6969],declarations:[{constant:false,id:6969,name:"currentPriceDivisor",nodeType:"VariableDeclaration",scope:7066,src:"4091:27:47",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6968,name:"uint256",nodeType:"ElementaryTypeName",src:"4091:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:6971,initialValue:{argumentTypes:null,id:6970,name:"priceDivisor",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6890,src:"4121:12:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"4091:42:47"},{assignments:[6973],declarations:[{constant:false,id:6973,name:"auctionStartPrice",nodeType:"VariableDeclaration",scope:7066,src:"4225:25:47",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6972,name:"uint256",nodeType:"ElementaryTypeName",src:"4225:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:6975,initialValue:{argumentTypes:null,hexValue:"30",id:6974,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"4253:1:47",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"4225:29:47"},{condition:{argumentTypes:null,id:6976,name:"usesStartPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6892,src:"4268:14:47",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:6983,nodeType:"IfStatement",src:"4264:106:47",trueBody:{id:6982,nodeType:"Block",src:"4284:86:47",statements:[{expression:{argumentTypes:null,id:6980,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:6977,name:"auctionStartPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6973,src:"4298:17:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:6978,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6947,src:"4318:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:6979,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionStartPrice",nodeType:"MemberAccess",referencedDeclaration:6639,src:"4318:41:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"4298:61:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6981,nodeType:"ExpressionStatement",src:"4298:61:47"}]}},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:6987,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:6984,name:"elapsed",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6955,src:"6861:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<=",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:6985,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6947,src:"6872:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:6986,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionTimeToPivot",nodeType:"MemberAccess",referencedDeclaration:6637,src:"6872:42:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"6861:53:47",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:7060,nodeType:"Block",src:"7347:1271:47",statements:[{assignments:[7012],declarations:[{constant:false,id:7012,name:"thirtySecondPeriods",nodeType:"VariableDeclaration",scope:7060,src:"7452:27:47",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:7011,name:"uint256",nodeType:"ElementaryTypeName",src:"7452:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:7021,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:7019,name:"THIRTY_SECONDS",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6888,src:"7576:14:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:7015,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6947,src:"7511:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:7016,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionTimeToPivot",nodeType:"MemberAccess",referencedDeclaration:6637,src:"7511:42:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7013,name:"elapsed",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6955,src:"7482:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7014,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"7482:28:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7017,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7482:72:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7018,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"7482:93:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7020,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7482:109:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"7452:139:47"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:7024,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:7022,name:"thirtySecondPeriods",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7012,src:"7708:19:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,id:7023,name:"MAX_30_SECOND_PERIODS",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6885,src:"7730:21:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"7708:43:47",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:7058,nodeType:"Block",src:"8170:438:47",statements:[{expression:{argumentTypes:null,id:7041,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:7039,name:"currentPriceDivisor",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6969,src:"8255:19:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,hexValue:"31",id:7040,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"8277:1:47",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},src:"8255:23:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7042,nodeType:"ExpressionStatement",src:"8255:23:47"},{expression:{argumentTypes:null,id:7056,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:7043,name:"priceNumerator",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6964,src:"8398:14:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:7052,name:"MAX_30_SECOND_PERIODS",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6885,src:"8552:21:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7050,name:"thirtySecondPeriods",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7012,src:"8528:19:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7051,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"8528:23:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7053,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8528:46:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:7047,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6947,src:"8482:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:7048,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionPivotPrice",nodeType:"MemberAccess",referencedDeclaration:6641,src:"8482:41:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7049,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"8482:45:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7054,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8482:93:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:7044,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6947,src:"8415:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:7045,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionPivotPrice",nodeType:"MemberAccess",referencedDeclaration:6641,src:"8415:41:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7046,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:29619,src:"8415:45:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7055,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8415:178:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"8398:195:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7057,nodeType:"ExpressionStatement",src:"8398:195:47"}]},id:7059,nodeType:"IfStatement",src:"7704:904:47",trueBody:{id:7038,nodeType:"Block",src:"7753:411:47",statements:[{expression:{argumentTypes:null,id:7036,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:7025,name:"currentPriceDivisor",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6969,src:"7953:19:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:7033,name:"MAX_30_SECOND_PERIODS",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6885,src:"8105:21:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:7030,name:"priceDivisor",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6890,src:"8062:12:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7028,name:"thirtySecondPeriods",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7012,src:"8013:19:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7029,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"8013:48:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7031,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8013:62:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7032,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"8013:91:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7034,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8013:114:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:7026,name:"priceDivisor",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6890,src:"7975:12:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7027,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"7975:37:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7035,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7975:174:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"7953:196:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7037,nodeType:"ExpressionStatement",src:"7953:196:47"}]}}]},id:7061,nodeType:"IfStatement",src:"6857:1761:47",trueBody:{id:7010,nodeType:"Block",src:"6916:425:47",statements:[{assignments:[6989],declarations:[{constant:false,id:6989,name:"linearPriceDifference",nodeType:"VariableDeclaration",scope:7010,src:"7068:29:47",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6988,name:"uint256",nodeType:"ElementaryTypeName",src:"7068:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:6995,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:6993,name:"auctionStartPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6973,src:"7146:17:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:6990,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6947,src:"7100:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:6991,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionPivotPrice",nodeType:"MemberAccess",referencedDeclaration:6641,src:"7100:41:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6992,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"7100:45:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:6994,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7100:64:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"7068:96:47"},{expression:{argumentTypes:null,id:7008,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:6996,name:"priceNumerator",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6964,src:"7178:14:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:7004,name:"_auctionPriceParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6947,src:"7273:23:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters memory"}},id:7005,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"auctionTimeToPivot",nodeType:"MemberAccess",referencedDeclaration:6637,src:"7273:42:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:7001,name:"linearPriceDifference",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6989,src:"7246:21:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:6999,name:"elapsed",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6955,src:"7234:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7e3,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"7234:11:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7002,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7234:34:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7003,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"7234:38:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7006,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7234:82:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:6997,name:"auctionStartPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6973,src:"7195:17:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:6998,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:29619,src:"7195:21:47",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:7007,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7195:135:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"7178:152:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:7009,nodeType:"ExpressionStatement",src:"7178:152:47"}]}},{expression:{argumentTypes:null,components:[{argumentTypes:null,id:7062,name:"priceNumerator",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6964,src:"8636:14:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:7063,name:"currentPriceDivisor",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6969,src:"8652:19:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],id:7064,isConstant:false,isInlineArray:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"TupleExpression",src:"8635:37:47",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$",typeString:"tuple(uint256,uint256)"}},functionReturnParameters:6953,id:7065,nodeType:"Return",src:"8628:44:47"}]},documentation:null,id:7067,implemented:true,kind:"function",modifiers:[],name:"getCurrentPrice",nodeType:"FunctionDefinition",parameters:{id:6948,nodeType:"ParameterList",parameters:[{constant:false,id:6947,name:"_auctionPriceParameters",nodeType:"VariableDeclaration",scope:7067,src:"3651:72:47",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_memory_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters"},typeName:{contractScope:null,id:6946,name:"RebalancingLibrary.AuctionPriceParameters",nodeType:"UserDefinedTypeName",referencedDeclaration:6642,src:"3651:41:47",typeDescriptions:{typeIdentifier:"t_struct$_AuctionPriceParameters_$6642_storage_ptr",typeString:"struct RebalancingLibrary.AuctionPriceParameters"}},value:null,visibility:"internal"}],src:"3641:88:47"},returnParameters:{id:6953,nodeType:"ParameterList",parameters:[{constant:false,id:6950,name:"",nodeType:"VariableDeclaration",scope:7067,src:"3775:7:47",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6949,name:"uint256",nodeType:"ElementaryTypeName",src:"3775:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:6952,name:"",nodeType:"VariableDeclaration",scope:7067,src:"3784:7:47",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:6951,name:"uint256",nodeType:"ElementaryTypeName",src:"3784:7:47",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"3774:18:47"},scope:7068,src:"3617:5062:47",stateMutability:"view",superFunction:null,visibility:"public"}],scope:7069,src:"958:7723:47"}],src:"597:8085:47"},compiler:{name:"solc",version:"0.5.7+commit.6da8b019.Linux.g++"},networks:{},schemaVersion:"3.0.23",updatedAt:"2020-04-07T04:29:24.490Z",devdoc:{author:"Set Protocol * Contract used in rebalancing auctions to calculate price based off of a linear curve",methods:{},title:"LinearAuctionPriceCurve"},userdoc:{methods:{}}};