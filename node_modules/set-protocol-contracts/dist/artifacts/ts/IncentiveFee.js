"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IncentiveFee={contractName:"IncentiveFee",abi:[{constant:true,inputs:[],name:"unitShares",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:false,inputs:[{name:"_newLiquidator",type:"address"}],name:"setLiquidator",outputs:[],payable:false,stateMutability:"nonpayable",type:"function"},{constant:true,inputs:[],name:"getUnits",outputs:[{name:"",type:"uint256[]"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"entryFee",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:false,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:false,stateMutability:"nonpayable",type:"function"},{constant:true,inputs:[],name:"liquidatorWhiteList",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"rebalanceInterval",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"rebalanceFailPeriod",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[{name:"_tokenAddress",type:"address"}],name:"tokenIsComponent",outputs:[{name:"",type:"bool"}],payable:false,stateMutability:"view",type:"function"},{constant:false,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:false,stateMutability:"nonpayable",type:"function"},{constant:true,inputs:[],name:"rebalanceFee",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"currentSet",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{constant:false,inputs:[{name:"spender",type:"address"},{name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{name:"",type:"bool"}],payable:false,stateMutability:"nonpayable",type:"function"},{constant:true,inputs:[],name:"liquidator",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"naturalUnit",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"rebalanceFeeCalculator",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"feeRecipient",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"manager",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"componentWhiteList",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[{name:"owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"rebalanceIndex",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"getComponents",outputs:[{name:"",type:"address[]"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"rebalanceStartTime",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:false,inputs:[{name:"spender",type:"address"},{name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{name:"",type:"bool"}],payable:false,stateMutability:"nonpayable",type:"function"},{constant:false,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:false,stateMutability:"nonpayable",type:"function"},{constant:true,inputs:[],name:"lastRebalanceTimestamp",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"factory",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"nextSet",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{constant:false,inputs:[{name:"_newManager",type:"address"}],name:"setManager",outputs:[],payable:false,stateMutability:"nonpayable",type:"function"},{constant:true,inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:false,inputs:[{name:"_newFeeRecipient",type:"address"}],name:"setFeeRecipient",outputs:[],payable:false,stateMutability:"nonpayable",type:"function"},{constant:false,inputs:[{name:"_newEntryFee",type:"uint256"}],name:"setEntryFee",outputs:[],payable:false,stateMutability:"nonpayable",type:"function"},{constant:true,inputs:[],name:"hasBidded",outputs:[{name:"",type:"bool"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"core",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"rebalanceState",outputs:[{name:"",type:"uint8"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"vault",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{anonymous:false,inputs:[{indexed:true,name:"feeRecipient",type:"address"},{indexed:false,name:"feeQuantity",type:"uint256"},{indexed:false,name:"feePercentage",type:"uint256"},{indexed:false,name:"newUnitShares",type:"uint256"}],name:"IncentiveFeePaid",type:"event"},{anonymous:false,inputs:[{indexed:false,name:"newManager",type:"address"},{indexed:false,name:"oldManager",type:"address"}],name:"NewManagerAdded",type:"event"},{anonymous:false,inputs:[{indexed:false,name:"newLiquidator",type:"address"},{indexed:false,name:"oldLiquidator",type:"address"}],name:"NewLiquidatorAdded",type:"event"},{anonymous:false,inputs:[{indexed:false,name:"newEntryFee",type:"uint256"},{indexed:false,name:"oldEntryFee",type:"uint256"}],name:"NewEntryFee",type:"event"},{anonymous:false,inputs:[{indexed:false,name:"newFeeRecipient",type:"address"},{indexed:false,name:"oldFeeRecipient",type:"address"}],name:"NewFeeRecipient",type:"event"},{anonymous:false,inputs:[{indexed:true,name:"feeRecipient",type:"address"},{indexed:false,name:"feeQuantity",type:"uint256"}],name:"EntryFeePaid",type:"event"},{anonymous:false,inputs:[{indexed:false,name:"oldSet",type:"address"},{indexed:false,name:"newSet",type:"address"},{indexed:false,name:"rebalanceIndex",type:"uint256"},{indexed:false,name:"currentSetQuantity",type:"uint256"}],name:"RebalanceStarted",type:"event"},{anonymous:false,inputs:[{indexed:true,name:"feeRecipient",type:"address"},{indexed:false,name:"feeQuantity",type:"uint256"},{indexed:false,name:"feePercentage",type:"uint256"},{indexed:false,name:"rebalanceIndex",type:"uint256"},{indexed:false,name:"issueQuantity",type:"uint256"},{indexed:false,name:"unitShares",type:"uint256"}],name:"RebalanceSettled",type:"event"},{anonymous:false,inputs:[{indexed:true,name:"from",type:"address"},{indexed:true,name:"to",type:"address"},{indexed:false,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:false,inputs:[{indexed:true,name:"owner",type:"address"},{indexed:true,name:"spender",type:"address"},{indexed:false,name:"value",type:"uint256"}],name:"Approval",type:"event"}],metadata:'{"compiler":{"version":"0.5.7+commit.6da8b019"},"language":"Solidity","output":{"abi":[{"constant":true,"inputs":[],"name":"unitShares","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newLiquidator","type":"address"}],"name":"setLiquidator","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getUnits","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"entryFee","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"liquidatorWhiteList","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"rebalanceInterval","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"rebalanceFailPeriod","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_tokenAddress","type":"address"}],"name":"tokenIsComponent","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"from","type":"address"},{"name":"to","type":"address"},{"name":"value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"rebalanceFee","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"currentSet","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"liquidator","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"naturalUnit","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"rebalanceFeeCalculator","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"feeRecipient","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"manager","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"componentWhiteList","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"rebalanceIndex","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getComponents","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"rebalanceStartTime","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"to","type":"address"},{"name":"value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"lastRebalanceTimestamp","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"factory","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"nextSet","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newManager","type":"address"}],"name":"setManager","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"},{"name":"spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newFeeRecipient","type":"address"}],"name":"setFeeRecipient","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_newEntryFee","type":"uint256"}],"name":"setEntryFee","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"hasBidded","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"core","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"rebalanceState","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"vault","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"name":"feeRecipient","type":"address"},{"indexed":false,"name":"feeQuantity","type":"uint256"},{"indexed":false,"name":"feePercentage","type":"uint256"},{"indexed":false,"name":"newUnitShares","type":"uint256"}],"name":"IncentiveFeePaid","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"newManager","type":"address"},{"indexed":false,"name":"oldManager","type":"address"}],"name":"NewManagerAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"newLiquidator","type":"address"},{"indexed":false,"name":"oldLiquidator","type":"address"}],"name":"NewLiquidatorAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"newEntryFee","type":"uint256"},{"indexed":false,"name":"oldEntryFee","type":"uint256"}],"name":"NewEntryFee","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"newFeeRecipient","type":"address"},{"indexed":false,"name":"oldFeeRecipient","type":"address"}],"name":"NewFeeRecipient","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"feeRecipient","type":"address"},{"indexed":false,"name":"feeQuantity","type":"uint256"}],"name":"EntryFeePaid","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"oldSet","type":"address"},{"indexed":false,"name":"newSet","type":"address"},{"indexed":false,"name":"rebalanceIndex","type":"uint256"},{"indexed":false,"name":"currentSetQuantity","type":"uint256"}],"name":"RebalanceStarted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"feeRecipient","type":"address"},{"indexed":false,"name":"feeQuantity","type":"uint256"},{"indexed":false,"name":"feePercentage","type":"uint256"},{"indexed":false,"name":"rebalanceIndex","type":"uint256"},{"indexed":false,"name":"issueQuantity","type":"uint256"},{"indexed":false,"name":"unitShares","type":"uint256"}],"name":"RebalanceSettled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"}],"devdoc":{"author":"Set Protocol","methods":{"allowance(address,address)":{"details":"Function to check the amount of tokens that an owner allowed to a spender.","params":{"owner":"address The address which owns the funds.","spender":"address The address which will spend the funds."},"return":"A uint256 specifying the amount of tokens still available for the spender."},"approve(address,uint256)":{"details":"Approve the passed address to spend the specified amount of tokens on behalf of msg.sender. Beware that changing an allowance with this method brings the risk that someone may use both the old and the new allowance by unfortunate transaction ordering. One possible solution to mitigate this race condition is to first reduce the spender\'s allowance to 0 and set the desired value afterwards: https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729","params":{"spender":"The address which will spend the funds.","value":"The amount of tokens to be spent."}},"balanceOf(address)":{"details":"Gets the balance of the specified address.","params":{"owner":"The address to query the balance of."},"return":"A uint256 representing the amount owned by the passed address."},"decreaseAllowance(address,uint256)":{"details":"Decrease the amount of tokens that an owner allowed to a spender. approve should be called when _allowed[msg.sender][spender] == 0. To decrement allowed value is better to use this function to avoid 2 calls (and wait until the first transaction is mined) From MonolithDAO Token.sol Emits an Approval event.","params":{"spender":"The address which will spend the funds.","subtractedValue":"The amount of tokens to decrease the allowance by."}},"increaseAllowance(address,uint256)":{"details":"Increase the amount of tokens that an owner allowed to a spender. approve should be called when _allowed[msg.sender][spender] == 0. To increment allowed value is better to use this function to avoid 2 calls (and wait until the first transaction is mined) From MonolithDAO Token.sol Emits an Approval event.","params":{"addedValue":"The amount of tokens to increase the allowance by.","spender":"The address which will spend the funds."}},"totalSupply()":{"details":"Total number of tokens in existence"},"transfer(address,uint256)":{"details":"Transfer token to a specified address","params":{"to":"The address to transfer to.","value":"The amount to be transferred."}},"transferFrom(address,address,uint256)":{"details":"Transfer tokens from one address to another. Note that while this function emits an Approval event, this is not required as per the specification, and other compliant implementations may not emit the event.","params":{"from":"address The address which you want to send tokens from","to":"address The address which you want to transfer to","value":"uint256 the amount of tokens to be transferred"}}},"title":"IncentiveFee"},"userdoc":{"methods":{}}},"settings":{"compilationTarget":{"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/tokens/rebalancing-v3/IncentiveFee.sol":"IncentiveFee"},"evmVersion":"byzantium","libraries":{},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ICore.sol":{"keccak256":"0x5dc3db4398630ea52d2a40c9ddfa89d94e65c2770a12bab4d2a5c8eb573fb0a0","urls":["bzzr://25e90b53f61b388e0950b808e2296f82d427b66cfd6021212713436b2a592e31"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IFeeCalculator.sol":{"keccak256":"0xfdce9b333367bfed8f379738b0eabfe4be0045db735e9f24493de09729593d4d","urls":["bzzr://d2fa7438b492f4f08009810e3e9a2e2c22a429c307562e3f5274d4bfe2d21734"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ILiquidator.sol":{"keccak256":"0x9d1e66d56cd51d14787cce5ff8fb378eb6a0bb704e7102d7c4eda5de7f585af3","urls":["bzzr://c44220025ac21fda1dda68e236572c5c4f82bf53ccf504a020487b8c746c7b26"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IRebalancingSetFactory.sol":{"keccak256":"0x781ccbdaa2b8908599e6cd5cdf077f2add7077b72acd064fb4ae560c00ddf62d","urls":["bzzr://93950fa7b8ce25f427edfe6a136c850ef41f1002eadd94ec957b8e6abe85812b"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IRebalancingSetToken.sol":{"keccak256":"0xe7356a7b0f0cc95d9526395d776f523a48fd65618730d67b4f31f20ffbd380da","urls":["bzzr://605a33a818eff7ce3370f25fccb751f61c066b4db0772605a2215d1357d68072"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ISetFactory.sol":{"keccak256":"0xf795ab9e9ac11340a600f235073b4ec4bdea92d3c01601ced1e5afd3c2718301","urls":["bzzr://eb4f00f66933560aa133ee90030b23d7a30937e6591a83d56b3935a927e8ca9f"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ISetToken.sol":{"keccak256":"0xfa6c0c07f8394d89b6b8f72e15778f8452a9341acb20cebb8421f3522aaca1bd","urls":["bzzr://ccf23bb78fd507bf8cbf5cf7ac2a660a1463b87a3689196e42b8f6862d1a6b11"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IVault.sol":{"keccak256":"0xf8a6d376173be39f5744492866db5dd3f91453a124d23679ff164ff3817f2f4f","urls":["bzzr://896c0a8329175c1620e1a22467778b835defe0e61847e5a8427a306f42391e64"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IWhiteList.sol":{"keccak256":"0x35158bdba86e9e08faf0bdf5e1756fb20ee0404e0b0b3c2d529e0e5b03b5adfd","urls":["bzzr://130cfe1fe490b464a6d42fd8613dd42a9f3375f24b6ab2dd91448f12895992ab"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/Rebalance.sol":{"keccak256":"0x74ffa689d93ced6c6e0377a35ec1274241b6191b5aaac5576ada379ac3840286","urls":["bzzr://25bdda3f1f5adfa2c83c760c44993d250cd2df037360f0018d22d268df79e887"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/RebalancingLibrary.sol":{"keccak256":"0x7f9dd2f95b2ee71a98b94cb9b0df15874aa134e7480d04a1fcf36aff166a55f4","urls":["bzzr://f43a5563ec5df095151eee30cf7a0941b5a971917c27c7b34d9586b36563ab5b"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/tokens/rebalancing-v2/RebalancingSetState.sol":{"keccak256":"0x717e7602dd9d8e9ba3eed77ce6703a701ff93cf25dd80e45c7064cc4f56516a9","urls":["bzzr://a1b509fff12ac397fb74248b4d50e159519dc8fc22f29593421b1b47309db72c"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/tokens/rebalancing-v3/IncentiveFee.sol":{"keccak256":"0x6ce6bc837bf0de81b7f70029348f9c9f061e69e6090f7c0e58d6d46b0beed036","urls":["bzzr://ec329c1839788eb896d81d8407dee582c369650795824b92123a50d347c39799"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/CommonMath.sol":{"keccak256":"0x3d1d08c6efc2a973fe2c02ddcb02fd99a8c8eb75f74dcbd93e8e15864eee2b6b","urls":["bzzr://580815dd1cf648a4521d923e59087de21143d9c48115ab71579a1f5a8f3d36af"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/ScaleValidations.sol":{"keccak256":"0xba602c9dda228b4552744ef0ba26329a3ada2610c42cb085a373d873d58d1391","urls":["bzzr://78110cdd43a9f5b4092cb51867e79da62e6d8b324ffb24d0dd448ad3e27048ee"]},"openzeppelin-solidity/contracts/math/SafeMath.sol":{"keccak256":"0xc2a200a877c4a9b2475c246c54ffecc69ffde3e11af83319c63c2dc5458bac80","urls":["bzzr://c8876e2c39b60f155d748d71d715c8f3903fae5a405ac599adcb6ad2f9a583f9"]},"openzeppelin-solidity/contracts/token/ERC20/ERC20.sol":{"keccak256":"0x3dceb7e4aa237a56111c13f77d7efadeceda7271d62bfac94ac79afab7c1f411","urls":["bzzr://2f34152a5bec385352002c31bc89f5e9935f628f1923ccea45c2281e0084a4db"]},"openzeppelin-solidity/contracts/token/ERC20/IERC20.sol":{"keccak256":"0x59e7df16169a498cb8837963b2f5461d88e63bd1eb6c7d58b814d76b84ccbe61","urls":["bzzr://e572c9c4e02e37349702451bf3b5dcbbc86a19da5a51695b5b3e1bfe1e7825dc"]}},"version":1}',bytecode:"0x608060405234801561001057600080fd5b506111de806100206000396000f3fe608060405234801561001057600080fd5b5060043610610244576000357c010000000000000000000000000000000000000000000000000000000090048063481c6a751161014d578063c45a0155116100d5578063eb770d0c11610099578063eb770d0c1461041b578063f1560b3f1461042e578063f2f4eb2614610436578063f75af97f1461043e578063fbfa77cf1461045357610244565b8063c45a0155146103d2578063cb631699146103da578063d0ebdbe7146103e2578063dd62ed3e146103f5578063e74b981b1461040857610244565b806399d50d5d1161011c57806399d50d5d146103875780639ae1f4a91461039c578063a457c2d7146103a4578063a9059cbb146103b7578063b83d8157146103ca57610244565b8063481c6a751461035c578063506ab57a1461036457806370a082311461036c57806388bd49a11461037f57610244565b806318c53aca116101d0578063395093511161019f578063395093511461031c5780634046ebae1461032f57806342a7cfd514610337578063465530971461033f578063469048401461034757610244565b806318c53aca146102e657806323b872dd146102f95780632e35bcca1461030c57806330b866271461031457610244565b8063095ea7b311610217578063095ea7b3146102995780631698c584146102b957806316d1d916146102ce57806318160ddd146102d6578063188b36c5146102de57610244565b80630193aea21461024957806301c76f8114610267578063027aa9f51461027c578063072ea61c14610291575b600080fd5b61025161045b565b60405161025e9190611123565b60405180910390f35b61027a610275366004610df4565b610461565b005b6102846105d2565b60405161025e9190611098565b610251610617565b6102ac6102a7366004610da6565b61061d565b60405161025e91906110a9565b6102c1610634565b60405161025e91906110b7565b610251610643565b610251610649565b61025161064f565b6102ac6102f4366004610cf9565b610655565b6102ac610307366004610d59565b610669565b6102516106c1565b6102c161075c565b6102ac61032a366004610da6565b61076b565b6102c16107a7565b6102516107b6565b6102c16107bc565b61034f6107cb565b60405161025e919061105e565b61034f6107da565b6102c16107e9565b61025161037a366004610cf9565b6107f8565b610251610813565b61038f610819565b60405161025e9190611087565b610251610875565b6102ac6103b2366004610da6565b61087b565b6102ac6103c5366004610da6565b6108b7565b6102516108c4565b6102c16108ca565b6102c16108d9565b61027a6103f0366004610cf9565b6108e8565b610251610403366004610d1f565b610964565b61027a610416366004610cf9565b61098f565b61027a610429366004610e12565b610a0b565b6102ac610a65565b6102c1610a6e565b610446610a7d565b60405161025e91906110c5565b6102c1610a86565b60105481565b610469610a95565b600260125460ff16600381111561047c57fe5b14156104a65760405160e560020a62461bcd02815260040161049d90611103565b60405180910390fd5b6007546040517f372c12b1000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063372c12b1906104ef90849060040161105e565b60206040518083038186803b15801561050757600080fd5b505afa15801561051b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061053f9190810190610dd6565b61055e5760405160e560020a62461bcd02815260040161049d906110f3565b6008546040517fe26fceb0d040e26e9c96b5be39f9a7b88bc48ce7a787f1e3cfd08e7f97626de69161059b918491600160a060020a03169061106c565b60405180910390a16008805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b604080516001808252818301909252606091829190602080830190803883390190505090506010548160008151811061060757fe5b6020908102919091010152905090565b600e5481565b600061062a338484610ac4565b5060015b92915050565b600754600160a060020a031681565b600c5481565b60025490565b600d5481565b600f54600160a060020a0390811691161490565b6000610676848484610b52565b600160a060020a0384166000908152600160209081526040808320338085529252909120546106b69186916106b1908663ffffffff610c1516565b610ac4565b5060015b9392505050565b600954604080517fced72f870000000000000000000000000000000000000000000000000000000081529051600092600160a060020a03169163ced72f87916004808301926020929190829003018186803b15801561071f57600080fd5b505afa158015610733573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506107579190810190610e30565b905090565b600f54600160a060020a031681565b336000818152600160209081526040808320600160a060020a0387168452909152812054909161062a9185906106b1908663ffffffff610c2a16565b600854600160a060020a031681565b60115481565b600954600160a060020a031681565b600b54600160a060020a031681565b600a54600160a060020a031681565b600654600160a060020a031681565b600160a060020a031660009081526020819052604090205490565b60135481565b604080516001808252818301909252606091829190602080830190803883395050600f548251929350600160a060020a03169183915060009061085857fe5b600160a060020a0390921660209283029190910190910152905090565b60165481565b336000818152600160209081526040808320600160a060020a0387168452909152812054909161062a9185906106b1908663ffffffff610c1516565b600061062a338484610b52565b60145481565b600454600160a060020a031681565b601554600160a060020a031681565b6108f0610a95565b600a546040517ff9c15f5b74b4e002e8881b2d9810116b1d4d45461e6dd7ac8111381b592e2c659161092d918491600160a060020a03169061106c565b60405180910390a1600a805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b600160a060020a03918216600090815260016020908152604080832093909416825291909152205490565b610997610a95565b600b546040517f2d63d620fb255d563fc112849cc79d42a367a3c51694709297b3ef80b28a8929916109d4918491600160a060020a03169061106c565b60405180910390a1600b805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b610a13610a95565b610a1c81610c3c565b610a2581610c6a565b7fbf7417a972a6451dbb2afbe07f2846cb433f2c3ab380fecbf70e38684eda554a81600e54604051610a58929190611131565b60405180910390a1600e55565b60175460ff1681565b600354600160a060020a031681565b60125460ff1681565b600554600160a060020a031681565b600a54600160a060020a03163314610ac25760405160e560020a62461bcd02815260040161049d906110d3565b565b600160a060020a038216610ad757600080fd5b600160a060020a038316610aea57600080fd5b600160a060020a0380841660008181526001602090815260408083209487168084529490915290819020849055517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92590610b45908590611123565b60405180910390a3505050565b600160a060020a038216610b6557600080fd5b600160a060020a038316600090815260208190526040902054610b8e908263ffffffff610c1516565b600160a060020a038085166000908152602081905260408082209390935590841681522054610bc3908263ffffffff610c2a16565b600160a060020a0380841660008181526020819052604090819020939093559151908516907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef90610b45908590611123565b600082821115610c2457600080fd5b50900390565b6000828201838110156106ba57600080fd5b670de0b6b3a7640000811115610c675760405160e560020a62461bcd02815260040161049d90611113565b50565b610c8081655af3107a400063ffffffff610ca016565b15610c675760405160e560020a62461bcd02815260040161049d906110e3565b600081610cac57600080fd5b818381610cb557fe5b069392505050565b60006106ba823561115f565b60006106ba825161116a565b60006106ba823561118e565b60006106ba823561118b565b60006106ba825161118b565b600060208284031215610d0b57600080fd5b6000610d178484610cbd565b949350505050565b60008060408385031215610d3257600080fd5b6000610d3e8585610cbd565b9250506020610d4f85828601610cbd565b9150509250929050565b600080600060608486031215610d6e57600080fd5b6000610d7a8686610cbd565b9350506020610d8b86828701610cbd565b9250506040610d9c86828701610ce1565b9150509250925092565b60008060408385031215610db957600080fd5b6000610dc58585610cbd565b9250506020610d4f85828601610ce1565b600060208284031215610de857600080fd5b6000610d178484610cc9565b600060208284031215610e0657600080fd5b6000610d178484610cd5565b600060208284031215610e2457600080fd5b6000610d178484610ce1565b600060208284031215610e4257600080fd5b6000610d178484610ced565b6000610e5a8383610e6e565b505060200190565b6000610e5a8383611055565b610e778161115f565b82525050565b6000610e8882611152565b610e928185611156565b9350610e9d8361114c565b60005b82811015610ec857610eb3868351610e4e565b9550610ebe8261114c565b9150600101610ea0565b5093949350505050565b6000610edd82611152565b610ee78185611156565b9350610ef28361114c565b60005b82811015610ec857610f08868351610e62565b9550610f138261114c565b9150600101610ef5565b610e778161116a565b610e778161118e565b610e7781611199565b6000610f45600b83611156565b7f4e6f74206d616e61676572000000000000000000000000000000000000000000815260200192915050565b6000610f7e601983611156565b7f4d757374206265206d756c7469706c65206f6620302e30312500000000000000815260200192915050565b6000610fb7600f83611156565b7f4e6f742077686974656c69737465640000000000000000000000000000000000815260200192915050565b6000610ff0600d83611156565b7f496e76616c696420737461746500000000000000000000000000000000000000815260200192915050565b6000611029600f83611156565b7f4d757374206265203c3d20313030250000000000000000000000000000000000815260200192915050565b610e778161118b565b6020810161062e8284610e6e565b6040810161107a8285610e6e565b6106ba6020830184610e6e565b602080825281016106ba8184610e7d565b602080825281016106ba8184610ed2565b6020810161062e8284610f1d565b6020810161062e8284610f26565b6020810161062e8284610f2f565b6020808252810161062e81610f38565b6020808252810161062e81610f71565b6020808252810161062e81610faa565b6020808252810161062e81610fe3565b6020808252810161062e8161101c565b6020810161062e8284611055565b6040810161113f8285611055565b6106ba6020830184611055565b60200190565b5190565b90815260200190565b600061062e8261117f565b151590565b60006004821061117b57fe5b5090565b600160a060020a031690565b90565b600061062e8261115f565b600061062e8261116f56fea265627a7a72305820d53197f305188abede7d2824346566daf0580c2479ae4c77c78407d1c4bef8c76c6578706572696d656e74616cf50037",
deployedBytecode:"0x608060405234801561001057600080fd5b5060043610610244576000357c010000000000000000000000000000000000000000000000000000000090048063481c6a751161014d578063c45a0155116100d5578063eb770d0c11610099578063eb770d0c1461041b578063f1560b3f1461042e578063f2f4eb2614610436578063f75af97f1461043e578063fbfa77cf1461045357610244565b8063c45a0155146103d2578063cb631699146103da578063d0ebdbe7146103e2578063dd62ed3e146103f5578063e74b981b1461040857610244565b806399d50d5d1161011c57806399d50d5d146103875780639ae1f4a91461039c578063a457c2d7146103a4578063a9059cbb146103b7578063b83d8157146103ca57610244565b8063481c6a751461035c578063506ab57a1461036457806370a082311461036c57806388bd49a11461037f57610244565b806318c53aca116101d0578063395093511161019f578063395093511461031c5780634046ebae1461032f57806342a7cfd514610337578063465530971461033f578063469048401461034757610244565b806318c53aca146102e657806323b872dd146102f95780632e35bcca1461030c57806330b866271461031457610244565b8063095ea7b311610217578063095ea7b3146102995780631698c584146102b957806316d1d916146102ce57806318160ddd146102d6578063188b36c5146102de57610244565b80630193aea21461024957806301c76f8114610267578063027aa9f51461027c578063072ea61c14610291575b600080fd5b61025161045b565b60405161025e9190611123565b60405180910390f35b61027a610275366004610df4565b610461565b005b6102846105d2565b60405161025e9190611098565b610251610617565b6102ac6102a7366004610da6565b61061d565b60405161025e91906110a9565b6102c1610634565b60405161025e91906110b7565b610251610643565b610251610649565b61025161064f565b6102ac6102f4366004610cf9565b610655565b6102ac610307366004610d59565b610669565b6102516106c1565b6102c161075c565b6102ac61032a366004610da6565b61076b565b6102c16107a7565b6102516107b6565b6102c16107bc565b61034f6107cb565b60405161025e919061105e565b61034f6107da565b6102c16107e9565b61025161037a366004610cf9565b6107f8565b610251610813565b61038f610819565b60405161025e9190611087565b610251610875565b6102ac6103b2366004610da6565b61087b565b6102ac6103c5366004610da6565b6108b7565b6102516108c4565b6102c16108ca565b6102c16108d9565b61027a6103f0366004610cf9565b6108e8565b610251610403366004610d1f565b610964565b61027a610416366004610cf9565b61098f565b61027a610429366004610e12565b610a0b565b6102ac610a65565b6102c1610a6e565b610446610a7d565b60405161025e91906110c5565b6102c1610a86565b60105481565b610469610a95565b600260125460ff16600381111561047c57fe5b14156104a65760405160e560020a62461bcd02815260040161049d90611103565b60405180910390fd5b6007546040517f372c12b1000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063372c12b1906104ef90849060040161105e565b60206040518083038186803b15801561050757600080fd5b505afa15801561051b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061053f9190810190610dd6565b61055e5760405160e560020a62461bcd02815260040161049d906110f3565b6008546040517fe26fceb0d040e26e9c96b5be39f9a7b88bc48ce7a787f1e3cfd08e7f97626de69161059b918491600160a060020a03169061106c565b60405180910390a16008805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b604080516001808252818301909252606091829190602080830190803883390190505090506010548160008151811061060757fe5b6020908102919091010152905090565b600e5481565b600061062a338484610ac4565b5060015b92915050565b600754600160a060020a031681565b600c5481565b60025490565b600d5481565b600f54600160a060020a0390811691161490565b6000610676848484610b52565b600160a060020a0384166000908152600160209081526040808320338085529252909120546106b69186916106b1908663ffffffff610c1516565b610ac4565b5060015b9392505050565b600954604080517fced72f870000000000000000000000000000000000000000000000000000000081529051600092600160a060020a03169163ced72f87916004808301926020929190829003018186803b15801561071f57600080fd5b505afa158015610733573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506107579190810190610e30565b905090565b600f54600160a060020a031681565b336000818152600160209081526040808320600160a060020a0387168452909152812054909161062a9185906106b1908663ffffffff610c2a16565b600854600160a060020a031681565b60115481565b600954600160a060020a031681565b600b54600160a060020a031681565b600a54600160a060020a031681565b600654600160a060020a031681565b600160a060020a031660009081526020819052604090205490565b60135481565b604080516001808252818301909252606091829190602080830190803883395050600f548251929350600160a060020a03169183915060009061085857fe5b600160a060020a0390921660209283029190910190910152905090565b60165481565b336000818152600160209081526040808320600160a060020a0387168452909152812054909161062a9185906106b1908663ffffffff610c1516565b600061062a338484610b52565b60145481565b600454600160a060020a031681565b601554600160a060020a031681565b6108f0610a95565b600a546040517ff9c15f5b74b4e002e8881b2d9810116b1d4d45461e6dd7ac8111381b592e2c659161092d918491600160a060020a03169061106c565b60405180910390a1600a805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b600160a060020a03918216600090815260016020908152604080832093909416825291909152205490565b610997610a95565b600b546040517f2d63d620fb255d563fc112849cc79d42a367a3c51694709297b3ef80b28a8929916109d4918491600160a060020a03169061106c565b60405180910390a1600b805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b610a13610a95565b610a1c81610c3c565b610a2581610c6a565b7fbf7417a972a6451dbb2afbe07f2846cb433f2c3ab380fecbf70e38684eda554a81600e54604051610a58929190611131565b60405180910390a1600e55565b60175460ff1681565b600354600160a060020a031681565b60125460ff1681565b600554600160a060020a031681565b600a54600160a060020a03163314610ac25760405160e560020a62461bcd02815260040161049d906110d3565b565b600160a060020a038216610ad757600080fd5b600160a060020a038316610aea57600080fd5b600160a060020a0380841660008181526001602090815260408083209487168084529490915290819020849055517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92590610b45908590611123565b60405180910390a3505050565b600160a060020a038216610b6557600080fd5b600160a060020a038316600090815260208190526040902054610b8e908263ffffffff610c1516565b600160a060020a038085166000908152602081905260408082209390935590841681522054610bc3908263ffffffff610c2a16565b600160a060020a0380841660008181526020819052604090819020939093559151908516907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef90610b45908590611123565b600082821115610c2457600080fd5b50900390565b6000828201838110156106ba57600080fd5b670de0b6b3a7640000811115610c675760405160e560020a62461bcd02815260040161049d90611113565b50565b610c8081655af3107a400063ffffffff610ca016565b15610c675760405160e560020a62461bcd02815260040161049d906110e3565b600081610cac57600080fd5b818381610cb557fe5b069392505050565b60006106ba823561115f565b60006106ba825161116a565b60006106ba823561118e565b60006106ba823561118b565b60006106ba825161118b565b600060208284031215610d0b57600080fd5b6000610d178484610cbd565b949350505050565b60008060408385031215610d3257600080fd5b6000610d3e8585610cbd565b9250506020610d4f85828601610cbd565b9150509250929050565b600080600060608486031215610d6e57600080fd5b6000610d7a8686610cbd565b9350506020610d8b86828701610cbd565b9250506040610d9c86828701610ce1565b9150509250925092565b60008060408385031215610db957600080fd5b6000610dc58585610cbd565b9250506020610d4f85828601610ce1565b600060208284031215610de857600080fd5b6000610d178484610cc9565b600060208284031215610e0657600080fd5b6000610d178484610cd5565b600060208284031215610e2457600080fd5b6000610d178484610ce1565b600060208284031215610e4257600080fd5b6000610d178484610ced565b6000610e5a8383610e6e565b505060200190565b6000610e5a8383611055565b610e778161115f565b82525050565b6000610e8882611152565b610e928185611156565b9350610e9d8361114c565b60005b82811015610ec857610eb3868351610e4e565b9550610ebe8261114c565b9150600101610ea0565b5093949350505050565b6000610edd82611152565b610ee78185611156565b9350610ef28361114c565b60005b82811015610ec857610f08868351610e62565b9550610f138261114c565b9150600101610ef5565b610e778161116a565b610e778161118e565b610e7781611199565b6000610f45600b83611156565b7f4e6f74206d616e61676572000000000000000000000000000000000000000000815260200192915050565b6000610f7e601983611156565b7f4d757374206265206d756c7469706c65206f6620302e30312500000000000000815260200192915050565b6000610fb7600f83611156565b7f4e6f742077686974656c69737465640000000000000000000000000000000000815260200192915050565b6000610ff0600d83611156565b7f496e76616c696420737461746500000000000000000000000000000000000000815260200192915050565b6000611029600f83611156565b7f4d757374206265203c3d20313030250000000000000000000000000000000000815260200192915050565b610e778161118b565b6020810161062e8284610e6e565b6040810161107a8285610e6e565b6106ba6020830184610e6e565b602080825281016106ba8184610e7d565b602080825281016106ba8184610ed2565b6020810161062e8284610f1d565b6020810161062e8284610f26565b6020810161062e8284610f2f565b6020808252810161062e81610f38565b6020808252810161062e81610f71565b6020808252810161062e81610faa565b6020808252810161062e81610fe3565b6020808252810161062e8161101c565b6020810161062e8284611055565b6040810161113f8285611055565b6106ba6020830184611055565b60200190565b5190565b90815260200190565b600061062e8261117f565b151590565b60006004821061117b57fe5b5090565b600160a060020a031690565b90565b600061062e8261115f565b600061062e8261116f56fea265627a7a72305820d53197f305188abede7d2824346566daf0580c2479ae4c77c78407d1c4bef8c76c6578706572696d656e74616cf50037",sourceMap:"1082:2862:88:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1082:2862:88;;;;;;;",deployedSourceMap:"1082:2862:88:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1082:2862:88;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3416:25:84;;;:::i;:::-;;;;;;;;;;;;;;;;6404:479;;;;;;;;;:::i;:::-;;7868:200;;;:::i;:::-;;;;;;;;3038:23;;;:::i;2721:145:176:-;;;;;;;;;:::i;:::-;;;;;;;;1953:37:84;;;:::i;:::-;;;;;;;;2705:32;;;:::i;916:89:176:-;;;:::i;2839:34:84:-;;;:::i;8215:180::-;;;;;;;;;:::i;3329:224:176:-;;;;;;;;;:::i;7298:139:84:-;;;:::i;3311:27::-;;;:::i;4067:200:176:-;;;;;;;;;:::i;2148:29:84:-;;;:::i;3491:26::-;;;:::i;2246:44::-;;;:::i;2421:27::-;;;:::i;:::-;;;;;;;;2350:22;;;:::i;1869:36::-;;;:::i;1217:104:176:-;;;;;;;;;:::i;3757:29:84:-;;;:::i;7538:229::-;;;:::i;:::-;;;;;;;;4215:33;;;:::i;4786:210:176:-;;;;;;;;;:::i;1948:137::-;;;;;;;;;:::i;3846:37:84:-;;;:::i;1682:::-;;;:::i;4124:24::-;;;:::i;5780:186::-;;;;;;;;;:::i;1652:129:176:-;;;;;;;;;:::i;6889:216:84:-;;;;;;;;;:::i;5972:338::-;;;;;;;;;:::i;4473:21::-;;;:::i;1617:17::-;;;:::i;3632:46::-;;;:::i;:::-;;;;;;;;1763:19;;;:::i;3416:25::-;;;;:::o;6404:479::-;4744:17;:15;:17::i;:::-;6559:34;6541:14;;;;:52;;;;;;;;;;6520:112;;;;-1:-1:-1;;;;;6520:112:84;;;;;;;;;;;;;;;;;6664:19;;:54;;;;;-1:-1:-1;;;;;6664:19:84;;;;:29;;:54;;6702:14;;6664:54;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;6664:54:84;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;6664:54:84;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;6664:54:84;;;;;;;;;6643:116;;;;-1:-1:-1;;;;;6643:116:84;;;;;;;;;6827:10;;6775:64;;;;;;6802:14;;-1:-1:-1;;;;;6827:10:84;;6775:64;;;;;;;;;;6849:10;:27;;-1:-1:-1;;6849:27:84;-1:-1:-1;;;;;6849:27:84;;;;;;;;;;6404:479::o;7868:200::-;7992:16;;;8006:1;7992:16;;;;;;;;;7935;;;;7992;;;;;;;105:10:-1;7992:16:84;88:34:-1;136:17;;-1:-1;7992:16:84;7967:41;;8029:10;;8018:5;8024:1;8018:8;;;;;;;;;;;;;;;;;:21;8056:5;-1:-1:-1;7868:200:84;:::o;3038:23::-;;;;:::o;2721:145:176:-;2786:4;2802:36;2811:10;2823:7;2832:5;2802:8;:36::i;:::-;-1:-1:-1;2855:4:176;2721:145;;;;;:::o;1953:37:84:-;;;-1:-1:-1;;;;;1953:37:84;;:::o;2705:32::-;;;;:::o;916:89:176:-;986:12;;916:89;:::o;2839:34:84:-;;;;:::o;8215:180::-;8377:10;;-1:-1:-1;;;;;8377:10:84;;;8352:36;;;;8215:180::o;3329:224:176:-;3408:4;3424:26;3434:4;3440:2;3444:5;3424:9;:26::i;:::-;-1:-1:-1;;;;;3487:14:176;;;;;;:8;:14;;;;;;;;3475:10;3487:26;;;;;;;;;3460:65;;3469:4;;3487:37;;3518:5;3487:37;:30;:37;:::i;:::-;3460:8;:65::i;:::-;-1:-1:-1;3542:4:176;3329:224;;;;;;:::o;7298:139:84:-;7399:22;;:31;;;;;;;;7369:7;;-1:-1:-1;;;;;7399:22:84;;:29;;:31;;;;;;;;;;;;;;:22;:31;;;5:2:-1;;;;30:1;27;20:12;5:2;7399:31:84;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;7399:31:84;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;7399:31:84;;;;;;;;;7392:38;;7298:139;:::o;3311:27::-;;;-1:-1:-1;;;;;3311:27:84;;:::o;4067:200:176:-;4172:10;4147:4;4193:20;;;:8;:20;;;;;;;;-1:-1:-1;;;;;4193:29:176;;;;;;;;;;4147:4;;4163:76;;4184:7;;4193:45;;4227:10;4193:45;:33;:45;:::i;2148:29:84:-;;;-1:-1:-1;;;;;2148:29:84;;:::o;3491:26::-;;;;:::o;2246:44::-;;;-1:-1:-1;;;;;2246:44:84;;:::o;2421:27::-;;;-1:-1:-1;;;;;2421:27:84;;:::o;2350:22::-;;;-1:-1:-1;;;;;2350:22:84;;:::o;1869:36::-;;;-1:-1:-1;;;;;1869:36:84;;:::o;1217:104:176:-;-1:-1:-1;;;;;1298:16:176;1272:7;1298:16;;;;;;;;;;;;1217:104::o;3757:29:84:-;;;;:::o;7538:229::-;7672:16;;;7686:1;7672:16;;;;;;;;;7610;;;;7672;;;;;;;105:10:-1;7672:16:84;88:34:-1;-1:-1;;7722:10:84;;7698:13;;;;-1:-1:-1;;;;;;7722:10:84;;7698:13;;-1:-1:-1;7722:10:84;;7698:13;;;;-1:-1:-1;;;;;7698:35:84;;;:13;;;;;;;;;;;:35;7750:10;-1:-1:-1;7538:229:84;:::o;4215:33::-;;;;:::o;4786:210:176:-;4896:10;4871:4;4917:20;;;:8;:20;;;;;;;;-1:-1:-1;;;;;4917:29:176;;;;;;;;;;4871:4;;4887:81;;4908:7;;4917:50;;4951:15;4917:50;:33;:50;:::i;1948:137::-;2009:4;2025:32;2035:10;2047:2;2051:5;2025:9;:32::i;3846:37:84:-;;;;:::o;1682:::-;;;-1:-1:-1;;;;;1682:37:84;;:::o;4124:24::-;;;-1:-1:-1;;;;;4124:24:84;;:::o;5780:186::-;4744:17;:15;:17::i;:::-;5920:7;;5891:37;;;;;;5907:11;;-1:-1:-1;;;;;5920:7:84;;5891:37;;;;;;;;;;5938:7;:21;;-1:-1:-1;;5938:21:84;-1:-1:-1;;;;;5938:21:84;;;;;;;;;;5780:186::o;1652:129:176:-;-1:-1:-1;;;;;1750:15:176;;;1724:7;1750:15;;;:8;:15;;;;;;;;:24;;;;;;;;;;;;;1652:129::o;6889:216:84:-;4744:17;:15;:17::i;:::-;7044:12;;7010:47;;;;;;7026:16;;-1:-1:-1;;;;;7044:12:84;;7010:47;;;;;;;;;;7067:12;:31;;-1:-1:-1;;7067:31:84;-1:-1:-1;;;;;7067:31:84;;;;;;;;;;6889:216::o;5972:338::-;4744:17;:15;:17::i;:::-;6080:69;6136:12;6080:55;:69::i;:::-;6160:59;6206:12;6160:45;:59::i;:::-;6235:35;6247:12;6261:8;;6235:35;;;;;;;;;;;;;;;;6280:8;:23;5972:338::o;4473:21::-;;;;;;:::o;1617:17::-;;;-1:-1:-1;;;;;1617:17:84;;:::o;3632:46::-;;;;;;:::o;1763:19::-;;;-1:-1:-1;;;;;1763:19:84;;:::o;8449:137::-;8535:7;;-1:-1:-1;;;;;8535:7:84;8521:10;:21;8500:79;;;;-1:-1:-1;;;;;8500:79:84;;;;;;;;;8449:137::o;6831:248:176:-;-1:-1:-1;;;;;6923:21:176;;6915:30;;;;;;-1:-1:-1;;;;;6963:19:176;;6955:28;;;;;;-1:-1:-1;;;;;6994:15:176;;;;;;;:8;:15;;;;;;;;:24;;;;;;;;;;;;;;:32;;;7041:31;;;;;7021:5;;7041:31;;;;;;;;;;6831:248;;;:::o;5215:256::-;-1:-1:-1;;;;;5302:16:176;;5294:25;;;;;;-1:-1:-1;;;;;5348:15:176;;:9;:15;;;;;;;;;;;:26;;5368:5;5348:26;:19;:26;:::i;:::-;-1:-1:-1;;;;;5330:15:176;;;:9;:15;;;;;;;;;;;:44;;;;5400:13;;;;;;;:24;;5418:5;5400:24;:17;:24;:::i;:::-;-1:-1:-1;;;;;5384:13:176;;;:9;:13;;;;;;;;;;;;:40;;;;5439:25;;;;;;;;;;5458:5;;5439:25;;1211:145:174;1269:7;1301:1;1296;:6;;1288:15;;;;;;-1:-1:-1;1325:5:174;;;1211:145::o;1439:::-;1497:7;1528:5;;;1551:6;;;;1543:15;;;;;876:152:123;812:4;972:6;:29;;964:57;;;;-1:-1:-1;;;;;964:57:123;;;;;;;;;876:152;:::o;1034:189::-;1133:27;:6;865:4;1133:27;:10;:27;:::i;:::-;:32;1112:104;;;;-1:-1:-1;;;;;1112:104:123;;;;;;;;1739:121:174;1797:7;1824:6;1816:15;;;;;;1852:1;1848;:5;;;;;;;1739:121;-1:-1:-1;;;1739:121:174:o;5:118:-1:-;;72:46;110:6;97:20;72:46;;130:116;;205:36;233:6;227:13;205:36;;253:158;;340:66;398:6;385:20;340:66;;418:118;;485:46;523:6;510:20;485:46;;543:122;;621:39;652:6;646:13;621:39;;672:241;;776:2;764:9;755:7;751:23;747:32;744:2;;;792:1;789;782:12;744:2;827:1;844:53;889:7;869:9;844:53;;;834:63;738:175;-1:-1;;;;738:175;920:366;;;1041:2;1029:9;1020:7;1016:23;1012:32;1009:2;;;1057:1;1054;1047:12;1009:2;1092:1;1109:53;1154:7;1134:9;1109:53;;;1099:63;;1071:97;1199:2;1217:53;1262:7;1253:6;1242:9;1238:22;1217:53;;;1207:63;;1178:98;1003:283;;;;;;1293:491;;;;1431:2;1419:9;1410:7;1406:23;1402:32;1399:2;;;1447:1;1444;1437:12;1399:2;1482:1;1499:53;1544:7;1524:9;1499:53;;;1489:63;;1461:97;1589:2;1607:53;1652:7;1643:6;1632:9;1628:22;1607:53;;;1597:63;;1568:98;1697:2;1715:53;1760:7;1751:6;1740:9;1736:22;1715:53;;;1705:63;;1676:98;1393:391;;;;;;1791:366;;;1912:2;1900:9;1891:7;1887:23;1883:32;1880:2;;;1928:1;1925;1918:12;1880:2;1963:1;1980:53;2025:7;2005:9;1980:53;;;1970:63;;1942:97;2070:2;2088:53;2133:7;2124:6;2113:9;2109:22;2088:53;;2164:257;;2276:2;2264:9;2255:7;2251:23;2247:32;2244:2;;;2292:1;2289;2282:12;2244:2;2327:1;2344:61;2397:7;2377:9;2344:61;;2428:281;;2552:2;2540:9;2531:7;2527:23;2523:32;2520:2;;;2568:1;2565;2558:12;2520:2;2603:1;2620:73;2685:7;2665:9;2620:73;;2716:241;;2820:2;2808:9;2799:7;2795:23;2791:32;2788:2;;;2836:1;2833;2826:12;2788:2;2871:1;2888:53;2933:7;2913:9;2888:53;;2964:263;;3079:2;3067:9;3058:7;3054:23;3050:32;3047:2;;;3095:1;3092;3085:12;3047:2;3130:1;3147:64;3203:7;3183:9;3147:64;;3235:173;;3322:46;3364:3;3356:6;3322:46;;;-1:-1;;3397:4;3388:14;;3315:93;3417:173;;3504:46;3546:3;3538:6;3504:46;;3598:110;3671:31;3696:5;3671:31;;;3666:3;3659:44;3653:55;;;3873:621;;4018:54;4066:5;4018:54;;;4085:86;4164:6;4159:3;4085:86;;;4078:93;;4191:56;4241:5;4191:56;;;4268:1;4253:219;4278:6;4275:1;4272:13;4253:219;;;4325:63;4384:3;4375:6;4369:13;4325:63;;;4318:70;;4405:60;4458:6;4405:60;;;4395:70;-1:-1;4300:1;4293:9;4253:219;;;-1:-1;4485:3;;3997:497;-1:-1;;;;3997:497;4533:621;;4678:54;4726:5;4678:54;;;4745:86;4824:6;4819:3;4745:86;;;4738:93;;4851:56;4901:5;4851:56;;;4928:1;4913:219;4938:6;4935:1;4932:13;4913:219;;;4985:63;5044:3;5035:6;5029:13;4985:63;;;4978:70;;5065:60;5118:6;5065:60;;;5055:70;-1:-1;4960:1;4953:9;4913:219;;5162:111;5239:28;5261:5;5239:28;;5280:154;5377:51;5422:5;5377:51;;6491:142;6582:45;6621:5;6582:45;;6641:364;;6801:67;6865:2;6860:3;6801:67;;;6901:66;6881:87;;6996:2;6987:12;;6787:218;-1:-1;;6787:218;7014:364;;7174:67;7238:2;7233:3;7174:67;;;7274:66;7254:87;;7369:2;7360:12;;7160:218;-1:-1;;7160:218;7387:364;;7547:67;7611:2;7606:3;7547:67;;;7647:66;7627:87;;7742:2;7733:12;;7533:218;-1:-1;;7533:218;7760:364;;7920:67;7984:2;7979:3;7920:67;;;8020:66;8000:87;;8115:2;8106:12;;7906:218;-1:-1;;7906:218;8133:364;;8293:67;8357:2;8352:3;8293:67;;;8393:66;8373:87;;8488:2;8479:12;;8279:218;-1:-1;;8279:218;8505:110;8578:31;8603:5;8578:31;;8749:213;8867:2;8852:18;;8881:71;8856:9;8925:6;8881:71;;8969:324;9115:2;9100:18;;9129:71;9104:9;9173:6;9129:71;;;9211:72;9279:2;9268:9;9264:18;9255:6;9211:72;;9300:361;9468:2;9482:47;;;9453:18;;9543:108;9453:18;9637:6;9543:108;;9668:361;9836:2;9850:47;;;9821:18;;9911:108;9821:18;10005:6;9911:108;;10036:201;10148:2;10133:18;;10162:65;10137:9;10200:6;10162:65;;10244:241;10376:2;10361:18;;10390:85;10365:9;10448:6;10390:85;;12064:229;12190:2;12175:18;;12204:79;12179:9;12256:6;12204:79;;12300:407;12491:2;12505:47;;;12476:18;;12566:131;12476:18;12566:131;;12714:407;12905:2;12919:47;;;12890:18;;12980:131;12890:18;12980:131;;13128:407;13319:2;13333:47;;;13304:18;;13394:131;13304:18;13394:131;;13542:407;13733:2;13747:47;;;13718:18;;13808:131;13718:18;13808:131;;13956:407;14147:2;14161:47;;;14132:18;;14222:131;14132:18;14222:131;;14370:213;14488:2;14473:18;;14502:71;14477:9;14546:6;14502:71;;14590:324;14736:2;14721:18;;14750:71;14725:9;14794:6;14750:71;;;14832:72;14900:2;14889:9;14885:18;14876:6;14832:72;;14923:121;15032:4;15020:17;;15001:43;15185:107;15275:12;;15259:33;15676:178;15794:19;;;15843:4;15834:14;;15787:67;16221:105;;16290:31;16315:5;16290:31;;16333:92;16406:13;16399:21;;16382:43;16432:127;;16520:1;16513:5;16510:12;16500:2;;16526:9;16500:2;-1:-1;16549:5;16494:65;16566:128;-1:-1;;;;;16635:54;;16618:76;16701:79;16770:5;16753:27;16998:125;;17087:31;17112:5;17087:31;;19521:133;;19608:41;19643:5;19608:41;",source:'/*\n    Copyright 2020 Set Labs Inc.\n\n    Licensed under the Apache License, Version 2.0 (the "License");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an "AS IS" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n*/\n\npragma solidity 0.5.7;\npragma experimental "ABIEncoderV2";\n\nimport { SafeMath } from "openzeppelin-solidity/contracts/math/SafeMath.sol";\nimport { ERC20 } from "openzeppelin-solidity/contracts/token/ERC20/ERC20.sol";\n\nimport { CommonMath } from "../../../lib/CommonMath.sol";\nimport { RebalancingLibrary } from "../../lib/RebalancingLibrary.sol";\nimport { RebalancingSetState } from "../rebalancing-v2/RebalancingSetState.sol";\n\n\n/**\n * @title IncentiveFee\n * @author Set Protocol\n */\ncontract IncentiveFee is\n    ERC20,\n    RebalancingSetState\n{\n    using SafeMath for uint256;\n    using CommonMath for uint256;\n\n    /* ============ Events ============ */\n\n    event IncentiveFeePaid(\n        address indexed feeRecipient,\n        uint256 feeQuantity,\n        uint256 feePercentage,\n        uint256 newUnitShares\n    );\n\n    /* ============ Internal Functions ============ */\n\n    /**\n     * Calculates the fee and mints the rebalancing SetToken quantity to the recipient.\n     * The minting is done without an increase to the total collateral controlled by the\n     * rebalancing SetToken. In effect, the existing holders are paying the fee via inflation.\n     *\n     * @return feePercentage\n     * @return feeQuantity\n     */\n    function handleFees()\n        internal\n        returns (uint256, uint256)\n    {\n        // Represents a decimal value scaled by 1e18 (e.g. 100% = 1e18 and 1% = 1e16)\n        uint256 feePercent = rebalanceFeeCalculator.updateAndGetFee();\n        uint256 feeQuantity = calculateIncentiveFeeInflation(feePercent);\n\n        if (feeQuantity > 0) {\n            ERC20._mint(feeRecipient, feeQuantity);\n        }\n\n        return (feePercent, feeQuantity);\n    }\n\n    /**\n     * Returns the new incentive fee. The calculation for the fee involves implying\n     * mint quantity so that the feeRecipient owns the fee percentage of the entire\n     * supply of the Set.\n     *\n     * The formula to solve for fee is:\n     * feeQuantity / feeQuantity + totalSupply = fee / scaleFactor\n     *\n     * The simplified formula utilized below is:\n     * feeQuantity = fee * totalSupply / (scaleFactor - fee)\n     *\n     * @param   _feePercentage          Fee levied to feeRecipient\n     * @return  uint256                 New RebalancingSet issue quantity\n     */\n    function calculateIncentiveFeeInflation(\n        uint256 _feePercentage\n    )\n        internal\n        view\n        returns(uint256)\n    {\n        // fee * totalSupply\n        uint256 a = _feePercentage.mul(totalSupply());\n\n        // ScaleFactor (10e18) - fee\n        uint256 b = CommonMath.scaleFactor().sub(_feePercentage);\n\n        return a.div(b);\n    }\n\n    /*\n     * The Rebalancing SetToken must be in Default state.\n     */\n    function validateFeeActualization() internal view {\n        validateRebalanceStateIs(RebalancingLibrary.State.Default);\n    }\n\n    /*\n     * After the minting of new inflation fees, the unit shares must be updated.\n     * The formula is as follows:\n     * newUnitShares = currentSetAmount * rebalanceSetNaturalUnit / rebalanceSetTotalSupply\n     */\n    function calculateNewUnitShares() internal view returns(uint256) {\n        uint256 currentSetAmount = vault.getOwnerBalance(\n            address(currentSet),\n            address(this)\n        );\n\n        return currentSetAmount.mul(naturalUnit).divCeil(totalSupply());\n    }\n}\n',sourcePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/tokens/rebalancing-v3/IncentiveFee.sol",ast:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/tokens/rebalancing-v3/IncentiveFee.sol",exportedSymbols:{IncentiveFee:[20163]},id:20164,nodeType:"SourceUnit",nodes:[{id:20028,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:88"},{id:20029,literals:["experimental","ABIEncoderV2"],nodeType:"PragmaDirective",src:"620:35:88"},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:20031,nodeType:"ImportDirective",scope:20164,sourceUnit:29641,src:"657:77:88",symbolAliases:[{foreign:20030,local:null}],unitAlias:""},{absolutePath:"openzeppelin-solidity/contracts/token/ERC20/ERC20.sol",file:"openzeppelin-solidity/contracts/token/ERC20/ERC20.sol",id:20033,nodeType:"ImportDirective",scope:20164,sourceUnit:30133,src:"735:78:88",symbolAliases:[{foreign:20032,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/CommonMath.sol",file:"../../../lib/CommonMath.sol",id:20035,nodeType:"ImportDirective",scope:20164,sourceUnit:23437,src:"815:57:88",symbolAliases:[{foreign:20034,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/RebalancingLibrary.sol",file:"../../lib/RebalancingLibrary.sol",id:20037,nodeType:"ImportDirective",scope:20164,sourceUnit:6658,src:"873:70:88",symbolAliases:[{foreign:20036,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/tokens/rebalancing-v2/RebalancingSetState.sol",file:"../rebalancing-v2/RebalancingSetState.sol",id:20039,nodeType:"ImportDirective",scope:20164,sourceUnit:19315,src:"944:80:88",symbolAliases:[{foreign:20038,local:null}],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:20040,name:"ERC20",nodeType:"UserDefinedTypeName",referencedDeclaration:30132,src:"1111:5:88",typeDescriptions:{typeIdentifier:"t_contract$_ERC20_$30132",typeString:"contract ERC20"}},id:20041,nodeType:"InheritanceSpecifier",src:"1111:5:88"},{arguments:null,baseName:{contractScope:null,id:20042,name:"RebalancingSetState",nodeType:"UserDefinedTypeName",referencedDeclaration:19314,src:"1122:19:88",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetState_$19314",typeString:"contract RebalancingSetState"}},id:20043,nodeType:"InheritanceSpecifier",src:"1122:19:88"}],contractDependencies:[19314,30132,30259],contractKind:"contract",documentation:"@title IncentiveFee\n@author Set Protocol",fullyImplemented:true,id:20163,linearizedBaseContracts:[20163,19314,30132,30259],name:"IncentiveFee",nodeType:"ContractDefinition",nodes:[{id:20046,libraryName:{contractScope:null,id:20044,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:29640,src:"1154:8:88",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$29640",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"1148:27:88",typeName:{id:20045,name:"uint256",nodeType:"ElementaryTypeName",src:"1167:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{id:20049,libraryName:{contractScope:null,id:20047,name:"CommonMath",nodeType:"UserDefinedTypeName",referencedDeclaration:23436,src:"1186:10:88",typeDescriptions:{typeIdentifier:"t_contract$_CommonMath_$23436",typeString:"library CommonMath"}},nodeType:"UsingForDirective",src:"1180:29:88",typeName:{id:20048,name:"uint256",nodeType:"ElementaryTypeName",src:"1201:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{anonymous:false,documentation:null,id:20059,name:"IncentiveFeePaid",nodeType:"EventDefinition",parameters:{id:20058,nodeType:"ParameterList",parameters:[{constant:false,id:20051,indexed:true,name:"feeRecipient",nodeType:"VariableDeclaration",scope:20059,src:"1291:28:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:20050,name:"address",nodeType:"ElementaryTypeName",src:"1291:7:88",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:20053,indexed:false,name:"feeQuantity",nodeType:"VariableDeclaration",scope:20059,src:"1329:19:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20052,name:"uint256",nodeType:"ElementaryTypeName",src:"1329:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:20055,indexed:false,name:"feePercentage",nodeType:"VariableDeclaration",scope:20059,src:"1358:21:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20054,name:"uint256",nodeType:"ElementaryTypeName",src:"1358:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:20057,indexed:false,name:"newUnitShares",nodeType:"VariableDeclaration",scope:20059,src:"1389:21:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20056,name:"uint256",nodeType:"ElementaryTypeName",src:"1389:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1281:135:88"},src:"1259:158:88"},{body:{id:20094,nodeType:"Block",src:"1908:375:88",statements:[{assignments:[20067],declarations:[{constant:false,id:20067,name:"feePercent",nodeType:"VariableDeclaration",scope:20094,src:"2004:18:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20066,name:"uint256",nodeType:"ElementaryTypeName",src:"2004:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:20071,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:20068,name:"rebalanceFeeCalculator",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:18977,src:"2025:22:88",typeDescriptions:{typeIdentifier:"t_contract$_IFeeCalculator_$4867",typeString:"contract IFeeCalculator"}},id:20069,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"updateAndGetFee",nodeType:"MemberAccess",referencedDeclaration:4861,src:"2025:38:88",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$__$returns$_t_uint256_$",typeString:"function () external returns (uint256)"}},id:20070,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2025:40:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"2004:61:88"},{assignments:[20073],declarations:[{constant:false,id:20073,name:"feeQuantity",nodeType:"VariableDeclaration",scope:20094,src:"2075:19:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20072,name:"uint256",nodeType:"ElementaryTypeName",src:"2075:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:20077,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:20075,name:"feePercent",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:20067,src:"2128:10:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:20074,name:"calculateIncentiveFeeInflation",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:20125,src:"2097:30:88",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256) view returns (uint256)"}},id:20076,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2097:42:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"2075:64:88"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"
},id:20080,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:20078,name:"feeQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:20073,src:"2154:11:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:20079,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2168:1:88",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"2154:15:88",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:20089,nodeType:"IfStatement",src:"2150:84:88",trueBody:{id:20088,nodeType:"Block",src:"2171:63:88",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:20084,name:"feeRecipient",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:18981,src:"2197:12:88",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:20085,name:"feeQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:20073,src:"2211:11:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:20081,name:"ERC20",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30132,src:"2185:5:88",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC20_$30132_$",typeString:"type(contract ERC20)"}},id:20083,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"_mint",nodeType:"MemberAccess",referencedDeclaration:30021,src:"2185:11:88",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,uint256)"}},id:20086,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2185:38:88",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:20087,nodeType:"ExpressionStatement",src:"2185:38:88"}]}},{expression:{argumentTypes:null,components:[{argumentTypes:null,id:20090,name:"feePercent",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:20067,src:"2252:10:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:20091,name:"feeQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:20073,src:"2264:11:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],id:20092,isConstant:false,isInlineArray:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"TupleExpression",src:"2251:25:88",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$",typeString:"tuple(uint256,uint256)"}},functionReturnParameters:20065,id:20093,nodeType:"Return",src:"2244:32:88"}]},documentation:"Calculates the fee and mints the rebalancing SetToken quantity to the recipient.\nThe minting is done without an increase to the total collateral controlled by the\nrebalancing SetToken. In effect, the existing holders are paying the fee via inflation.\n     * @return feePercentage\n@return feeQuantity",id:20095,implemented:true,kind:"function",modifiers:[],name:"handleFees",nodeType:"FunctionDefinition",parameters:{id:20060,nodeType:"ParameterList",parameters:[],src:"1849:2:88"},returnParameters:{id:20065,nodeType:"ParameterList",parameters:[{constant:false,id:20062,name:"",nodeType:"VariableDeclaration",scope:20095,src:"1886:7:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20061,name:"uint256",nodeType:"ElementaryTypeName",src:"1886:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:20064,name:"",nodeType:"VariableDeclaration",scope:20095,src:"1895:7:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20063,name:"uint256",nodeType:"ElementaryTypeName",src:"1895:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1885:18:88"},scope:20163,src:"1830:453:88",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:20124,nodeType:"Block",src:"3015:221:88",statements:[{assignments:[20103],declarations:[{constant:false,id:20103,name:"a",nodeType:"VariableDeclaration",scope:20124,src:"3054:9:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20102,name:"uint256",nodeType:"ElementaryTypeName",src:"3054:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:20109,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:20106,name:"totalSupply",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:29778,src:"3085:11:88",typeDescriptions:{typeIdentifier:"t_function_internal_view$__$returns$_t_uint256_$",typeString:"function () view returns (uint256)"}},id:20107,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3085:13:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:20104,name:"_feePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:20097,src:"3066:14:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:20105,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"3066:18:88",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:20108,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3066:33:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"3054:45:88"},{assignments:[20111],declarations:[{constant:false,id:20111,name:"b",nodeType:"VariableDeclaration",scope:20124,src:"3147:9:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20110,name:"uint256",nodeType:"ElementaryTypeName",src:"3147:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:20118,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:20116,name:"_feePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:20097,src:"3188:14:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:20112,name:"CommonMath",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:23436,src:"3159:10:88",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_CommonMath_$23436_$",typeString:"type(library CommonMath)"}},id:20113,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"scaleFactor",nodeType:"MemberAccess",referencedDeclaration:23124,src:"3159:22:88",typeDescriptions:{typeIdentifier:"t_function_internal_pure$__$returns$_t_uint256_$",typeString:"function () pure returns (uint256)"}},id:20114,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3159:24:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:20115,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"3159:28:88",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:20117,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3159:44:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"3147:56:88"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:20121,name:"b",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:20111,src:"3227:1:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:20119,name:"a",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:20103,src:"3221:1:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:20120,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"3221:5:88",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:20122,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3221:8:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:20101,id:20123,nodeType:"Return",src:"3214:15:88"}]},documentation:"Returns the new incentive fee. The calculation for the fee involves implying\nmint quantity so that the feeRecipient owns the fee percentage of the entire\nsupply of the Set.\n     * The formula to solve for fee is:\nfeeQuantity / feeQuantity + totalSupply = fee / scaleFactor\n     * The simplified formula utilized below is:\nfeeQuantity = fee * totalSupply / (scaleFactor - fee)\n     * @param   _feePercentage          Fee levied to feeRecipient\n@return  uint256                 New RebalancingSet issue quantity",id:20125,implemented:true,kind:"function",modifiers:[],name:"calculateIncentiveFeeInflation",nodeType:"FunctionDefinition",parameters:{id:20098,nodeType:"ParameterList",parameters:[{constant:false,id:20097,name:"_feePercentage",nodeType:"VariableDeclaration",scope:20125,src:"2927:22:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20096,name:"uint256",nodeType:"ElementaryTypeName",src:"2927:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"2917:38:88"},returnParameters:{id:20101,nodeType:"ParameterList",parameters:[{constant:false,id:20100,name:"",nodeType:"VariableDeclaration",scope:20125,src:"3002:7:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20099,name:"uint256",nodeType:"ElementaryTypeName",src:"3002:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"3001:9:88"},scope:20163,src:"2878:358:88",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:20134,nodeType:"Block",src:"3365:75:88",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,expression:{argumentTypes:null,id:20129,name:"RebalancingLibrary",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6657,src:"3400:18:88",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_RebalancingLibrary_$6657_$",typeString:"type(library RebalancingLibrary)"}},id:20130,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"State",nodeType:"MemberAccess",referencedDeclaration:6633,src:"3400:24:88",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_State_$6633_$",typeString:"type(enum RebalancingLibrary.State)"}},id:20131,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,memberName:"Default",nodeType:"MemberAccess",referencedDeclaration:null,src:"3400:32:88",typeDescriptions:{typeIdentifier:"t_enum$_State_$6633",typeString:"enum RebalancingLibrary.State"}}],expression:{argumentTypes:[{typeIdentifier:"t_enum$_State_$6633",typeString:"enum RebalancingLibrary.State"}],id:20128,name:"validateRebalanceStateIs",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:19300,src:"3375:24:88",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_enum$_State_$6633_$returns$__$",typeString:"function (enum RebalancingLibrary.State) view"}},id:20132,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3375:58:88",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:20133,nodeType:"ExpressionStatement",src:"3375:58:88"}]},documentation:null,id:20135,implemented:true,kind:"function",modifiers:[],name:"validateFeeActualization",nodeType:"FunctionDefinition",parameters:{id:20126,nodeType:"ParameterList",parameters:[],src:"3348:2:88"},returnParameters:{id:20127,nodeType:"ParameterList",parameters:[],src:"3365:0:88"},scope:20163,src:"3315:125:88",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:20161,nodeType:"Block",src:"3733:209:88",statements:[{assignments:[20141],declarations:[{constant:false,id:20141,name:"currentSetAmount",nodeType:"VariableDeclaration",scope:20161,src:"3743:24:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20140,name:"uint256",nodeType:"ElementaryTypeName",src:"3743:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:20151,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:20145,name:"currentSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:18989,src:"3813:10:88",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}],id:20144,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"3805:7:88",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:20146,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3805:19:88",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:20148,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30620,src:"3846:4:88",typeDescriptions:{typeIdentifier:"t_contract$_IncentiveFee_$20163",typeString:"contract IncentiveFee"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_IncentiveFee_$20163",typeString:"contract IncentiveFee"}],id:20147,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"3838:7:88",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:20149,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3838:13:88",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"}],expression:{argumentTypes:null,id:20142,name:"vault",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:18969,src:"3770:5:88",typeDescriptions:{typeIdentifier:"t_contract$_IVault_$5782",typeString:"contract IVault"}},id:20143,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getOwnerBalance",nodeType:"MemberAccess",referencedDeclaration:5781,src:"3770:21:88",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_address_$_t_address_$returns$_t_uint256_$",typeString:"function (address,address) view external returns (uint256)"}},id:20150,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3770:91:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"3743:118:88"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:20157,name:"totalSupply",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:29778,src:"3921:11:88",typeDescriptions:{typeIdentifier:"t_function_internal_view$__$returns$_t_uint256_$",typeString:"function () view returns (uint256)"}},id:20158,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3921:13:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:20154,name:"naturalUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:18993,src:"3900:11:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:20152,name:"currentSetAmount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:20141,src:"3879:16:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:20153,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"3879:20:88",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:20155,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3879:33:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:20156,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"divCeil",nodeType:"MemberAccess",referencedDeclaration:23232,src:"3879:41:88",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:20159,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3879:56:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:20139,id:20160,nodeType:"Return",src:"3872:63:88"}]},documentation:null,id:20162,implemented:true,kind:"function",modifiers:[],name:"calculateNewUnitShares",nodeType:"FunctionDefinition",parameters:{id:20136,nodeType:"ParameterList",parameters:[],src:"3699:2:88"},returnParameters:{id:20139,nodeType:"ParameterList",parameters:[{constant:false,id:20138,name:"",nodeType:"VariableDeclaration",scope:20162,src:"3724:7:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20137,name:"uint256",nodeType:"ElementaryTypeName",src:"3724:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"3723:9:88"},scope:20163,src:"3668:274:88",stateMutability:"view",superFunction:null,visibility:"internal"}],scope:20164,src:"1082:2862:88"}],src:"597:3348:88"},legacyAST:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/tokens/rebalancing-v3/IncentiveFee.sol",exportedSymbols:{IncentiveFee:[20163]},id:20164,nodeType:"SourceUnit",nodes:[{id:20028,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:88"},{id:20029,literals:["experimental","ABIEncoderV2"],nodeType:"PragmaDirective",src:"620:35:88"},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:20031,nodeType:"ImportDirective",scope:20164,sourceUnit:29641,src:"657:77:88",symbolAliases:[{foreign:20030,local:null}],unitAlias:""},{absolutePath:"openzeppelin-solidity/contracts/token/ERC20/ERC20.sol",file:"openzeppelin-solidity/contracts/token/ERC20/ERC20.sol",id:20033,nodeType:"ImportDirective",scope:20164,sourceUnit:30133,src:"735:78:88",symbolAliases:[{foreign:20032,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/CommonMath.sol",file:"../../../lib/CommonMath.sol",id:20035,nodeType:"ImportDirective",scope:20164,sourceUnit:23437,src:"815:57:88",symbolAliases:[{foreign:20034,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/RebalancingLibrary.sol",file:"../../lib/RebalancingLibrary.sol",id:20037,nodeType:"ImportDirective",scope:20164,sourceUnit:6658,src:"873:70:88",symbolAliases:[{foreign:20036,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/tokens/rebalancing-v2/RebalancingSetState.sol",file:"../rebalancing-v2/RebalancingSetState.sol",id:20039,nodeType:"ImportDirective",scope:20164,sourceUnit:19315,src:"944:80:88",symbolAliases:[{foreign:20038,local:null}],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:20040,name:"ERC20",nodeType:"UserDefinedTypeName",referencedDeclaration:30132,src:"1111:5:88",typeDescriptions:{typeIdentifier:"t_contract$_ERC20_$30132",typeString:"contract ERC20"}},id:20041,nodeType:"InheritanceSpecifier",src:"1111:5:88"},{arguments:null,baseName:{contractScope:null,id:20042,name:"RebalancingSetState",nodeType:"UserDefinedTypeName",referencedDeclaration:19314,src:"1122:19:88",typeDescriptions:{typeIdentifier:"t_contract$_RebalancingSetState_$19314",typeString:"contract RebalancingSetState"}},id:20043,nodeType:"InheritanceSpecifier",src:"1122:19:88"}],contractDependencies:[19314,30132,30259],contractKind:"contract",documentation:"@title IncentiveFee\n@author Set Protocol",fullyImplemented:true,id:20163,linearizedBaseContracts:[20163,19314,30132,30259],name:"IncentiveFee",nodeType:"ContractDefinition",nodes:[{id:20046,libraryName:{contractScope:null,id:20044,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:29640,src:"1154:8:88",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$29640",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"1148:27:88",typeName:{id:20045,name:"uint256",nodeType:"ElementaryTypeName",src:"1167:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{id:20049,libraryName:{contractScope:null,id:20047,name:"CommonMath",nodeType:"UserDefinedTypeName",referencedDeclaration:23436,src:"1186:10:88",typeDescriptions:{typeIdentifier:"t_contract$_CommonMath_$23436",typeString:"library CommonMath"}},nodeType:"UsingForDirective",src:"1180:29:88",typeName:{id:20048,name:"uint256",nodeType:"ElementaryTypeName",src:"1201:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{anonymous:false,documentation:null,id:20059,name:"IncentiveFeePaid",nodeType:"EventDefinition",parameters:{id:20058,nodeType:"ParameterList",parameters:[{constant:false,id:20051,indexed:true,name:"feeRecipient",nodeType:"VariableDeclaration",scope:20059,src:"1291:28:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:20050,name:"address",nodeType:"ElementaryTypeName",src:"1291:7:88",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:20053,indexed:false,name:"feeQuantity",nodeType:"VariableDeclaration",scope:20059,src:"1329:19:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20052,name:"uint256",nodeType:"ElementaryTypeName",src:"1329:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:20055,indexed:false,name:"feePercentage",nodeType:"VariableDeclaration",scope:20059,src:"1358:21:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20054,name:"uint256",nodeType:"ElementaryTypeName",src:"1358:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:20057,indexed:false,name:"newUnitShares",nodeType:"VariableDeclaration",scope:20059,src:"1389:21:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20056,name:"uint256",nodeType:"ElementaryTypeName",src:"1389:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1281:135:88"},src:"1259:158:88"},{body:{id:20094,nodeType:"Block",src:"1908:375:88",statements:[{assignments:[20067],declarations:[{constant:false,id:20067,name:"feePercent",nodeType:"VariableDeclaration",scope:20094,src:"2004:18:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20066,name:"uint256",nodeType:"ElementaryTypeName",src:"2004:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:20071,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:20068,name:"rebalanceFeeCalculator",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:18977,src:"2025:22:88",typeDescriptions:{typeIdentifier:"t_contract$_IFeeCalculator_$4867",typeString:"contract IFeeCalculator"}},id:20069,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"updateAndGetFee",nodeType:"MemberAccess",referencedDeclaration:4861,src:"2025:38:88",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$__$returns$_t_uint256_$",typeString:"function () external returns (uint256)"}},id:20070,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2025:40:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"2004:61:88"},{assignments:[20073],declarations:[{constant:false,id:20073,name:"feeQuantity",nodeType:"VariableDeclaration",scope:20094,src:"2075:19:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20072,name:"uint256",nodeType:"ElementaryTypeName",src:"2075:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:20077,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:20075,name:"feePercent",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:20067,src:"2128:10:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:20074,name:"calculateIncentiveFeeInflation",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:20125,src:"2097:30:88",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256) view returns (uint256)"}},id:20076,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2097:42:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"2075:64:88"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:20080,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:20078,name:"feeQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:20073,src:"2154:11:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:20079,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2168:1:88",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"2154:15:88",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:20089,nodeType:"IfStatement",src:"2150:84:88",trueBody:{id:20088,nodeType:"Block",src:"2171:63:88",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:20084,name:"feeRecipient",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:18981,src:"2197:12:88",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:20085,name:"feeQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:20073,src:"2211:11:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:20081,name:"ERC20",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30132,src:"2185:5:88",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC20_$30132_$",typeString:"type(contract ERC20)"}},id:20083,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"_mint",nodeType:"MemberAccess",referencedDeclaration:30021,src:"2185:11:88",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_uint256_$returns$__$",typeString:"function (address,uint256)"}},id:20086,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2185:38:88",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:20087,nodeType:"ExpressionStatement",src:"2185:38:88"}]}},{expression:{argumentTypes:null,components:[{argumentTypes:null,id:20090,name:"feePercent",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:20067,src:"2252:10:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:20091,name:"feeQuantity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:20073,src:"2264:11:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],id:20092,isConstant:false,isInlineArray:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"TupleExpression",src:"2251:25:88",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$",typeString:"tuple(uint256,uint256)"}},functionReturnParameters:20065,id:20093,nodeType:"Return",src:"2244:32:88"}]},documentation:"Calculates the fee and mints the rebalancing SetToken quantity to the recipient.\nThe minting is done without an increase to the total collateral controlled by the\nrebalancing SetToken. In effect, the existing holders are paying the fee via inflation.\n     * @return feePercentage\n@return feeQuantity",id:20095,implemented:true,kind:"function",modifiers:[],name:"handleFees",nodeType:"FunctionDefinition",parameters:{id:20060,nodeType:"ParameterList",parameters:[],
src:"1849:2:88"},returnParameters:{id:20065,nodeType:"ParameterList",parameters:[{constant:false,id:20062,name:"",nodeType:"VariableDeclaration",scope:20095,src:"1886:7:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20061,name:"uint256",nodeType:"ElementaryTypeName",src:"1886:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:20064,name:"",nodeType:"VariableDeclaration",scope:20095,src:"1895:7:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20063,name:"uint256",nodeType:"ElementaryTypeName",src:"1895:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1885:18:88"},scope:20163,src:"1830:453:88",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:20124,nodeType:"Block",src:"3015:221:88",statements:[{assignments:[20103],declarations:[{constant:false,id:20103,name:"a",nodeType:"VariableDeclaration",scope:20124,src:"3054:9:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20102,name:"uint256",nodeType:"ElementaryTypeName",src:"3054:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:20109,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:20106,name:"totalSupply",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:29778,src:"3085:11:88",typeDescriptions:{typeIdentifier:"t_function_internal_view$__$returns$_t_uint256_$",typeString:"function () view returns (uint256)"}},id:20107,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3085:13:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:20104,name:"_feePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:20097,src:"3066:14:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:20105,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"3066:18:88",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:20108,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3066:33:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"3054:45:88"},{assignments:[20111],declarations:[{constant:false,id:20111,name:"b",nodeType:"VariableDeclaration",scope:20124,src:"3147:9:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20110,name:"uint256",nodeType:"ElementaryTypeName",src:"3147:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:20118,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:20116,name:"_feePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:20097,src:"3188:14:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:20112,name:"CommonMath",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:23436,src:"3159:10:88",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_CommonMath_$23436_$",typeString:"type(library CommonMath)"}},id:20113,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"scaleFactor",nodeType:"MemberAccess",referencedDeclaration:23124,src:"3159:22:88",typeDescriptions:{typeIdentifier:"t_function_internal_pure$__$returns$_t_uint256_$",typeString:"function () pure returns (uint256)"}},id:20114,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3159:24:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:20115,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"3159:28:88",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:20117,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3159:44:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"3147:56:88"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:20121,name:"b",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:20111,src:"3227:1:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:20119,name:"a",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:20103,src:"3221:1:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:20120,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"3221:5:88",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:20122,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3221:8:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:20101,id:20123,nodeType:"Return",src:"3214:15:88"}]},documentation:"Returns the new incentive fee. The calculation for the fee involves implying\nmint quantity so that the feeRecipient owns the fee percentage of the entire\nsupply of the Set.\n     * The formula to solve for fee is:\nfeeQuantity / feeQuantity + totalSupply = fee / scaleFactor\n     * The simplified formula utilized below is:\nfeeQuantity = fee * totalSupply / (scaleFactor - fee)\n     * @param   _feePercentage          Fee levied to feeRecipient\n@return  uint256                 New RebalancingSet issue quantity",id:20125,implemented:true,kind:"function",modifiers:[],name:"calculateIncentiveFeeInflation",nodeType:"FunctionDefinition",parameters:{id:20098,nodeType:"ParameterList",parameters:[{constant:false,id:20097,name:"_feePercentage",nodeType:"VariableDeclaration",scope:20125,src:"2927:22:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20096,name:"uint256",nodeType:"ElementaryTypeName",src:"2927:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"2917:38:88"},returnParameters:{id:20101,nodeType:"ParameterList",parameters:[{constant:false,id:20100,name:"",nodeType:"VariableDeclaration",scope:20125,src:"3002:7:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20099,name:"uint256",nodeType:"ElementaryTypeName",src:"3002:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"3001:9:88"},scope:20163,src:"2878:358:88",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:20134,nodeType:"Block",src:"3365:75:88",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,expression:{argumentTypes:null,id:20129,name:"RebalancingLibrary",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6657,src:"3400:18:88",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_RebalancingLibrary_$6657_$",typeString:"type(library RebalancingLibrary)"}},id:20130,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"State",nodeType:"MemberAccess",referencedDeclaration:6633,src:"3400:24:88",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_State_$6633_$",typeString:"type(enum RebalancingLibrary.State)"}},id:20131,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,memberName:"Default",nodeType:"MemberAccess",referencedDeclaration:null,src:"3400:32:88",typeDescriptions:{typeIdentifier:"t_enum$_State_$6633",typeString:"enum RebalancingLibrary.State"}}],expression:{argumentTypes:[{typeIdentifier:"t_enum$_State_$6633",typeString:"enum RebalancingLibrary.State"}],id:20128,name:"validateRebalanceStateIs",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:19300,src:"3375:24:88",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_enum$_State_$6633_$returns$__$",typeString:"function (enum RebalancingLibrary.State) view"}},id:20132,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3375:58:88",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:20133,nodeType:"ExpressionStatement",src:"3375:58:88"}]},documentation:null,id:20135,implemented:true,kind:"function",modifiers:[],name:"validateFeeActualization",nodeType:"FunctionDefinition",parameters:{id:20126,nodeType:"ParameterList",parameters:[],src:"3348:2:88"},returnParameters:{id:20127,nodeType:"ParameterList",parameters:[],src:"3365:0:88"},scope:20163,src:"3315:125:88",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:20161,nodeType:"Block",src:"3733:209:88",statements:[{assignments:[20141],declarations:[{constant:false,id:20141,name:"currentSetAmount",nodeType:"VariableDeclaration",scope:20161,src:"3743:24:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20140,name:"uint256",nodeType:"ElementaryTypeName",src:"3743:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:20151,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:20145,name:"currentSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:18989,src:"3813:10:88",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}],id:20144,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"3805:7:88",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:20146,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3805:19:88",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:20148,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30620,src:"3846:4:88",typeDescriptions:{typeIdentifier:"t_contract$_IncentiveFee_$20163",typeString:"contract IncentiveFee"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_IncentiveFee_$20163",typeString:"contract IncentiveFee"}],id:20147,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"3838:7:88",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:20149,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3838:13:88",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"}],expression:{argumentTypes:null,id:20142,name:"vault",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:18969,src:"3770:5:88",typeDescriptions:{typeIdentifier:"t_contract$_IVault_$5782",typeString:"contract IVault"}},id:20143,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getOwnerBalance",nodeType:"MemberAccess",referencedDeclaration:5781,src:"3770:21:88",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_address_$_t_address_$returns$_t_uint256_$",typeString:"function (address,address) view external returns (uint256)"}},id:20150,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3770:91:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"3743:118:88"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:20157,name:"totalSupply",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:29778,src:"3921:11:88",typeDescriptions:{typeIdentifier:"t_function_internal_view$__$returns$_t_uint256_$",typeString:"function () view returns (uint256)"}},id:20158,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3921:13:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:20154,name:"naturalUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:18993,src:"3900:11:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:20152,name:"currentSetAmount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:20141,src:"3879:16:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:20153,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"3879:20:88",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:20155,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3879:33:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:20156,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"divCeil",nodeType:"MemberAccess",referencedDeclaration:23232,src:"3879:41:88",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:20159,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3879:56:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:20139,id:20160,nodeType:"Return",src:"3872:63:88"}]},documentation:null,id:20162,implemented:true,kind:"function",modifiers:[],name:"calculateNewUnitShares",nodeType:"FunctionDefinition",parameters:{id:20136,nodeType:"ParameterList",parameters:[],src:"3699:2:88"},returnParameters:{id:20139,nodeType:"ParameterList",parameters:[{constant:false,id:20138,name:"",nodeType:"VariableDeclaration",scope:20162,src:"3724:7:88",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:20137,name:"uint256",nodeType:"ElementaryTypeName",src:"3724:7:88",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"3723:9:88"},scope:20163,src:"3668:274:88",stateMutability:"view",superFunction:null,visibility:"internal"}],scope:20164,src:"1082:2862:88"}],src:"597:3348:88"},compiler:{name:"solc",version:"0.5.7+commit.6da8b019.Linux.g++"},networks:{},schemaVersion:"3.0.23",updatedAt:"2020-04-07T04:29:24.714Z",devdoc:{author:"Set Protocol",methods:{"allowance(address,address)":{details:"Function to check the amount of tokens that an owner allowed to a spender.",params:{owner:"address The address which owns the funds.",spender:"address The address which will spend the funds."},"return":"A uint256 specifying the amount of tokens still available for the spender."},"approve(address,uint256)":{details:"Approve the passed address to spend the specified amount of tokens on behalf of msg.sender. Beware that changing an allowance with this method brings the risk that someone may use both the old and the new allowance by unfortunate transaction ordering. One possible solution to mitigate this race condition is to first reduce the spender's allowance to 0 and set the desired value afterwards: https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729",params:{spender:"The address which will spend the funds.",value:"The amount of tokens to be spent."}},"balanceOf(address)":{details:"Gets the balance of the specified address.",params:{owner:"The address to query the balance of."},"return":"A uint256 representing the amount owned by the passed address."},"decreaseAllowance(address,uint256)":{details:"Decrease the amount of tokens that an owner allowed to a spender. approve should be called when _allowed[msg.sender][spender] == 0. To decrement allowed value is better to use this function to avoid 2 calls (and wait until the first transaction is mined) From MonolithDAO Token.sol Emits an Approval event.",params:{spender:"The address which will spend the funds.",subtractedValue:"The amount of tokens to decrease the allowance by."}},"increaseAllowance(address,uint256)":{details:"Increase the amount of tokens that an owner allowed to a spender. approve should be called when _allowed[msg.sender][spender] == 0. To increment allowed value is better to use this function to avoid 2 calls (and wait until the first transaction is mined) From MonolithDAO Token.sol Emits an Approval event.",params:{addedValue:"The amount of tokens to increase the allowance by.",spender:"The address which will spend the funds."}},"totalSupply()":{details:"Total number of tokens in existence"},"transfer(address,uint256)":{details:"Transfer token to a specified address",params:{to:"The address to transfer to.",value:"The amount to be transferred."}},"transferFrom(address,address,uint256)":{details:"Transfer tokens from one address to another. Note that while this function emits an Approval event, this is not required as per the specification, and other compliant implementations may not emit the event.",params:{from:"address The address which you want to send tokens from",to:"address The address which you want to transfer to",value:"uint256 the amount of tokens to be transferred"}}},title:"IncentiveFee"},userdoc:{methods:{}}};