"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TwoAssetPriceBoundedLinearAuction={contractName:"TwoAssetPriceBoundedLinearAuction",abi:[{constant:true,inputs:[],name:"auctionPeriod",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"rangeEnd",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"rangeStart",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"oracleWhiteList",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{inputs:[{name:"_oracleWhiteList",type:"address"},{name:"_auctionPeriod",type:"uint256"},{name:"_rangeStart",type:"uint256"},{name:"_rangeEnd",type:"uint256"}],payable:false,stateMutability:"nonpayable",type:"constructor"}],metadata:'{"compiler":{"version":"0.5.7+commit.6da8b019"},"language":"Solidity","output":{"abi":[{"constant":true,"inputs":[],"name":"auctionPeriod","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"rangeEnd","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"rangeStart","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"oracleWhiteList","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_oracleWhiteList","type":"address"},{"name":"_auctionPeriod","type":"uint256"},{"name":"_rangeStart","type":"uint256"},{"name":"_rangeEnd","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"}],"devdoc":{"author":"Set Protocol * Contract to calculate minimumBid and auction start bounds for auctions containing only an asset pair. ","methods":{"constructor":{"params":{"_auctionPeriod":"Length of auction","_rangeEnd":"Percentage above FairValue to end auction at","_rangeStart":"Percentage below FairValue to begin auction at"}}},"title":"TwoAssetPriceBoundedLinearAuction"},"userdoc":{"methods":{"constructor":"TwoAssetPriceBoundedLinearAuction constructor"}}},"settings":{"compilationTarget":{"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/TwoAssetPriceBoundedLinearAuction.sol":"TwoAssetPriceBoundedLinearAuction"},"evmVersion":"byzantium","libraries":{},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ICore.sol":{"keccak256":"0x5dc3db4398630ea52d2a40c9ddfa89d94e65c2770a12bab4d2a5c8eb573fb0a0","urls":["bzzr://25e90b53f61b388e0950b808e2296f82d427b66cfd6021212713436b2a592e31"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IOracleWhiteList.sol":{"keccak256":"0xc4623b7082c6e017d1f820a05289a71d4262c01444ff1571e92f64a4e82662af","urls":["bzzr://c11cc5b2b50c5e708a09b10adf350e9ea3d3427cc2f199516db4ae9be498aaac"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IRebalancingSetToken.sol":{"keccak256":"0xe7356a7b0f0cc95d9526395d776f523a48fd65618730d67b4f31f20ffbd380da","urls":["bzzr://605a33a818eff7ce3370f25fccb751f61c066b4db0772605a2215d1357d68072"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ISetToken.sol":{"keccak256":"0xfa6c0c07f8394d89b6b8f72e15778f8452a9341acb20cebb8421f3522aaca1bd","urls":["bzzr://ccf23bb78fd507bf8cbf5cf7ac2a660a1463b87a3689196e42b8f6862d1a6b11"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/Rebalance.sol":{"keccak256":"0x74ffa689d93ced6c6e0377a35ec1274241b6191b5aaac5576ada379ac3840286","urls":["bzzr://25bdda3f1f5adfa2c83c760c44993d250cd2df037360f0018d22d268df79e887"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/RebalancingLibrary.sol":{"keccak256":"0x7f9dd2f95b2ee71a98b94cb9b0df15874aa134e7480d04a1fcf36aff166a55f4","urls":["bzzr://f43a5563ec5df095151eee30cf7a0941b5a971917c27c7b34d9586b36563ab5b"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/SetMath.sol":{"keccak256":"0x4c6762ad3d11c03889df48cc3b26bd199f958deffa651ec30655cd1654a47303","urls":["bzzr://b8e968dd2840d9586babe7852589abff3972135fff299285eaafd31687ae4385"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/Auction.sol":{"keccak256":"0x9010d09660a0cdfc5bc3eb98e6cc127b59d1caec0b55314572017c482be97555","urls":["bzzr://ea4f5d456ca94d8ca2b0b4cbecfcade30f9e718d71d8bb9ddc25db81d29ccc65"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/LinearAuction.sol":{"keccak256":"0x253367c7f2e8870399fcc3c833bf98dc6d6111698418747d9a6b595673917624","urls":["bzzr://b53d7a1098f20a399280bc49355d67613439bc2418e701b5390015aa8e97f0d5"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/TwoAssetPriceBoundedLinearAuction.sol":{"keccak256":"0x3f05384ef886da02bed440b85b25a5f8e8efc0002642b3c8efdefe08d9e80e47","urls":["bzzr://41da7c17a5c82806701534d4f36da8c64e66c4cee45e850b745fe898bff8392a"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/AddressArrayUtils.sol":{"keccak256":"0xb716eab4e8c5a336a2f19078928530829af097912bd1b925644f914b63601f08","urls":["bzzr://d8a21d39779beb316adb5180d08dcba1941eeccd9412ff08feb21a631c18c269"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/CommonMath.sol":{"keccak256":"0x3d1d08c6efc2a973fe2c02ddcb02fd99a8c8eb75f74dcbd93e8e15864eee2b6b","urls":["bzzr://580815dd1cf648a4521d923e59087de21143d9c48115ab71579a1f5a8f3d36af"]},"openzeppelin-solidity/contracts/math/Math.sol":{"keccak256":"0x775160984ceb0931bf67e718fb23afd6fc2a5d38a6e2378ebb438a039ed2269e","urls":["bzzr://209e27ad1c13e3e9b157915e0269ee4c3b6f0a494660dcc4acf1faf102e1a7ad"]},"openzeppelin-solidity/contracts/math/SafeMath.sol":{"keccak256":"0xc2a200a877c4a9b2475c246c54ffecc69ffde3e11af83319c63c2dc5458bac80","urls":["bzzr://c8876e2c39b60f155d748d71d715c8f3903fae5a405ac599adcb6ad2f9a583f9"]},"openzeppelin-solidity/contracts/token/ERC20/ERC20Detailed.sol":{"keccak256":"0xa60f7f7ce98ca2d75c8e02da982d3fe91176269fdab2589bbbb7cc65f2d7c9d3","urls":["bzzr://5edd2c9be304a1e8ed055e243daba5345f242008164f9a0565c33197b860323b"]},"openzeppelin-solidity/contracts/token/ERC20/IERC20.sol":{"keccak256":"0x59e7df16169a498cb8837963b2f5461d88e63bd1eb6c7d58b814d76b84ccbe61","urls":["bzzr://e572c9c4e02e37349702451bf3b5dcbbc86a19da5a51695b5b3e1bfe1e7825dc"]},"set-protocol-oracles/contracts/meta-oracles/interfaces/IOracle.sol":{"keccak256":"0xeb5a447a0b1ef47547ce12a91b72412880edb9690aa9bcd8746fc3a379f2fbe9","urls":["bzzr://261675b916b84f58bea71ec28c4f711291053174ddf47e860c26daaee506744a"]}},"version":1}',bytecode:"0x608060405234801561001057600080fd5b5060405160808061029d833981018060405261002f9190810190610083565b60009290925560018054600160a060020a031916600160a060020a03949094169390931790925560029190915560035561010f565b600061007082516100f5565b9392505050565b6000610070825161010c565b6000806000806080858703121561009957600080fd5b60006100a58787610064565b94505060206100b687828801610077565b93505060406100c787828801610077565b92505060606100d887828801610077565b91505092959194509250565b60006100ef82610100565b92915050565b60006100ef826100e4565b600160a060020a031690565b90565b61017f8061011e6000396000f3fe608060405234801561001057600080fd5b5060043610610068577c010000000000000000000000000000000000000000000000000000000060003504630cccfc58811461006d5780635c99ee011461008b5780637920c12714610093578063aa6f60821461009b575b600080fd5b6100756100b0565b604051610082919061010a565b60405180910390f35b6100756100b6565b6100756100bc565b6100a36100c2565b60405161008291906100f6565b60005481565b60035481565b60025481565b60015473ffffffffffffffffffffffffffffffffffffffff1681565b6100e781610134565b82525050565b6100e781610131565b6020810161010482846100de565b92915050565b6020810161010482846100ed565b73ffffffffffffffffffffffffffffffffffffffff1690565b90565b60006101048260006101048261011856fea265627a7a72305820d78f9e7a087288bc15b62b86a0109d69ce898bc156babd54e588e06d1813410e6c6578706572696d656e74616cf50037",deployedBytecode:"0x608060405234801561001057600080fd5b5060043610610068577c010000000000000000000000000000000000000000000000000000000060003504630cccfc58811461006d5780635c99ee011461008b5780637920c12714610093578063aa6f60821461009b575b600080fd5b6100756100b0565b604051610082919061010a565b60405180910390f35b6100756100b6565b6100756100bc565b6100a36100c2565b60405161008291906100f6565b60005481565b60035481565b60025481565b60015473ffffffffffffffffffffffffffffffffffffffff1681565b6100e781610134565b82525050565b6100e781610131565b6020810161010482846100de565b92915050565b6020810161010482846100ed565b73ffffffffffffffffffffffffffffffffffffffff1690565b90565b60006101048260006101048261011856fea265627a7a72305820d78f9e7a087288bc15b62b86a0109d69ce898bc156babd54e588e06d1813410e6c6578706572696d656e74616cf50037",sourceMap:"1471:14786:52:-;;;2602:321;8:9:-1;5:2;;;30:1;27;20:12;5:2;2602:321:52;;;;;;;;;;;;;;;;;;;;;;1610:13:50;:30;;;;2818:15:52;:34;;-1:-1:-1;;;;;;2818:34:52;-1:-1:-1;;;;;2818:34:52;;;;;;;;;;;2862:10;:24;;;;2896:8;:20;1471:14786;;5:172:-1;;108:64;164:6;158:13;108:64;;;99:73;93:84;-1:-1;;;93:84;184:122;;262:39;293:6;287:13;262:39;;313:722;;;;;504:3;492:9;483:7;479:23;475:33;472:2;;;521:1;518;511:12;472:2;556:1;573:89;654:7;634:9;573:89;;;563:99;;535:133;699:2;717:64;773:7;764:6;753:9;749:22;717:64;;;707:74;;678:109;818:2;836:64;892:7;883:6;872:9;868:22;836:64;;;826:74;;797:109;937:2;955:64;1011:7;1002:6;991:9;987:22;955:64;;;945:74;;916:109;466:569;;;;;;;;1042:105;;1111:31;1136:5;1111:31;;;1100:42;1094:53;-1:-1;;1094:53;1154:130;;1248:31;1273:5;1248:31;;1291:128;-1:-1;;;;;1360:54;;1343:76;1426:79;1495:5;1478:27;;1471:14786:52;;;;;;",deployedSourceMap:"1471:14786:52:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1471:14786:52;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1352:28:50;;;:::i;:::-;;;;;;;;;;;;;;;;2223:23:52;;;:::i;2142:25::-;;;:::i;2097:39::-;;;:::i;:::-;;;;;;;;1352:28:50;;;;:::o;2223:23:52:-;;;;:::o;2142:25::-;;;;:::o;2097:39::-;;;;;;:::o;5:176:-1:-;113:62;169:5;113:62;;;108:3;101:75;95:86;;;188:120;271:31;296:5;271:31;;315:263;458:2;443:18;;472:96;447:9;541:6;472:96;;;429:149;;;;;585:213;703:2;688:18;;717:71;692:9;761:6;717:71;;805:128;885:42;874:54;;857:76;940:79;1009:5;992:27;1026:171;;1130:62;1186:5;1204:140;1308:31;1333:5;1308:31;",source:'/*\n    Copyright 2019 Set Labs Inc.\n\n    Licensed under the Apache License, Version 2.0 (the "License");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an "AS IS" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n*/\n\npragma solidity 0.5.7;\npragma experimental "ABIEncoderV2";\n\nimport { ERC20Detailed } from "openzeppelin-solidity/contracts/token/ERC20/ERC20Detailed.sol";\nimport { Math } from "openzeppelin-solidity/contracts/math/Math.sol";\nimport { SafeMath } from "openzeppelin-solidity/contracts/math/SafeMath.sol";\nimport { IOracle } from "set-protocol-oracles/contracts/meta-oracles/interfaces/IOracle.sol";\n\nimport { Auction } from "./Auction.sol";\nimport { CommonMath } from "../../../lib/CommonMath.sol";\nimport { IOracleWhiteList } from "../../interfaces/IOracleWhiteList.sol";\nimport { ISetToken } from "../../interfaces/ISetToken.sol";\nimport { LinearAuction } from "./LinearAuction.sol";\n\n\n/**\n * @title TwoAssetPriceBoundedLinearAuction\n * @author Set Protocol\n *\n * Contract to calculate minimumBid and auction start bounds for auctions containing only\n * an asset pair. \n */\ncontract TwoAssetPriceBoundedLinearAuction is LinearAuction {\n    using SafeMath for uint256;\n    using CommonMath for uint256;\n\n    /* ============ Struct ============ */\n    struct AssetInfo {\n        uint256 price;\n        uint256 fullUnit;\n    }\n\n    /* ============ Constants ============ */\n    uint256 constant private CURVE_DENOMINATOR = 10 ** 18;\n    uint256 constant private ONE = 1;\n    // Minimum token flow allowed at spot price in auction\n    uint256 constant private MIN_SPOT_TOKEN_FLOW_SCALED = 10 ** 21;\n    uint256 constant private ONE_HUNDRED = 100;\n\n    /* ============ State Variables ============ */\n    IOracleWhiteList public oracleWhiteList;\n    uint256 public rangeStart; // Percentage below FairValue to begin auction at\n    uint256 public rangeEnd;  // Percentage above FairValue to end auction at\n\n    /**\n     * TwoAssetPriceBoundedLinearAuction constructor\n     *\n     * @param _auctionPeriod          Length of auction\n     * @param _rangeStart             Percentage below FairValue to begin auction at\n     * @param _rangeEnd               Percentage above FairValue to end auction at\n     */\n    constructor(\n        IOracleWhiteList _oracleWhiteList,\n        uint256 _auctionPeriod,\n        uint256 _rangeStart,\n        uint256 _rangeEnd\n    )\n        public\n        LinearAuction(_auctionPeriod)\n    {\n        oracleWhiteList = _oracleWhiteList;\n        rangeStart = _rangeStart;\n        rangeEnd = _rangeEnd;\n    }\n\n    /* ============ Internal Functions ============ */\n\n    /**\n     * Validates that the auction only includes two components and the components are valid.\n     */ \n    function validateTwoAssetPriceBoundedAuction(\n        ISetToken _currentSet,\n        ISetToken _nextSet\n    )\n        internal\n        view\n    {\n        address[] memory combinedTokenArray = Auction.getCombinedTokenArray(_currentSet, _nextSet);\n        require(\n            combinedTokenArray.length == 2,\n            "TwoAssetPriceBoundedLinearAuction: Only two components are allowed."\n        );\n\n        require(\n            oracleWhiteList.areValidAddresses(combinedTokenArray),\n            "TwoAssetPriceBoundedLinearAuction: Passed token does not have matching oracle."\n        );\n    }\n\n    /**\n     * Calculates the minimumBid. First calculates the minimum token flow for the pair at fair value using\n     * maximum natural unit of two Sets. If that token flow is below 1000 units then calculate minimumBid\n     * as such:\n     *\n     * minimumBid = maxNaturalUnit*1000/min(tokenFlow)\n     *\n     * Else, set minimumBid equal to maxNaturalUnit. This is to ensure that around fair value there is ample\n     * granualarity in asset pair price changes and not large discontinuities.\n     *\n     * @param _auction            Auction object\n     * @param _currentSet         CurrentSet, unused in this implementation\n     * @param _nextSet            NextSet, unused in this implementation\n     */\n    function calculateMinimumBid(\n        Auction.Setup storage _auction,\n        ISetToken _currentSet,\n        ISetToken _nextSet\n    )\n        internal\n        view\n        returns (uint256)\n    {\n        // Get full Unit amount and price for each asset\n        AssetInfo memory assetOne = getAssetInfo(_auction.combinedTokenArray[0]);\n        AssetInfo memory assetTwo = getAssetInfo(_auction.combinedTokenArray[1]);\n\n        // Calculate current spot price as assetOne/assetTwo\n        uint256 spotPrice = calculateSpotPrice(assetOne.price, assetTwo.price);\n\n        // Calculate auction price at current asset pair spot price\n        uint256 auctionFairValue = convertAssetPairPriceToAuctionPrice(\n            _auction,\n            spotPrice,\n            assetOne.fullUnit,\n            assetTwo.fullUnit\n        );\n\n        uint256 minimumBidMultiplier = 0;\n        for (uint8 i = 0; i < _auction.combinedTokenArray.length; i++) {\n            // Get token flow at fair value for asset i, using an amount equal to ONE maxNaturalUnit\n            // Hence the ONE.scale()\n            (\n                uint256 tokenInflowScaled,\n                uint256 tokenOutflowScaled\n            ) = Auction.calculateInflowOutflow(\n                _auction.combinedCurrentSetUnits[i],\n                _auction.combinedNextSetUnits[i],\n                ONE.scale(),\n                auctionFairValue\n            );\n\n            // One returned number from previous function will be zero so use max to get tokenFlow\n            uint256 tokenFlowScaled = Math.max(tokenInflowScaled, tokenOutflowScaled);\n\n            // Divide minimum spot token flow (1000 units) by token flow if more than minimumBidMultiplier\n            // update minimumBidMultiplier\n            uint256 currentMinBidMultiplier = MIN_SPOT_TOKEN_FLOW_SCALED.divCeil(tokenFlowScaled);\n            minimumBidMultiplier = currentMinBidMultiplier > minimumBidMultiplier ?\n                currentMinBidMultiplier : \n                minimumBidMultiplier;\n        }\n\n        // Multiply the minimumBidMultiplier by maxNaturalUnit to get minimumBid\n        return _auction.maxNaturalUnit.mul(minimumBidMultiplier);\n    }\n\n    /**\n     * Calculates the linear auction start price. A target asset pair (i.e. ETH/DAI) price is calculated\n     * to start the auction at, that asset pair price is then translated into the equivalent auction price.\n     *\n     * @param _auction            Auction object\n     * @param _currentSet         CurrentSet, unused in this implementation\n     * @param _nextSet            NextSet, unused in this implementation\n     */\n    function calculateStartPrice(\n        Auction.Setup storage _auction,\n        ISetToken _currentSet,\n        ISetToken _nextSet\n    )\n        internal\n        view\n        returns(uint256)\n    {\n        // Get full Unit amount and price for each asset\n        AssetInfo memory assetOne = getAssetInfo(_auction.combinedTokenArray[0]);\n        AssetInfo memory assetTwo = getAssetInfo(_auction.combinedTokenArray[1]);\n\n        // Calculate current asset pair spot price as assetOne/assetTwo\n        uint256 spotPrice = calculateSpotPrice(assetOne.price, assetTwo.price);\n\n        // Check to see if asset pair price is increasing or decreasing as time passes \n        bool isTokenFlowIncreasing = isTokenFlowIncreasing(\n            _auction,\n            spotPrice,\n            assetOne.fullUnit,\n            assetTwo.fullUnit \n        );\n\n        // If price implied by token flows is increasing then target price we are using for lower bound\n        // is below current spot price, if flows decreasing set target price above spotPrice\n        uint256 startPairPrice;\n        if (isTokenFlowIncreasing) {\n            startPairPrice = spotPrice.mul(ONE_HUNDRED.sub(rangeStart)).div(ONE_HUNDRED);\n        } else {\n            startPairPrice = spotPrice.mul(ONE_HUNDRED.add(rangeStart)).div(ONE_HUNDRED);  \n        }\n\n        // Convert start asset pair price to equivalent auction price\n        return convertAssetPairPriceToAuctionPrice(\n            _auction,\n            startPairPrice,\n            assetOne.fullUnit,\n            assetTwo.fullUnit\n        );\n    }\n\n    /**\n     * Calculates the linear auction end price. A target asset pair (i.e. ETH/DAI) price is calculated\n     * to end the auction at, that asset pair price is then translated into the equivalent auction price.\n     *\n     * @param _auction            Auction object\n     * @param _currentSet         CurrentSet, unused in this implementation\n     * @param _nextSet            NextSet, unused in this implementation\n     */\n    function calculateEndPrice(\n        Auction.Setup storage _auction,\n        ISetToken _currentSet,\n        ISetToken _nextSet\n    )\n        internal\n        view\n        returns(uint256)\n    {\n        // Get full Unit amount and price for each asset\n        AssetInfo memory assetOne = getAssetInfo(_auction.combinedTokenArray[0]);\n        AssetInfo memory assetTwo = getAssetInfo(_auction.combinedTokenArray[1]);\n\n        // Calculate current spot price as assetOne/assetTwo\n        uint256 spotPrice = calculateSpotPrice(assetOne.price, assetTwo.price);\n\n        // Check to see if asset pair price is increasing or decreasing as time passes\n        bool isTokenFlowIncreasing = isTokenFlowIncreasing(\n            _auction,\n            spotPrice,\n            assetOne.fullUnit,\n            assetTwo.fullUnit \n        );\n\n        // If price implied by token flows is increasing then target price we are using for upper bound\n        // is above current spot price, if flows decreasing set target price below spotPrice\n        uint256 endPairPrice;\n        if (isTokenFlowIncreasing) {\n            endPairPrice = spotPrice.mul(ONE_HUNDRED.add(rangeEnd)).div(ONE_HUNDRED);\n        } else {\n            endPairPrice = spotPrice.mul(ONE_HUNDRED.sub(rangeEnd)).div(ONE_HUNDRED);  \n        }\n\n        // Convert end asset pair price to equivalent auction price\n        return convertAssetPairPriceToAuctionPrice(\n            _auction,\n            endPairPrice,\n            assetOne.fullUnit,\n            assetTwo.fullUnit\n        );\n    }\n\n    /* ============ Private Functions ============ */\n\n    /**\n     * Determines if asset pair price is increasing or decreasing as time passed in auction. Used to set the\n     * auction price bounds. Below a refers to any asset and subscripts c, n, d mean currentSetUnit, nextSetUnit \n     * and fullUnit amount, respectively. pP and pD refer to auction price and auction denominator. Asset pair\n     * price is defined as such:\n     *\n     * assetPrice = abs(assetTwoOutflow/assetOneOutflow)\n     *\n     * The equation for an outflow is given by (a_c/a_d)*pP - (a_n/a_d)*pD). It can be proven that the derivative\n     * of this equation is always increasing. Thus by determining the sign of the assetOneOutflow (where a negative\n     * amount signifies an inflow) it can be determined whether the asset pair price is increasing or decreasing.\n     *\n     * For example, if assetOneOutflow is negative it means that the denominator is getting smaller as time passes\n     * and thus the assetPrice is increasing during the auction. \n     *\n     * @param _auction              Auction object\n     * @param _spotPrice            Current spot price provided by asset oracles\n     * @param _assetOneFullUnit     Units in one full unit of assetOne\n     * @param _assetTwoFullUnit     Units in one full unit of assetTwo\n     */\n    function isTokenFlowIncreasing(\n        Auction.Setup storage _auction,\n        uint256 _spotPrice,\n        uint256 _assetOneFullUnit,\n        uint256 _assetTwoFullUnit\n    )\n        private\n        view\n        returns (bool)\n    {\n        // Calculate auction price at current asset pair spot price\n        uint256 auctionFairValue = convertAssetPairPriceToAuctionPrice(\n            _auction,\n            _spotPrice,\n            _assetOneFullUnit,\n            _assetTwoFullUnit        \n        );\n\n        // Determine whether outflow for assetOne is positive or negative, if positive then asset pair price is\n        // increasing, else decreasing.\n        return _auction.combinedNextSetUnits[0].mul(CURVE_DENOMINATOR) >\n            _auction.combinedCurrentSetUnits[0].mul(auctionFairValue);\n    }\n\n    /**\n     * Convert an asset pair price to the equivalent auction price where a1 refers to assetOne and a2 refers to assetTwo\n     * and subscripts c, n, d mean currentSetUnit, nextSetUnit and fullUnit amount, respectively. pP and pD refer to auction\n     * price and auction denominator:\n     *\n     * assetPrice = abs(assetTwoOutflow/assetOneOutflow)\n     *\n     * assetPrice = ((a2_c/a2_d)*pP - (a2_n/a2_d)*pD) / ((a1_c/a1_d)*pP - (a1_n/a1_d)*pD)\n     *\n     * We know assetPrice so we isolate for pP:\n     *\n     * pP = pD((a2_n/a2_d)+assetPrice*(a1_n/a1_d)) / (a2_c/a2_d)+assetPrice*(a1_c/a1_d)\n     *\n     * This gives us the auction price that matches with the passed asset pair price.\n     *\n     * @param _auction              Auction object\n     * @param _targetPrice          Target asset pair price\n     * @param _assetOneFullUnit     Units in one full unit of assetOne\n     * @param _assetTwoFullUnit     Units in one full unit of assetTwo\n     */\n    function convertAssetPairPriceToAuctionPrice(\n        Auction.Setup storage _auction,\n        uint256 _targetPrice,\n        uint256 _assetOneFullUnit,\n        uint256 _assetTwoFullUnit\n    )\n        private\n        view\n        returns (uint256)\n    {\n        // Calculate the numerator for the above equation. In order to ensure no rounding down errors we distribute the auction\n        // denominator. Additionally, since the price is passed as an 18 decimal number in order to maintain consistency we\n        // have to scale the first term up accordingly\n        uint256 calcNumerator = _auction.combinedNextSetUnits[1].mul(CURVE_DENOMINATOR).scale().div(_assetTwoFullUnit).add(\n            _targetPrice.mul(_auction.combinedNextSetUnits[0]).mul(CURVE_DENOMINATOR).div(_assetOneFullUnit)\n        );\n\n        // Calculate the denominator for the above equation. As above we we have to scale the first term match the 18 decimal\n        // price. Furthermore since we are not guaranteed that targetPrice * a1_c > a1_d we have to scale the second term and\n        // thus also the first term in order to match (hence the two scale() in the first term)\n        uint256 calcDenominator = _auction.combinedCurrentSetUnits[1].scale().scale().div(_assetTwoFullUnit).add(\n           _targetPrice.mul(_auction.combinedCurrentSetUnits[0]).scale().div(_assetOneFullUnit) \n        );\n\n        // Here the scale required to account for the 18 decimal price cancels out since it was applied to both the numerator\n        // and denominator. However, there was an extra scale applied to the denominator that we need to remove, in order to\n        // do so we\'ll just apply another scale to the numerator before dividing since 1/(1/10 ** 18) = 10 ** 18!\n        return calcNumerator.scale().div(calcDenominator);\n    }\n\n    /**\n     * Get fullUnit amount and price of given asset.\n     *\n     * @param _asset            Address of auction to get information from\n     */\n    function getAssetInfo(address _asset) private view returns(AssetInfo memory) {\n        address assetOracle = oracleWhiteList.getOracleAddressByToken(_asset);\n        uint256 assetPrice = IOracle(assetOracle).read();\n\n        uint256 decimals = ERC20Detailed(_asset).decimals();\n\n        return AssetInfo({\n            price: assetPrice,\n            fullUnit: CommonMath.safePower(10, decimals)\n        });\n    }\n\n    /**\n     * Calculate asset pair price given two prices.\n     */\n    function calculateSpotPrice(uint256 _assetOnePrice, uint256 _assetTwoPrice) private view returns(uint256) {\n        return _assetOnePrice.scale().div(_assetTwoPrice);\n    }\n}',sourcePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/TwoAssetPriceBoundedLinearAuction.sol",ast:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/TwoAssetPriceBoundedLinearAuction.sol",exportedSymbols:{TwoAssetPriceBoundedLinearAuction:[9047]},id:9048,nodeType:"SourceUnit",nodes:[{id:8454,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:52"},{id:8455,literals:["experimental","ABIEncoderV2"],nodeType:"PragmaDirective",src:"620:35:52"},{absolutePath:"openzeppelin-solidity/contracts/token/ERC20/ERC20Detailed.sol",file:"openzeppelin-solidity/contracts/token/ERC20/ERC20Detailed.sol",id:8457,nodeType:"ImportDirective",scope:9048,sourceUnit:30191,src:"657:94:52",symbolAliases:[{foreign:8456,local:null}],unitAlias:""},{absolutePath:"openzeppelin-solidity/contracts/math/Math.sol",file:"openzeppelin-solidity/contracts/math/Math.sol",id:8459,nodeType:"ImportDirective",scope:9048,sourceUnit:29513,src:"752:69:52",symbolAliases:[{foreign:8458,local:null}],unitAlias:""},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:8461,nodeType:"ImportDirective",scope:9048,sourceUnit:29641,src:"822:77:52",symbolAliases:[{foreign:8460,local:null}],unitAlias:""},{absolutePath:"set-protocol-oracles/contracts/meta-oracles/interfaces/IOracle.sol",file:"set-protocol-oracles/contracts/meta-oracles/interfaces/IOracle.sol",id:8463,nodeType:"ImportDirective",scope:9048,sourceUnit:30299,src:"900:93:52",symbolAliases:[{foreign:8462,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/Auction.sol",file:"./Auction.sol",id:8465,nodeType:"ImportDirective",scope:9048,sourceUnit:7972,src:"995:40:52",symbolAliases:[{foreign:8464,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/CommonMath.sol",file:"../../../lib/CommonMath.sol",id:8467,nodeType:"ImportDirective",scope:9048,sourceUnit:23437,src:"1036:57:52",symbolAliases:[{foreign:8466,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IOracleWhiteList.sol",file:"../../interfaces/IOracleWhiteList.sol",id:8469,nodeType:"ImportDirective",scope:9048,sourceUnit:5004,src:"1094:73:52",symbolAliases:[{foreign:8468,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ISetToken.sol",file:"../../interfaces/ISetToken.sol",id:8471,nodeType:"ImportDirective",scope:9048,sourceUnit:5660,src:"1168:59:52",symbolAliases:[{foreign:8470,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/LinearAuction.sol",file:"./LinearAuction.sol",id:8473,nodeType:"ImportDirective",scope:9048,sourceUnit:8222,src:"1228:52:52",symbolAliases:[{foreign:8472,local:null}],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:8474,name:"LinearAuction",nodeType:"UserDefinedTypeName",referencedDeclaration:8221,src:"1517:13:52",typeDescriptions:{typeIdentifier:"t_contract$_LinearAuction_$8221",typeString:"contract LinearAuction"}},id:8475,nodeType:"InheritanceSpecifier",src:"1517:13:52"}],contractDependencies:[7971,8221],contractKind:"contract",documentation:"@title TwoAssetPriceBoundedLinearAuction\n@author Set Protocol\n * Contract to calculate minimumBid and auction start bounds for auctions containing only\nan asset pair. ",fullyImplemented:true,id:9047,linearizedBaseContracts:[9047,8221,7971],name:"TwoAssetPriceBoundedLinearAuction",nodeType:"ContractDefinition",nodes:[{id:8478,libraryName:{contractScope:null,id:8476,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:29640,src:"1543:8:52",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$29640",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"1537:27:52",typeName:{id:8477,name:"uint256",nodeType:"ElementaryTypeName",src:"1556:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{id:8481,libraryName:{contractScope:null,id:8479,name:"CommonMath",nodeType:"UserDefinedTypeName",referencedDeclaration:23436,src:"1575:10:52",typeDescriptions:{typeIdentifier:"t_contract$_CommonMath_$23436",typeString:"library CommonMath"}},nodeType:"UsingForDirective",src:"1569:29:52",typeName:{id:8480,name:"uint256",nodeType:"ElementaryTypeName",src:"1590:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{canonicalName:"TwoAssetPriceBoundedLinearAuction.AssetInfo",
id:8486,members:[{constant:false,id:8483,name:"price",nodeType:"VariableDeclaration",scope:8486,src:"1674:13:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8482,name:"uint256",nodeType:"ElementaryTypeName",src:"1674:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:8485,name:"fullUnit",nodeType:"VariableDeclaration",scope:8486,src:"1697:16:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8484,name:"uint256",nodeType:"ElementaryTypeName",src:"1697:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],name:"AssetInfo",nodeType:"StructDefinition",scope:9047,src:"1647:73:52",visibility:"public"},{constant:true,id:8491,name:"CURVE_DENOMINATOR",nodeType:"VariableDeclaration",scope:9047,src:"1772:53:52",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8487,name:"uint256",nodeType:"ElementaryTypeName",src:"1772:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,commonType:{typeIdentifier:"t_rational_1000000000000000000_by_1",typeString:"int_const 1000000000000000000"},id:8490,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,leftExpression:{argumentTypes:null,hexValue:"3130",id:8488,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"1817:2:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_10_by_1",typeString:"int_const 10"},value:"10"},nodeType:"BinaryOperation",operator:"**",rightExpression:{argumentTypes:null,hexValue:"3138",id:8489,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"1823:2:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_18_by_1",typeString:"int_const 18"},value:"18"},src:"1817:8:52",typeDescriptions:{typeIdentifier:"t_rational_1000000000000000000_by_1",typeString:"int_const 1000000000000000000"}},visibility:"private"},{constant:true,id:8494,name:"ONE",nodeType:"VariableDeclaration",scope:9047,src:"1831:32:52",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8492,name:"uint256",nodeType:"ElementaryTypeName",src:"1831:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"31",id:8493,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"1862:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},visibility:"private"},{constant:true,id:8499,name:"MIN_SPOT_TOKEN_FLOW_SCALED",nodeType:"VariableDeclaration",scope:9047,src:"1928:62:52",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8495,name:"uint256",nodeType:"ElementaryTypeName",src:"1928:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,commonType:{typeIdentifier:"t_rational_1000000000000000000000_by_1",typeString:"int_const 1000000000000000000000"},id:8498,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,leftExpression:{argumentTypes:null,hexValue:"3130",id:8496,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"1982:2:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_10_by_1",typeString:"int_const 10"},value:"10"},nodeType:"BinaryOperation",operator:"**",rightExpression:{argumentTypes:null,hexValue:"3231",id:8497,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"1988:2:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_21_by_1",typeString:"int_const 21"},value:"21"},src:"1982:8:52",typeDescriptions:{typeIdentifier:"t_rational_1000000000000000000000_by_1",typeString:"int_const 1000000000000000000000"}},visibility:"private"},{constant:true,id:8502,name:"ONE_HUNDRED",nodeType:"VariableDeclaration",scope:9047,src:"1996:42:52",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8500,name:"uint256",nodeType:"ElementaryTypeName",src:"1996:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"313030",id:8501,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2035:3:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_100_by_1",typeString:"int_const 100"},value:"100"},visibility:"private"},{constant:false,id:8504,name:"oracleWhiteList",nodeType:"VariableDeclaration",scope:9047,src:"2097:39:52",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"},typeName:{contractScope:null,id:8503,name:"IOracleWhiteList",nodeType:"UserDefinedTypeName",referencedDeclaration:5003,src:"2097:16:52",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}},value:null,visibility:"public"},{constant:false,id:8506,name:"rangeStart",nodeType:"VariableDeclaration",scope:9047,src:"2142:25:52",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8505,name:"uint256",nodeType:"ElementaryTypeName",src:"2142:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"public"},{constant:false,id:8508,name:"rangeEnd",nodeType:"VariableDeclaration",scope:9047,src:"2223:23:52",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8507,name:"uint256",nodeType:"ElementaryTypeName",src:"2223:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"public"},{body:{id:8534,nodeType:"Block",src:"2808:115:52",statements:[{expression:{argumentTypes:null,id:8524,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:8522,name:"oracleWhiteList",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8504,src:"2818:15:52",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:8523,name:"_oracleWhiteList",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8510,src:"2836:16:52",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}},src:"2818:34:52",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}},id:8525,nodeType:"ExpressionStatement",src:"2818:34:52"},{expression:{argumentTypes:null,id:8528,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:8526,name:"rangeStart",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8506,src:"2862:10:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:8527,name:"_rangeStart",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8514,src:"2875:11:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2862:24:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8529,nodeType:"ExpressionStatement",src:"2862:24:52"},{expression:{argumentTypes:null,id:8532,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:8530,name:"rangeEnd",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8508,src:"2896:8:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:8531,name:"_rangeEnd",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8516,src:"2907:9:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2896:20:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8533,nodeType:"ExpressionStatement",src:"2896:20:52"}]},documentation:"TwoAssetPriceBoundedLinearAuction constructor\n     * @param _auctionPeriod          Length of auction\n@param _rangeStart             Percentage below FairValue to begin auction at\n@param _rangeEnd               Percentage above FairValue to end auction at",id:8535,implemented:true,kind:"constructor",modifiers:[{arguments:[{argumentTypes:null,id:8519,name:"_auctionPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8512,src:"2788:14:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],id:8520,modifierName:{argumentTypes:null,id:8518,name:"LinearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8221,src:"2774:13:52",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_LinearAuction_$8221_$",typeString:"type(contract LinearAuction)"}},nodeType:"ModifierInvocation",src:"2774:29:52"}],name:"",nodeType:"FunctionDefinition",parameters:{id:8517,nodeType:"ParameterList",parameters:[{constant:false,id:8510,name:"_oracleWhiteList",nodeType:"VariableDeclaration",scope:8535,src:"2623:33:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"},typeName:{contractScope:null,id:8509,name:"IOracleWhiteList",nodeType:"UserDefinedTypeName",referencedDeclaration:5003,src:"2623:16:52",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}},value:null,visibility:"internal"},{constant:false,id:8512,name:"_auctionPeriod",nodeType:"VariableDeclaration",scope:8535,src:"2666:22:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8511,name:"uint256",nodeType:"ElementaryTypeName",src:"2666:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:8514,name:"_rangeStart",nodeType:"VariableDeclaration",scope:8535,src:"2698:19:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8513,name:"uint256",nodeType:"ElementaryTypeName",src:"2698:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:8516,name:"_rangeEnd",nodeType:"VariableDeclaration",scope:8535,src:"2727:17:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8515,name:"uint256",nodeType:"ElementaryTypeName",src:"2727:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"2613:137:52"},returnParameters:{id:8521,nodeType:"ParameterList",parameters:[],src:"2808:0:52"},scope:9047,src:"2602:321:52",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:8568,nodeType:"Block",src:"3239:450:52",statements:[{assignments:[8545],declarations:[{constant:false,id:8545,name:"combinedTokenArray",nodeType:"VariableDeclaration",scope:8568,src:"3249:35:52",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:8543,name:"address",nodeType:"ElementaryTypeName",src:"3249:7:52",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:8544,length:null,nodeType:"ArrayTypeName",src:"3249:9:52",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"}],id:8551,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:8548,name:"_currentSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8537,src:"3317:11:52",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},{argumentTypes:null,id:8549,name:"_nextSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8539,src:"3330:8:52",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}],expression:{argumentTypes:null,id:8546,name:"Auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7971,src:"3287:7:52",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_Auction_$7971_$",typeString:"type(contract Auction)"}},id:8547,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getCombinedTokenArray",nodeType:"MemberAccess",referencedDeclaration:7770,src:"3287:29:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_contract$_ISetToken_$5659_$_t_contract$_ISetToken_$5659_$returns$_t_array$_t_address_$dyn_memory_ptr_$",typeString:"function (contract ISetToken,contract ISetToken) view returns (address[] memory)"}},id:8550,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3287:52:52",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},nodeType:"VariableDeclarationStatement",src:"3249:90:52"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:8556,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8553,name:"combinedTokenArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8545,src:"3370:18:52",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:8554,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"3370:25:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"32",id:8555,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"3399:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_2_by_1",typeString:"int_const 2"},value:"2"},src:"3370:30:52",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54776f41737365745072696365426f756e6465644c696e65617241756374696f6e3a204f6e6c792074776f20636f6d706f6e656e74732061726520616c6c6f7765642e",id:8557,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"3414:69:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_63df3f509741ef8a8d1ed13dd62183d1b1777a8d23ddaaddcf52808d5b632ae4",typeString:'literal_string "TwoAssetPriceBoundedLinearAuction: Only two components are allowed."'},value:"TwoAssetPriceBoundedLinearAuction: Only two components are allowed."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_63df3f509741ef8a8d1ed13dd62183d1b1777a8d23ddaaddcf52808d5b632ae4",typeString:'literal_string "TwoAssetPriceBoundedLinearAuction: Only two components are allowed."'}],id:8552,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"3349:7:52",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:8558,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3349:144:52",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:8559,nodeType:"ExpressionStatement",src:"3349:144:52"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:8563,name:"combinedTokenArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8545,src:"3559:18:52",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}],expression:{argumentTypes:null,id:8561,name:"oracleWhiteList",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8504,src:"3525:15:52",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}},id:8562,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"areValidAddresses",nodeType:"MemberAccess",referencedDeclaration:4986,src:"3525:33:52",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_array$_t_address_$dyn_memory_ptr_$returns$_t_bool_$",typeString:"function (address[] memory) view external returns (bool)"}},id:8564,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3525:53:52",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54776f41737365745072696365426f756e6465644c696e65617241756374696f6e3a2050617373656420746f6b656e20646f6573206e6f742068617665206d61746368696e67206f7261636c652e",id:8565,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"3592:80:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_9b5ca3da0dd98690bb6ed302e0970245fe3d4b03f12e514339a271c76e29c2c5",typeString:'literal_string "TwoAssetPriceBoundedLinearAuction: Passed token does not have matching oracle."'},value:"TwoAssetPriceBoundedLinearAuction: Passed token does not have matching oracle."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_9b5ca3da0dd98690bb6ed302e0970245fe3d4b03f12e514339a271c76e29c2c5",typeString:'literal_string "TwoAssetPriceBoundedLinearAuction: Passed token does not have matching oracle."'}],id:8560,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"3504:7:52",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:8566,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3504:178:52",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:8567,nodeType:"ExpressionStatement",src:"3504:178:52"}]},documentation:"Validates that the auction only includes two components and the components are valid.",id:8569,implemented:true,kind:"function",modifiers:[],name:"validateTwoAssetPriceBoundedAuction",nodeType:"FunctionDefinition",parameters:{id:8540,nodeType:"ParameterList",parameters:[{constant:false,id:8537,name:"_currentSet",nodeType:"VariableDeclaration",scope:8569,src:"3149:21:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8536,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"3149:9:52",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:8539,name:"_nextSet",nodeType:"VariableDeclaration",scope:8569,src:"3180:18:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8538,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"3180:9:52",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"}],src:"3139:65:52"},returnParameters:{id:8541,nodeType:"ParameterList",parameters:[],src:"3239:0:52"},scope:9047,src:"3095:594:52",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:8686,nodeType:"Block",src:"4596:1970:52",statements:[{assignments:[8581],declarations:[{constant:false,id:8581,name:"assetOne",nodeType:"VariableDeclaration",scope:8686,src:"4663:25:52",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"},typeName:{contractScope:null,id:8580,name:"AssetInfo",nodeType:"UserDefinedTypeName",referencedDeclaration:8486,src:"4663:9:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_storage_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"}},value:null,visibility:"internal"}],id:8588,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8583,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8571,src:"4704:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8584,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedTokenArray",nodeType:"MemberAccess",referencedDeclaration:7476,src:"4704:27:52",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[] storage ref"}},id:8586,indexExpression:{argumentTypes:null,hexValue:"30",id:8585,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"4732:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"4704:30:52",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:8582,name:"getAssetInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9029,src:"4691:12:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_struct$_AssetInfo_$8486_memory_ptr_$",typeString:"function (address) view returns (struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory)"}},id:8587,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4691:44:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},nodeType:"VariableDeclarationStatement",src:"4663:72:52"},{assignments:[8590],declarations:[{constant:false,id:8590,name:"assetTwo",nodeType:"VariableDeclaration",scope:8686,src:"4745:25:52",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"},typeName:{contractScope:null,id:8589,name:"AssetInfo",nodeType:"UserDefinedTypeName",referencedDeclaration:8486,src:"4745:9:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_storage_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"}},value:null,visibility:"internal"}],id:8597,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8592,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8571,src:"4786:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8593,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedTokenArray",nodeType:"MemberAccess",referencedDeclaration:7476,src:"4786:27:52",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[] storage ref"}},id:8595,indexExpression:{argumentTypes:null,hexValue:"31",id:8594,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"4814:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"4786:30:52",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:8591,name:"getAssetInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9029,src:"4773:12:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_struct$_AssetInfo_$8486_memory_ptr_$",typeString:"function (address) view returns (struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory)"}},id:8596,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4773:44:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},nodeType:"VariableDeclarationStatement",src:"4745:72:52"},{assignments:[8599],declarations:[{constant:false,id:8599,name:"spotPrice",nodeType:"VariableDeclaration",scope:8686,src:"4889:17:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8598,name:"uint256",nodeType:"ElementaryTypeName",src:"4889:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8606,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:8601,name:"assetOne",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8581,src:"4928:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8602,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"price",nodeType:"MemberAccess",referencedDeclaration:8483,src:"4928:14:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8603,name:"assetTwo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8590,src:"4944:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8604,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"price",nodeType:"MemberAccess",referencedDeclaration:8483,src:"4944:14:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:8600,name:"calculateSpotPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9046,src:"4909:18:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256,uint256) view returns (uint256)"}},id:8605,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4909:50:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"4889:70:52"},{assignments:[8608],declarations:[{constant:false,id:8608,name:"auctionFairValue",nodeType:"VariableDeclaration",scope:8686,src:"5038:24:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8607,name:"uint256",nodeType:"ElementaryTypeName",src:"5038:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8617,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:8610,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8571,src:"5114:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},{argumentTypes:null,id:8611,name:"spotPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8599,src:"5136:9:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8612,name:"assetOne",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8581,src:"5159:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8613,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"fullUnit",nodeType:"MemberAccess",referencedDeclaration:8485,src:"5159:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8614,name:"assetTwo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8590,src:"5190:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8615,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"fullUnit",nodeType:"MemberAccess",referencedDeclaration:8485,src:"5190:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:8609,name:"convertAssetPairPriceToAuctionPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8989,src:"5065:35:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (struct Auction.Setup storage pointer,uint256,uint256,uint256) view returns (uint256)"}},id:8616,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5065:152:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"5038:179:52"},{assignments:[8619],declarations:[{constant:false,id:8619,name:"minimumBidMultiplier",nodeType:"VariableDeclaration",scope:8686,src:"5228:28:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8618,name:"uint256",nodeType:"ElementaryTypeName",src:"5228:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8621,initialValue:{argumentTypes:null,hexValue:"30",id:8620,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"5259:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"5228:32:52"},{body:{id:8678,nodeType:"Block",src:"5333:1079:52",statements:[{assignments:[8635,8637],declarations:[{constant:false,id:8635,name:"tokenInflowScaled",nodeType:"VariableDeclaration",
scope:8678,src:"5503:25:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8634,name:"uint256",nodeType:"ElementaryTypeName",src:"5503:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:8637,name:"tokenOutflowScaled",nodeType:"VariableDeclaration",scope:8678,src:"5546:26:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8636,name:"uint256",nodeType:"ElementaryTypeName",src:"5546:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8653,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8640,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8571,src:"5637:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8641,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedCurrentSetUnits",nodeType:"MemberAccess",referencedDeclaration:7479,src:"5637:32:52",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},id:8643,indexExpression:{argumentTypes:null,id:8642,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8623,src:"5670:1:52",typeDescriptions:{typeIdentifier:"t_uint8",typeString:"uint8"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"5637:35:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8644,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8571,src:"5690:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8645,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedNextSetUnits",nodeType:"MemberAccess",referencedDeclaration:7482,src:"5690:29:52",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},id:8647,indexExpression:{argumentTypes:null,id:8646,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8623,src:"5720:1:52",typeDescriptions:{typeIdentifier:"t_uint8",typeString:"uint8"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"5690:32:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:8648,name:"ONE",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8494,src:"5740:3:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8649,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"scale",nodeType:"MemberAccess",referencedDeclaration:23145,src:"5740:9:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256) pure returns (uint256)"}},id:8650,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5740:11:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:8651,name:"auctionFairValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8608,src:"5769:16:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8638,name:"Auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7971,src:"5589:7:52",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_Auction_$7971_$",typeString:"type(contract Auction)"}},id:8639,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"calculateInflowOutflow",nodeType:"MemberAccess",referencedDeclaration:7854,src:"5589:30:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$_t_uint256_$",typeString:"function (uint256,uint256,uint256,uint256) pure returns (uint256,uint256)"}},id:8652,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5589:210:52",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$",typeString:"tuple(uint256,uint256)"}},nodeType:"VariableDeclarationStatement",src:"5485:314:52"},{assignments:[8655],declarations:[{constant:false,id:8655,name:"tokenFlowScaled",nodeType:"VariableDeclaration",scope:8678,src:"5913:23:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8654,name:"uint256",nodeType:"ElementaryTypeName",src:"5913:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8661,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:8658,name:"tokenInflowScaled",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8635,src:"5948:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:8659,name:"tokenOutflowScaled",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8637,src:"5967:18:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8656,name:"Math",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:29512,src:"5939:4:52",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_Math_$29512_$",typeString:"type(library Math)"}},id:8657,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"max",nodeType:"MemberAccess",referencedDeclaration:29462,src:"5939:8:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8660,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5939:47:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"5913:73:52"},{assignments:[8663],declarations:[{constant:false,id:8663,name:"currentMinBidMultiplier",nodeType:"VariableDeclaration",scope:8678,src:"6151:31:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8662,name:"uint256",nodeType:"ElementaryTypeName",src:"6151:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8668,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:8666,name:"tokenFlowScaled",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8655,src:"6220:15:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8664,name:"MIN_SPOT_TOKEN_FLOW_SCALED",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8499,src:"6185:26:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8665,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"divCeil",nodeType:"MemberAccess",referencedDeclaration:23232,src:"6185:34:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8667,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6185:51:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"6151:85:52"},{expression:{argumentTypes:null,id:8676,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:8669,name:"minimumBidMultiplier",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8619,src:"6250:20:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:8672,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:8670,name:"currentMinBidMultiplier",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8663,src:"6273:23:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,id:8671,name:"minimumBidMultiplier",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8619,src:"6299:20:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"6273:46:52",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseExpression:{argumentTypes:null,id:8674,name:"minimumBidMultiplier",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8619,src:"6381:20:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8675,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"Conditional",src:"6273:128:52",trueExpression:{argumentTypes:null,id:8673,name:"currentMinBidMultiplier",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8663,src:"6338:23:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"6250:151:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8677,nodeType:"ExpressionStatement",src:"6250:151:52"}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:8630,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:8626,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8623,src:"5288:1:52",typeDescriptions:{typeIdentifier:"t_uint8",typeString:"uint8"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,expression:{argumentTypes:null,id:8627,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8571,src:"5292:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8628,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedTokenArray",nodeType:"MemberAccess",referencedDeclaration:7476,src:"5292:27:52",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[] storage ref"}},id:8629,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"5292:34:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"5288:38:52",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:8679,initializationExpression:{assignments:[8623],declarations:[{constant:false,id:8623,name:"i",nodeType:"VariableDeclaration",scope:8679,src:"5275:7:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint8",typeString:"uint8"},typeName:{id:8622,name:"uint8",nodeType:"ElementaryTypeName",src:"5275:5:52",typeDescriptions:{typeIdentifier:"t_uint8",typeString:"uint8"}},value:null,visibility:"internal"}],id:8625,initialValue:{argumentTypes:null,hexValue:"30",id:8624,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"5285:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"5275:11:52"},loopExpression:{expression:{argumentTypes:null,id:8632,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"UnaryOperation",operator:"++",prefix:false,src:"5328:3:52",subExpression:{argumentTypes:null,id:8631,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8623,src:"5328:1:52",typeDescriptions:{typeIdentifier:"t_uint8",typeString:"uint8"}},typeDescriptions:{typeIdentifier:"t_uint8",typeString:"uint8"}},id:8633,nodeType:"ExpressionStatement",src:"5328:3:52"},nodeType:"ForStatement",src:"5270:1142:52"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8683,name:"minimumBidMultiplier",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8619,src:"6538:20:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:8680,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8571,src:"6510:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8681,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"maxNaturalUnit",nodeType:"MemberAccess",referencedDeclaration:7465,src:"6510:23:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8682,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"6510:27:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8684,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6510:49:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:8579,id:8685,nodeType:"Return",src:"6503:56:52"}]},documentation:"Calculates the minimumBid. First calculates the minimum token flow for the pair at fair value using\nmaximum natural unit of two Sets. If that token flow is below 1000 units then calculate minimumBid\nas such:\n     * minimumBid = maxNaturalUnit*1000/min(tokenFlow)\n     * Else, set minimumBid equal to maxNaturalUnit. This is to ensure that around fair value there is ample\ngranualarity in asset pair price changes and not large discontinuities.\n     * @param _auction            Auction object\n@param _currentSet         CurrentSet, unused in this implementation\n@param _nextSet            NextSet, unused in this implementation",id:8687,implemented:true,kind:"function",modifiers:[],name:"calculateMinimumBid",nodeType:"FunctionDefinition",parameters:{id:8576,nodeType:"ParameterList",parameters:[{constant:false,id:8571,name:"_auction",nodeType:"VariableDeclaration",scope:8687,src:"4440:30:52",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:8570,name:"Auction.Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"4440:13:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:8573,name:"_currentSet",nodeType:"VariableDeclaration",scope:8687,src:"4480:21:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8572,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"4480:9:52",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:8575,name:"_nextSet",nodeType:"VariableDeclaration",scope:8687,src:"4511:18:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8574,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"4511:9:52",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"}],src:"4430:105:52"},returnParameters:{id:8579,nodeType:"ParameterList",parameters:[{constant:false,id:8578,name:"",nodeType:"VariableDeclaration",scope:8687,src:"4583:7:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8577,name:"uint256",nodeType:"ElementaryTypeName",src:"4583:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"4582:9:52"},scope:9047,src:"4402:2164:52",stateMutability:"view",superFunction:8198,visibility:"internal"},{body:{id:8778,nodeType:"Block",src:"7199:1369:52",statements:[{assignments:[8699],declarations:[{constant:false,id:8699,name:"assetOne",nodeType:"VariableDeclaration",scope:8778,src:"7266:25:52",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"},typeName:{contractScope:null,id:8698,name:"AssetInfo",nodeType:"UserDefinedTypeName",referencedDeclaration:8486,src:"7266:9:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_storage_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"}},value:null,visibility:"internal"}],id:8706,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8701,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8689,src:"7307:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8702,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedTokenArray",nodeType:"MemberAccess",referencedDeclaration:7476,src:"7307:27:52",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[] storage ref"}},id:8704,indexExpression:{argumentTypes:null,hexValue:"30",id:8703,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"7335:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"7307:30:52",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:8700,name:"getAssetInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9029,src:"7294:12:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_struct$_AssetInfo_$8486_memory_ptr_$",typeString:"function (address) view returns (struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory)"}},id:8705,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7294:44:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},nodeType:"VariableDeclarationStatement",src:"7266:72:52"},{assignments:[8708],declarations:[{constant:false,id:8708,name:"assetTwo",nodeType:"VariableDeclaration",scope:8778,src:"7348:25:52",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"},typeName:{contractScope:null,id:8707,name:"AssetInfo",nodeType:"UserDefinedTypeName",referencedDeclaration:8486,src:"7348:9:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_storage_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"}},value:null,visibility:"internal"}],id:8715,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8710,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8689,src:"7389:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8711,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedTokenArray",nodeType:"MemberAccess",referencedDeclaration:7476,src:"7389:27:52",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[] storage ref"}},id:8713,indexExpression:{argumentTypes:null,hexValue:"31",id:8712,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"7417:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"7389:30:52",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:8709,name:"getAssetInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9029,src:"7376:12:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_struct$_AssetInfo_$8486_memory_ptr_$",typeString:"function (address) view returns (struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory)"}},id:8714,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7376:44:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},nodeType:"VariableDeclarationStatement",src:"7348:72:52"},{assignments:[8717],declarations:[{constant:false,id:8717,name:"spotPrice",nodeType:"VariableDeclaration",scope:8778,src:"7503:17:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8716,name:"uint256",nodeType:"ElementaryTypeName",src:"7503:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8724,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:8719,name:"assetOne",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8699,src:"7542:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8720,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"price",nodeType:"MemberAccess",referencedDeclaration:8483,src:"7542:14:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8721,name:"assetTwo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8708,src:"7558:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8722,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"price",nodeType:"MemberAccess",referencedDeclaration:8483,src:"7558:14:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:8718,name:"calculateSpotPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9046,src:"7523:18:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256,uint256) view returns (uint256)"}},id:8723,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7523:50:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"7503:70:52"},{assignments:[8726],declarations:[{constant:false,id:8726,name:"isTokenFlowIncreasing",nodeType:"VariableDeclaration",scope:8778,src:"7672:26:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:8725,name:"bool",nodeType:"ElementaryTypeName",src:"7672:4:52",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],id:8735,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:8728,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8689,src:"7736:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},{argumentTypes:null,id:8729,name:"spotPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8717,src:"7758:9:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8730,name:"assetOne",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8699,src:"7781:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8731,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"fullUnit",nodeType:"MemberAccess",referencedDeclaration:8485,src:"7781:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8732,name:"assetTwo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8708,src:"7812:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8733,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"fullUnit",nodeType:"MemberAccess",referencedDeclaration:8485,src:"7812:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:8727,name:"isTokenFlowIncreasing",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8910,src:"7701:21:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_bool_$",typeString:"function (struct Auction.Setup storage pointer,uint256,uint256,uint256) view returns (bool)"}},id:8734,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7701:139:52",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"VariableDeclarationStatement",src:"7672:168:52"},{assignments:[8737],declarations:[{constant:false,id:8737,name:"startPairPrice",nodeType:"VariableDeclaration",scope:8778,src:"8048:22:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8736,name:"uint256",nodeType:"ElementaryTypeName",src:"8048:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8738,initialValue:null,nodeType:"VariableDeclarationStatement",src:"8048:22:52"},{condition:{argumentTypes:null,id:8739,name:"isTokenFlowIncreasing",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8726,src:"8084:21:52",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:8767,nodeType:"Block",src:"8214:103:52",statements:[{expression:{argumentTypes:null,id:8765,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:8754,name:"startPairPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8737,src:"8228:14:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:8763,name:"ONE_HUNDRED",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8502,src:"8292:11:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:8759,name:"rangeStart",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8506,src:"8275:10:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8757,name:"ONE_HUNDRED",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8502,src:"8259:11:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8758,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:29619,src:"8259:15:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8760,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8259:27:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8755,name:"spotPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8717,src:"8245:9:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8756,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"8245:13:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8761,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8245:42:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8762,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"8245:46:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8764,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8245:59:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"8228:76:52",typeDescriptions:{
typeIdentifier:"t_uint256",typeString:"uint256"}},id:8766,nodeType:"ExpressionStatement",src:"8228:76:52"}]},id:8768,nodeType:"IfStatement",src:"8080:237:52",trueBody:{id:8753,nodeType:"Block",src:"8107:101:52",statements:[{expression:{argumentTypes:null,id:8751,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:8740,name:"startPairPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8737,src:"8121:14:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:8749,name:"ONE_HUNDRED",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8502,src:"8185:11:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:8745,name:"rangeStart",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8506,src:"8168:10:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8743,name:"ONE_HUNDRED",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8502,src:"8152:11:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8744,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"8152:15:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8746,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8152:27:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8741,name:"spotPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8717,src:"8138:9:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8742,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"8138:13:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8747,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8138:42:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8748,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"8138:46:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8750,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8138:59:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"8121:76:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8752,nodeType:"ExpressionStatement",src:"8121:76:52"}]}},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8770,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8689,src:"8453:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},{argumentTypes:null,id:8771,name:"startPairPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8737,src:"8475:14:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8772,name:"assetOne",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8699,src:"8503:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8773,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"fullUnit",nodeType:"MemberAccess",referencedDeclaration:8485,src:"8503:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8774,name:"assetTwo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8708,src:"8534:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8775,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"fullUnit",nodeType:"MemberAccess",referencedDeclaration:8485,src:"8534:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:8769,name:"convertAssetPairPriceToAuctionPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8989,src:"8404:35:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (struct Auction.Setup storage pointer,uint256,uint256,uint256) view returns (uint256)"}},id:8776,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8404:157:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:8697,id:8777,nodeType:"Return",src:"8397:164:52"}]},documentation:"Calculates the linear auction start price. A target asset pair (i.e. ETH/DAI) price is calculated\nto start the auction at, that asset pair price is then translated into the equivalent auction price.\n     * @param _auction            Auction object\n@param _currentSet         CurrentSet, unused in this implementation\n@param _nextSet            NextSet, unused in this implementation",id:8779,implemented:true,kind:"function",modifiers:[],name:"calculateStartPrice",nodeType:"FunctionDefinition",parameters:{id:8694,nodeType:"ParameterList",parameters:[{constant:false,id:8689,name:"_auction",nodeType:"VariableDeclaration",scope:8779,src:"7044:30:52",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:8688,name:"Auction.Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"7044:13:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:8691,name:"_currentSet",nodeType:"VariableDeclaration",scope:8779,src:"7084:21:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8690,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"7084:9:52",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:8693,name:"_nextSet",nodeType:"VariableDeclaration",scope:8779,src:"7115:18:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8692,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"7115:9:52",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"}],src:"7034:105:52"},returnParameters:{id:8697,nodeType:"ParameterList",parameters:[{constant:false,id:8696,name:"",nodeType:"VariableDeclaration",scope:8779,src:"7186:7:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8695,name:"uint256",nodeType:"ElementaryTypeName",src:"7186:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"7185:9:52"},scope:9047,src:"7006:1562:52",stateMutability:"view",superFunction:8209,visibility:"internal"},{body:{id:8870,nodeType:"Block",src:"9195:1343:52",statements:[{assignments:[8791],declarations:[{constant:false,id:8791,name:"assetOne",nodeType:"VariableDeclaration",scope:8870,src:"9262:25:52",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"},typeName:{contractScope:null,id:8790,name:"AssetInfo",nodeType:"UserDefinedTypeName",referencedDeclaration:8486,src:"9262:9:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_storage_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"}},value:null,visibility:"internal"}],id:8798,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8793,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8781,src:"9303:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8794,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedTokenArray",nodeType:"MemberAccess",referencedDeclaration:7476,src:"9303:27:52",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[] storage ref"}},id:8796,indexExpression:{argumentTypes:null,hexValue:"30",id:8795,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"9331:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"9303:30:52",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:8792,name:"getAssetInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9029,src:"9290:12:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_struct$_AssetInfo_$8486_memory_ptr_$",typeString:"function (address) view returns (struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory)"}},id:8797,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9290:44:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},nodeType:"VariableDeclarationStatement",src:"9262:72:52"},{assignments:[8800],declarations:[{constant:false,id:8800,name:"assetTwo",nodeType:"VariableDeclaration",scope:8870,src:"9344:25:52",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"},typeName:{contractScope:null,id:8799,name:"AssetInfo",nodeType:"UserDefinedTypeName",referencedDeclaration:8486,src:"9344:9:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_storage_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"}},value:null,visibility:"internal"}],id:8807,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8802,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8781,src:"9385:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8803,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedTokenArray",nodeType:"MemberAccess",referencedDeclaration:7476,src:"9385:27:52",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[] storage ref"}},id:8805,indexExpression:{argumentTypes:null,hexValue:"31",id:8804,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"9413:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"9385:30:52",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:8801,name:"getAssetInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9029,src:"9372:12:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_struct$_AssetInfo_$8486_memory_ptr_$",typeString:"function (address) view returns (struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory)"}},id:8806,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9372:44:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},nodeType:"VariableDeclarationStatement",src:"9344:72:52"},{assignments:[8809],declarations:[{constant:false,id:8809,name:"spotPrice",nodeType:"VariableDeclaration",scope:8870,src:"9488:17:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8808,name:"uint256",nodeType:"ElementaryTypeName",src:"9488:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8816,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:8811,name:"assetOne",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8791,src:"9527:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8812,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"price",nodeType:"MemberAccess",referencedDeclaration:8483,src:"9527:14:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8813,name:"assetTwo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8800,src:"9543:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8814,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"price",nodeType:"MemberAccess",referencedDeclaration:8483,src:"9543:14:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:8810,name:"calculateSpotPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9046,src:"9508:18:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256,uint256) view returns (uint256)"}},id:8815,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9508:50:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"9488:70:52"},{assignments:[8818],declarations:[{constant:false,id:8818,name:"isTokenFlowIncreasing",nodeType:"VariableDeclaration",scope:8870,src:"9656:26:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:8817,name:"bool",nodeType:"ElementaryTypeName",src:"9656:4:52",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],id:8827,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:8820,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8781,src:"9720:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},{argumentTypes:null,id:8821,name:"spotPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8809,src:"9742:9:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8822,name:"assetOne",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8791,src:"9765:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8823,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"fullUnit",nodeType:"MemberAccess",referencedDeclaration:8485,src:"9765:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8824,name:"assetTwo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8800,src:"9796:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8825,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"fullUnit",nodeType:"MemberAccess",referencedDeclaration:8485,src:"9796:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:8819,name:"isTokenFlowIncreasing",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8910,src:"9685:21:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_bool_$",typeString:"function (struct Auction.Setup storage pointer,uint256,uint256,uint256) view returns (bool)"}},id:8826,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9685:139:52",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"VariableDeclarationStatement",src:"9656:168:52"},{assignments:[8829],declarations:[{constant:false,id:8829,name:"endPairPrice",nodeType:"VariableDeclaration",scope:8870,src:"10032:20:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8828,name:"uint256",nodeType:"ElementaryTypeName",src:"10032:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8830,initialValue:null,nodeType:"VariableDeclarationStatement",src:"10032:20:52"},{condition:{argumentTypes:null,id:8831,name:"isTokenFlowIncreasing",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8818,src:"10066:21:52",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:8859,nodeType:"Block",src:"10192:99:52",statements:[{expression:{argumentTypes:null,id:8857,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:8846,name:"endPairPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8829,src:"10206:12:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:8855,name:"ONE_HUNDRED",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8502,src:"10266:11:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:8851,name:"rangeEnd",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8508,src:"10251:8:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8849,name:"ONE_HUNDRED",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8502,src:"10235:11:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8850,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"10235:15:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8852,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10235:25:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8847,name:"spotPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8809,src:"10221:9:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8848,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"10221:13:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8853,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10221:40:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8854,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"10221:44:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8856,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10221:57:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10206:72:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8858,nodeType:"ExpressionStatement",src:"10206:72:52"}]},id:8860,nodeType:"IfStatement",src:"10062:229:52",trueBody:{id:8845,nodeType:"Block",src:"10089:97:52",statements:[{expression:{argumentTypes:null,id:8843,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:8832,name:"endPairPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8829,src:"10103:12:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:8841,name:"ONE_HUNDRED",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8502,src:"10163:11:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:8837,name:"rangeEnd",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8508,src:"10148:8:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8835,name:"ONE_HUNDRED",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8502,src:"10132:11:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8836,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:29619,src:"10132:15:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8838,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10132:25:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8833,name:"spotPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8809,src:"10118:9:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8834,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"10118:13:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8839,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10118:40:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8840,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"10118:44:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8842,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10118:57:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10103:72:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8844,nodeType:"ExpressionStatement",src:"10103:72:52"}]}},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8862,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8781,src:"10425:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},{argumentTypes:null,id:8863,name:"endPairPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8829,src:"10447:12:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8864,name:"assetOne",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8791,src:"10473:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8865,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"fullUnit",nodeType:"MemberAccess",referencedDeclaration:8485,src:"10473:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8866,name:"assetTwo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8800,src:"10504:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8867,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"fullUnit",nodeType:"MemberAccess",referencedDeclaration:8485,src:"10504:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:8861,name:"convertAssetPairPriceToAuctionPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8989,src:"10376:35:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (struct Auction.Setup storage pointer,uint256,uint256,uint256) view returns (uint256)"}},id:8868,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10376:155:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:8789,id:8869,nodeType:"Return",src:"10369:162:52"}]},documentation:"Calculates the linear auction end price. A target asset pair (i.e. ETH/DAI) price is calculated\nto end the auction at, that asset pair price is then translated into the equivalent auction price.\n     * @param _auction            Auction object\n@param _currentSet         CurrentSet, unused in this implementation\n@param _nextSet            NextSet, unused in this implementation",id:8871,implemented:true,kind:"function",modifiers:[],name:"calculateEndPrice",nodeType:"FunctionDefinition",parameters:{id:8786,nodeType:"ParameterList",parameters:[{constant:false,id:8781,name:"_auction",nodeType:"VariableDeclaration",scope:8871,src:"9040:30:52",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:8780,name:"Auction.Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"9040:13:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:8783,name:"_currentSet",nodeType:"VariableDeclaration",scope:8871,src:"9080:21:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8782,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"9080:9:52",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:8785,name:"_nextSet",nodeType:"VariableDeclaration",scope:8871,src:"9111:18:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8784,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"9111:9:52",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"}],src:"9030:105:52"},returnParameters:{id:8789,nodeType:"ParameterList",parameters:[{constant:false,id:8788,name:"",nodeType:"VariableDeclaration",scope:8871,src:"9182:7:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8787,name:"uint256",nodeType:"ElementaryTypeName",src:"9182:7:52",typeDescriptions:{typeIdentifier:"t_uint256",
typeString:"uint256"}},value:null,visibility:"internal"}],src:"9181:9:52"},scope:9047,src:"9004:1534:52",stateMutability:"view",superFunction:8220,visibility:"internal"},{body:{id:8909,nodeType:"Block",src:"12097:570:52",statements:[{assignments:[8885],declarations:[{constant:false,id:8885,name:"auctionFairValue",nodeType:"VariableDeclaration",scope:8909,src:"12175:24:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8884,name:"uint256",nodeType:"ElementaryTypeName",src:"12175:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8892,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:8887,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8873,src:"12251:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},{argumentTypes:null,id:8888,name:"_spotPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8875,src:"12273:10:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:8889,name:"_assetOneFullUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8877,src:"12297:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:8890,name:"_assetTwoFullUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8879,src:"12328:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:8886,name:"convertAssetPairPriceToAuctionPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8989,src:"12202:35:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (struct Auction.Setup storage pointer,uint256,uint256,uint256) view returns (uint256)"}},id:8891,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12202:161:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"12175:188:52"},{expression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:8907,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8898,name:"CURVE_DENOMINATOR",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8491,src:"12570:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8893,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8873,src:"12533:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8894,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedNextSetUnits",nodeType:"MemberAccess",referencedDeclaration:7482,src:"12533:29:52",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},id:8896,indexExpression:{argumentTypes:null,hexValue:"30",id:8895,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"12563:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"12533:32:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8897,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"12533:36:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8899,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12533:55:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8905,name:"auctionFairValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8885,src:"12643:16:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8900,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8873,src:"12603:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8901,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedCurrentSetUnits",nodeType:"MemberAccess",referencedDeclaration:7479,src:"12603:32:52",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},id:8903,indexExpression:{argumentTypes:null,hexValue:"30",id:8902,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"12636:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"12603:35:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8904,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"12603:39:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8906,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12603:57:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"12533:127:52",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},functionReturnParameters:8883,id:8908,nodeType:"Return",src:"12526:134:52"}]},documentation:"Determines if asset pair price is increasing or decreasing as time passed in auction. Used to set the\nauction price bounds. Below a refers to any asset and subscripts c, n, d mean currentSetUnit, nextSetUnit \nand fullUnit amount, respectively. pP and pD refer to auction price and auction denominator. Asset pair\nprice is defined as such:\n     * assetPrice = abs(assetTwoOutflow/assetOneOutflow)\n     * The equation for an outflow is given by (a_c/a_d)*pP - (a_n/a_d)*pD). It can be proven that the derivative\nof this equation is always increasing. Thus by determining the sign of the assetOneOutflow (where a negative\namount signifies an inflow) it can be determined whether the asset pair price is increasing or decreasing.\n     * For example, if assetOneOutflow is negative it means that the denominator is getting smaller as time passes\nand thus the assetPrice is increasing during the auction. \n     * @param _auction              Auction object\n@param _spotPrice            Current spot price provided by asset oracles\n@param _assetOneFullUnit     Units in one full unit of assetOne\n@param _assetTwoFullUnit     Units in one full unit of assetTwo",id:8910,implemented:true,kind:"function",modifiers:[],name:"isTokenFlowIncreasing",nodeType:"FunctionDefinition",parameters:{id:8880,nodeType:"ParameterList",parameters:[{constant:false,id:8873,name:"_auction",nodeType:"VariableDeclaration",scope:8910,src:"11906:30:52",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:8872,name:"Auction.Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"11906:13:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:8875,name:"_spotPrice",nodeType:"VariableDeclaration",scope:8910,src:"11946:18:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8874,name:"uint256",nodeType:"ElementaryTypeName",src:"11946:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:8877,name:"_assetOneFullUnit",nodeType:"VariableDeclaration",scope:8910,src:"11974:25:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8876,name:"uint256",nodeType:"ElementaryTypeName",src:"11974:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:8879,name:"_assetTwoFullUnit",nodeType:"VariableDeclaration",scope:8910,src:"12009:25:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8878,name:"uint256",nodeType:"ElementaryTypeName",src:"12009:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"11896:144:52"},returnParameters:{id:8883,nodeType:"ParameterList",parameters:[{constant:false,id:8882,name:"",nodeType:"VariableDeclaration",scope:8910,src:"12087:4:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:8881,name:"bool",nodeType:"ElementaryTypeName",src:"12087:4:52",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"12086:6:52"},scope:9047,src:"11866:801:52",stateMutability:"view",superFunction:null,visibility:"private"},{body:{id:8988,nodeType:"Block",src:"13887:1554:52",statements:[{assignments:[8924],declarations:[{constant:false,id:8924,name:"calcNumerator",nodeType:"VariableDeclaration",scope:8988,src:"14204:21:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8923,name:"uint256",nodeType:"ElementaryTypeName",src:"14204:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8952,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:8949,name:"_assetOneFullUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8916,src:"14410:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8946,name:"CURVE_DENOMINATOR",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8491,src:"14387:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8940,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8912,src:"14349:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8941,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedNextSetUnits",nodeType:"MemberAccess",referencedDeclaration:7482,src:"14349:29:52",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},id:8943,indexExpression:{argumentTypes:null,hexValue:"30",id:8942,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"14379:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"14349:32:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8938,name:"_targetPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8914,src:"14332:12:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8939,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"14332:16:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8944,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14332:50:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8945,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"14332:54:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8947,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14332:73:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8948,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"14332:77:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8950,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14332:96:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8935,name:"_assetTwoFullUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8918,src:"14296:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8930,name:"CURVE_DENOMINATOR",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8491,src:"14265:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8925,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8912,src:"14228:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8926,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedNextSetUnits",nodeType:"MemberAccess",referencedDeclaration:7482,src:"14228:29:52",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},id:8928,indexExpression:{argumentTypes:null,hexValue:"31",id:8927,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"14258:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"14228:32:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8929,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"14228:36:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8931,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14228:55:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8932,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"scale",nodeType:"MemberAccess",referencedDeclaration:23145,src:"14228:61:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256) pure returns (uint256)"}},id:8933,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14228:63:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8934,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"14228:67:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8936,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14228:86:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8937,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:29619,src:"14228:90:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8951,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14228:210:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"14204:234:52"},{assignments:[8954],declarations:[{constant:false,id:8954,name:"calcDenominator",nodeType:"VariableDeclaration",scope:8988,src:"14797:23:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8953,name:"uint256",nodeType:"ElementaryTypeName",src:"14797:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8980,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:8977,name:"_assetOneFullUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8916,src:"14980:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8969,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8912,src:"14931:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8970,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedCurrentSetUnits",nodeType:"MemberAccess",referencedDeclaration:7479,src:"14931:32:52",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},id:8972,indexExpression:{argumentTypes:null,hexValue:"30",id:8971,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"14964:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"14931:35:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8967,name:"_targetPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8914,src:"14914:12:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8968,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"14914:16:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8973,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14914:53:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8974,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"scale",nodeType:"MemberAccess",referencedDeclaration:23145,src:"14914:59:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256) pure returns (uint256)"}},id:8975,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14914:61:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8976,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"14914:65:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8978,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14914:84:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8964,name:"_assetTwoFullUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8918,src:"14879:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8955,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8912,src:"14823:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8956,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedCurrentSetUnits",nodeType:"MemberAccess",referencedDeclaration:7479,src:"14823:32:52",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},id:8958,indexExpression:{argumentTypes:null,hexValue:"31",id:8957,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"14856:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"14823:35:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8959,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"scale",nodeType:"MemberAccess",referencedDeclaration:23145,src:"14823:41:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256) pure returns (uint256)"}},id:8960,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14823:43:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8961,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"scale",nodeType:"MemberAccess",referencedDeclaration:23145,src:"14823:49:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256) pure returns (uint256)"}},id:8962,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14823:51:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8963,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"14823:55:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8965,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14823:74:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8966,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:29619,src:"14823:78:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8979,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14823:186:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"14797:212:52"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8985,name:"calcDenominator",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8954,src:"15418:15:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:8981,name:"calcNumerator",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8924,src:"15392:13:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8982,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"scale",nodeType:"MemberAccess",referencedDeclaration:23145,src:"15392:19:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256) pure returns (uint256)"}},id:8983,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15392:21:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8984,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"15392:25:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8986,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15392:42:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:8922,id:8987,nodeType:"Return",src:"15385:49:52"}]},documentation:"Convert an asset pair price to the equivalent auction price where a1 refers to assetOne and a2 refers to assetTwo\nand subscripts c, n, d mean currentSetUnit, nextSetUnit and fullUnit amount, respectively. pP and pD refer to auction\nprice and auction denominator:\n     * assetPrice = abs(assetTwoOutflow/assetOneOutflow)\n     * assetPrice = ((a2_c/a2_d)*pP - (a2_n/a2_d)*pD) / ((a1_c/a1_d)*pP - (a1_n/a1_d)*pD)\n     * We know assetPrice so we isolate for pP:\n     * pP = pD((a2_n/a2_d)+assetPrice*(a1_n/a1_d)) / (a2_c/a2_d)+assetPrice*(a1_c/a1_d)\n     * This gives us the auction price that matches with the passed asset pair price.\n     * @param _auction              Auction object\n@param _targetPrice          Target asset pair price\n@param _assetOneFullUnit     Units in one full unit of assetOne\n@param _assetTwoFullUnit     Units in one full unit of assetTwo",id:8989,implemented:true,kind:"function",modifiers:[],name:"convertAssetPairPriceToAuctionPrice",nodeType:"FunctionDefinition",parameters:{id:8919,nodeType:"ParameterList",parameters:[{constant:false,id:8912,name:"_auction",nodeType:"VariableDeclaration",scope:8989,src:"13691:30:52",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:8911,name:"Auction.Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"13691:13:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:8914,name:"_targetPrice",nodeType:"VariableDeclaration",scope:8989,src:"13731:20:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8913,name:"uint256",nodeType:"ElementaryTypeName",src:"13731:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:8916,name:"_assetOneFullUnit",nodeType:"VariableDeclaration",scope:8989,src:"13761:25:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8915,name:"uint256",nodeType:"ElementaryTypeName",src:"13761:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:8918,name:"_assetTwoFullUnit",nodeType:"VariableDeclaration",scope:8989,src:"13796:25:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8917,name:"uint256",nodeType:"ElementaryTypeName",src:"13796:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"13681:146:52"},returnParameters:{id:8922,nodeType:"ParameterList",parameters:[{constant:false,id:8921,name:"",nodeType:"VariableDeclaration",scope:8989,src:"13874:7:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8920,name:"uint256",nodeType:"ElementaryTypeName",
src:"13874:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"13873:9:52"},scope:9047,src:"13637:1804:52",stateMutability:"view",superFunction:null,visibility:"private"},{body:{id:9028,nodeType:"Block",src:"15675:334:52",statements:[{assignments:[8997],declarations:[{constant:false,id:8997,name:"assetOracle",nodeType:"VariableDeclaration",scope:9028,src:"15685:19:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:8996,name:"address",nodeType:"ElementaryTypeName",src:"15685:7:52",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],id:9002,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:9e3,name:"_asset",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8991,src:"15747:6:52",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],expression:{argumentTypes:null,id:8998,name:"oracleWhiteList",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8504,src:"15707:15:52",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}},id:8999,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getOracleAddressByToken",nodeType:"MemberAccess",referencedDeclaration:5002,src:"15707:39:52",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_address_$returns$_t_address_$",typeString:"function (address) view external returns (address)"}},id:9001,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15707:47:52",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"VariableDeclarationStatement",src:"15685:69:52"},{assignments:[9004],declarations:[{constant:false,id:9004,name:"assetPrice",nodeType:"VariableDeclaration",scope:9028,src:"15764:18:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:9003,name:"uint256",nodeType:"ElementaryTypeName",src:"15764:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:9010,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:9006,name:"assetOracle",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8997,src:"15793:11:52",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:9005,name:"IOracle",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30298,src:"15785:7:52",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_IOracle_$30298_$",typeString:"type(contract IOracle)"}},id:9007,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15785:20:52",typeDescriptions:{typeIdentifier:"t_contract$_IOracle_$30298",typeString:"contract IOracle"}},id:9008,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"read",nodeType:"MemberAccess",referencedDeclaration:30297,src:"15785:25:52",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_uint256_$",typeString:"function () view external returns (uint256)"}},id:9009,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15785:27:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"15764:48:52"},{assignments:[9012],declarations:[{constant:false,id:9012,name:"decimals",nodeType:"VariableDeclaration",scope:9028,src:"15823:16:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:9011,name:"uint256",nodeType:"ElementaryTypeName",src:"15823:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:9018,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:9014,name:"_asset",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8991,src:"15856:6:52",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:9013,name:"ERC20Detailed",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30190,src:"15842:13:52",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC20Detailed_$30190_$",typeString:"type(contract ERC20Detailed)"}},id:9015,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15842:21:52",typeDescriptions:{typeIdentifier:"t_contract$_ERC20Detailed_$30190",typeString:"contract ERC20Detailed"}},id:9016,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"decimals",nodeType:"MemberAccess",referencedDeclaration:30189,src:"15842:30:52",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_uint8_$",typeString:"function () view external returns (uint8)"}},id:9017,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15842:32:52",typeDescriptions:{typeIdentifier:"t_uint8",typeString:"uint8"}},nodeType:"VariableDeclarationStatement",src:"15823:51:52"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:9020,name:"assetPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9004,src:"15923:10:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,arguments:[{argumentTypes:null,hexValue:"3130",id:9023,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"15978:2:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_10_by_1",typeString:"int_const 10"},value:"10"},{argumentTypes:null,id:9024,name:"decimals",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9012,src:"15982:8:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_rational_10_by_1",typeString:"int_const 10"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:9021,name:"CommonMath",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:23436,src:"15957:10:52",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_CommonMath_$23436_$",typeString:"type(library CommonMath)"}},id:9022,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"safePower",nodeType:"MemberAccess",referencedDeclaration:23203,src:"15957:20:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:9025,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15957:34:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:9019,name:"AssetInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8486,src:"15892:9:52",typeDescriptions:{typeIdentifier:"t_type$_t_struct$_AssetInfo_$8486_storage_ptr_$",typeString:"type(struct TwoAssetPriceBoundedLinearAuction.AssetInfo storage pointer)"}},id:9026,isConstant:false,isLValue:false,isPure:false,kind:"structConstructorCall",lValueRequested:false,names:["price","fullUnit"],nodeType:"FunctionCall",src:"15892:110:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},functionReturnParameters:8995,id:9027,nodeType:"Return",src:"15885:117:52"}]},documentation:"Get fullUnit amount and price of given asset.\n     * @param _asset            Address of auction to get information from",id:9029,implemented:true,kind:"function",modifiers:[],name:"getAssetInfo",nodeType:"FunctionDefinition",parameters:{id:8992,nodeType:"ParameterList",parameters:[{constant:false,id:8991,name:"_asset",nodeType:"VariableDeclaration",scope:9029,src:"15620:14:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:8990,name:"address",nodeType:"ElementaryTypeName",src:"15620:7:52",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"15619:16:52"},returnParameters:{id:8995,nodeType:"ParameterList",parameters:[{constant:false,id:8994,name:"",nodeType:"VariableDeclaration",scope:9029,src:"15657:16:52",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"},typeName:{contractScope:null,id:8993,name:"AssetInfo",nodeType:"UserDefinedTypeName",referencedDeclaration:8486,src:"15657:9:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_storage_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"}},value:null,visibility:"internal"}],src:"15656:18:52"},scope:9047,src:"15598:411:52",stateMutability:"view",superFunction:null,visibility:"private"},{body:{id:9045,nodeType:"Block",src:"16189:66:52",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:9042,name:"_assetTwoPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9033,src:"16233:14:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:9038,name:"_assetOnePrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9031,src:"16206:14:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:9039,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"scale",nodeType:"MemberAccess",referencedDeclaration:23145,src:"16206:20:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256) pure returns (uint256)"}},id:9040,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16206:22:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:9041,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"16206:26:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:9043,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16206:42:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:9037,id:9044,nodeType:"Return",src:"16199:49:52"}]},documentation:"Calculate asset pair price given two prices.",id:9046,implemented:true,kind:"function",modifiers:[],name:"calculateSpotPrice",nodeType:"FunctionDefinition",parameters:{id:9034,nodeType:"ParameterList",parameters:[{constant:false,id:9031,name:"_assetOnePrice",nodeType:"VariableDeclaration",scope:9046,src:"16111:22:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:9030,name:"uint256",nodeType:"ElementaryTypeName",src:"16111:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:9033,name:"_assetTwoPrice",nodeType:"VariableDeclaration",scope:9046,src:"16135:22:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:9032,name:"uint256",nodeType:"ElementaryTypeName",src:"16135:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"16110:48:52"},returnParameters:{id:9037,nodeType:"ParameterList",parameters:[{constant:false,id:9036,name:"",nodeType:"VariableDeclaration",scope:9046,src:"16180:7:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:9035,name:"uint256",nodeType:"ElementaryTypeName",src:"16180:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"16179:9:52"},scope:9047,src:"16083:172:52",stateMutability:"view",superFunction:null,visibility:"private"}],scope:9048,src:"1471:14786:52"}],src:"597:15660:52"},legacyAST:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/TwoAssetPriceBoundedLinearAuction.sol",exportedSymbols:{TwoAssetPriceBoundedLinearAuction:[9047]},id:9048,nodeType:"SourceUnit",nodes:[{id:8454,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:52"},{id:8455,literals:["experimental","ABIEncoderV2"],nodeType:"PragmaDirective",src:"620:35:52"},{absolutePath:"openzeppelin-solidity/contracts/token/ERC20/ERC20Detailed.sol",file:"openzeppelin-solidity/contracts/token/ERC20/ERC20Detailed.sol",id:8457,nodeType:"ImportDirective",scope:9048,sourceUnit:30191,src:"657:94:52",symbolAliases:[{foreign:8456,local:null}],unitAlias:""},{absolutePath:"openzeppelin-solidity/contracts/math/Math.sol",file:"openzeppelin-solidity/contracts/math/Math.sol",id:8459,nodeType:"ImportDirective",scope:9048,sourceUnit:29513,src:"752:69:52",symbolAliases:[{foreign:8458,local:null}],unitAlias:""},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:8461,nodeType:"ImportDirective",scope:9048,sourceUnit:29641,src:"822:77:52",symbolAliases:[{foreign:8460,local:null}],unitAlias:""},{absolutePath:"set-protocol-oracles/contracts/meta-oracles/interfaces/IOracle.sol",file:"set-protocol-oracles/contracts/meta-oracles/interfaces/IOracle.sol",id:8463,nodeType:"ImportDirective",scope:9048,sourceUnit:30299,src:"900:93:52",symbolAliases:[{foreign:8462,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/Auction.sol",file:"./Auction.sol",id:8465,nodeType:"ImportDirective",scope:9048,sourceUnit:7972,src:"995:40:52",symbolAliases:[{foreign:8464,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/CommonMath.sol",file:"../../../lib/CommonMath.sol",id:8467,nodeType:"ImportDirective",scope:9048,sourceUnit:23437,src:"1036:57:52",symbolAliases:[{foreign:8466,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IOracleWhiteList.sol",file:"../../interfaces/IOracleWhiteList.sol",id:8469,nodeType:"ImportDirective",scope:9048,sourceUnit:5004,src:"1094:73:52",symbolAliases:[{foreign:8468,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ISetToken.sol",file:"../../interfaces/ISetToken.sol",id:8471,nodeType:"ImportDirective",scope:9048,sourceUnit:5660,src:"1168:59:52",symbolAliases:[{foreign:8470,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/LinearAuction.sol",file:"./LinearAuction.sol",id:8473,nodeType:"ImportDirective",scope:9048,sourceUnit:8222,src:"1228:52:52",symbolAliases:[{foreign:8472,local:null}],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:8474,name:"LinearAuction",nodeType:"UserDefinedTypeName",referencedDeclaration:8221,src:"1517:13:52",typeDescriptions:{typeIdentifier:"t_contract$_LinearAuction_$8221",typeString:"contract LinearAuction"}},id:8475,nodeType:"InheritanceSpecifier",src:"1517:13:52"}],contractDependencies:[7971,8221],contractKind:"contract",documentation:"@title TwoAssetPriceBoundedLinearAuction\n@author Set Protocol\n * Contract to calculate minimumBid and auction start bounds for auctions containing only\nan asset pair. ",fullyImplemented:true,id:9047,linearizedBaseContracts:[9047,8221,7971],name:"TwoAssetPriceBoundedLinearAuction",nodeType:"ContractDefinition",nodes:[{id:8478,libraryName:{contractScope:null,id:8476,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:29640,src:"1543:8:52",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$29640",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"1537:27:52",typeName:{id:8477,name:"uint256",nodeType:"ElementaryTypeName",src:"1556:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{id:8481,libraryName:{contractScope:null,id:8479,name:"CommonMath",nodeType:"UserDefinedTypeName",referencedDeclaration:23436,src:"1575:10:52",typeDescriptions:{typeIdentifier:"t_contract$_CommonMath_$23436",typeString:"library CommonMath"}},nodeType:"UsingForDirective",src:"1569:29:52",typeName:{id:8480,name:"uint256",nodeType:"ElementaryTypeName",src:"1590:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{canonicalName:"TwoAssetPriceBoundedLinearAuction.AssetInfo",id:8486,members:[{constant:false,id:8483,name:"price",nodeType:"VariableDeclaration",scope:8486,src:"1674:13:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8482,name:"uint256",nodeType:"ElementaryTypeName",src:"1674:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:8485,name:"fullUnit",nodeType:"VariableDeclaration",scope:8486,src:"1697:16:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8484,name:"uint256",nodeType:"ElementaryTypeName",src:"1697:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],name:"AssetInfo",nodeType:"StructDefinition",scope:9047,src:"1647:73:52",visibility:"public"},{constant:true,id:8491,name:"CURVE_DENOMINATOR",nodeType:"VariableDeclaration",scope:9047,src:"1772:53:52",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8487,name:"uint256",nodeType:"ElementaryTypeName",src:"1772:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,commonType:{typeIdentifier:"t_rational_1000000000000000000_by_1",typeString:"int_const 1000000000000000000"},id:8490,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,leftExpression:{argumentTypes:null,hexValue:"3130",id:8488,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"1817:2:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_10_by_1",typeString:"int_const 10"},value:"10"},nodeType:"BinaryOperation",operator:"**",rightExpression:{argumentTypes:null,hexValue:"3138",id:8489,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"1823:2:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_18_by_1",typeString:"int_const 18"},value:"18"},src:"1817:8:52",typeDescriptions:{typeIdentifier:"t_rational_1000000000000000000_by_1",typeString:"int_const 1000000000000000000"}},visibility:"private"},{constant:true,id:8494,name:"ONE",nodeType:"VariableDeclaration",scope:9047,src:"1831:32:52",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8492,name:"uint256",nodeType:"ElementaryTypeName",src:"1831:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"31",id:8493,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"1862:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},visibility:"private"},{constant:true,id:8499,name:"MIN_SPOT_TOKEN_FLOW_SCALED",nodeType:"VariableDeclaration",scope:9047,src:"1928:62:52",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8495,name:"uint256",nodeType:"ElementaryTypeName",src:"1928:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,commonType:{typeIdentifier:"t_rational_1000000000000000000000_by_1",typeString:"int_const 1000000000000000000000"},id:8498,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,leftExpression:{argumentTypes:null,hexValue:"3130",id:8496,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"1982:2:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_10_by_1",typeString:"int_const 10"},value:"10"},nodeType:"BinaryOperation",operator:"**",rightExpression:{argumentTypes:null,hexValue:"3231",id:8497,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"1988:2:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_21_by_1",typeString:"int_const 21"},value:"21"},src:"1982:8:52",typeDescriptions:{typeIdentifier:"t_rational_1000000000000000000000_by_1",typeString:"int_const 1000000000000000000000"}},visibility:"private"},{constant:true,id:8502,name:"ONE_HUNDRED",nodeType:"VariableDeclaration",scope:9047,src:"1996:42:52",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8500,name:"uint256",nodeType:"ElementaryTypeName",src:"1996:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"313030",id:8501,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2035:3:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_100_by_1",typeString:"int_const 100"},value:"100"},visibility:"private"},{constant:false,id:8504,name:"oracleWhiteList",nodeType:"VariableDeclaration",scope:9047,src:"2097:39:52",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"},typeName:{contractScope:null,id:8503,name:"IOracleWhiteList",nodeType:"UserDefinedTypeName",referencedDeclaration:5003,src:"2097:16:52",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}},value:null,visibility:"public"},{constant:false,id:8506,name:"rangeStart",nodeType:"VariableDeclaration",scope:9047,src:"2142:25:52",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8505,name:"uint256",nodeType:"ElementaryTypeName",src:"2142:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"public"},{constant:false,id:8508,name:"rangeEnd",nodeType:"VariableDeclaration",scope:9047,src:"2223:23:52",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8507,name:"uint256",nodeType:"ElementaryTypeName",src:"2223:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"public"},{body:{id:8534,nodeType:"Block",src:"2808:115:52",statements:[{expression:{argumentTypes:null,id:8524,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:8522,name:"oracleWhiteList",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8504,src:"2818:15:52",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:8523,name:"_oracleWhiteList",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8510,src:"2836:16:52",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}},src:"2818:34:52",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}},id:8525,nodeType:"ExpressionStatement",src:"2818:34:52"},{expression:{argumentTypes:null,id:8528,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:8526,name:"rangeStart",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8506,src:"2862:10:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:8527,name:"_rangeStart",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8514,src:"2875:11:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2862:24:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8529,nodeType:"ExpressionStatement",src:"2862:24:52"},{expression:{argumentTypes:null,id:8532,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:8530,name:"rangeEnd",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8508,src:"2896:8:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:8531,name:"_rangeEnd",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8516,src:"2907:9:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2896:20:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8533,nodeType:"ExpressionStatement",src:"2896:20:52"}]},documentation:"TwoAssetPriceBoundedLinearAuction constructor\n     * @param _auctionPeriod          Length of auction\n@param _rangeStart             Percentage below FairValue to begin auction at\n@param _rangeEnd               Percentage above FairValue to end auction at",id:8535,implemented:true,kind:"constructor",modifiers:[{arguments:[{argumentTypes:null,id:8519,name:"_auctionPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8512,src:"2788:14:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],id:8520,modifierName:{argumentTypes:null,id:8518,name:"LinearAuction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8221,src:"2774:13:52",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_LinearAuction_$8221_$",typeString:"type(contract LinearAuction)"}},nodeType:"ModifierInvocation",src:"2774:29:52"}],name:"",nodeType:"FunctionDefinition",parameters:{id:8517,nodeType:"ParameterList",parameters:[{constant:false,id:8510,name:"_oracleWhiteList",nodeType:"VariableDeclaration",scope:8535,src:"2623:33:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"},typeName:{contractScope:null,id:8509,name:"IOracleWhiteList",nodeType:"UserDefinedTypeName",referencedDeclaration:5003,src:"2623:16:52",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}},value:null,visibility:"internal"},{constant:false,id:8512,name:"_auctionPeriod",nodeType:"VariableDeclaration",scope:8535,src:"2666:22:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8511,name:"uint256",nodeType:"ElementaryTypeName",src:"2666:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:8514,name:"_rangeStart",nodeType:"VariableDeclaration",scope:8535,src:"2698:19:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8513,name:"uint256",nodeType:"ElementaryTypeName",src:"2698:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:8516,name:"_rangeEnd",nodeType:"VariableDeclaration",scope:8535,src:"2727:17:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8515,name:"uint256",nodeType:"ElementaryTypeName",src:"2727:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"2613:137:52"},returnParameters:{id:8521,nodeType:"ParameterList",parameters:[],src:"2808:0:52"},scope:9047,src:"2602:321:52",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:8568,nodeType:"Block",src:"3239:450:52",statements:[{assignments:[8545],declarations:[{constant:false,id:8545,name:"combinedTokenArray",nodeType:"VariableDeclaration",scope:8568,src:"3249:35:52",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:8543,name:"address",nodeType:"ElementaryTypeName",src:"3249:7:52",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:8544,length:null,nodeType:"ArrayTypeName",src:"3249:9:52",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"}],id:8551,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:8548,name:"_currentSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8537,src:"3317:11:52",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},{argumentTypes:null,id:8549,name:"_nextSet",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8539,src:"3330:8:52",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}],expression:{argumentTypes:null,id:8546,name:"Auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7971,src:"3287:7:52",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_Auction_$7971_$",typeString:"type(contract Auction)"}},id:8547,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getCombinedTokenArray",nodeType:"MemberAccess",referencedDeclaration:7770,src:"3287:29:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_contract$_ISetToken_$5659_$_t_contract$_ISetToken_$5659_$returns$_t_array$_t_address_$dyn_memory_ptr_$",typeString:"function (contract ISetToken,contract ISetToken) view returns (address[] memory)"}},id:8550,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3287:52:52",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},nodeType:"VariableDeclarationStatement",src:"3249:90:52"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:8556,isConstant:false,
isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8553,name:"combinedTokenArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8545,src:"3370:18:52",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:8554,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"3370:25:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"32",id:8555,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"3399:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_2_by_1",typeString:"int_const 2"},value:"2"},src:"3370:30:52",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54776f41737365745072696365426f756e6465644c696e65617241756374696f6e3a204f6e6c792074776f20636f6d706f6e656e74732061726520616c6c6f7765642e",id:8557,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"3414:69:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_63df3f509741ef8a8d1ed13dd62183d1b1777a8d23ddaaddcf52808d5b632ae4",typeString:'literal_string "TwoAssetPriceBoundedLinearAuction: Only two components are allowed."'},value:"TwoAssetPriceBoundedLinearAuction: Only two components are allowed."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_63df3f509741ef8a8d1ed13dd62183d1b1777a8d23ddaaddcf52808d5b632ae4",typeString:'literal_string "TwoAssetPriceBoundedLinearAuction: Only two components are allowed."'}],id:8552,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"3349:7:52",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:8558,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3349:144:52",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:8559,nodeType:"ExpressionStatement",src:"3349:144:52"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:8563,name:"combinedTokenArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8545,src:"3559:18:52",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}],expression:{argumentTypes:null,id:8561,name:"oracleWhiteList",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8504,src:"3525:15:52",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}},id:8562,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"areValidAddresses",nodeType:"MemberAccess",referencedDeclaration:4986,src:"3525:33:52",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_array$_t_address_$dyn_memory_ptr_$returns$_t_bool_$",typeString:"function (address[] memory) view external returns (bool)"}},id:8564,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3525:53:52",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54776f41737365745072696365426f756e6465644c696e65617241756374696f6e3a2050617373656420746f6b656e20646f6573206e6f742068617665206d61746368696e67206f7261636c652e",id:8565,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"3592:80:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_9b5ca3da0dd98690bb6ed302e0970245fe3d4b03f12e514339a271c76e29c2c5",typeString:'literal_string "TwoAssetPriceBoundedLinearAuction: Passed token does not have matching oracle."'},value:"TwoAssetPriceBoundedLinearAuction: Passed token does not have matching oracle."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_9b5ca3da0dd98690bb6ed302e0970245fe3d4b03f12e514339a271c76e29c2c5",typeString:'literal_string "TwoAssetPriceBoundedLinearAuction: Passed token does not have matching oracle."'}],id:8560,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"3504:7:52",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:8566,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3504:178:52",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:8567,nodeType:"ExpressionStatement",src:"3504:178:52"}]},documentation:"Validates that the auction only includes two components and the components are valid.",id:8569,implemented:true,kind:"function",modifiers:[],name:"validateTwoAssetPriceBoundedAuction",nodeType:"FunctionDefinition",parameters:{id:8540,nodeType:"ParameterList",parameters:[{constant:false,id:8537,name:"_currentSet",nodeType:"VariableDeclaration",scope:8569,src:"3149:21:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8536,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"3149:9:52",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:8539,name:"_nextSet",nodeType:"VariableDeclaration",scope:8569,src:"3180:18:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8538,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"3180:9:52",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"}],src:"3139:65:52"},returnParameters:{id:8541,nodeType:"ParameterList",parameters:[],src:"3239:0:52"},scope:9047,src:"3095:594:52",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:8686,nodeType:"Block",src:"4596:1970:52",statements:[{assignments:[8581],declarations:[{constant:false,id:8581,name:"assetOne",nodeType:"VariableDeclaration",scope:8686,src:"4663:25:52",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"},typeName:{contractScope:null,id:8580,name:"AssetInfo",nodeType:"UserDefinedTypeName",referencedDeclaration:8486,src:"4663:9:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_storage_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"}},value:null,visibility:"internal"}],id:8588,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8583,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8571,src:"4704:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8584,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedTokenArray",nodeType:"MemberAccess",referencedDeclaration:7476,src:"4704:27:52",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[] storage ref"}},id:8586,indexExpression:{argumentTypes:null,hexValue:"30",id:8585,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"4732:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"4704:30:52",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:8582,name:"getAssetInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9029,src:"4691:12:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_struct$_AssetInfo_$8486_memory_ptr_$",typeString:"function (address) view returns (struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory)"}},id:8587,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4691:44:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},nodeType:"VariableDeclarationStatement",src:"4663:72:52"},{assignments:[8590],declarations:[{constant:false,id:8590,name:"assetTwo",nodeType:"VariableDeclaration",scope:8686,src:"4745:25:52",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"},typeName:{contractScope:null,id:8589,name:"AssetInfo",nodeType:"UserDefinedTypeName",referencedDeclaration:8486,src:"4745:9:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_storage_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"}},value:null,visibility:"internal"}],id:8597,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8592,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8571,src:"4786:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8593,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedTokenArray",nodeType:"MemberAccess",referencedDeclaration:7476,src:"4786:27:52",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[] storage ref"}},id:8595,indexExpression:{argumentTypes:null,hexValue:"31",id:8594,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"4814:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"4786:30:52",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:8591,name:"getAssetInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9029,src:"4773:12:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_struct$_AssetInfo_$8486_memory_ptr_$",typeString:"function (address) view returns (struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory)"}},id:8596,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4773:44:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},nodeType:"VariableDeclarationStatement",src:"4745:72:52"},{assignments:[8599],declarations:[{constant:false,id:8599,name:"spotPrice",nodeType:"VariableDeclaration",scope:8686,src:"4889:17:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8598,name:"uint256",nodeType:"ElementaryTypeName",src:"4889:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8606,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:8601,name:"assetOne",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8581,src:"4928:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8602,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"price",nodeType:"MemberAccess",referencedDeclaration:8483,src:"4928:14:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8603,name:"assetTwo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8590,src:"4944:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8604,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"price",nodeType:"MemberAccess",referencedDeclaration:8483,src:"4944:14:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:8600,name:"calculateSpotPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9046,src:"4909:18:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256,uint256) view returns (uint256)"}},id:8605,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4909:50:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"4889:70:52"},{assignments:[8608],declarations:[{constant:false,id:8608,name:"auctionFairValue",nodeType:"VariableDeclaration",scope:8686,src:"5038:24:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8607,name:"uint256",nodeType:"ElementaryTypeName",src:"5038:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8617,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:8610,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8571,src:"5114:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},{argumentTypes:null,id:8611,name:"spotPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8599,src:"5136:9:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8612,name:"assetOne",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8581,src:"5159:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8613,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"fullUnit",nodeType:"MemberAccess",referencedDeclaration:8485,src:"5159:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8614,name:"assetTwo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8590,src:"5190:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8615,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"fullUnit",nodeType:"MemberAccess",referencedDeclaration:8485,src:"5190:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:8609,name:"convertAssetPairPriceToAuctionPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8989,src:"5065:35:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (struct Auction.Setup storage pointer,uint256,uint256,uint256) view returns (uint256)"}},id:8616,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5065:152:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"5038:179:52"},{assignments:[8619],declarations:[{constant:false,id:8619,name:"minimumBidMultiplier",nodeType:"VariableDeclaration",scope:8686,src:"5228:28:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8618,name:"uint256",nodeType:"ElementaryTypeName",src:"5228:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8621,initialValue:{argumentTypes:null,hexValue:"30",id:8620,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"5259:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"5228:32:52"},{body:{id:8678,nodeType:"Block",src:"5333:1079:52",statements:[{assignments:[8635,8637],declarations:[{constant:false,id:8635,name:"tokenInflowScaled",nodeType:"VariableDeclaration",scope:8678,src:"5503:25:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8634,name:"uint256",nodeType:"ElementaryTypeName",src:"5503:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:8637,name:"tokenOutflowScaled",nodeType:"VariableDeclaration",scope:8678,src:"5546:26:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8636,name:"uint256",nodeType:"ElementaryTypeName",src:"5546:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8653,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8640,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8571,src:"5637:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8641,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedCurrentSetUnits",nodeType:"MemberAccess",referencedDeclaration:7479,src:"5637:32:52",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},id:8643,indexExpression:{argumentTypes:null,id:8642,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8623,src:"5670:1:52",typeDescriptions:{typeIdentifier:"t_uint8",typeString:"uint8"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"5637:35:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8644,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8571,src:"5690:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8645,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedNextSetUnits",nodeType:"MemberAccess",referencedDeclaration:7482,src:"5690:29:52",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},id:8647,indexExpression:{argumentTypes:null,id:8646,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8623,src:"5720:1:52",typeDescriptions:{typeIdentifier:"t_uint8",typeString:"uint8"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"5690:32:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:8648,name:"ONE",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8494,src:"5740:3:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8649,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"scale",nodeType:"MemberAccess",referencedDeclaration:23145,src:"5740:9:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256) pure returns (uint256)"}},id:8650,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5740:11:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:8651,name:"auctionFairValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8608,src:"5769:16:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8638,name:"Auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7971,src:"5589:7:52",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_Auction_$7971_$",typeString:"type(contract Auction)"}},id:8639,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"calculateInflowOutflow",nodeType:"MemberAccess",referencedDeclaration:7854,src:"5589:30:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$_t_uint256_$",typeString:"function (uint256,uint256,uint256,uint256) pure returns (uint256,uint256)"}},id:8652,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5589:210:52",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$",typeString:"tuple(uint256,uint256)"}},nodeType:"VariableDeclarationStatement",src:"5485:314:52"},{assignments:[8655],declarations:[{constant:false,id:8655,name:"tokenFlowScaled",nodeType:"VariableDeclaration",scope:8678,src:"5913:23:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8654,name:"uint256",nodeType:"ElementaryTypeName",src:"5913:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8661,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:8658,name:"tokenInflowScaled",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8635,src:"5948:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:8659,name:"tokenOutflowScaled",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8637,src:"5967:18:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8656,name:"Math",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:29512,src:"5939:4:52",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_Math_$29512_$",typeString:"type(library Math)"}},id:8657,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"max",nodeType:"MemberAccess",referencedDeclaration:29462,src:"5939:8:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8660,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5939:47:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"5913:73:52"},{assignments:[8663],declarations:[{constant:false,id:8663,name:"currentMinBidMultiplier",nodeType:"VariableDeclaration",scope:8678,src:"6151:31:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8662,name:"uint256",nodeType:"ElementaryTypeName",src:"6151:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8668,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:8666,name:"tokenFlowScaled",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8655,src:"6220:15:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8664,name:"MIN_SPOT_TOKEN_FLOW_SCALED",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8499,src:"6185:26:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8665,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"divCeil",nodeType:"MemberAccess",referencedDeclaration:23232,src:"6185:34:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8667,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6185:51:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"6151:85:52"},{expression:{argumentTypes:null,id:8676,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:8669,name:"minimumBidMultiplier",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8619,src:"6250:20:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:8672,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:8670,name:"currentMinBidMultiplier",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8663,src:"6273:23:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,id:8671,name:"minimumBidMultiplier",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8619,src:"6299:20:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"6273:46:52",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseExpression:{argumentTypes:null,id:8674,name:"minimumBidMultiplier",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8619,src:"6381:20:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8675,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"Conditional",src:"6273:128:52",trueExpression:{argumentTypes:null,id:8673,name:"currentMinBidMultiplier",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8663,src:"6338:23:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"6250:151:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8677,nodeType:"ExpressionStatement",src:"6250:151:52"}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:8630,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:8626,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8623,src:"5288:1:52",typeDescriptions:{typeIdentifier:"t_uint8",typeString:"uint8"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,expression:{argumentTypes:null,id:8627,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8571,src:"5292:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8628,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedTokenArray",nodeType:"MemberAccess",referencedDeclaration:7476,src:"5292:27:52",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[] storage ref"}},id:8629,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"5292:34:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"5288:38:52",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:8679,initializationExpression:{assignments:[8623],declarations:[{constant:false,id:8623,name:"i",nodeType:"VariableDeclaration",scope:8679,src:"5275:7:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint8",typeString:"uint8"},typeName:{id:8622,name:"uint8",nodeType:"ElementaryTypeName",src:"5275:5:52",typeDescriptions:{typeIdentifier:"t_uint8",typeString:"uint8"}},value:null,visibility:"internal"}],id:8625,initialValue:{argumentTypes:null,hexValue:"30",id:8624,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"5285:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"5275:11:52"},loopExpression:{expression:{argumentTypes:null,id:8632,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"UnaryOperation",operator:"++",prefix:false,src:"5328:3:52",subExpression:{argumentTypes:null,id:8631,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8623,src:"5328:1:52",typeDescriptions:{typeIdentifier:"t_uint8",typeString:"uint8"}},typeDescriptions:{typeIdentifier:"t_uint8",typeString:"uint8"}},id:8633,nodeType:"ExpressionStatement",src:"5328:3:52"},nodeType:"ForStatement",src:"5270:1142:52"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8683,name:"minimumBidMultiplier",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8619,src:"6538:20:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:8680,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8571,src:"6510:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8681,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"maxNaturalUnit",nodeType:"MemberAccess",referencedDeclaration:7465,src:"6510:23:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8682,isConstant:false,
isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"6510:27:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8684,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6510:49:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:8579,id:8685,nodeType:"Return",src:"6503:56:52"}]},documentation:"Calculates the minimumBid. First calculates the minimum token flow for the pair at fair value using\nmaximum natural unit of two Sets. If that token flow is below 1000 units then calculate minimumBid\nas such:\n     * minimumBid = maxNaturalUnit*1000/min(tokenFlow)\n     * Else, set minimumBid equal to maxNaturalUnit. This is to ensure that around fair value there is ample\ngranualarity in asset pair price changes and not large discontinuities.\n     * @param _auction            Auction object\n@param _currentSet         CurrentSet, unused in this implementation\n@param _nextSet            NextSet, unused in this implementation",id:8687,implemented:true,kind:"function",modifiers:[],name:"calculateMinimumBid",nodeType:"FunctionDefinition",parameters:{id:8576,nodeType:"ParameterList",parameters:[{constant:false,id:8571,name:"_auction",nodeType:"VariableDeclaration",scope:8687,src:"4440:30:52",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:8570,name:"Auction.Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"4440:13:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:8573,name:"_currentSet",nodeType:"VariableDeclaration",scope:8687,src:"4480:21:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8572,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"4480:9:52",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:8575,name:"_nextSet",nodeType:"VariableDeclaration",scope:8687,src:"4511:18:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8574,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"4511:9:52",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"}],src:"4430:105:52"},returnParameters:{id:8579,nodeType:"ParameterList",parameters:[{constant:false,id:8578,name:"",nodeType:"VariableDeclaration",scope:8687,src:"4583:7:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8577,name:"uint256",nodeType:"ElementaryTypeName",src:"4583:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"4582:9:52"},scope:9047,src:"4402:2164:52",stateMutability:"view",superFunction:8198,visibility:"internal"},{body:{id:8778,nodeType:"Block",src:"7199:1369:52",statements:[{assignments:[8699],declarations:[{constant:false,id:8699,name:"assetOne",nodeType:"VariableDeclaration",scope:8778,src:"7266:25:52",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"},typeName:{contractScope:null,id:8698,name:"AssetInfo",nodeType:"UserDefinedTypeName",referencedDeclaration:8486,src:"7266:9:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_storage_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"}},value:null,visibility:"internal"}],id:8706,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8701,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8689,src:"7307:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8702,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedTokenArray",nodeType:"MemberAccess",referencedDeclaration:7476,src:"7307:27:52",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[] storage ref"}},id:8704,indexExpression:{argumentTypes:null,hexValue:"30",id:8703,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"7335:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"7307:30:52",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:8700,name:"getAssetInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9029,src:"7294:12:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_struct$_AssetInfo_$8486_memory_ptr_$",typeString:"function (address) view returns (struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory)"}},id:8705,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7294:44:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},nodeType:"VariableDeclarationStatement",src:"7266:72:52"},{assignments:[8708],declarations:[{constant:false,id:8708,name:"assetTwo",nodeType:"VariableDeclaration",scope:8778,src:"7348:25:52",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"},typeName:{contractScope:null,id:8707,name:"AssetInfo",nodeType:"UserDefinedTypeName",referencedDeclaration:8486,src:"7348:9:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_storage_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"}},value:null,visibility:"internal"}],id:8715,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8710,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8689,src:"7389:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8711,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedTokenArray",nodeType:"MemberAccess",referencedDeclaration:7476,src:"7389:27:52",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[] storage ref"}},id:8713,indexExpression:{argumentTypes:null,hexValue:"31",id:8712,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"7417:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"7389:30:52",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:8709,name:"getAssetInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9029,src:"7376:12:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_struct$_AssetInfo_$8486_memory_ptr_$",typeString:"function (address) view returns (struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory)"}},id:8714,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7376:44:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},nodeType:"VariableDeclarationStatement",src:"7348:72:52"},{assignments:[8717],declarations:[{constant:false,id:8717,name:"spotPrice",nodeType:"VariableDeclaration",scope:8778,src:"7503:17:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8716,name:"uint256",nodeType:"ElementaryTypeName",src:"7503:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8724,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:8719,name:"assetOne",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8699,src:"7542:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8720,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"price",nodeType:"MemberAccess",referencedDeclaration:8483,src:"7542:14:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8721,name:"assetTwo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8708,src:"7558:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8722,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"price",nodeType:"MemberAccess",referencedDeclaration:8483,src:"7558:14:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:8718,name:"calculateSpotPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9046,src:"7523:18:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256,uint256) view returns (uint256)"}},id:8723,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7523:50:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"7503:70:52"},{assignments:[8726],declarations:[{constant:false,id:8726,name:"isTokenFlowIncreasing",nodeType:"VariableDeclaration",scope:8778,src:"7672:26:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:8725,name:"bool",nodeType:"ElementaryTypeName",src:"7672:4:52",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],id:8735,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:8728,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8689,src:"7736:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},{argumentTypes:null,id:8729,name:"spotPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8717,src:"7758:9:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8730,name:"assetOne",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8699,src:"7781:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8731,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"fullUnit",nodeType:"MemberAccess",referencedDeclaration:8485,src:"7781:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8732,name:"assetTwo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8708,src:"7812:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8733,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"fullUnit",nodeType:"MemberAccess",referencedDeclaration:8485,src:"7812:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:8727,name:"isTokenFlowIncreasing",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8910,src:"7701:21:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_bool_$",typeString:"function (struct Auction.Setup storage pointer,uint256,uint256,uint256) view returns (bool)"}},id:8734,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7701:139:52",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"VariableDeclarationStatement",src:"7672:168:52"},{assignments:[8737],declarations:[{constant:false,id:8737,name:"startPairPrice",nodeType:"VariableDeclaration",scope:8778,src:"8048:22:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8736,name:"uint256",nodeType:"ElementaryTypeName",src:"8048:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8738,initialValue:null,nodeType:"VariableDeclarationStatement",src:"8048:22:52"},{condition:{argumentTypes:null,id:8739,name:"isTokenFlowIncreasing",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8726,src:"8084:21:52",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:8767,nodeType:"Block",src:"8214:103:52",statements:[{expression:{argumentTypes:null,id:8765,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:8754,name:"startPairPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8737,src:"8228:14:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:8763,name:"ONE_HUNDRED",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8502,src:"8292:11:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:8759,name:"rangeStart",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8506,src:"8275:10:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8757,name:"ONE_HUNDRED",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8502,src:"8259:11:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8758,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:29619,src:"8259:15:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8760,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8259:27:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8755,name:"spotPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8717,src:"8245:9:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8756,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"8245:13:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8761,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8245:42:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8762,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"8245:46:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8764,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8245:59:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"8228:76:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8766,nodeType:"ExpressionStatement",src:"8228:76:52"}]},id:8768,nodeType:"IfStatement",src:"8080:237:52",trueBody:{id:8753,nodeType:"Block",src:"8107:101:52",statements:[{expression:{argumentTypes:null,id:8751,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:8740,name:"startPairPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8737,src:"8121:14:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:8749,name:"ONE_HUNDRED",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8502,src:"8185:11:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:8745,name:"rangeStart",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8506,src:"8168:10:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8743,name:"ONE_HUNDRED",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8502,src:"8152:11:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8744,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"8152:15:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8746,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8152:27:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8741,name:"spotPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8717,src:"8138:9:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8742,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"8138:13:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8747,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8138:42:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8748,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"8138:46:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8750,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8138:59:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"8121:76:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8752,nodeType:"ExpressionStatement",src:"8121:76:52"}]}},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8770,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8689,src:"8453:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},{argumentTypes:null,id:8771,name:"startPairPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8737,src:"8475:14:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8772,name:"assetOne",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8699,src:"8503:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8773,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"fullUnit",nodeType:"MemberAccess",referencedDeclaration:8485,src:"8503:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8774,name:"assetTwo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8708,src:"8534:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8775,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"fullUnit",nodeType:"MemberAccess",referencedDeclaration:8485,src:"8534:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:8769,name:"convertAssetPairPriceToAuctionPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8989,src:"8404:35:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (struct Auction.Setup storage pointer,uint256,uint256,uint256) view returns (uint256)"}},id:8776,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8404:157:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:8697,id:8777,nodeType:"Return",src:"8397:164:52"}]},documentation:"Calculates the linear auction start price. A target asset pair (i.e. ETH/DAI) price is calculated\nto start the auction at, that asset pair price is then translated into the equivalent auction price.\n     * @param _auction            Auction object\n@param _currentSet         CurrentSet, unused in this implementation\n@param _nextSet            NextSet, unused in this implementation",id:8779,implemented:true,kind:"function",modifiers:[],name:"calculateStartPrice",nodeType:"FunctionDefinition",parameters:{id:8694,nodeType:"ParameterList",parameters:[{constant:false,id:8689,name:"_auction",nodeType:"VariableDeclaration",scope:8779,src:"7044:30:52",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:8688,name:"Auction.Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"7044:13:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:8691,name:"_currentSet",nodeType:"VariableDeclaration",scope:8779,src:"7084:21:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8690,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"7084:9:52",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:8693,name:"_nextSet",nodeType:"VariableDeclaration",scope:8779,src:"7115:18:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8692,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"7115:9:52",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"}],src:"7034:105:52"},returnParameters:{id:8697,nodeType:"ParameterList",parameters:[{constant:false,id:8696,name:"",nodeType:"VariableDeclaration",scope:8779,src:"7186:7:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8695,name:"uint256",nodeType:"ElementaryTypeName",src:"7186:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"7185:9:52"},scope:9047,src:"7006:1562:52",stateMutability:"view",superFunction:8209,visibility:"internal"},{body:{id:8870,nodeType:"Block",src:"9195:1343:52",statements:[{assignments:[8791],declarations:[{constant:false,id:8791,name:"assetOne",nodeType:"VariableDeclaration",scope:8870,src:"9262:25:52",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"},typeName:{contractScope:null,id:8790,name:"AssetInfo",nodeType:"UserDefinedTypeName",referencedDeclaration:8486,src:"9262:9:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_storage_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"}},value:null,visibility:"internal"}],id:8798,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8793,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8781,src:"9303:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8794,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedTokenArray",nodeType:"MemberAccess",referencedDeclaration:7476,src:"9303:27:52",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[] storage ref"}},id:8796,indexExpression:{argumentTypes:null,hexValue:"30",id:8795,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"9331:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"9303:30:52",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:8792,name:"getAssetInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9029,src:"9290:12:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_struct$_AssetInfo_$8486_memory_ptr_$",typeString:"function (address) view returns (struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory)"}},id:8797,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9290:44:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},nodeType:"VariableDeclarationStatement",src:"9262:72:52"},{assignments:[8800],declarations:[{constant:false,id:8800,name:"assetTwo",nodeType:"VariableDeclaration",scope:8870,src:"9344:25:52",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"},typeName:{contractScope:null,id:8799,name:"AssetInfo",nodeType:"UserDefinedTypeName",referencedDeclaration:8486,src:"9344:9:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_storage_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"}},value:null,visibility:"internal"}],id:8807,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8802,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8781,src:"9385:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8803,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedTokenArray",nodeType:"MemberAccess",referencedDeclaration:7476,src:"9385:27:52",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[] storage ref"}},id:8805,indexExpression:{argumentTypes:null,hexValue:"31",id:8804,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"9413:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"9385:30:52",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:8801,name:"getAssetInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9029,src:"9372:12:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_struct$_AssetInfo_$8486_memory_ptr_$",typeString:"function (address) view returns (struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory)"}},id:8806,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9372:44:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},nodeType:"VariableDeclarationStatement",src:"9344:72:52"},{assignments:[8809],declarations:[{constant:false,id:8809,name:"spotPrice",nodeType:"VariableDeclaration",
scope:8870,src:"9488:17:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8808,name:"uint256",nodeType:"ElementaryTypeName",src:"9488:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8816,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:8811,name:"assetOne",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8791,src:"9527:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8812,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"price",nodeType:"MemberAccess",referencedDeclaration:8483,src:"9527:14:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8813,name:"assetTwo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8800,src:"9543:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8814,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"price",nodeType:"MemberAccess",referencedDeclaration:8483,src:"9543:14:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:8810,name:"calculateSpotPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9046,src:"9508:18:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256,uint256) view returns (uint256)"}},id:8815,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9508:50:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"9488:70:52"},{assignments:[8818],declarations:[{constant:false,id:8818,name:"isTokenFlowIncreasing",nodeType:"VariableDeclaration",scope:8870,src:"9656:26:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:8817,name:"bool",nodeType:"ElementaryTypeName",src:"9656:4:52",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],id:8827,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:8820,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8781,src:"9720:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},{argumentTypes:null,id:8821,name:"spotPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8809,src:"9742:9:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8822,name:"assetOne",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8791,src:"9765:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8823,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"fullUnit",nodeType:"MemberAccess",referencedDeclaration:8485,src:"9765:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8824,name:"assetTwo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8800,src:"9796:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8825,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"fullUnit",nodeType:"MemberAccess",referencedDeclaration:8485,src:"9796:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:8819,name:"isTokenFlowIncreasing",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8910,src:"9685:21:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_bool_$",typeString:"function (struct Auction.Setup storage pointer,uint256,uint256,uint256) view returns (bool)"}},id:8826,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9685:139:52",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"VariableDeclarationStatement",src:"9656:168:52"},{assignments:[8829],declarations:[{constant:false,id:8829,name:"endPairPrice",nodeType:"VariableDeclaration",scope:8870,src:"10032:20:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8828,name:"uint256",nodeType:"ElementaryTypeName",src:"10032:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8830,initialValue:null,nodeType:"VariableDeclarationStatement",src:"10032:20:52"},{condition:{argumentTypes:null,id:8831,name:"isTokenFlowIncreasing",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8818,src:"10066:21:52",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:8859,nodeType:"Block",src:"10192:99:52",statements:[{expression:{argumentTypes:null,id:8857,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:8846,name:"endPairPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8829,src:"10206:12:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:8855,name:"ONE_HUNDRED",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8502,src:"10266:11:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:8851,name:"rangeEnd",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8508,src:"10251:8:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8849,name:"ONE_HUNDRED",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8502,src:"10235:11:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8850,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"10235:15:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8852,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10235:25:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8847,name:"spotPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8809,src:"10221:9:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8848,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"10221:13:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8853,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10221:40:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8854,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"10221:44:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8856,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10221:57:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10206:72:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8858,nodeType:"ExpressionStatement",src:"10206:72:52"}]},id:8860,nodeType:"IfStatement",src:"10062:229:52",trueBody:{id:8845,nodeType:"Block",src:"10089:97:52",statements:[{expression:{argumentTypes:null,id:8843,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:8832,name:"endPairPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8829,src:"10103:12:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:8841,name:"ONE_HUNDRED",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8502,src:"10163:11:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:8837,name:"rangeEnd",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8508,src:"10148:8:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8835,name:"ONE_HUNDRED",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8502,src:"10132:11:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8836,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:29619,src:"10132:15:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8838,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10132:25:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8833,name:"spotPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8809,src:"10118:9:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8834,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"10118:13:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8839,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10118:40:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8840,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"10118:44:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8842,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10118:57:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10103:72:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8844,nodeType:"ExpressionStatement",src:"10103:72:52"}]}},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8862,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8781,src:"10425:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},{argumentTypes:null,id:8863,name:"endPairPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8829,src:"10447:12:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8864,name:"assetOne",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8791,src:"10473:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8865,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"fullUnit",nodeType:"MemberAccess",referencedDeclaration:8485,src:"10473:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:8866,name:"assetTwo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8800,src:"10504:8:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},id:8867,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"fullUnit",nodeType:"MemberAccess",referencedDeclaration:8485,src:"10504:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:8861,name:"convertAssetPairPriceToAuctionPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8989,src:"10376:35:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (struct Auction.Setup storage pointer,uint256,uint256,uint256) view returns (uint256)"}},id:8868,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10376:155:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:8789,id:8869,nodeType:"Return",src:"10369:162:52"}]},documentation:"Calculates the linear auction end price. A target asset pair (i.e. ETH/DAI) price is calculated\nto end the auction at, that asset pair price is then translated into the equivalent auction price.\n     * @param _auction            Auction object\n@param _currentSet         CurrentSet, unused in this implementation\n@param _nextSet            NextSet, unused in this implementation",id:8871,implemented:true,kind:"function",modifiers:[],name:"calculateEndPrice",nodeType:"FunctionDefinition",parameters:{id:8786,nodeType:"ParameterList",parameters:[{constant:false,id:8781,name:"_auction",nodeType:"VariableDeclaration",scope:8871,src:"9040:30:52",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:8780,name:"Auction.Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"9040:13:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:8783,name:"_currentSet",nodeType:"VariableDeclaration",scope:8871,src:"9080:21:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8782,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"9080:9:52",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"},{constant:false,id:8785,name:"_nextSet",nodeType:"VariableDeclaration",scope:8871,src:"9111:18:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"},typeName:{contractScope:null,id:8784,name:"ISetToken",nodeType:"UserDefinedTypeName",referencedDeclaration:5659,src:"9111:9:52",typeDescriptions:{typeIdentifier:"t_contract$_ISetToken_$5659",typeString:"contract ISetToken"}},value:null,visibility:"internal"}],src:"9030:105:52"},returnParameters:{id:8789,nodeType:"ParameterList",parameters:[{constant:false,id:8788,name:"",nodeType:"VariableDeclaration",scope:8871,src:"9182:7:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8787,name:"uint256",nodeType:"ElementaryTypeName",src:"9182:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"9181:9:52"},scope:9047,src:"9004:1534:52",stateMutability:"view",superFunction:8220,visibility:"internal"},{body:{id:8909,nodeType:"Block",src:"12097:570:52",statements:[{assignments:[8885],declarations:[{constant:false,id:8885,name:"auctionFairValue",nodeType:"VariableDeclaration",scope:8909,src:"12175:24:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8884,name:"uint256",nodeType:"ElementaryTypeName",src:"12175:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8892,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:8887,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8873,src:"12251:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},{argumentTypes:null,id:8888,name:"_spotPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8875,src:"12273:10:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:8889,name:"_assetOneFullUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8877,src:"12297:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:8890,name:"_assetTwoFullUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8879,src:"12328:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:8886,name:"convertAssetPairPriceToAuctionPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8989,src:"12202:35:52",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_Setup_$7483_storage_ptr_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (struct Auction.Setup storage pointer,uint256,uint256,uint256) view returns (uint256)"}},id:8891,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12202:161:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"12175:188:52"},{expression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:8907,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8898,name:"CURVE_DENOMINATOR",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8491,src:"12570:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8893,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8873,src:"12533:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8894,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedNextSetUnits",nodeType:"MemberAccess",referencedDeclaration:7482,src:"12533:29:52",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},id:8896,indexExpression:{argumentTypes:null,hexValue:"30",id:8895,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"12563:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"12533:32:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8897,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"12533:36:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8899,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12533:55:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8905,name:"auctionFairValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8885,src:"12643:16:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8900,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8873,src:"12603:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8901,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedCurrentSetUnits",nodeType:"MemberAccess",referencedDeclaration:7479,src:"12603:32:52",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},id:8903,indexExpression:{argumentTypes:null,hexValue:"30",id:8902,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"12636:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"12603:35:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8904,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"12603:39:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8906,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12603:57:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"12533:127:52",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},functionReturnParameters:8883,id:8908,nodeType:"Return",src:"12526:134:52"}]},documentation:"Determines if asset pair price is increasing or decreasing as time passed in auction. Used to set the\nauction price bounds. Below a refers to any asset and subscripts c, n, d mean currentSetUnit, nextSetUnit \nand fullUnit amount, respectively. pP and pD refer to auction price and auction denominator. Asset pair\nprice is defined as such:\n     * assetPrice = abs(assetTwoOutflow/assetOneOutflow)\n     * The equation for an outflow is given by (a_c/a_d)*pP - (a_n/a_d)*pD). It can be proven that the derivative\nof this equation is always increasing. Thus by determining the sign of the assetOneOutflow (where a negative\namount signifies an inflow) it can be determined whether the asset pair price is increasing or decreasing.\n     * For example, if assetOneOutflow is negative it means that the denominator is getting smaller as time passes\nand thus the assetPrice is increasing during the auction. \n     * @param _auction              Auction object\n@param _spotPrice            Current spot price provided by asset oracles\n@param _assetOneFullUnit     Units in one full unit of assetOne\n@param _assetTwoFullUnit     Units in one full unit of assetTwo",id:8910,implemented:true,kind:"function",modifiers:[],name:"isTokenFlowIncreasing",nodeType:"FunctionDefinition",parameters:{id:8880,nodeType:"ParameterList",parameters:[{constant:false,id:8873,name:"_auction",nodeType:"VariableDeclaration",scope:8910,src:"11906:30:52",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:8872,name:"Auction.Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"11906:13:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:8875,name:"_spotPrice",nodeType:"VariableDeclaration",scope:8910,src:"11946:18:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8874,name:"uint256",nodeType:"ElementaryTypeName",src:"11946:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:8877,name:"_assetOneFullUnit",nodeType:"VariableDeclaration",scope:8910,src:"11974:25:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8876,name:"uint256",nodeType:"ElementaryTypeName",src:"11974:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:8879,name:"_assetTwoFullUnit",nodeType:"VariableDeclaration",scope:8910,src:"12009:25:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8878,name:"uint256",nodeType:"ElementaryTypeName",src:"12009:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"11896:144:52"},returnParameters:{id:8883,nodeType:"ParameterList",parameters:[{constant:false,id:8882,name:"",nodeType:"VariableDeclaration",scope:8910,src:"12087:4:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:8881,name:"bool",nodeType:"ElementaryTypeName",src:"12087:4:52",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"12086:6:52"},scope:9047,src:"11866:801:52",stateMutability:"view",superFunction:null,visibility:"private"},{body:{id:8988,nodeType:"Block",src:"13887:1554:52",statements:[{assignments:[8924],declarations:[{constant:false,id:8924,name:"calcNumerator",nodeType:"VariableDeclaration",scope:8988,src:"14204:21:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8923,name:"uint256",nodeType:"ElementaryTypeName",src:"14204:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8952,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:8949,name:"_assetOneFullUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8916,src:"14410:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8946,name:"CURVE_DENOMINATOR",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8491,src:"14387:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8940,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8912,src:"14349:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8941,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedNextSetUnits",nodeType:"MemberAccess",referencedDeclaration:7482,src:"14349:29:52",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},id:8943,indexExpression:{argumentTypes:null,hexValue:"30",id:8942,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"14379:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"14349:32:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8938,name:"_targetPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8914,src:"14332:12:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8939,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"14332:16:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8944,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14332:50:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8945,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"14332:54:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"
}},id:8947,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14332:73:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8948,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"14332:77:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8950,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14332:96:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8935,name:"_assetTwoFullUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8918,src:"14296:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8930,name:"CURVE_DENOMINATOR",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8491,src:"14265:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8925,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8912,src:"14228:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8926,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedNextSetUnits",nodeType:"MemberAccess",referencedDeclaration:7482,src:"14228:29:52",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},id:8928,indexExpression:{argumentTypes:null,hexValue:"31",id:8927,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"14258:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"14228:32:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8929,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"14228:36:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8931,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14228:55:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8932,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"scale",nodeType:"MemberAccess",referencedDeclaration:23145,src:"14228:61:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256) pure returns (uint256)"}},id:8933,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14228:63:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8934,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"14228:67:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8936,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14228:86:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8937,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:29619,src:"14228:90:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8951,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14228:210:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"14204:234:52"},{assignments:[8954],declarations:[{constant:false,id:8954,name:"calcDenominator",nodeType:"VariableDeclaration",scope:8988,src:"14797:23:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8953,name:"uint256",nodeType:"ElementaryTypeName",src:"14797:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:8980,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:8977,name:"_assetOneFullUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8916,src:"14980:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8969,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8912,src:"14931:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8970,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedCurrentSetUnits",nodeType:"MemberAccess",referencedDeclaration:7479,src:"14931:32:52",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},id:8972,indexExpression:{argumentTypes:null,hexValue:"30",id:8971,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"14964:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"14931:35:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:8967,name:"_targetPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8914,src:"14914:12:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8968,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"14914:16:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8973,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14914:53:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8974,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"scale",nodeType:"MemberAccess",referencedDeclaration:23145,src:"14914:59:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256) pure returns (uint256)"}},id:8975,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14914:61:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8976,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"14914:65:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8978,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14914:84:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8964,name:"_assetTwoFullUnit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8918,src:"14879:17:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,baseExpression:{argumentTypes:null,expression:{argumentTypes:null,id:8955,name:"_auction",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8912,src:"14823:8:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup storage pointer"}},id:8956,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"combinedCurrentSetUnits",nodeType:"MemberAccess",referencedDeclaration:7479,src:"14823:32:52",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage",typeString:"uint256[] storage ref"}},id:8958,indexExpression:{argumentTypes:null,hexValue:"31",id:8957,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"14856:1:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"14823:35:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8959,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"scale",nodeType:"MemberAccess",referencedDeclaration:23145,src:"14823:41:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256) pure returns (uint256)"}},id:8960,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14823:43:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8961,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"scale",nodeType:"MemberAccess",referencedDeclaration:23145,src:"14823:49:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256) pure returns (uint256)"}},id:8962,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14823:51:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8963,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"14823:55:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8965,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14823:74:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8966,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:29619,src:"14823:78:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8979,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14823:186:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"14797:212:52"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:8985,name:"calcDenominator",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8954,src:"15418:15:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:8981,name:"calcNumerator",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8924,src:"15392:13:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8982,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"scale",nodeType:"MemberAccess",referencedDeclaration:23145,src:"15392:19:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256) pure returns (uint256)"}},id:8983,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15392:21:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:8984,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"15392:25:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:8986,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15392:42:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:8922,id:8987,nodeType:"Return",src:"15385:49:52"}]},documentation:"Convert an asset pair price to the equivalent auction price where a1 refers to assetOne and a2 refers to assetTwo\nand subscripts c, n, d mean currentSetUnit, nextSetUnit and fullUnit amount, respectively. pP and pD refer to auction\nprice and auction denominator:\n     * assetPrice = abs(assetTwoOutflow/assetOneOutflow)\n     * assetPrice = ((a2_c/a2_d)*pP - (a2_n/a2_d)*pD) / ((a1_c/a1_d)*pP - (a1_n/a1_d)*pD)\n     * We know assetPrice so we isolate for pP:\n     * pP = pD((a2_n/a2_d)+assetPrice*(a1_n/a1_d)) / (a2_c/a2_d)+assetPrice*(a1_c/a1_d)\n     * This gives us the auction price that matches with the passed asset pair price.\n     * @param _auction              Auction object\n@param _targetPrice          Target asset pair price\n@param _assetOneFullUnit     Units in one full unit of assetOne\n@param _assetTwoFullUnit     Units in one full unit of assetTwo",id:8989,implemented:true,kind:"function",modifiers:[],name:"convertAssetPairPriceToAuctionPrice",nodeType:"FunctionDefinition",parameters:{id:8919,nodeType:"ParameterList",parameters:[{constant:false,id:8912,name:"_auction",nodeType:"VariableDeclaration",scope:8989,src:"13691:30:52",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"},typeName:{contractScope:null,id:8911,name:"Auction.Setup",nodeType:"UserDefinedTypeName",referencedDeclaration:7483,src:"13691:13:52",typeDescriptions:{typeIdentifier:"t_struct$_Setup_$7483_storage_ptr",typeString:"struct Auction.Setup"}},value:null,visibility:"internal"},{constant:false,id:8914,name:"_targetPrice",nodeType:"VariableDeclaration",scope:8989,src:"13731:20:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8913,name:"uint256",nodeType:"ElementaryTypeName",src:"13731:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:8916,name:"_assetOneFullUnit",nodeType:"VariableDeclaration",scope:8989,src:"13761:25:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8915,name:"uint256",nodeType:"ElementaryTypeName",src:"13761:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:8918,name:"_assetTwoFullUnit",nodeType:"VariableDeclaration",scope:8989,src:"13796:25:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8917,name:"uint256",nodeType:"ElementaryTypeName",src:"13796:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"13681:146:52"},returnParameters:{id:8922,nodeType:"ParameterList",parameters:[{constant:false,id:8921,name:"",nodeType:"VariableDeclaration",scope:8989,src:"13874:7:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:8920,name:"uint256",nodeType:"ElementaryTypeName",src:"13874:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"13873:9:52"},scope:9047,src:"13637:1804:52",stateMutability:"view",superFunction:null,visibility:"private"},{body:{id:9028,nodeType:"Block",src:"15675:334:52",statements:[{assignments:[8997],declarations:[{constant:false,id:8997,name:"assetOracle",nodeType:"VariableDeclaration",scope:9028,src:"15685:19:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:8996,name:"address",nodeType:"ElementaryTypeName",src:"15685:7:52",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],id:9002,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:9e3,name:"_asset",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8991,src:"15747:6:52",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],expression:{argumentTypes:null,id:8998,name:"oracleWhiteList",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8504,src:"15707:15:52",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}},id:8999,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"getOracleAddressByToken",nodeType:"MemberAccess",referencedDeclaration:5002,src:"15707:39:52",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_address_$returns$_t_address_$",typeString:"function (address) view external returns (address)"}},id:9001,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15707:47:52",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"VariableDeclarationStatement",src:"15685:69:52"},{assignments:[9004],declarations:[{constant:false,id:9004,name:"assetPrice",nodeType:"VariableDeclaration",scope:9028,src:"15764:18:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:9003,name:"uint256",nodeType:"ElementaryTypeName",src:"15764:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:9010,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:9006,name:"assetOracle",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8997,src:"15793:11:52",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:9005,name:"IOracle",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30298,src:"15785:7:52",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_IOracle_$30298_$",typeString:"type(contract IOracle)"}},id:9007,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15785:20:52",typeDescriptions:{typeIdentifier:"t_contract$_IOracle_$30298",typeString:"contract IOracle"}},id:9008,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"read",nodeType:"MemberAccess",referencedDeclaration:30297,src:"15785:25:52",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_uint256_$",typeString:"function () view external returns (uint256)"}},id:9009,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15785:27:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"15764:48:52"},{assignments:[9012],declarations:[{constant:false,id:9012,name:"decimals",nodeType:"VariableDeclaration",scope:9028,src:"15823:16:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:9011,name:"uint256",nodeType:"ElementaryTypeName",src:"15823:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:9018,initialValue:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:9014,name:"_asset",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8991,src:"15856:6:52",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:9013,name:"ERC20Detailed",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30190,src:"15842:13:52",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC20Detailed_$30190_$",typeString:"type(contract ERC20Detailed)"}},id:9015,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15842:21:52",typeDescriptions:{typeIdentifier:"t_contract$_ERC20Detailed_$30190",typeString:"contract ERC20Detailed"}},id:9016,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"decimals",nodeType:"MemberAccess",referencedDeclaration:30189,src:"15842:30:52",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_uint8_$",typeString:"function () view external returns (uint8)"}},id:9017,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15842:32:52",typeDescriptions:{typeIdentifier:"t_uint8",typeString:"uint8"}},nodeType:"VariableDeclarationStatement",src:"15823:51:52"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:9020,name:"assetPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9004,src:"15923:10:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,arguments:[{argumentTypes:null,hexValue:"3130",id:9023,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"15978:2:52",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_10_by_1",typeString:"int_const 10"},value:"10"},{argumentTypes:null,id:9024,name:"decimals",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9012,src:"15982:8:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_rational_10_by_1",typeString:"int_const 10"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:9021,name:"CommonMath",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:23436,src:"15957:10:52",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_CommonMath_$23436_$",typeString:"type(library CommonMath)"}},id:9022,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"safePower",nodeType:"MemberAccess",referencedDeclaration:23203,src:"15957:20:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:9025,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15957:34:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:9019,name:"AssetInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8486,src:"15892:9:52",typeDescriptions:{typeIdentifier:"t_type$_t_struct$_AssetInfo_$8486_storage_ptr_$",typeString:"type(struct TwoAssetPriceBoundedLinearAuction.AssetInfo storage pointer)"}},id:9026,isConstant:false,isLValue:false,isPure:false,kind:"structConstructorCall",lValueRequested:false,names:["price","fullUnit"],nodeType:"FunctionCall",src:"15892:110:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo memory"}},functionReturnParameters:8995,id:9027,nodeType:"Return",src:"15885:117:52"}]},documentation:"Get fullUnit amount and price of given asset.\n     * @param _asset            Address of auction to get information from",id:9029,implemented:true,kind:"function",modifiers:[],name:"getAssetInfo",nodeType:"FunctionDefinition",parameters:{id:8992,nodeType:"ParameterList",parameters:[{constant:false,id:8991,name:"_asset",nodeType:"VariableDeclaration",scope:9029,src:"15620:14:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:8990,name:"address",nodeType:"ElementaryTypeName",src:"15620:7:52",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"15619:16:52"},returnParameters:{id:8995,nodeType:"ParameterList",parameters:[{constant:false,id:8994,name:"",nodeType:"VariableDeclaration",scope:9029,src:"15657:16:52",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_memory_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"},typeName:{contractScope:null,id:8993,name:"AssetInfo",nodeType:"UserDefinedTypeName",referencedDeclaration:8486,src:"15657:9:52",typeDescriptions:{typeIdentifier:"t_struct$_AssetInfo_$8486_storage_ptr",typeString:"struct TwoAssetPriceBoundedLinearAuction.AssetInfo"}},value:null,visibility:"internal"}],src:"15656:18:52"},scope:9047,src:"15598:411:52",stateMutability:"view",superFunction:null,visibility:"private"},{body:{id:9045,nodeType:"Block",src:"16189:66:52",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:9042,name:"_assetTwoPrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9033,src:"16233:14:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:9038,name:"_assetOnePrice",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9031,src:"16206:14:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:9039,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"scale",nodeType:"MemberAccess",referencedDeclaration:23145,src:"16206:20:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256) pure returns (uint256)"}},id:9040,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16206:22:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:9041,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"16206:26:52",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:9043,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16206:42:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:9037,id:9044,nodeType:"Return",src:"16199:49:52"}]},documentation:"Calculate asset pair price given two prices.",id:9046,implemented:true,kind:"function",modifiers:[],name:"calculateSpotPrice",nodeType:"FunctionDefinition",parameters:{id:9034,nodeType:"ParameterList",parameters:[{constant:false,id:9031,name:"_assetOnePrice",nodeType:"VariableDeclaration",scope:9046,src:"16111:22:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:9030,name:"uint256",nodeType:"ElementaryTypeName",src:"16111:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:9033,name:"_assetTwoPrice",nodeType:"VariableDeclaration",scope:9046,src:"16135:22:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:9032,name:"uint256",nodeType:"ElementaryTypeName",src:"16135:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"16110:48:52"},returnParameters:{id:9037,nodeType:"ParameterList",parameters:[{constant:false,id:9036,name:"",nodeType:"VariableDeclaration",scope:9046,src:"16180:7:52",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:9035,name:"uint256",nodeType:"ElementaryTypeName",src:"16180:7:52",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"16179:9:52"},scope:9047,src:"16083:172:52",stateMutability:"view",superFunction:null,visibility:"private"}],scope:9048,src:"1471:14786:52"}],src:"597:15660:52"},compiler:{name:"solc",version:"0.5.7+commit.6da8b019.Linux.g++"},networks:{},schemaVersion:"3.0.23",updatedAt:"2020-04-07T04:29:24.509Z",devdoc:{author:"Set Protocol * Contract to calculate minimumBid and auction start bounds for auctions containing only an asset pair. ",methods:{constructor:{params:{_auctionPeriod:"Length of auction",_rangeEnd:"Percentage above FairValue to end auction at",_rangeStart:"Percentage below FairValue to begin auction at"}}},title:"TwoAssetPriceBoundedLinearAuction"},userdoc:{methods:{constructor:"TwoAssetPriceBoundedLinearAuction constructor"}}};