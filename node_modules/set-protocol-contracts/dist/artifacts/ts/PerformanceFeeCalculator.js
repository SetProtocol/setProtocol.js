"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PerformanceFeeCalculator={contractName:"PerformanceFeeCalculator",abi:[{constant:true,inputs:[],name:"maximumProfitFeePercentage",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"maximumStreamingFeePercentage",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"oracleWhiteList",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[{name:"",type:"address"}],name:"feeState",outputs:[{name:"profitFeePeriod",type:"uint256"},{name:"highWatermarkResetPeriod",type:"uint256"},{name:"profitFeePercentage",type:"uint256"},{name:"streamingFeePercentage",type:"uint256"},{name:"highWatermark",type:"uint256"},{name:"lastProfitFeeTimestamp",type:"uint256"},{name:"lastStreamingFeeTimestamp",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"core",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{inputs:[{name:"_core",type:"address"},{name:"_oracleWhiteList",type:"address"},{name:"_maximumProfitFeePercentage",type:"uint256"},{name:"_maximumStreamingFeePercentage",type:"uint256"}],payable:false,stateMutability:"nonpayable",type:"constructor"},{anonymous:false,inputs:[{indexed:true,name:"rebalancingSetToken",type:"address"},{indexed:false,name:"newHighWatermark",type:"uint256"},{indexed:false,name:"profitFee",type:"uint256"},{indexed:false,name:"streamingFee",type:"uint256"}],name:"FeeActualization",type:"event"},{anonymous:false,inputs:[{indexed:true,name:"rebalancingSetToken",type:"address"},{indexed:false,name:"profitFeePeriod",type:"uint256"},{indexed:false,name:"highWatermarkResetPeriod",type:"uint256"},{indexed:false,name:"profitFeePercentage",type:"uint256"},{indexed:false,name:"streamingFeePercentage",type:"uint256"},{indexed:false,name:"highWatermark",type:"uint256"},{indexed:false,name:"lastProfitFeeTimestamp",type:"uint256"},{indexed:false,name:"lastStreamingFeeTimestamp",type:"uint256"}],name:"FeeInitialization",type:"event"},{anonymous:false,inputs:[{indexed:true,name:"rebalancingSetToken",type:"address"},{indexed:false,name:"feeType",type:"uint8"},{indexed:false,name:"newFeePercentage",type:"uint256"}],name:"FeeAdjustment",type:"event"},{constant:false,inputs:[{name:"_feeCalculatorData",type:"bytes"}],name:"initialize",outputs:[],payable:false,stateMutability:"nonpayable",type:"function"},{constant:true,inputs:[],name:"getFee",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[{name:"_setAddress",type:"address"}],name:"getCalculatedFees",outputs:[{name:"",type:"uint256"},{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:false,inputs:[],name:"updateAndGetFee",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"nonpayable",type:"function"},{constant:false,inputs:[{name:"_newFeeData",type:"bytes"}],name:"adjustFee",outputs:[],payable:false,stateMutability:"nonpayable",type:"function"}],metadata:'{"compiler":{"version":"0.5.7+commit.6da8b019"},"language":"Solidity","output":{"abi":[{"constant":false,"inputs":[],"name":"updateAndGetFee","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"maximumProfitFeePercentage","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_feeCalculatorData","type":"bytes"}],"name":"initialize","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"maximumStreamingFeePercentage","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_setAddress","type":"address"}],"name":"getCalculatedFees","outputs":[{"name":"","type":"uint256"},{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"oracleWhiteList","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newFeeData","type":"bytes"}],"name":"adjustFee","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getFee","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"feeState","outputs":[{"name":"profitFeePeriod","type":"uint256"},{"name":"highWatermarkResetPeriod","type":"uint256"},{"name":"profitFeePercentage","type":"uint256"},{"name":"streamingFeePercentage","type":"uint256"},{"name":"highWatermark","type":"uint256"},{"name":"lastProfitFeeTimestamp","type":"uint256"},{"name":"lastStreamingFeeTimestamp","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"core","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_core","type":"address"},{"name":"_oracleWhiteList","type":"address"},{"name":"_maximumProfitFeePercentage","type":"uint256"},{"name":"_maximumStreamingFeePercentage","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"rebalancingSetToken","type":"address"},{"indexed":false,"name":"newHighWatermark","type":"uint256"},{"indexed":false,"name":"profitFee","type":"uint256"},{"indexed":false,"name":"streamingFee","type":"uint256"}],"name":"FeeActualization","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"rebalancingSetToken","type":"address"},{"indexed":false,"name":"profitFeePeriod","type":"uint256"},{"indexed":false,"name":"highWatermarkResetPeriod","type":"uint256"},{"indexed":false,"name":"profitFeePercentage","type":"uint256"},{"indexed":false,"name":"streamingFeePercentage","type":"uint256"},{"indexed":false,"name":"highWatermark","type":"uint256"},{"indexed":false,"name":"lastProfitFeeTimestamp","type":"uint256"},{"indexed":false,"name":"lastStreamingFeeTimestamp","type":"uint256"}],"name":"FeeInitialization","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"rebalancingSetToken","type":"address"},{"indexed":false,"name":"feeType","type":"uint8"},{"indexed":false,"name":"newFeePercentage","type":"uint256"}],"name":"FeeAdjustment","type":"event"}],"devdoc":{"author":"Set Protocol * Smart contract that stores and returns fees (represented as scaled decimal values). Fees are determined based on performance of the Set and a streaming fee. Set values can be denominated in any any asset based on oracle white list used in deploy.","methods":{"constructor":{"params":{"_core":"Core instance","_maximumProfitFeePercentage":"Maximum percent of profit fee scaled by 1e18                                             (e.g. 100% = 1e18 and 1% = 1e16)","_maximumStreamingFeePercentage":"Maximum percent of streaming fee scaled by 1e18                                             (e.g. 100% = 1e18 and 1% = 1e16)","_oracleWhiteList":"Oracle white list instance"}},"getCalculatedFees(address)":{"params":{"_setAddress":"Address of Set to get fees"},"return":"uint256             Streaming Feeuint256             Profit Fee"}},"title":"PerformanceFeeCalculator"},"userdoc":{"methods":{"constructor":"Constructor function for PerformanceFeeCalculator","getCalculatedFees(address)":{"notice":"Returns calculated streaming and profit fee."}}}},"settings":{"compilationTarget":{"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/fee-calculators/PerformanceFeeCalculator.sol":"PerformanceFeeCalculator"},"evmVersion":"byzantium","libraries":{},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/fee-calculators/PerformanceFeeCalculator.sol":{"keccak256":"0xff02bc17ab1db0799d162079afc60e7f6f7c5609b1ef2685c59f52b38274fbd9","urls":["bzzr://3360b5900c9a914bca0ab06ba420644e356133730ef146b7033dcb72bbc6fa49"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/fee-calculators/lib/PerformanceFeeLibrary.sol":{"keccak256":"0xe080b6c950b013ee7780ba0bdad4b4e1eed00d4387f2a91b1fc8362d5f8cbfb8","urls":["bzzr://819d12664c009c2ec9f93bd781d0e7cdf78048d5e83947e4eba5776e72320a49"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ICore.sol":{"keccak256":"0x5dc3db4398630ea52d2a40c9ddfa89d94e65c2770a12bab4d2a5c8eb573fb0a0","urls":["bzzr://25e90b53f61b388e0950b808e2296f82d427b66cfd6021212713436b2a592e31"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IFeeCalculator.sol":{"keccak256":"0xfdce9b333367bfed8f379738b0eabfe4be0045db735e9f24493de09729593d4d","urls":["bzzr://d2fa7438b492f4f08009810e3e9a2e2c22a429c307562e3f5274d4bfe2d21734"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ILiquidator.sol":{"keccak256":"0x9d1e66d56cd51d14787cce5ff8fb378eb6a0bb704e7102d7c4eda5de7f585af3","urls":["bzzr://c44220025ac21fda1dda68e236572c5c4f82bf53ccf504a020487b8c746c7b26"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IOracleWhiteList.sol":{"keccak256":"0xc4623b7082c6e017d1f820a05289a71d4262c01444ff1571e92f64a4e82662af","urls":["bzzr://c11cc5b2b50c5e708a09b10adf350e9ea3d3427cc2f199516db4ae9be498aaac"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IRebalancingSetToken.sol":{"keccak256":"0xe7356a7b0f0cc95d9526395d776f523a48fd65618730d67b4f31f20ffbd380da","urls":["bzzr://605a33a818eff7ce3370f25fccb751f61c066b4db0772605a2215d1357d68072"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IRebalancingSetTokenV2.sol":{"keccak256":"0x46c9dc7c09957eaa4f896b33d8d25ff5268e710172330f033379eed62a052ace","urls":["bzzr://c5b5cdc4e58c0905a03ef70954ac23eefe4776c243049f37e7b93cd8277bb7cb"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ISetToken.sol":{"keccak256":"0xfa6c0c07f8394d89b6b8f72e15778f8452a9341acb20cebb8421f3522aaca1bd","urls":["bzzr://ccf23bb78fd507bf8cbf5cf7ac2a660a1463b87a3689196e42b8f6862d1a6b11"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/Rebalance.sol":{"keccak256":"0x74ffa689d93ced6c6e0377a35ec1274241b6191b5aaac5576ada379ac3840286","urls":["bzzr://25bdda3f1f5adfa2c83c760c44993d250cd2df037360f0018d22d268df79e887"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/RebalancingLibrary.sol":{"keccak256":"0x7f9dd2f95b2ee71a98b94cb9b0df15874aa134e7480d04a1fcf36aff166a55f4","urls":["bzzr://f43a5563ec5df095151eee30cf7a0941b5a971917c27c7b34d9586b36563ab5b"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/lib/SetMath.sol":{"keccak256":"0x4c6762ad3d11c03889df48cc3b26bd199f958deffa651ec30655cd1654a47303","urls":["bzzr://b8e968dd2840d9586babe7852589abff3972135fff299285eaafd31687ae4385"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/SetUSDValuation.sol":{"keccak256":"0xa4556b8a8a0c1119a0bff6064314b5040a77881ec064a0b686767c51c736d374","urls":["bzzr://dc1a690ceb3d38bd6b6bcab61d79463d5de26d4565a59ecceeb3448b29745485"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/AddressArrayUtils.sol":{"keccak256":"0xb716eab4e8c5a336a2f19078928530829af097912bd1b925644f914b63601f08","urls":["bzzr://d8a21d39779beb316adb5180d08dcba1941eeccd9412ff08feb21a631c18c269"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/CommonMath.sol":{"keccak256":"0x3d1d08c6efc2a973fe2c02ddcb02fd99a8c8eb75f74dcbd93e8e15864eee2b6b","urls":["bzzr://580815dd1cf648a4521d923e59087de21143d9c48115ab71579a1f5a8f3d36af"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/ScaleValidations.sol":{"keccak256":"0xba602c9dda228b4552744ef0ba26329a3ada2610c42cb085a373d873d58d1391","urls":["bzzr://78110cdd43a9f5b4092cb51867e79da62e6d8b324ffb24d0dd448ad3e27048ee"]},"openzeppelin-solidity/contracts/math/Math.sol":{"keccak256":"0x775160984ceb0931bf67e718fb23afd6fc2a5d38a6e2378ebb438a039ed2269e","urls":["bzzr://209e27ad1c13e3e9b157915e0269ee4c3b6f0a494660dcc4acf1faf102e1a7ad"]},"openzeppelin-solidity/contracts/math/SafeMath.sol":{"keccak256":"0xc2a200a877c4a9b2475c246c54ffecc69ffde3e11af83319c63c2dc5458bac80","urls":["bzzr://c8876e2c39b60f155d748d71d715c8f3903fae5a405ac599adcb6ad2f9a583f9"]},"openzeppelin-solidity/contracts/token/ERC20/ERC20Detailed.sol":{"keccak256":"0xa60f7f7ce98ca2d75c8e02da982d3fe91176269fdab2589bbbb7cc65f2d7c9d3","urls":["bzzr://5edd2c9be304a1e8ed055e243daba5345f242008164f9a0565c33197b860323b"]},"openzeppelin-solidity/contracts/token/ERC20/IERC20.sol":{"keccak256":"0x59e7df16169a498cb8837963b2f5461d88e63bd1eb6c7d58b814d76b84ccbe61","urls":["bzzr://e572c9c4e02e37349702451bf3b5dcbbc86a19da5a51695b5b3e1bfe1e7825dc"]},"set-protocol-oracles/contracts/meta-oracles/interfaces/IOracle.sol":{"keccak256":"0xeb5a447a0b1ef47547ce12a91b72412880edb9690aa9bcd8746fc3a379f2fbe9","urls":["bzzr://261675b916b84f58bea71ec28c4f711291053174ddf47e860c26daaee506744a"]}},"version":1}',bytecode:"0x60806040523480156200001157600080fd5b5060405160808062001a2e833981018060405262000033919081019062000095565b60008054600160a060020a03958616600160a060020a03199182161790915560018054949095169316929092179092556002919091556003556200012e565b600062000080825162000112565b9392505050565b60006200008082516200012b565b60008060008060808587031215620000ac57600080fd5b6000620000ba878762000072565b9450506020620000cd8782880162000072565b9350506040620000e08782880162000087565b9250506060620000f38782880162000087565b91505092959194509250565b60006200010c826200011f565b92915050565b60006200010c82620000ff565b600160a060020a031690565b90565b6118f0806200013e6000396000f3fe608060405234801561001057600080fd5b50600436106100a25760003560e060020a90048063aa6f60821161006a578063aa6f60821461010b578063cbf1c35414610120578063ced72f8714610133578063ec778ce51461013b578063f2f4eb2614610161576100a2565b806320f55404146100a7578063432352a7146100c5578063439fab91146100cd57806388a980a5146100e2578063a1256df5146100ea575b600080fd5b6100af610169565b6040516100bc919061177a565b60405180910390f35b6100af6101e1565b6100e06100db36600461125e565b6101e7565b005b6100af6102ed565b6100fd6100f836600461119a565b6102f3565b6040516100bc929190611788565b61011361030e565b6040516100bc91906116e1565b6100e061012e36600461125e565b61031d565b6100af610403565b61014e61014936600461119a565b610426565b6040516100bc97969594939291906117be565b610113610463565b600080600061017733610472565b91509150610186338383610559565b337f1edea7c08dbf1cb2c987fac9e8fa948aae22ffc7e55bc8fad4309e6b131b96116101b182610611565b83856040516101c293929190611796565b60405180910390a26101da828263ffffffff61063016565b9250505090565b60025481565b6101ef610f83565b61022e83838080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061064b92505050565b905061023981610667565b600154600090610253903390600160a060020a03166106ac565b3360008181526004602081815260409283902087518082559188015160018201819055888501516002830181905560608a015160038401819055426005850181905560068501819055958401899055955197985091967fedbbc4d020404555be82745a783629a4aafb166b302c5647028eed1ddae14fe3956102de9592939290918a919081906117be565b60405180910390a25050505050565b60035481565b60008060008061030285610472565b90945092505050915091565b600154600160a060020a031681565b60008061035f84848080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061085492505050565b9092509050600082600181111561037257fe5b141561039b57610381816108b1565b3360009081526004602052604090206003018190556103ba565b6103a4816108df565b3360009081526004602052604090206002018190555b33600160a060020a03167fc3fcc939af00cbf0f637c1906f3cada46c729e65b3e3c3541bbadefc4668323983836040516103f59291906116ef565b60405180910390a250505050565b600080600061041133610472565b90925090506101da828263ffffffff61063016565b6004602081905260009182526040909120805460018201546002830154600384015494840154600585015460069095015493959294919390919087565b600054600160a060020a031681565b600080546040517ffef3ee730000000000000000000000000000000000000000000000000000000081528291600160a060020a03169063fef3ee73906104bc9086906004016116d3565b60206040518083038186803b1580156104d457600080fd5b505afa1580156104e8573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061050c9190810190611240565b6105345760405160e560020a62461bcd02815260040161052b9061173a565b60405180910390fd5b600061053f84610904565b9050600061054d858361094a565b91935090915050915091565b600160a060020a03808416600090815260046020526040812042600690910155600154909161058a918691166106ac565b9050600061059882856109d6565b905082156105ca57600160a060020a03851660009081526004602081905260409091204260058201550181905561060a565b6105d385610a00565b6105dc86610a1e565b1061060a57600160a060020a0385166000908152600460208190526040909120908101829055426005909101555b5050505050565b600160a060020a03166000908152600460208190526040909120015490565b60008282018381101561064257600080fd5b90505b92915050565b610653610f83565b8180602001905161064591908101906112be565b61067481606001516108b1565b61068181604001516108df565b8051602082015110156106a95760405160e560020a62461bcd02815260040161052b9061170a565b50565b600080839050600081600160a060020a0316630193aea26040518163ffffffff1660e060020a02815260040160206040518083038186803b1580156106f057600080fd5b505afa158015610704573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061072891908101906112dc565b9050600082600160a060020a03166342a7cfd56040518163ffffffff1660e060020a02815260040160206040518083038186803b15801561076857600080fd5b505afa15801561077c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506107a091908101906112dc565b9050600083600160a060020a03166330b866276040518163ffffffff1660e060020a02815260040160206040518083038186803b1580156107e057600080fd5b505afa1580156107f4573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061081891908101906112a0565b905060006108268288610a2c565b90506108488361083c838763ffffffff610d8f16565b9063ffffffff610db616565b98975050505050505050565b6000806000808480602001905161086e9190810190611318565b9150915060028260ff16106108985760405160e560020a62461bcd02815260040161052b9061175a565b8160ff1660018111156108a757fe5b9350915050915091565b6003548111156108d65760405160e560020a62461bcd02815260040161052b9061174a565b6106a981610dd8565b6002548111156108d65760405160e560020a62461bcd02815260040161052b9061176a565b60008061092061091384610e0e565b429063ffffffff610e2c16565b90506109436301e187e061083c61093686610e41565b849063ffffffff610d8f16565b9392505050565b600061095583610e5f565b156109ce57600154600090610974908590600160a060020a03166106ac565b9050600061098282856109d6565b9050600061098f86610611565b905060008183116109a15760006109b1565b6109b1838363ffffffff610e2c16565b90506109c38461083c6109368a610e7a565b945050505050610645565b506000610645565b60006106426109f36109ee858563ffffffff610d8f16565b610e98565b849063ffffffff610e2c16565b600160a060020a031660009081526004602052604090206001015490565b600061064561091383610eb2565b60008060009050606084600160a060020a03166399d50d5d6040518163ffffffff1660e060020a02815260040160006040518083038186803b158015610a7157600080fd5b505afa158015610a85573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610aad91908101906111d6565b9050606085600160a060020a031663027aa9f56040518163ffffffff1660e060020a02815260040160006040518083038186803b158015610aed57600080fd5b505afa158015610b01573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610b29919081019061120b565b9050600086600160a060020a03166342a7cfd56040518163ffffffff1660e060020a02815260040160206040518083038186803b158015610b6957600080fd5b505afa158015610b7d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610ba191908101906112dc565b905060005b8351811015610d83576000848281518110610bbd57fe5b60200260200101519050600088600160a060020a03166339477363836040518263ffffffff1660e060020a028152600401610bf891906116d3565b60206040518083038186803b158015610c1057600080fd5b505afa158015610c24573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610c4891908101906111b8565b9050600081600160a060020a03166357de26a46040518163ffffffff1660e060020a02815260040160206040518083038186803b158015610c8857600080fd5b505afa158015610c9c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610cc091908101906112dc565b9050600083600160a060020a031663313ce5676040518163ffffffff1660e060020a02815260040160206040518083038186803b158015610d0057600080fd5b505afa158015610d14573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610d3891908101906112fa565b60ff1690506000610d5e83888a8981518110610d5057fe5b602002602001015185610ed0565b9050610d708a8263ffffffff61063016565b99505060019094019350610ba692505050565b50929695505050505050565b600082610d9e57506000610645565b82820282848281610dab57fe5b041461064257600080fd5b6000808211610dc457600080fd5b6000828481610dcf57fe5b04949350505050565b610dee81655af3107a400063ffffffff610f3516565b156106a95760405160e560020a62461bcd02815260040161052b9061171a565b600160a060020a031660009081526004602052604090206006015490565b600082821115610e3b57600080fd5b50900390565b600160a060020a031660009081526004602052604090206003015490565b6000610e6a82610f52565b610e7383610a1e565b1192915050565b600160a060020a031660009081526004602052604090206002015490565b600061064582670de0b6b3a764000063ffffffff610db616565b600160a060020a031660009081526004602052604090206005015490565b6000600a82900a81610eeb670de0b6b3a76400008688610f6d565b90506000610f038361083c8a8563ffffffff610d8f16565b905060008111610f285760405160e560020a62461bcd02815260040161052b9061172a565b925050505b949350505050565b600081610f4157600080fd5b818381610f4a57fe5b069392505050565b600160a060020a031660009081526004602052604090205490565b6000610f2d8261083c868663ffffffff610d8f16565b6040518060800160405280600081526020016000815260200160008152602001600081525090565b6000610642823561186b565b6000610642825161186b565b600082601f830112610fd457600080fd5b8151610fe7610fe282611841565b61181a565b9150818183526020840193506020810190508385602084028201111561100c57600080fd5b60005b8381101561103857816110228882610fb7565b845250602092830192919091019060010161100f565b5050505092915050565b600082601f83011261105357600080fd5b8151611061610fe282611841565b9150818183526020840193506020810190508385602084028201111561108657600080fd5b60005b83811015611038578161109c8882611182565b8452506020928301929190910190600101611089565b60006106428251611895565b60008083601f8401126110d057600080fd5b50813567ffffffffffffffff8111156110e857600080fd5b60208301915083600182028301111561110057600080fd5b9250929050565b6000610642825161189a565b60006080828403121561112557600080fd5b61112f608061181a565b9050600061113d8484611182565b825250602061114e84848301611182565b602083015250604061116284828501611182565b604083015250606061117684828501611182565b60608301525092915050565b60006106428251611892565b600061064282516118a5565b6000602082840312156111ac57600080fd5b6000610f2d8484610fab565b6000602082840312156111ca57600080fd5b6000610f2d8484610fb7565b6000602082840312156111e857600080fd5b815167ffffffffffffffff8111156111ff57600080fd5b610f2d84828501610fc3565b60006020828403121561121d57600080fd5b815167ffffffffffffffff81111561123457600080fd5b610f2d84828501611042565b60006020828403121561125257600080fd5b6000610f2d84846110b2565b6000806020838503121561127157600080fd5b823567ffffffffffffffff81111561128857600080fd5b611294858286016110be565b92509250509250929050565b6000602082840312156112b257600080fd5b6000610f2d8484611107565b6000608082840312156112d057600080fd5b6000610f2d8484611113565b6000602082840312156112ee57600080fd5b6000610f2d8484611182565b60006020828403121561130c57600080fd5b6000610f2d848461118e565b6000806040838503121561132b57600080fd5b6000611337858561118e565b925050602061134885828601611182565b9150509250929050565b61135b8161186b565b82525050565b61135b8161189a565b61135b816118ab565b6000611380606983611862565b7f506572666f726d616e636546656543616c63756c61746f722e76616c6964617481527f65466565506172616d65746572733a2046656520636f6c6c656374696f6e206660208201527f72657175656e6379206d75737420657863656564206869676857617465726d6160408201527f726b2072657365742e0000000000000000000000000000000000000000000000606082015260800192915050565b600061142b601983611862565b7f4d757374206265206d756c7469706c65206f6620302e30312500000000000000815260200192915050565b6000611464604483611862565b7f53657455534456616c756174696f6e2e63616c63756c617465546f6b656e416c81527f6c6f636174696f6e416d6f756e745553443a2056616c7565206d75737420626560208201527f203e203000000000000000000000000000000000000000000000000000000000604082015260600192915050565b60006114e9605183611862565b7f506572666f726d616e636546656543616c63756c61746f722e63616c63756c6181527f7465466565733a2043616c6c6572206d7573742062652076616c69642052656260208201527f616c616e63696e67536574546f6b656e2e000000000000000000000000000000604082015260600192915050565b600061156e605783611862565b7f506572666f726d616e636546656543616c63756c61746f722e76616c6964617481527f6553747265616d696e6746656550657263656e746167653a2053747265616d6960208201527f6e67206665652065786365656473206d6178696d756d2e000000000000000000604082015260600192915050565b60006115f3603e83611862565b7f506572666f726d616e636546656543616c63756c61746f722e70617273654e6581527f7746656543616c6c446174613a20466565207479706520696e76616c69640000602082015260400192915050565b6000611652605183611862565b7f506572666f726d616e636546656543616c63756c61746f722e76616c6964617481527f6550726f66697446656550657263656e746167653a2050726f6669742066656560208201527f2065786365656473206d6178696d756d2e000000000000000000000000000000604082015260600192915050565b61135b81611892565b602081016106458284611352565b602081016106458284611361565b604081016116fd828561136a565b61094360208301846116ca565b6020808252810161064581611373565b602080825281016106458161141e565b6020808252810161064581611457565b60208082528101610645816114dc565b6020808252810161064581611561565b60208082528101610645816115e6565b6020808252810161064581611645565b6020810161064582846116ca565b604081016116fd82856116ca565b606081016117a482866116ca565b6117b160208301856116ca565b610f2d60408301846116ca565b60e081016117cc828a6116ca565b6117d960208301896116ca565b6117e660408301886116ca565b6117f360608301876116ca565b61180060808301866116ca565b61180d60a08301856116ca565b61084860c08301846116ca565b60405181810167ffffffffffffffff8111828210171561183957600080fd5b604052919050565b600067ffffffffffffffff82111561185857600080fd5b5060209081020190565b90815260200190565b600061064582611886565b60006002821061188257fe5b5090565b600160a060020a031690565b90565b151590565b60006106458261186b565b60ff1690565b60006106458261187656fea265627a7a7230582009cb3a1056ad57a988812a59ebb75cfabbfeba7748b8178ce166e72925c647916c6578706572696d656e74616cf50037",deployedBytecode:"0x608060405234801561001057600080fd5b50600436106100a25760003560e060020a90048063aa6f60821161006a578063aa6f60821461010b578063cbf1c35414610120578063ced72f8714610133578063ec778ce51461013b578063f2f4eb2614610161576100a2565b806320f55404146100a7578063432352a7146100c5578063439fab91146100cd57806388a980a5146100e2578063a1256df5146100ea575b600080fd5b6100af610169565b6040516100bc919061177a565b60405180910390f35b6100af6101e1565b6100e06100db36600461125e565b6101e7565b005b6100af6102ed565b6100fd6100f836600461119a565b6102f3565b6040516100bc929190611788565b61011361030e565b6040516100bc91906116e1565b6100e061012e36600461125e565b61031d565b6100af610403565b61014e61014936600461119a565b610426565b6040516100bc97969594939291906117be565b610113610463565b600080600061017733610472565b91509150610186338383610559565b337f1edea7c08dbf1cb2c987fac9e8fa948aae22ffc7e55bc8fad4309e6b131b96116101b182610611565b83856040516101c293929190611796565b60405180910390a26101da828263ffffffff61063016565b9250505090565b60025481565b6101ef610f83565b61022e83838080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061064b92505050565b905061023981610667565b600154600090610253903390600160a060020a03166106ac565b3360008181526004602081815260409283902087518082559188015160018201819055888501516002830181905560608a015160038401819055426005850181905560068501819055958401899055955197985091967fedbbc4d020404555be82745a783629a4aafb166b302c5647028eed1ddae14fe3956102de9592939290918a919081906117be565b60405180910390a25050505050565b60035481565b60008060008061030285610472565b90945092505050915091565b600154600160a060020a031681565b60008061035f84848080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061085492505050565b9092509050600082600181111561037257fe5b141561039b57610381816108b1565b3360009081526004602052604090206003018190556103ba565b6103a4816108df565b3360009081526004602052604090206002018190555b33600160a060020a03167fc3fcc939af00cbf0f637c1906f3cada46c729e65b3e3c3541bbadefc4668323983836040516103f59291906116ef565b60405180910390a250505050565b600080600061041133610472565b90925090506101da828263ffffffff61063016565b6004602081905260009182526040909120805460018201546002830154600384015494840154600585015460069095015493959294919390919087565b600054600160a060020a031681565b600080546040517ffef3ee730000000000000000000000000000000000000000000000000000000081528291600160a060020a03169063fef3ee73906104bc9086906004016116d3565b60206040518083038186803b1580156104d457600080fd5b505afa1580156104e8573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061050c9190810190611240565b6105345760405160e560020a62461bcd02815260040161052b9061173a565b60405180910390fd5b600061053f84610904565b9050600061054d858361094a565b91935090915050915091565b600160a060020a03808416600090815260046020526040812042600690910155600154909161058a918691166106ac565b9050600061059882856109d6565b905082156105ca57600160a060020a03851660009081526004602081905260409091204260058201550181905561060a565b6105d385610a00565b6105dc86610a1e565b1061060a57600160a060020a0385166000908152600460208190526040909120908101829055426005909101555b5050505050565b600160a060020a03166000908152600460208190526040909120015490565b60008282018381101561064257600080fd5b90505b92915050565b610653610f83565b8180602001905161064591908101906112be565b61067481606001516108b1565b61068181604001516108df565b8051602082015110156106a95760405160e560020a62461bcd02815260040161052b9061170a565b50565b600080839050600081600160a060020a0316630193aea26040518163ffffffff1660e060020a02815260040160206040518083038186803b1580156106f057600080fd5b505afa158015610704573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061072891908101906112dc565b9050600082600160a060020a03166342a7cfd56040518163ffffffff1660e060020a02815260040160206040518083038186803b15801561076857600080fd5b505afa15801561077c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506107a091908101906112dc565b9050600083600160a060020a03166330b866276040518163ffffffff1660e060020a02815260040160206040518083038186803b1580156107e057600080fd5b505afa1580156107f4573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061081891908101906112a0565b905060006108268288610a2c565b90506108488361083c838763ffffffff610d8f16565b9063ffffffff610db616565b98975050505050505050565b6000806000808480602001905161086e9190810190611318565b9150915060028260ff16106108985760405160e560020a62461bcd02815260040161052b9061175a565b8160ff1660018111156108a757fe5b9350915050915091565b6003548111156108d65760405160e560020a62461bcd02815260040161052b9061174a565b6106a981610dd8565b6002548111156108d65760405160e560020a62461bcd02815260040161052b9061176a565b60008061092061091384610e0e565b429063ffffffff610e2c16565b90506109436301e187e061083c61093686610e41565b849063ffffffff610d8f16565b9392505050565b600061095583610e5f565b156109ce57600154600090610974908590600160a060020a03166106ac565b9050600061098282856109d6565b9050600061098f86610611565b905060008183116109a15760006109b1565b6109b1838363ffffffff610e2c16565b90506109c38461083c6109368a610e7a565b945050505050610645565b506000610645565b60006106426109f36109ee858563ffffffff610d8f16565b610e98565b849063ffffffff610e2c16565b600160a060020a031660009081526004602052604090206001015490565b600061064561091383610eb2565b60008060009050606084600160a060020a03166399d50d5d6040518163ffffffff1660e060020a02815260040160006040518083038186803b158015610a7157600080fd5b505afa158015610a85573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610aad91908101906111d6565b9050606085600160a060020a031663027aa9f56040518163ffffffff1660e060020a02815260040160006040518083038186803b158015610aed57600080fd5b505afa158015610b01573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610b29919081019061120b565b9050600086600160a060020a03166342a7cfd56040518163ffffffff1660e060020a02815260040160206040518083038186803b158015610b6957600080fd5b505afa158015610b7d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610ba191908101906112dc565b905060005b8351811015610d83576000848281518110610bbd57fe5b60200260200101519050600088600160a060020a03166339477363836040518263ffffffff1660e060020a028152600401610bf891906116d3565b60206040518083038186803b158015610c1057600080fd5b505afa158015610c24573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610c4891908101906111b8565b9050600081600160a060020a03166357de26a46040518163ffffffff1660e060020a02815260040160206040518083038186803b158015610c8857600080fd5b505afa158015610c9c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610cc091908101906112dc565b9050600083600160a060020a031663313ce5676040518163ffffffff1660e060020a02815260040160206040518083038186803b158015610d0057600080fd5b505afa158015610d14573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610d3891908101906112fa565b60ff1690506000610d5e83888a8981518110610d5057fe5b602002602001015185610ed0565b9050610d708a8263ffffffff61063016565b99505060019094019350610ba692505050565b50929695505050505050565b600082610d9e57506000610645565b82820282848281610dab57fe5b041461064257600080fd5b6000808211610dc457600080fd5b6000828481610dcf57fe5b04949350505050565b610dee81655af3107a400063ffffffff610f3516565b156106a95760405160e560020a62461bcd02815260040161052b9061171a565b600160a060020a031660009081526004602052604090206006015490565b600082821115610e3b57600080fd5b50900390565b600160a060020a031660009081526004602052604090206003015490565b6000610e6a82610f52565b610e7383610a1e565b1192915050565b600160a060020a031660009081526004602052604090206002015490565b600061064582670de0b6b3a764000063ffffffff610db616565b600160a060020a031660009081526004602052604090206005015490565b6000600a82900a81610eeb670de0b6b3a76400008688610f6d565b90506000610f038361083c8a8563ffffffff610d8f16565b905060008111610f285760405160e560020a62461bcd02815260040161052b9061172a565b925050505b949350505050565b600081610f4157600080fd5b818381610f4a57fe5b069392505050565b600160a060020a031660009081526004602052604090205490565b6000610f2d8261083c868663ffffffff610d8f16565b6040518060800160405280600081526020016000815260200160008152602001600081525090565b6000610642823561186b565b6000610642825161186b565b600082601f830112610fd457600080fd5b8151610fe7610fe282611841565b61181a565b9150818183526020840193506020810190508385602084028201111561100c57600080fd5b60005b8381101561103857816110228882610fb7565b845250602092830192919091019060010161100f565b5050505092915050565b600082601f83011261105357600080fd5b8151611061610fe282611841565b9150818183526020840193506020810190508385602084028201111561108657600080fd5b60005b83811015611038578161109c8882611182565b8452506020928301929190910190600101611089565b60006106428251611895565b60008083601f8401126110d057600080fd5b50813567ffffffffffffffff8111156110e857600080fd5b60208301915083600182028301111561110057600080fd5b9250929050565b6000610642825161189a565b60006080828403121561112557600080fd5b61112f608061181a565b9050600061113d8484611182565b825250602061114e84848301611182565b602083015250604061116284828501611182565b604083015250606061117684828501611182565b60608301525092915050565b60006106428251611892565b600061064282516118a5565b6000602082840312156111ac57600080fd5b6000610f2d8484610fab565b6000602082840312156111ca57600080fd5b6000610f2d8484610fb7565b6000602082840312156111e857600080fd5b815167ffffffffffffffff8111156111ff57600080fd5b610f2d84828501610fc3565b60006020828403121561121d57600080fd5b815167ffffffffffffffff81111561123457600080fd5b610f2d84828501611042565b60006020828403121561125257600080fd5b6000610f2d84846110b2565b6000806020838503121561127157600080fd5b823567ffffffffffffffff81111561128857600080fd5b611294858286016110be565b92509250509250929050565b6000602082840312156112b257600080fd5b6000610f2d8484611107565b6000608082840312156112d057600080fd5b6000610f2d8484611113565b6000602082840312156112ee57600080fd5b6000610f2d8484611182565b60006020828403121561130c57600080fd5b6000610f2d848461118e565b6000806040838503121561132b57600080fd5b6000611337858561118e565b925050602061134885828601611182565b9150509250929050565b61135b8161186b565b82525050565b61135b8161189a565b61135b816118ab565b6000611380606983611862565b7f506572666f726d616e636546656543616c63756c61746f722e76616c6964617481527f65466565506172616d65746572733a2046656520636f6c6c656374696f6e206660208201527f72657175656e6379206d75737420657863656564206869676857617465726d6160408201527f726b2072657365742e0000000000000000000000000000000000000000000000606082015260800192915050565b600061142b601983611862565b7f4d757374206265206d756c7469706c65206f6620302e30312500000000000000815260200192915050565b6000611464604483611862565b7f53657455534456616c756174696f6e2e63616c63756c617465546f6b656e416c81527f6c6f636174696f6e416d6f756e745553443a2056616c7565206d75737420626560208201527f203e203000000000000000000000000000000000000000000000000000000000604082015260600192915050565b60006114e9605183611862565b7f506572666f726d616e636546656543616c63756c61746f722e63616c63756c6181527f7465466565733a2043616c6c6572206d7573742062652076616c69642052656260208201527f616c616e63696e67536574546f6b656e2e000000000000000000000000000000604082015260600192915050565b600061156e605783611862565b7f506572666f726d616e636546656543616c63756c61746f722e76616c6964617481527f6553747265616d696e6746656550657263656e746167653a2053747265616d6960208201527f6e67206665652065786365656473206d6178696d756d2e000000000000000000604082015260600192915050565b60006115f3603e83611862565b7f506572666f726d616e636546656543616c63756c61746f722e70617273654e6581527f7746656543616c6c446174613a20466565207479706520696e76616c69640000602082015260400192915050565b6000611652605183611862565b7f506572666f726d616e636546656543616c63756c61746f722e76616c6964617481527f6550726f66697446656550657263656e746167653a2050726f6669742066656560208201527f2065786365656473206d6178696d756d2e000000000000000000000000000000604082015260600192915050565b61135b81611892565b602081016106458284611352565b602081016106458284611361565b604081016116fd828561136a565b61094360208301846116ca565b6020808252810161064581611373565b602080825281016106458161141e565b6020808252810161064581611457565b60208082528101610645816114dc565b6020808252810161064581611561565b60208082528101610645816115e6565b6020808252810161064581611645565b6020810161064582846116ca565b604081016116fd82856116ca565b606081016117a482866116ca565b6117b160208301856116ca565b610f2d60408301846116ca565b60e081016117cc828a6116ca565b6117d960208301896116ca565b6117e660408301886116ca565b6117f360608301876116ca565b61180060808301866116ca565b61180d60a08301856116ca565b61084860c08301846116ca565b60405181810167ffffffffffffffff8111828210171561183957600080fd5b604052919050565b600067ffffffffffffffff82111561185857600080fd5b5060209081020190565b90815260200190565b600061064582611886565b60006002821061188257fe5b5090565b600160a060020a031690565b90565b151590565b60006106458261186b565b60ff1690565b60006106458261187656fea265627a7a7230582009cb3a1056ad57a988812a59ebb75cfabbfeba7748b8178ce166e72925c647916c6578706572696d656e74616cf50037",
sourceMap:"1659:18221:14:-;;;3991:405;8:9:-1;5:2;;;30:1;27;20:12;5:2;3991:405:14;;;;;;;;;;;;;;;;;;;;;;4195:4;:12;;-1:-1:-1;;;;;4195:12:14;;;-1:-1:-1;;;;;;4195:12:14;;;;;;;;4217:34;;;;;;;;;;;;;;;4261:26;:56;;;;4327:29;:62;1659:18221;;5:150:-1;;97:53;142:6;136:13;97:53;;;88:62;82:73;-1:-1;;;82:73;341:122;;419:39;450:6;444:13;419:39;;470:750;;;;;675:3;663:9;654:7;650:23;646:33;643:2;;;692:1;689;682:12;643:2;727:1;744:78;814:7;794:9;744:78;;;734:88;;706:122;859:2;877:89;958:7;949:6;938:9;934:22;877:89;;;867:99;;838:134;1003:2;1021:64;1077:7;1068:6;1057:9;1053:22;1021:64;;;1011:74;;982:109;1122:2;1140:64;1196:7;1187:6;1176:9;1172:22;1140:64;;;1130:74;;1101:109;637:583;;;;;;;;1227:105;;1296:31;1321:5;1296:31;;;1285:42;1279:53;-1:-1;;1279:53;1339:119;;1422:31;1447:5;1422:31;;1602:128;-1:-1;;;;;1671:54;;1654:76;1737:79;1806:5;1789:27;;1659:18221:14;;;;;;",deployedSourceMap:"1659:18221:14:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1659:18221:14;;;;;;;;-1:-1:-1;;;1659:18221:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;7544:508;;;:::i;:::-;;;;;;;;;;;;;;;;3180:41;;;:::i;4674:1317::-;;;;;;;;;:::i;:::-;;3227:44;;;:::i;6769:295::-;;;;;;;;;:::i;:::-;;;;;;;;;3135:39;;;:::i;:::-;;;;;;;;8205:799;;;;;;;;;:::i;6285:243::-;;;:::i;3277:66::-;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;3112:17;;;:::i;7544:508::-;7605:7;7642:20;7676:17;7706:25;7720:10;7706:13;:25::i;:::-;7628:103;;;;7795:51;7810:10;7822:12;7836:9;7795:14;:51::i;:::-;7892:10;7862:138;7916:25;7892:10;7916:13;:25::i;:::-;7955:9;7978:12;7862:138;;;;;;;;;;;;;;;;;8018:27;:12;8035:9;8018:27;:16;:27;:::i;:::-;8011:34;;;;7544:508;:::o;3180:41::-;;;;:::o;4674:1317::-;4812:35;;:::i;:::-;4850:47;4878:18;;4850:47;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;81:16;;74:27;;;;-1:-1;4850:27:14;;-1:-1:-1;;;4850:47:14:i;:::-;4812:85;;4937:33;4959:10;4937:21;:33::i;:::-;5061:15;;4980:21;;5004:73;;5049:10;;-1:-1:-1;;;;;5061:15:14;5004:44;:73::i;:::-;5186:10;5128:46;5177:20;;;:8;:20;;;;;;;;;5234:26;;5208:52;;;5305:35;;;;5270:32;;;:70;;;5380:30;;;;5350:27;;;:60;;;5453:33;;;;5420:30;;;:66;;;5529:15;5496:30;;;:48;;;5554:33;;;:51;;;5615:21;;;:37;;;5668:316;;4980:97;;-1:-1:-1;5177:20:14;;5668:316;;;;5305:35;;5380:30;5453:33;;4980:97;;5529:15;;;5668:316;;;;;;;;;;4674:1317;;;;;:::o;3227:44::-;;;;:::o;6769:295::-;6878:7;6887;6924:20;6958:17;6988:26;7002:11;6988:13;:26::i;:::-;6910:104;;-1:-1:-1;6910:104:14;-1:-1:-1;;;6769:295:14;;;:::o;3135:39::-;;;-1:-1:-1;;;;;3135:39:14;;:::o;8205:799::-;8311:21;8346;8380:32;8400:11;;8380:32;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;81:16;;74:27;;;;-1:-1;8380:19:14;;-1:-1:-1;;;8380:32:14:i;:::-;8297:115;;-1:-1:-1;8297:115:14;-1:-1:-1;8617:20:14;8600:13;:37;;;;;;;;;8596:331;;;8653:45;8684:13;8653:30;:45::i;:::-;8722:10;8713:20;;;;:8;:20;;;;;:43;;:59;;;8596:331;;;8803:42;8831:13;8803:27;:42::i;:::-;8869:10;8860:20;;;;:8;:20;;;;;:40;;:56;;;8596:331;8956:10;-1:-1:-1;;;;;8942:55:14;;8968:13;8983;8942:55;;;;;;;;;;;;;;;;8205:799;;;;:::o;6285:243::-;6350:7;6387:20;6421:17;6451:25;6465:10;6451:13;:25::i;:::-;6373:103;;-1:-1:-1;6373:103:14;-1:-1:-1;6494:27:14;6373:103;;6494:27;:16;:27;:::i;3277:66::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;3112:17::-;;;-1:-1:-1;;;;;3112:17:14;;:::o;12766:486::-;12871:7;12924:4;;:27;;;;;12871:7;;-1:-1:-1;;;;;12924:4:14;;:14;;:27;;12939:11;;12924:27;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;12924:27:14;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;12924:27:14;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;12924:27:14;;;;;;;;;12903:155;;;;-1:-1:-1;;;;;12903:155:14;;;;;;;;;;;;;;;;;13069:20;13092:34;13114:11;13092:21;:34::i;:::-;13069:57;;13137:17;13157:45;13176:11;13189:12;13157:18;:45::i;:::-;13221:12;;-1:-1:-1;13137:65:14;;-1:-1:-1;;12766:486:14;;;:::o;9628:1131::-;-1:-1:-1;;;;;9816:21:14;;;;;;;:8;:21;;;;;9866:15;9816:47;;;;:65;9980:15;;9816:21;;9922:74;;9825:11;;9980:15;9922:44;:74::i;:::-;9892:104;;10006:26;10035:63;10063:19;10084:13;10035:27;:63::i;:::-;10006:92;-1:-1:-1;10191:14:14;;10187:566;;-1:-1:-1;;;;;10221:21:14;;;;;;:8;:21;;;;;;;;10268:15;10221:44;;;:62;10297:35;:56;;;10187:566;;;10413:37;10438:11;10413:24;:37::i;:::-;10374:35;10397:11;10374:22;:35::i;:::-;:76;10370:383;;-1:-1:-1;;;;;10610:21:14;;;;;;:8;:21;;;;;;;;:35;;;:56;;;10727:15;10680:44;;;;:62;10370:383;9628:1131;;;;;:::o;17642:120::-;-1:-1:-1;;;;;17727:14:14;17701:7;17727:14;;;:8;:14;;;;;;;;:28;;;17642:120::o;1439:145:174:-;1497:7;1528:5;;;1551:6;;;;1543:15;;;;;;1576:1;-1:-1:-1;1439:145:174;;;;;:::o;18618:218:14:-;18739:24;;:::i;:::-;18798:9;18786:43;;;;;;;;;;;;;10997:527;11155:65;11186:10;:33;;;11155:30;:65::i;:::-;11230:59;11258:10;:30;;;11230:27;:59::i;:::-;11360:26;;11321:35;;;;:65;;11300:217;;;;-1:-1:-1;;;;;11300:217:14;;;;;;;;;10997:527;:::o;1865:827:51:-;2044:7;2067:42;2135:27;2067:96;;2174:18;2195:19;-1:-1:-1;;;;;2195:30:51;;:32;;;;;-1:-1:-1;;;2195:32:51;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;2195:32:51;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;2195:32:51;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;2195:32:51;;;;;;;;;2174:53;;2237:19;2259;-1:-1:-1;;;;;2259:31:51;;:33;;;;;-1:-1:-1;;;2259:33:51;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;2259:33:51;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;2259:33:51;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;2259:33:51;;;;;;;;;2237:55;;2302:20;2325:19;-1:-1:-1;;;;;2325:30:51;;:32;;;;;-1:-1:-1;;;2325:32:51;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;2325:32:51;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;2325:32:51;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;2325:32:51;;;;;;;;;2302:55;;2406:23;2432:92;2474:10;2498:16;2432:28;:92::i;:::-;2406:118;-1:-1:-1;2637:48:51;2673:11;2637:31;2406:118;2657:10;2637:31;:19;:31;:::i;:::-;:35;:48;:35;:48;:::i;:::-;2630:55;1865:827;-1:-1:-1;;;;;;;;1865:827:51:o;19429:449:14:-;19542:7;19551;19588:13;19615:21;19661:9;19649:40;;;;;;;;;;;;;;19574:115;;;;19731:1;19721:7;:11;;;19700:120;;;;-1:-1:-1;;;;;19700:120:14;;;;;;;;;19847:7;19839:16;;;;;;;;;;19831:40;-1:-1:-1;19857:13:14;-1:-1:-1;;19429:449:14;;;:::o;11634:379::-;11793:29;;11776:13;:46;;11755:180;;;;-1:-1:-1;;;;;11755:180:14;;;;;;;;;11946:60;11992:13;11946:45;:60::i;12120:358::-;12270:26;;12256:10;:40;;12235:168;;;;-1:-1:-1;;;;;12235:168:14;;;;;;;;13610:397;13722:7;13745:24;13772:59;13792:38;13818:11;13792:25;:38::i;:::-;13772:15;;:59;:19;:59;:::i;:::-;13745:86;;13918:82;2946:11;13918:57;13939:35;13962:11;13939:22;:35::i;:::-;13918:16;;:57;:20;:57;:::i;:82::-;13911:89;13610:397;-1:-1:-1;;;13610:397:14:o;14646:1104::-;14786:7;14912:35;14935:11;14912:22;:35::i;:::-;14908:836;;;15120:15;;15032:27;;15062:74;;15107:11;;-1:-1:-1;;;;;15120:15:14;15062:44;:74::i;:::-;15032:104;;15150:26;15179:63;15207:19;15228:13;15179:27;:63::i;:::-;15150:92;;15256:21;15280:26;15294:11;15280:13;:26::i;:::-;15256:50;;15419:19;15462:13;15441:18;:34;:78;;15518:1;15441:78;;;15478:37;:18;15501:13;15478:37;:22;:37;:::i;:::-;15419:100;;15620:74;15674:19;15620:49;15636:32;15656:11;15636:19;:32::i;15620:74::-;15613:81;;;;;;;;14908:836;-1:-1:-1;15732:1:14;15725:8;;16074:271;16233:7;16263:75;16288:49;:39;:20;16313:13;16288:39;:24;:39;:::i;:::-;:47;:49::i;:::-;16263:20;;:75;:24;:75;:::i;17768:142::-;-1:-1:-1;;;;;17864:14:14;17838:7;17864:14;;;:8;:14;;;;;:39;;;;17768:142::o;16774:151::-;16843:7;16869:49;16889:28;16912:4;16889:22;:28::i;2971:1186:51:-;3129:7;3152:23;3178:1;3152:27;;3190;3220:4;-1:-1:-1;;;;;3220:18:51;;:20;;;;;-1:-1:-1;;;3220:20:51;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;3220:20:51;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;3220:20:51;;;;;;39:16:-1;36:1;17:17;2:54;101:4;3220:20:51;80:15:-1;;;-1:-1;;76:31;65:43;;120:4;113:20;3220::51;;;;;;;;;3190:50;;3250:22;3275:4;-1:-1:-1;;;;;3275:13:51;;:15;;;;;-1:-1:-1;;;3275:15:51;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;3275:15:51;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;3275:15:51;;;;;;39:16:-1;36:1;17:17;2:54;101:4;3275:15:51;80::-1;;;-1:-1;;76:31;65:43;;120:4;113:20;3275:15:51;;;;;;;;;3250:40;;3300:19;3322:4;-1:-1:-1;;;;;3322:16:51;;:18;;;;;-1:-1:-1;;;3322:18:51;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;3322:18:51;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;3322:18:51;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;3322:18:51;;;;;;;;;3300:40;-1:-1:-1;3387:9:51;3382:736;3406:10;:17;3402:1;:21;3382:736;;;3444:24;3471:10;3482:1;3471:13;;;;;;;;;;;;;;3444:40;;3499:14;3516:16;-1:-1:-1;;;;;3516:40:51;;3557:16;3516:58;;;;;-1:-1:-1;;;3516:58:51;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;3516:58:51;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;3516:58:51;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;3516:58:51;;;;;;;;;3499:75;;3588:13;3612:6;-1:-1:-1;;;;;3604:20:51;;:22;;;;;-1:-1:-1;;;3604:22:51;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;3604:22:51;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;3604:22:51;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;3604:22:51;;;;;;;;;3588:38;;3640:16;3673;-1:-1:-1;;;;;3659:40:51;;:42;;;;;-1:-1:-1;;;3659:42:51;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;3659:42:51;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;3659:42:51;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;3659:42:51;;;;;;;;;3640:61;;;;3781:24;3808:151;3859:5;3882:11;3911:5;3917:1;3911:8;;;;;;;;;;;;;;3937;3808:33;:151::i;:::-;3781:178;-1:-1:-1;4070:37:51;:15;3781:178;4070:37;:19;:37;:::i;:::-;4052:55;-1:-1:-1;;3425:3:51;;;;;-1:-1:-1;3382:736:51;;-1:-1:-1;;;3382:736:51;;-1:-1:-1;4135:15:51;;2971:1186;-1:-1:-1;;;;;;2971:1186:51:o;231:421:174:-;289:7;529:6;525:45;;-1:-1:-1;558:1:174;551:8;;525:45;592:5;;;596:1;592;:5;:1;615:5;;;;;:10;607:19;;;;;782:296;840:7;937:1;933;:5;925:14;;;;;;949:9;965:1;961;:5;;;;;;;782:296;-1:-1:-1;;;;782:296:174:o;1034:189:123:-;1133:27;:6;865:4;1133:27;:10;:27;:::i;:::-;:32;1112:104;;;;-1:-1:-1;;;;;1112:104:123;;;;;;;;16931:145:14;-1:-1:-1;;;;;17029:14:14;17003:7;17029:14;;;:8;:14;;;;;:40;;;;16931:145::o;1211::174:-;1269:7;1301:1;1296;:6;;1288:15;;;;;;-1:-1:-1;1325:5:174;;;1211:145::o;17227:139:14:-;-1:-1:-1;;;;;17322:14:14;17296:7;17322:14;;;:8;:14;;;;;:37;;;;17227:139::o;16463:151::-;16532:4;16586:21;16602:4;16586:15;:21::i;:::-;16555:28;16578:4;16555:22;:28::i;:::-;:52;;16463:151;-1:-1:-1;;16463:151:14:o;17372:133::-;-1:-1:-1;;;;;17464:14:14;17438:7;17464:14;;;:8;:14;;;;;:34;;;;17372:133::o;1756:145:115:-;1845:7;1875:19;:1;798:8;1875:19;:5;:19;:::i;17082:139:14:-;-1:-1:-1;;;;;17177:14:14;17151:7;17177:14;;;:8;:14;;;;;:37;;;;17082:139::o;4648:915:51:-;4857:7;4904:2;:19;;;4857:7;5052:104;1670:8;5115:5;5134:12;5052:22;:104::i;:::-;5016:140;-1:-1:-1;5256:26:51;5285:87;5358:13;5285:55;:11;5016:140;5285:55;:28;:55;:::i;:87::-;5256:116;;5425:1;5404:18;:22;5383:137;;;;-1:-1:-1;;;;;5383:137:51;;;;;;;;;5538:18;-1:-1:-1;;;4648:915:51;;;;;;;:::o;1739:121:174:-;1797:7;1824:6;1816:15;;;;;;1852:1;1848;:5;;;;;;;1739:121;-1:-1:-1;;;1739:121:174:o;17511:125:14:-;-1:-1:-1;;;;;17599:14:14;17573:7;17599:14;;;:8;:14;;;;;:30;;17511:125::o;883:256:44:-;1052:7;1082:50;1119:12;1082:32;:12;1099:14;1082:32;:16;:32;:::i;1659:18221:14:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;5:118:-1:-;;72:46;110:6;97:20;72:46;;130:122;;208:39;239:6;233:13;208:39;;277:722;;405:3;398:4;390:6;386:17;382:27;372:2;;423:1;420;413:12;372:2;453:6;447:13;475:80;490:64;547:6;490:64;;;475:80;;;466:89;;572:5;597:6;590:5;583:21;627:4;619:6;615:17;605:27;;649:4;644:3;640:14;633:21;;702:6;749:3;741:4;733:6;729:17;724:3;720:27;717:36;714:2;;;766:1;763;756:12;714:2;791:1;776:217;801:6;798:1;795:13;776:217;;;859:3;881:48;925:3;913:10;881:48;;;869:61;;-1:-1;953:4;944:14;;;;972;;;;;823:1;816:9;776:217;;;780:14;365:634;;;;;;;;1025:722;;1153:3;1146:4;1138:6;1134:17;1130:27;1120:2;;1171:1;1168;1161:12;1120:2;1201:6;1195:13;1223:80;1238:64;1295:6;1238:64;;1223:80;1214:89;;1320:5;1345:6;1338:5;1331:21;1375:4;1367:6;1363:17;1353:27;;1397:4;1392:3;1388:14;1381:21;;1450:6;1497:3;1489:4;1481:6;1477:17;1472:3;1468:27;1465:36;1462:2;;;1514:1;1511;1504:12;1462:2;1539:1;1524:217;1549:6;1546:1;1543:13;1524:217;;;1607:3;1629:48;1673:3;1661:10;1629:48;;;1617:61;;-1:-1;1701:4;1692:14;;;;1720;;;;;1571:1;1564:9;1524:217;;1755:116;;1830:36;1858:6;1852:13;1830:36;;1892:335;;;2006:3;1999:4;1991:6;1987:17;1983:27;1973:2;;2024:1;2021;2014:12;1973:2;-1:-1;2044:20;;2084:18;2073:30;;2070:2;;;2116:1;2113;2106:12;2070:2;2150:4;2142:6;2138:17;2126:29;;2200:3;2193;2185:6;2181:16;2171:8;2167:31;2164:40;2161:2;;;2217:1;2214;2207:12;2161:2;1966:261;;;;;;2235:158;;2331:57;2380:6;2374:13;2331:57;;2456:879;;2587:4;2575:9;2570:3;2566:19;2562:30;2559:2;;;2605:1;2602;2595:12;2559:2;2623:20;2638:4;2623:20;;;2614:29;-1:-1;2704:1;2735:60;2791:3;2771:9;2735:60;;;2711:85;;-1:-1;2877:2;2910:60;2966:3;2942:22;;;2910:60;;;2903:4;2896:5;2892:16;2885:86;2817:165;3047:2;3080:60;3136:3;3127:6;3116:9;3112:22;3080:60;;;3073:4;3066:5;3062:16;3055:86;2992:160;3220:2;3253:60;3309:3;3300:6;3289:9;3285:22;3253:60;;;3246:4;3239:5;3235:16;3228:86;3162:163;2553:782;;;;;3342:122;;3420:39;3451:6;3445:13;3420:39;;3471:118;;3547:37;3576:6;3570:13;3547:37;;3596:241;;3700:2;3688:9;3679:7;3675:23;3671:32;3668:2;;;3716:1;3713;3706:12;3668:2;3751:1;3768:53;3813:7;3793:9;3768:53;;3844:263;;3959:2;3947:9;3938:7;3934:23;3930:32;3927:2;;;3975:1;3972;3965:12;3927:2;4010:1;4027:64;4083:7;4063:9;4027:64;;4114:392;;4254:2;4242:9;4233:7;4229:23;4225:32;4222:2;;;4270:1;4267;4260:12;4222:2;4305:24;;4349:18;4338:30;;4335:2;;;4381:1;4378;4371:12;4335:2;4401:89;4482:7;4473:6;4462:9;4458:22;4401:89;;4513:392;;4653:2;4641:9;4632:7;4628:23;4624:32;4621:2;;;4669:1;4666;4659:12;4621:2;4704:24;;4748:18;4737:30;;4734:2;;;4780:1;4777;4770:12;4734:2;4800:89;4881:7;4872:6;4861:9;4857:22;4800:89;;4912:257;;5024:2;5012:9;5003:7;4999:23;4995:32;4992:2;;;5040:1;5037;5030:12;4992:2;5075:1;5092:61;5145:7;5125:9;5092:61;;5176:365;;;5299:2;5287:9;5278:7;5274:23;5270:32;5267:2;;;5315:1;5312;5305:12;5267:2;5350:31;;5401:18;5390:30;;5387:2;;;5433:1;5430;5423:12;5387:2;5461:64;5517:7;5508:6;5497:9;5493:22;5461:64;;;5451:74;;;;5329:202;5261:280;;;;;;5548:299;;5681:2;5669:9;5660:7;5656:23;5652:32;5649:2;;;5697:1;5694;5687:12;5649:2;5732:1;5749:82;5823:7;5803:9;5749:82;;5854:326;;6000:3;5988:9;5979:7;5975:23;5971:33;5968:2;;;6017:1;6014;6007:12;5968:2;6052:1;6069:95;6156:7;6136:9;6069:95;;6187:263;;6302:2;6290:9;6281:7;6277:23;6273:32;6270:2;;;6318:1;6315;6308:12;6270:2;6353:1;6370:64;6426:7;6406:9;6370:64;;6457:259;;6570:2;6558:9;6549:7;6545:23;6541:32;6538:2;;;6586:1;6583;6576:12;6538:2;6621:1;6638:62;6692:7;6672:9;6638:62;;6723:395;;;6853:2;6841:9;6832:7;6828:23;6824:32;6821:2;;;6869:1;6866;6859:12;6821:2;6904:1;6921:62;6975:7;6955:9;6921:62;;;6911:72;;6883:106;7020:2;7038:64;7094:7;7085:6;7074:9;7070:22;7038:64;;;7028:74;;6999:109;6815:303;;;;;;7125:120;7208:31;7233:5;7208:31;;;7203:3;7196:44;7190:55;;;7252:154;7349:51;7394:5;7349:51;;7596:146;7689:47;7730:5;7689:47;;7750:669;;7910:68;7974:3;7969;7910:68;;;8011:66;7991:87;;8112:66;8107:2;8098:12;;8091:88;8213:66;8208:2;8199:12;;8192:88;8314:66;8309:2;8300:12;;8293:88;8409:3;8400:13;;7896:523;-1:-1;;7896:523;8428:364;;8588:67;8652:2;8647:3;8588:67;;;8688:66;8668:87;;8783:2;8774:12;;8574:218;-1:-1;;8574:218;8801:566;;8961:67;9025:2;9020:3;8961:67;;;9061:66;9041:87;;9162:66;9157:2;9148:12;;9141:88;9263:66;9258:2;9249:12;;9242:88;9358:2;9349:12;;8947:420;-1:-1;;8947:420;9376:566;;9536:67;9600:2;9595:3;9536:67;;;9636:66;9616:87;;9737:66;9732:2;9723:12;;9716:88;9838:66;9833:2;9824:12;;9817:88;9933:2;9924:12;;9522:420;-1:-1;;9522:420;9951:566;;10111:67;10175:2;10170:3;10111:67;;;10211:66;10191:87;;10312:66;10307:2;10298:12;;10291:88;10413:66;10408:2;10399:12;;10392:88;10508:2;10499:12;;10097:420;-1:-1;;10097:420;10526:465;;10686:67;10750:2;10745:3;10686:67;;;10786:66;10766:87;;10887:66;10882:2;10873:12;;10866:88;10982:2;10973:12;;10672:319;-1:-1;;10672:319;11000:566;;11160:67;11224:2;11219:3;11160:67;;;11260:66;11240:87;;11361:66;11356:2;11347:12;;11340:88;11462:66;11457:2;11448:12;;11441:88;11557:2;11548:12;;11146:420;-1:-1;;11146:420;11574:120;11657:31;11682:5;11657:31;;11701:213;11819:2;11804:18;;11833:71;11808:9;11877:6;11833:71;;11921:241;12053:2;12038:18;;12067:85;12042:9;12125:6;12067:85;;12439:344;12595:2;12580:18;;12609:81;12584:9;12663:6;12609:81;;;12701:72;12769:2;12758:9;12754:18;12745:6;12701:72;;12790:407;12981:2;12995:47;;;12966:18;;13056:131;12966:18;13056:131;;13204:407;13395:2;13409:47;;;13380:18;;13470:131;13380:18;13470:131;;13618:407;13809:2;13823:47;;;13794:18;;13884:131;13794:18;13884:131;;14032:407;14223:2;14237:47;;;14208:18;;14298:131;14208:18;14298:131;;14446:407;14637:2;14651:47;;;14622:18;;14712:131;14622:18;14712:131;;14860:407;15051:2;15065:47;;;15036:18;;15126:131;15036:18;15126:131;;15274:407;15465:2;15479:47;;;15450:18;;15540:131;15450:18;15540:131;;15688:213;15806:2;15791:18;;15820:71;15795:9;15864:6;15820:71;;15908:324;16054:2;16039:18;;16068:71;16043:9;16112:6;16068:71;;16239:435;16413:2;16398:18;;16427:71;16402:9;16471:6;16427:71;;;16509:72;16577:2;16566:9;16562:18;16553:6;16509:72;;;16592;16660:2;16649:9;16645:18;16636:6;16592:72;;16681:883;16967:3;16952:19;;16982:71;16956:9;17026:6;16982:71;;;17064:72;17132:2;17121:9;17117:18;17108:6;17064:72;;;17147;17215:2;17204:9;17200:18;17191:6;17147:72;;;17230;17298:2;17287:9;17283:18;17274:6;17230:72;;;17313:73;17381:3;17370:9;17366:19;17357:6;17313:73;;;17397;17465:3;17454:9;17450:19;17441:6;17397:73;;;17481;17549:3;17538:9;17534:19;17525:6;17481:73;;17571:256;17633:2;17627:9;17659:17;;;17734:18;17719:34;;17755:22;;;17716:62;17713:2;;;17791:1;17788;17781:12;17713:2;17807;17800:22;17611:216;;-1:-1;17611:216;17834:258;;17993:18;17985:6;17982:30;17979:2;;;18025:1;18022;18015:12;17979:2;-1:-1;18054:4;18042:17;;;18072:15;;17916:176;18365:163;18468:19;;;18517:4;18508:14;;18461:67;18536:105;;18605:31;18630:5;18605:31;;18648:129;;18738:1;18731:5;18728:12;18718:2;;18744:9;18718:2;-1:-1;18767:5;18712:65;18784:128;-1:-1;;;;;18853:54;;18836:76;18919:79;18988:5;18971:27;19117:92;19190:13;19183:21;;19166:43;19216:123;;19303:31;19328:5;19303:31;;19567:88;19645:4;19634:16;;19617:38;20279:137;;20368:43;20405:5;20368:43;",source:'/*\n    Copyright 2020 Set Labs Inc.\n\n    Licensed under the Apache License, Version 2.0 (the "License");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an "AS IS" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n*/\n\npragma solidity 0.5.7;\npragma experimental ABIEncoderV2;\n\nimport { SafeMath } from "openzeppelin-solidity/contracts/math/SafeMath.sol";\n\nimport { CommonMath } from "../../lib/CommonMath.sol";\nimport { ICore } from "../interfaces/ICore.sol";\nimport { IFeeCalculator } from "../interfaces/IFeeCalculator.sol";\nimport { IOracleWhiteList } from "../interfaces/IOracleWhiteList.sol";\nimport { IRebalancingSetTokenV2 } from "../interfaces/IRebalancingSetTokenV2.sol";\nimport { ISetToken } from "../interfaces/ISetToken.sol";\nimport { PerformanceFeeLibrary } from "./lib/PerformanceFeeLibrary.sol";\nimport { ScaleValidations } from "../../lib/ScaleValidations.sol";\nimport { SetUSDValuation } from "../liquidators/impl/SetUSDValuation.sol";\n\n\n/**\n * @title PerformanceFeeCalculator\n * @author Set Protocol\n *\n * Smart contract that stores and returns fees (represented as scaled decimal values). Fees are\n * determined based on performance of the Set and a streaming fee. Set values can be denominated\n * in any any asset based on oracle white list used in deploy.\n */\ncontract PerformanceFeeCalculator is IFeeCalculator {\n\n    using SafeMath for uint256;\n    using CommonMath for uint256;\n\n    /* ============ Enums ============ */\n\n    enum FeeType { StreamingFee, ProfitFee }\n\n    /* ============ Events ============ */\n\n    event FeeActualization(\n        address indexed rebalancingSetToken,\n        uint256 newHighWatermark,\n        uint256 profitFee,\n        uint256 streamingFee\n    );\n\n    event FeeInitialization(\n        address indexed rebalancingSetToken,\n        uint256 profitFeePeriod,\n        uint256 highWatermarkResetPeriod,\n        uint256 profitFeePercentage,\n        uint256 streamingFeePercentage,\n        uint256 highWatermark,\n        uint256 lastProfitFeeTimestamp,\n        uint256 lastStreamingFeeTimestamp\n    );\n\n    event FeeAdjustment(\n        address indexed rebalancingSetToken,\n        FeeType feeType,\n        uint256 newFeePercentage\n    );\n\n    /* ============ Structs ============ */\n\n    struct InitFeeParameters {\n        uint256 profitFeePeriod;\n        uint256 highWatermarkResetPeriod;\n        uint256 profitFeePercentage;\n        uint256 streamingFeePercentage;\n    }\n\n    /* ============ Constants ============ */\n    // 365.25 days used to represent the year\n    uint256 private constant ONE_YEAR_IN_SECONDS = 365.25 days;\n    uint256 private constant ONE_HUNDRED_PERCENT = 1e18;\n    uint256 private constant ZERO = 0;\n\n    /* ============ State Variables ============ */\n    ICore public core;\n    IOracleWhiteList public oracleWhiteList;\n    uint256 public maximumProfitFeePercentage;\n    uint256 public maximumStreamingFeePercentage;\n    mapping(address => PerformanceFeeLibrary.FeeState) public feeState;\n\n    /* ============ Constructor ============ */\n\n    /**\n     * Constructor function for PerformanceFeeCalculator\n     *\n     * @param _core                                 Core instance\n     * @param _oracleWhiteList                      Oracle white list instance\n     * @param _maximumProfitFeePercentage           Maximum percent of profit fee scaled by 1e18\n     *                                              (e.g. 100% = 1e18 and 1% = 1e16)\n     * @param _maximumStreamingFeePercentage        Maximum percent of streaming fee scaled by 1e18\n     *                                              (e.g. 100% = 1e18 and 1% = 1e16)\n     */\n    constructor(\n        ICore _core,\n        IOracleWhiteList _oracleWhiteList,\n        uint256 _maximumProfitFeePercentage,\n        uint256 _maximumStreamingFeePercentage\n    )\n        public\n    {\n        core = _core;\n        oracleWhiteList = _oracleWhiteList;\n        maximumProfitFeePercentage = _maximumProfitFeePercentage;\n        maximumStreamingFeePercentage = _maximumStreamingFeePercentage;\n    }\n\n    /* ============ External Functions ============ */\n\n    /*\n     * Called by RebalancingSetToken, parses bytedata then assigns to correct FeeState struct.\n     *\n     * @param  _feeCalculatorData       Bytestring encoding fee parameters for RebalancingSetToken\n     */\n    function initialize(\n        bytes calldata _feeCalculatorData\n    )\n        external\n    {\n        // Parse fee data into struct\n        InitFeeParameters memory parameters = parsePerformanceFeeCallData(_feeCalculatorData);\n\n        // Validate fee data\n        validateFeeParameters(parameters);\n        uint256 highWatermark = SetUSDValuation.calculateRebalancingSetValue(msg.sender, oracleWhiteList);\n\n        // Set fee state for new caller\n        PerformanceFeeLibrary.FeeState storage feeInfo = feeState[msg.sender];\n\n        feeInfo.profitFeePeriod = parameters.profitFeePeriod;\n        feeInfo.highWatermarkResetPeriod = parameters.highWatermarkResetPeriod;\n        feeInfo.profitFeePercentage = parameters.profitFeePercentage;\n        feeInfo.streamingFeePercentage = parameters.streamingFeePercentage;\n        feeInfo.lastProfitFeeTimestamp = block.timestamp;\n        feeInfo.lastStreamingFeeTimestamp = block.timestamp;\n        feeInfo.highWatermark = highWatermark;\n\n        emit FeeInitialization(\n            msg.sender,\n            parameters.profitFeePeriod,\n            parameters.highWatermarkResetPeriod,\n            parameters.profitFeePercentage,\n            parameters.streamingFeePercentage,\n            highWatermark,\n            block.timestamp,\n            block.timestamp\n        );\n    }\n\n    /*\n     * Calculates total inflation percentage in order to accrue fees to manager. Profit fee calculations\n     * are net of streaming fees, so streaming fees are applied first then profit fees are calculated.\n     *\n     * @return  uint256       Percent inflation of supply\n     */\n    function getFee()\n        external\n        view\n        returns (uint256)\n    {\n        (\n            uint256 streamingFee,\n            uint256 profitFee\n        ) = calculateFees(msg.sender);\n\n        return streamingFee.add(profitFee);\n    }\n\n    /**\n     * Returns calculated streaming and profit fee.\n     *\n     * @param  _setAddress          Address of Set to get fees\n     * @return  uint256             Streaming Fee\n     * @return  uint256             Profit Fee\n     */\n    function getCalculatedFees(\n        address _setAddress\n    )\n        external\n        view\n        returns (uint256, uint256)\n    {\n        (\n            uint256 streamingFee,\n            uint256 profitFee\n        ) = calculateFees(_setAddress);\n\n        return (streamingFee, profitFee);\n    }\n\n    /*\n     * Calculates total inflation percentage in order to accrue fees to manager. Profit fee calculations\n     * are net of streaming fees, so streaming fees are applied first then profit fees are calculated.\n     * Additionally, fee state is set timestamps are updated for each fee type and the high watermark is\n     * reset if time since last profit fee exceeds the highWatermarkResetPeriod.\n     *\n     * @return  uint256       Percent inflation of supply\n     */\n    function updateAndGetFee()\n        external\n        returns (uint256)\n    {\n        (\n            uint256 streamingFee,\n            uint256 profitFee\n        ) = calculateFees(msg.sender);\n\n        // Update fee state based off fees collected\n        updateFeeState(msg.sender, streamingFee, profitFee);\n\n        emit FeeActualization(\n            msg.sender,\n            highWatermark(msg.sender),\n            profitFee,\n            streamingFee\n        );\n\n        return streamingFee.add(profitFee);\n    }\n\n    /*\n     * Validate then set new streaming fee.\n     *\n     * @param  _newFeeData       Fee type and new streaming fee encoded in bytes\n     */\n    function adjustFee(\n        bytes calldata _newFeeData\n    )\n        external\n    {\n        (\n            FeeType feeIdentifier,\n            uint256 feePercentage\n        ) = parseNewFeeCallData(_newFeeData);\n\n        // Since only two fee options and anything feeType integer passed that is not 0 or 1 will revert in\n        // parsing can make this a simple if...else... statement\n        if (feeIdentifier == FeeType.StreamingFee) {\n            validateStreamingFeePercentage(feePercentage);\n\n            feeState[msg.sender].streamingFeePercentage = feePercentage;\n        } else {\n            validateProfitFeePercentage(feePercentage);\n\n            feeState[msg.sender].profitFeePercentage = feePercentage;\n        }\n\n        emit FeeAdjustment(msg.sender, feeIdentifier, feePercentage);\n    }\n\n    /* ============ Internal Functions ============ */\n\n    /**\n     * Updates fee state after a fee has been accrued. Streaming timestamp is always updated. Profit timestamp\n     * is only updated if profit fee is collected. High watermark timestamp is updated if profit fee collected\n     * or if a highWatermarkResetPeriod amount of time has passed since last profit fee collection.\n     *\n     * @param  _setAddress          Address of Set to have feeState updated\n     * @param  _streamingFee        Calculated streaming fee percentage\n     * @param  _profitFee           Calculated profit fee percentage\n     */\n    function updateFeeState(\n        address _setAddress,\n        uint256 _streamingFee,\n        uint256 _profitFee\n    )\n        internal\n    {\n        // Set streaming fee timestamp\n        feeState[_setAddress].lastStreamingFeeTimestamp = block.timestamp;\n\n        uint256 rebalancingSetValue = SetUSDValuation.calculateRebalancingSetValue(_setAddress, oracleWhiteList);\n        uint256 postStreamingValue = calculatePostStreamingValue(rebalancingSetValue, _streamingFee);\n\n        // If profit fee then set new high watermark and profit fee timestamp\n        if (_profitFee > 0) {\n            feeState[_setAddress].lastProfitFeeTimestamp = block.timestamp;\n            feeState[_setAddress].highWatermark = postStreamingValue;\n        } else if (timeSinceLastProfitFee(_setAddress) >= highWatermarkResetPeriod(_setAddress)) {\n            // If no profit fee and last profit fee was more than highWatermarkResetPeriod seconds ago then reset\n            // high watermark\n            feeState[_setAddress].highWatermark = postStreamingValue;\n            feeState[_setAddress].lastProfitFeeTimestamp = block.timestamp;\n        }\n    }\n\n    /*\n     * Validates fee parameters. Ensures that both fees are below the max fee percentages and that they are\n     * multiples of a basis point. Also makes sure highWatermarkResetPeriod is greater than profitFeePeriod.\n     */\n    function validateFeeParameters(\n        InitFeeParameters memory parameters\n    )\n        internal\n        view\n    {\n        // Validate fee amounts\n        validateStreamingFeePercentage(parameters.streamingFeePercentage);\n        validateProfitFeePercentage(parameters.profitFeePercentage);\n\n        require(\n            parameters.highWatermarkResetPeriod >= parameters.profitFeePeriod,\n            "PerformanceFeeCalculator.validateFeeParameters: Fee collection frequency must exceed highWatermark reset."\n        );\n    }\n\n    /*\n     * Validates streaming fee is less than maximum allowed and multiple of basis point.\n     */\n    function validateStreamingFeePercentage(\n        uint256 _streamingFee\n    )\n        internal\n        view\n    {\n        require(\n            _streamingFee <= maximumStreamingFeePercentage,\n            "PerformanceFeeCalculator.validateStreamingFeePercentage: Streaming fee exceeds maximum."\n        );\n\n        ScaleValidations.validateMultipleOfBasisPoint(_streamingFee);\n    }\n\n    /*\n     * Validates profit fee is less than maximum allowed and multiple of basis point.\n     */\n    function validateProfitFeePercentage(\n        uint256 _profitFee\n    )\n        internal\n        view\n    {\n        require(\n            _profitFee <= maximumProfitFeePercentage,\n            "PerformanceFeeCalculator.validateProfitFeePercentage: Profit fee exceeds maximum."\n        );\n\n        ScaleValidations.validateMultipleOfBasisPoint(_profitFee);\n    }\n\n    /**\n     * Verifies caller is valid Set. Calculates and returns streaming and profit fee.\n     *\n     * @param  _setAddress          Address of Set to have feeState updated\n     * @return  uint256             Streaming Fee\n     * @return  uint256             Profit Fee\n     */\n    function calculateFees(\n        address _setAddress\n    )\n        internal\n        view\n        returns (uint256, uint256)\n    {\n        require(\n            core.validSets(_setAddress),\n            "PerformanceFeeCalculator.calculateFees: Caller must be valid RebalancingSetToken."\n        );\n\n        uint256 streamingFee = calculateStreamingFee(_setAddress);\n\n        uint256 profitFee = calculateProfitFee(_setAddress, streamingFee);\n\n        return (streamingFee, profitFee);\n    }\n\n    /**\n     * Calculates streaming fee by multiplying streamingFeePercentage by the elapsed amount of time since the last fee\n     * was collected divided by one year in seconds, since the fee is a yearly fee.\n     *\n     * @param  _setAddress          Address of Set to have feeState updated\n     * @return uint256              Streaming fee\n     */\n    function calculateStreamingFee(\n        address _setAddress\n    )\n        internal\n        view\n        returns(uint256)\n    {\n        uint256 timeSinceLastFee = block.timestamp.sub(lastStreamingFeeTimestamp(_setAddress));\n\n        // Streaming fee is streaming fee times years since last fee\n        return timeSinceLastFee.mul(streamingFeePercentage(_setAddress)).div(ONE_YEAR_IN_SECONDS);\n    }\n\n    /**\n     * Calculates profit fee net of streaming fee. Value of rebalancing Set is determined then streaming fee subtracted,\n     * to get postStreamingValue. This value is compared to the highWatermark, if greater than highWatermark multiply by\n     * profitFeePercentage and divide by rebalancingSetValue to get inflation from profit fees. If postStreamingValue does\n     * not exceed highWatermark then return 0.\n     *\n     * @param  _setAddress          Address of Set to have feeState updated\n     * @param  _streamingFee        Calculated streaming fee percentage\n     * @return uint256              Streaming fee\n     */\n    function calculateProfitFee(\n        address _setAddress,\n        uint256 _streamingFee\n    )\n        internal\n        view\n        returns(uint256)\n    {\n        // If time since last profit fee exceeds profitFeePeriod then calculate profit fee else 0.\n        if (exceedsProfitFeePeriod(_setAddress)) {\n            // Calculate post streaming value and get high watermark\n            uint256 rebalancingSetValue = SetUSDValuation.calculateRebalancingSetValue(_setAddress, oracleWhiteList);\n            uint256 postStreamingValue = calculatePostStreamingValue(rebalancingSetValue, _streamingFee);\n            uint256 highWatermark = highWatermark(_setAddress);\n\n            // Subtract high watermark from post streaming fee value, unless less than 0 set to 0\n            uint256 gainedValue = postStreamingValue > highWatermark ? postStreamingValue.sub(highWatermark) : 0;\n\n            // Determine percent fee in terms of current rebalancing Set value\n            return gainedValue.mul(profitFeePercentage(_setAddress)).div(rebalancingSetValue);\n        } else {\n            return 0;\n        }\n    }\n\n   /**\n     * Calculates Rebalancing Set Token value after streaming fees accounted for.\n     *\n     * @param  _rebalancingSetValue         Pre-fee value of Set\n     * @param  _streamingFee                Calculated streaming fee percentage\n     * @return  uint256                     Post streaming fee value\n     */\n    function calculatePostStreamingValue(\n        uint256 _rebalancingSetValue,\n        uint256 _streamingFee\n    )\n        internal\n        view\n        returns (uint256)\n    {\n        return _rebalancingSetValue.sub(_rebalancingSetValue.mul(_streamingFee).deScale());\n    }\n\n    /**\n     * Checks if time since last profit fee exceeds profitFeePeriod\n     *\n     * @return  bool\n     */\n    function exceedsProfitFeePeriod(address _set) internal view returns (bool) {\n        return timeSinceLastProfitFee(_set) > profitFeePeriod(_set);\n    }\n\n    /**\n     * Checks if time since last profit fee exceeds profitFeePeriod\n     *\n     * @return  uint256     Time since last profit fee accrued\n     */\n    function timeSinceLastProfitFee(address _set) internal view returns (uint256) {\n        return block.timestamp.sub(lastProfitFeeTimestamp(_set));\n    }\n\n    function lastStreamingFeeTimestamp(address _set) internal view returns (uint256) {\n        return feeState[_set].lastStreamingFeeTimestamp;\n    }\n\n    function lastProfitFeeTimestamp(address _set) internal view returns (uint256) {\n        return feeState[_set].lastProfitFeeTimestamp;\n    }\n\n    function streamingFeePercentage(address _set) internal view returns (uint256) {\n        return feeState[_set].streamingFeePercentage;\n    }\n\n    function profitFeePercentage(address _set) internal view returns (uint256) {\n        return feeState[_set].profitFeePercentage;\n    }\n\n    function profitFeePeriod(address _set) internal view returns (uint256) {\n        return feeState[_set].profitFeePeriod;\n    }\n\n    function highWatermark(address _set) internal view returns(uint256) {\n        return feeState[_set].highWatermark;\n    }\n\n    function highWatermarkResetPeriod(address _set) internal view returns(uint256) {\n        return feeState[_set].highWatermarkResetPeriod;\n    }\n\n    /* ============ Private Functions ============ */\n\n    /**\n     * Parses passed in fee parameters from bytestring.\n     *\n     * | CallData                     | Location                      |\n     * |------------------------------|-------------------------------|\n     * | profitFeePeriod              | 32                            |\n     * | highWatermarkResetPeriod     | 64                            |\n     * | profitFeePercentage          | 96                            |\n     * | streamingFeePercentage       | 128                           |\n     *\n     * @param  _callData            Byte string containing fee parameter data\n     * @return feeParameters        Fee parameters\n     */\n    function parsePerformanceFeeCallData(\n        bytes memory _callData\n    )\n        private\n        pure\n        returns (InitFeeParameters memory)\n    {\n        return abi.decode (_callData, (InitFeeParameters));\n    }\n\n    /**\n     * Parses passed in fee parameters from bytestring. If passed feeType number exceeds number of\n     *  enum items function will revert.\n     *\n     * | CallData                     | Location                      |\n     * |------------------------------|-------------------------------|\n     * | feeType                      | 32                            |\n     * | feePercentage                | 64                            |\n     *\n     * @param  _callData            Byte string containing fee parameter data\n     * @return feeParameters        Fee parameters\n     */\n    function parseNewFeeCallData(\n        bytes memory _callData\n    )\n        private\n        pure\n        returns (FeeType, uint256)\n    {\n        (\n            uint8 feeType,\n            uint256 feePercentage\n        ) = abi.decode (_callData, (uint8, uint256));\n\n        require(\n            feeType < 2,\n            "PerformanceFeeCalculator.parseNewFeeCallData: Fee type invalid"\n        );\n\n        return (FeeType(feeType), feePercentage);\n    }\n}',
sourcePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/fee-calculators/PerformanceFeeCalculator.sol",ast:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/fee-calculators/PerformanceFeeCalculator.sol",exportedSymbols:{PerformanceFeeCalculator:[4367]},id:4368,nodeType:"SourceUnit",nodes:[{id:3551,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:14"},{id:3552,literals:["experimental","ABIEncoderV2"],nodeType:"PragmaDirective",src:"620:33:14"},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:3554,nodeType:"ImportDirective",scope:4368,sourceUnit:29641,src:"655:77:14",symbolAliases:[{foreign:3553,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/CommonMath.sol",file:"../../lib/CommonMath.sol",id:3556,nodeType:"ImportDirective",scope:4368,sourceUnit:23437,src:"734:54:14",symbolAliases:[{foreign:3555,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ICore.sol",file:"../interfaces/ICore.sol",id:3558,nodeType:"ImportDirective",scope:4368,sourceUnit:4747,src:"789:48:14",symbolAliases:[{foreign:3557,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IFeeCalculator.sol",file:"../interfaces/IFeeCalculator.sol",id:3560,nodeType:"ImportDirective",scope:4368,sourceUnit:4868,src:"838:66:14",symbolAliases:[{foreign:3559,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IOracleWhiteList.sol",file:"../interfaces/IOracleWhiteList.sol",id:3562,nodeType:"ImportDirective",scope:4368,sourceUnit:5004,src:"905:70:14",symbolAliases:[{foreign:3561,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IRebalancingSetTokenV2.sol",file:"../interfaces/IRebalancingSetTokenV2.sol",id:3564,nodeType:"ImportDirective",scope:4368,sourceUnit:5401,src:"976:82:14",symbolAliases:[{foreign:3563,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ISetToken.sol",file:"../interfaces/ISetToken.sol",id:3566,nodeType:"ImportDirective",scope:4368,sourceUnit:5660,src:"1059:56:14",symbolAliases:[{foreign:3565,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/fee-calculators/lib/PerformanceFeeLibrary.sol",file:"./lib/PerformanceFeeLibrary.sol",id:3568,nodeType:"ImportDirective",scope:4368,sourceUnit:4386,src:"1116:72:14",symbolAliases:[{foreign:3567,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/ScaleValidations.sol",file:"../../lib/ScaleValidations.sol",id:3570,nodeType:"ImportDirective",scope:4368,sourceUnit:24211,src:"1189:66:14",symbolAliases:[{foreign:3569,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/SetUSDValuation.sol",file:"../liquidators/impl/SetUSDValuation.sol",id:3572,nodeType:"ImportDirective",scope:4368,sourceUnit:8453,src:"1256:74:14",symbolAliases:[{foreign:3571,local:null}],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:3573,name:"IFeeCalculator",nodeType:"UserDefinedTypeName",referencedDeclaration:4867,src:"1696:14:14",typeDescriptions:{typeIdentifier:"t_contract$_IFeeCalculator_$4867",typeString:"contract IFeeCalculator"}},id:3574,nodeType:"InheritanceSpecifier",src:"1696:14:14"}],contractDependencies:[4867],contractKind:"contract",documentation:"@title PerformanceFeeCalculator\n@author Set Protocol\n * Smart contract that stores and returns fees (represented as scaled decimal values). Fees are\ndetermined based on performance of the Set and a streaming fee. Set values can be denominated\nin any any asset based on oracle white list used in deploy.",fullyImplemented:true,id:4367,linearizedBaseContracts:[4367,4867],name:"PerformanceFeeCalculator",nodeType:"ContractDefinition",nodes:[{id:3577,libraryName:{contractScope:null,id:3575,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:29640,src:"1724:8:14",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$29640",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"1718:27:14",typeName:{id:3576,name:"uint256",nodeType:"ElementaryTypeName",src:"1737:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{id:3580,libraryName:{contractScope:null,id:3578,name:"CommonMath",nodeType:"UserDefinedTypeName",referencedDeclaration:23436,src:"1756:10:14",typeDescriptions:{typeIdentifier:"t_contract$_CommonMath_$23436",typeString:"library CommonMath"}},nodeType:"UsingForDirective",src:"1750:29:14",typeName:{id:3579,name:"uint256",nodeType:"ElementaryTypeName",src:"1771:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{canonicalName:"PerformanceFeeCalculator.FeeType",id:3583,members:[{id:3581,name:"StreamingFee",nodeType:"EnumValue",src:"1843:12:14"},{id:3582,name:"ProfitFee",nodeType:"EnumValue",src:"1857:9:14"}],name:"FeeType",nodeType:"EnumDefinition",src:"1828:40:14"},{anonymous:false,documentation:null,id:3593,name:"FeeActualization",nodeType:"EventDefinition",parameters:{id:3592,nodeType:"ParameterList",parameters:[{constant:false,id:3585,indexed:true,name:"rebalancingSetToken",nodeType:"VariableDeclaration",scope:3593,src:"1950:35:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:3584,name:"address",nodeType:"ElementaryTypeName",src:"1950:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:3587,indexed:false,name:"newHighWatermark",nodeType:"VariableDeclaration",scope:3593,src:"1995:24:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3586,name:"uint256",nodeType:"ElementaryTypeName",src:"1995:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3589,indexed:false,name:"profitFee",nodeType:"VariableDeclaration",scope:3593,src:"2029:17:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3588,name:"uint256",nodeType:"ElementaryTypeName",src:"2029:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3591,indexed:false,name:"streamingFee",nodeType:"VariableDeclaration",scope:3593,src:"2056:20:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3590,name:"uint256",nodeType:"ElementaryTypeName",src:"2056:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1940:142:14"},src:"1918:165:14"},{anonymous:false,documentation:null,id:3611,name:"FeeInitialization",nodeType:"EventDefinition",parameters:{id:3610,nodeType:"ParameterList",parameters:[{constant:false,id:3595,indexed:true,name:"rebalancingSetToken",nodeType:"VariableDeclaration",scope:3611,src:"2122:35:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:3594,name:"address",nodeType:"ElementaryTypeName",src:"2122:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:3597,indexed:false,name:"profitFeePeriod",nodeType:"VariableDeclaration",scope:3611,src:"2167:23:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3596,name:"uint256",nodeType:"ElementaryTypeName",src:"2167:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3599,indexed:false,name:"highWatermarkResetPeriod",nodeType:"VariableDeclaration",scope:3611,src:"2200:32:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3598,name:"uint256",nodeType:"ElementaryTypeName",src:"2200:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3601,indexed:false,name:"profitFeePercentage",nodeType:"VariableDeclaration",scope:3611,src:"2242:27:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3600,name:"uint256",nodeType:"ElementaryTypeName",src:"2242:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3603,indexed:false,name:"streamingFeePercentage",nodeType:"VariableDeclaration",scope:3611,src:"2279:30:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3602,name:"uint256",nodeType:"ElementaryTypeName",src:"2279:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3605,indexed:false,name:"highWatermark",nodeType:"VariableDeclaration",scope:3611,src:"2319:21:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3604,name:"uint256",nodeType:"ElementaryTypeName",src:"2319:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3607,indexed:false,name:"lastProfitFeeTimestamp",nodeType:"VariableDeclaration",scope:3611,src:"2350:30:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3606,name:"uint256",nodeType:"ElementaryTypeName",src:"2350:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3609,indexed:false,name:"lastStreamingFeeTimestamp",nodeType:"VariableDeclaration",scope:3611,src:"2390:33:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3608,name:"uint256",nodeType:"ElementaryTypeName",src:"2390:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"2112:317:14"},src:"2089:341:14"},{anonymous:false,documentation:null,id:3619,name:"FeeAdjustment",nodeType:"EventDefinition",parameters:{id:3618,nodeType:"ParameterList",parameters:[{constant:false,id:3613,indexed:true,name:"rebalancingSetToken",nodeType:"VariableDeclaration",scope:3619,src:"2465:35:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:3612,name:"address",nodeType:"ElementaryTypeName",src:"2465:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:3615,indexed:false,name:"feeType",nodeType:"VariableDeclaration",scope:3619,src:"2510:15:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_enum$_FeeType_$3583",typeString:"enum PerformanceFeeCalculator.FeeType"},typeName:{contractScope:null,id:3614,name:"FeeType",nodeType:"UserDefinedTypeName",referencedDeclaration:3583,src:"2510:7:14",typeDescriptions:{typeIdentifier:"t_enum$_FeeType_$3583",typeString:"enum PerformanceFeeCalculator.FeeType"}},value:null,visibility:"internal"},{constant:false,id:3617,indexed:false,name:"newFeePercentage",nodeType:"VariableDeclaration",scope:3619,src:"2535:24:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3616,name:"uint256",nodeType:"ElementaryTypeName",src:"2535:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"2455:110:14"},src:"2436:130:14"},{canonicalName:"PerformanceFeeCalculator.InitFeeParameters",id:3628,members:[{constant:false,id:3621,name:"profitFeePeriod",nodeType:"VariableDeclaration",scope:3628,src:"2652:23:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3620,name:"uint256",nodeType:"ElementaryTypeName",src:"2652:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3623,name:"highWatermarkResetPeriod",nodeType:"VariableDeclaration",scope:3628,src:"2685:32:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3622,name:"uint256",nodeType:"ElementaryTypeName",src:"2685:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3625,name:"profitFeePercentage",nodeType:"VariableDeclaration",scope:3628,src:"2727:27:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3624,name:"uint256",nodeType:"ElementaryTypeName",src:"2727:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3627,name:"streamingFeePercentage",nodeType:"VariableDeclaration",scope:3628,src:"2764:30:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3626,name:"uint256",nodeType:"ElementaryTypeName",src:"2764:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],name:"InitFeeParameters",nodeType:"StructDefinition",scope:4367,src:"2617:184:14",visibility:"public"},{constant:true,id:3631,name:"ONE_YEAR_IN_SECONDS",nodeType:"VariableDeclaration",scope:4367,src:"2899:58:14",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3629,name:"uint256",nodeType:"ElementaryTypeName",src:"2899:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"3336352e3235",id:3630,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2946:11:14",subdenomination:"days",typeDescriptions:{typeIdentifier:"t_rational_31557600_by_1",typeString:"int_const 31557600"},value:"365.25"},visibility:"private"},{constant:true,id:3634,name:"ONE_HUNDRED_PERCENT",nodeType:"VariableDeclaration",scope:4367,src:"2963:51:14",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3632,name:"uint256",nodeType:"ElementaryTypeName",src:"2963:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"31653138",id:3633,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"3010:4:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1000000000000000000_by_1",typeString:"int_const 1000000000000000000"},value:"1e18"},visibility:"private"},{constant:true,id:3637,name:"ZERO",nodeType:"VariableDeclaration",scope:4367,src:"3020:33:14",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3635,name:"uint256",nodeType:"ElementaryTypeName",src:"3020:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"30",id:3636,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"3052:1:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},visibility:"private"},{constant:false,id:3639,name:"core",nodeType:"VariableDeclaration",scope:4367,src:"3112:17:14",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"},typeName:{contractScope:null,id:3638,name:"ICore",nodeType:"UserDefinedTypeName",referencedDeclaration:4746,src:"3112:5:14",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},value:null,visibility:"public"},{constant:false,id:3641,name:"oracleWhiteList",nodeType:"VariableDeclaration",scope:4367,src:"3135:39:14",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"},typeName:{contractScope:null,id:3640,name:"IOracleWhiteList",nodeType:"UserDefinedTypeName",referencedDeclaration:5003,src:"3135:16:14",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}},value:null,visibility:"public"},{constant:false,id:3643,name:"maximumProfitFeePercentage",nodeType:"VariableDeclaration",scope:4367,src:"3180:41:14",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3642,name:"uint256",nodeType:"ElementaryTypeName",src:"3180:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"public"},{constant:false,id:3645,name:"maximumStreamingFeePercentage",nodeType:"VariableDeclaration",scope:4367,src:"3227:44:14",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3644,name:"uint256",nodeType:"ElementaryTypeName",src:"3227:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"public"},{constant:false,id:3649,name:"feeState",nodeType:"VariableDeclaration",scope:4367,src:"3277:66:14",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState)"},typeName:{id:3648,keyType:{id:3646,name:"address",nodeType:"ElementaryTypeName",src:"3285:7:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Mapping",src:"3277:50:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState)"},valueType:{contractScope:null,id:3647,name:"PerformanceFeeLibrary.FeeState",nodeType:"UserDefinedTypeName",referencedDeclaration:4384,src:"3296:30:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage_ptr",typeString:"struct PerformanceFeeLibrary.FeeState"}}},value:null,visibility:"public"},{body:{id:3676,nodeType:"Block",src:"4185:211:14",statements:[{expression:{argumentTypes:null,id:3662,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:3660,name:"core",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3639,src:"4195:4:14",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:3661,name:"_core",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3651,src:"4202:5:14",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},src:"4195:12:14",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:3663,nodeType:"ExpressionStatement",src:"4195:12:14"},{expression:{argumentTypes:null,id:3666,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:3664,name:"oracleWhiteList",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3641,src:"4217:15:14",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:3665,name:"_oracleWhiteList",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3653,src:"4235:16:14",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}},src:"4217:34:14",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}},id:3667,nodeType:"ExpressionStatement",src:"4217:34:14"},{expression:{argumentTypes:null,id:3670,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:3668,name:"maximumProfitFeePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3643,src:"4261:26:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:3669,name:"_maximumProfitFeePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3655,src:"4290:27:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"4261:56:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3671,nodeType:"ExpressionStatement",src:"4261:56:14"},{expression:{argumentTypes:null,id:3674,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:3672,name:"maximumStreamingFeePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3645,src:"4327:29:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:3673,name:"_maximumStreamingFeePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3657,src:"4359:30:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"4327:62:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3675,nodeType:"ExpressionStatement",src:"4327:62:14"}]},documentation:"Constructor function for PerformanceFeeCalculator\n     * @param _core                                 Core instance\n@param _oracleWhiteList                      Oracle white list instance\n@param _maximumProfitFeePercentage           Maximum percent of profit fee scaled by 1e18\n                                             (e.g. 100% = 1e18 and 1% = 1e16)\n@param _maximumStreamingFeePercentage        Maximum percent of streaming fee scaled by 1e18\n                                             (e.g. 100% = 1e18 and 1% = 1e16)",id:3677,implemented:true,kind:"constructor",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:3658,nodeType:"ParameterList",parameters:[{constant:false,id:3651,name:"_core",nodeType:"VariableDeclaration",scope:3677,src:"4012:11:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"},typeName:{contractScope:null,id:3650,name:"ICore",nodeType:"UserDefinedTypeName",referencedDeclaration:4746,src:"4012:5:14",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},value:null,visibility:"internal"},{constant:false,id:3653,name:"_oracleWhiteList",nodeType:"VariableDeclaration",scope:3677,src:"4033:33:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"},typeName:{contractScope:null,id:3652,name:"IOracleWhiteList",nodeType:"UserDefinedTypeName",referencedDeclaration:5003,src:"4033:16:14",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}},value:null,visibility:"internal"},{constant:false,id:3655,name:"_maximumProfitFeePercentage",nodeType:"VariableDeclaration",scope:3677,src:"4076:35:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3654,name:"uint256",nodeType:"ElementaryTypeName",src:"4076:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3657,name:"_maximumStreamingFeePercentage",nodeType:"VariableDeclaration",scope:3677,src:"4121:38:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3656,name:"uint256",nodeType:"ElementaryTypeName",src:"4121:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"4002:163:14"},returnParameters:{id:3659,nodeType:"ParameterList",parameters:[],src:"4185:0:14"},scope:4367,src:"3991:405:14",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:3776,nodeType:"Block",src:"4764:1227:14",statements:[{assignments:[3683],declarations:[{constant:false,id:3683,name:"parameters",nodeType:"VariableDeclaration",scope:3776,src:"4812:35:14",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters"},typeName:{contractScope:null,id:3682,name:"InitFeeParameters",nodeType:"UserDefinedTypeName",referencedDeclaration:3628,src:"4812:17:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_storage_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters"}},value:null,visibility:"internal"}],id:3687,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:3685,name:"_feeCalculatorData",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3679,src:"4878:18:14",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}],id:3684,name:"parsePerformanceFeeCallData",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4331,src:"4850:27:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_bytes_memory_ptr_$returns$_t_struct$_InitFeeParameters_$3628_memory_ptr_$",typeString:"function (bytes memory) pure returns (struct PerformanceFeeCalculator.InitFeeParameters memory)"}},id:3686,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4850:47:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},nodeType:"VariableDeclarationStatement",src:"4812:85:14"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:3689,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3683,src:"4959:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}],id:3688,name:"validateFeeParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4011,src:"4937:21:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_InitFeeParameters_$3628_memory_ptr_$returns$__$",typeString:"function (struct PerformanceFeeCalculator.InitFeeParameters memory) view"}},id:3690,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4937:33:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:3691,nodeType:"ExpressionStatement",src:"4937:33:14"},{assignments:[3693],declarations:[{constant:false,id:3693,name:"highWatermark",nodeType:"VariableDeclaration",scope:3776,src:"4980:21:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3692,name:"uint256",nodeType:"ElementaryTypeName",src:"4980:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:3700,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:3696,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"5049:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:3697,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"5049:10:14",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:3698,name:"oracleWhiteList",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3641,src:"5061:15:14",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}],expression:{argumentTypes:null,id:3694,name:"SetUSDValuation",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8452,src:"5004:15:14",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_SetUSDValuation_$8452_$",typeString:"type(library SetUSDValuation)"}},id:3695,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"calculateRebalancingSetValue",nodeType:"MemberAccess",referencedDeclaration:8305,src:"5004:44:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$_t_contract$_IOracleWhiteList_$5003_$returns$_t_uint256_$",typeString:"function (address,contract IOracleWhiteList) view returns (uint256)"}},id:3699,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5004:73:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"4980:97:14"},{assignments:[3704],declarations:[{constant:false,id:3704,name:"feeInfo",nodeType:"VariableDeclaration",scope:3776,src:"5128:46:14",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage_ptr",typeString:"struct PerformanceFeeLibrary.FeeState"},typeName:{contractScope:null,id:3703,name:"PerformanceFeeLibrary.FeeState",nodeType:"UserDefinedTypeName",referencedDeclaration:4384,src:"5128:30:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage_ptr",typeString:"struct PerformanceFeeLibrary.FeeState"}},value:null,visibility:"internal"}],id:3709,initialValue:{argumentTypes:null,baseExpression:{argumentTypes:null,id:3705,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"5177:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:3708,indexExpression:{argumentTypes:null,expression:{argumentTypes:null,id:3706,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"5186:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:3707,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"5186:10:14",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"5177:20:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",
typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},nodeType:"VariableDeclarationStatement",src:"5128:69:14"},{expression:{argumentTypes:null,id:3715,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3710,name:"feeInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3704,src:"5208:7:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage_ptr",typeString:"struct PerformanceFeeLibrary.FeeState storage pointer"}},id:3712,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"profitFeePeriod",nodeType:"MemberAccess",referencedDeclaration:4371,src:"5208:23:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3713,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3683,src:"5234:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},id:3714,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"profitFeePeriod",nodeType:"MemberAccess",referencedDeclaration:3621,src:"5234:26:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"5208:52:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3716,nodeType:"ExpressionStatement",src:"5208:52:14"},{expression:{argumentTypes:null,id:3722,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3717,name:"feeInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3704,src:"5270:7:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage_ptr",typeString:"struct PerformanceFeeLibrary.FeeState storage pointer"}},id:3719,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"highWatermarkResetPeriod",nodeType:"MemberAccess",referencedDeclaration:4373,src:"5270:32:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3720,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3683,src:"5305:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},id:3721,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"highWatermarkResetPeriod",nodeType:"MemberAccess",referencedDeclaration:3623,src:"5305:35:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"5270:70:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3723,nodeType:"ExpressionStatement",src:"5270:70:14"},{expression:{argumentTypes:null,id:3729,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3724,name:"feeInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3704,src:"5350:7:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage_ptr",typeString:"struct PerformanceFeeLibrary.FeeState storage pointer"}},id:3726,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"profitFeePercentage",nodeType:"MemberAccess",referencedDeclaration:4375,src:"5350:27:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3727,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3683,src:"5380:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},id:3728,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"profitFeePercentage",nodeType:"MemberAccess",referencedDeclaration:3625,src:"5380:30:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"5350:60:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3730,nodeType:"ExpressionStatement",src:"5350:60:14"},{expression:{argumentTypes:null,id:3736,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3731,name:"feeInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3704,src:"5420:7:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage_ptr",typeString:"struct PerformanceFeeLibrary.FeeState storage pointer"}},id:3733,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"streamingFeePercentage",nodeType:"MemberAccess",referencedDeclaration:4377,src:"5420:30:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3734,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3683,src:"5453:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},id:3735,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"streamingFeePercentage",nodeType:"MemberAccess",referencedDeclaration:3627,src:"5453:33:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"5420:66:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3737,nodeType:"ExpressionStatement",src:"5420:66:14"},{expression:{argumentTypes:null,id:3743,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3738,name:"feeInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3704,src:"5496:7:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage_ptr",typeString:"struct PerformanceFeeLibrary.FeeState storage pointer"}},id:3740,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"lastProfitFeeTimestamp",nodeType:"MemberAccess",referencedDeclaration:4381,src:"5496:30:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3741,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"5529:5:14",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:3742,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"5529:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"5496:48:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3744,nodeType:"ExpressionStatement",src:"5496:48:14"},{expression:{argumentTypes:null,id:3750,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3745,name:"feeInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3704,src:"5554:7:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage_ptr",typeString:"struct PerformanceFeeLibrary.FeeState storage pointer"}},id:3747,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"lastStreamingFeeTimestamp",nodeType:"MemberAccess",referencedDeclaration:4383,src:"5554:33:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3748,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"5590:5:14",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:3749,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"5590:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"5554:51:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3751,nodeType:"ExpressionStatement",src:"5554:51:14"},{expression:{argumentTypes:null,id:3756,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3752,name:"feeInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3704,src:"5615:7:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage_ptr",typeString:"struct PerformanceFeeLibrary.FeeState storage pointer"}},id:3754,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"highWatermark",nodeType:"MemberAccess",referencedDeclaration:4379,src:"5615:21:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:3755,name:"highWatermark",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3693,src:"5639:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"5615:37:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3757,nodeType:"ExpressionStatement",src:"5615:37:14"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:3759,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"5699:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:3760,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"5699:10:14",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,expression:{argumentTypes:null,id:3761,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3683,src:"5723:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},id:3762,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"profitFeePeriod",nodeType:"MemberAccess",referencedDeclaration:3621,src:"5723:26:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:3763,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3683,src:"5763:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},id:3764,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"highWatermarkResetPeriod",nodeType:"MemberAccess",referencedDeclaration:3623,src:"5763:35:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:3765,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3683,src:"5812:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},id:3766,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"profitFeePercentage",nodeType:"MemberAccess",referencedDeclaration:3625,src:"5812:30:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:3767,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3683,src:"5856:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},id:3768,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"streamingFeePercentage",nodeType:"MemberAccess",referencedDeclaration:3627,src:"5856:33:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:3769,name:"highWatermark",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3693,src:"5903:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:3770,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"5930:5:14",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:3771,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"5930:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:3772,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"5959:5:14",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:3773,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"5959:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:3758,name:"FeeInitialization",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3611,src:"5668:17:14",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (address,uint256,uint256,uint256,uint256,uint256,uint256,uint256)"}},id:3774,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5668:316:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:3775,nodeType:"EmitStatement",src:"5663:321:14"}]},documentation:null,id:3777,implemented:true,kind:"function",modifiers:[],name:"initialize",nodeType:"FunctionDefinition",parameters:{id:3680,nodeType:"ParameterList",parameters:[{constant:false,id:3679,name:"_feeCalculatorData",nodeType:"VariableDeclaration",scope:3777,src:"4703:33:14",stateVariable:false,storageLocation:"calldata",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes"},typeName:{id:3678,name:"bytes",nodeType:"ElementaryTypeName",src:"4703:5:14",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"4693:49:14"},returnParameters:{id:3681,nodeType:"ParameterList",parameters:[],src:"4764:0:14"},scope:4367,src:"4674:1317:14",stateMutability:"nonpayable",superFunction:4851,visibility:"external"},{body:{id:3796,nodeType:"Block",src:"6363:165:14",statements:[{assignments:[3783,3785],declarations:[{constant:false,id:3783,name:"streamingFee",nodeType:"VariableDeclaration",scope:3796,src:"6387:20:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3782,name:"uint256",nodeType:"ElementaryTypeName",src:"6387:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3785,name:"profitFee",nodeType:"VariableDeclaration",scope:3796,src:"6421:17:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3784,name:"uint256",nodeType:"ElementaryTypeName",src:"6421:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:3790,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:3787,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"6465:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:3788,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"6465:10:14",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"}],id:3786,name:"calculateFees",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4084,src:"6451:13:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$_t_uint256_$",typeString:"function (address) view returns (uint256,uint256)"}},id:3789,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6451:25:14",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$",typeString:"tuple(uint256,uint256)"}},nodeType:"VariableDeclarationStatement",src:"6373:103:14"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:3793,name:"profitFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3785,src:"6511:9:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:3791,name:"streamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3783,src:"6494:12:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3792,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:29619,src:"6494:16:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:3794,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6494:27:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:3781,id:3795,nodeType:"Return",src:"6487:34:14"}]},documentation:null,id:3797,implemented:true,kind:"function",modifiers:[],name:"getFee",nodeType:"FunctionDefinition",parameters:{id:3778,nodeType:"ParameterList",parameters:[],src:"6300:2:14"},returnParameters:{id:3781,nodeType:"ParameterList",parameters:[{constant:false,id:3780,name:"",nodeType:"VariableDeclaration",scope:3797,src:"6350:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3779,name:"uint256",nodeType:"ElementaryTypeName",src:"6350:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"6349:9:14"},scope:4367,src:"6285:243:14",stateMutability:"view",superFunction:4856,visibility:"external"},{body:{id:3818,nodeType:"Block",src:"6900:164:14",statements:[{assignments:[3807,3809],declarations:[{constant:false,id:3807,name:"streamingFee",nodeType:"VariableDeclaration",scope:3818,src:"6924:20:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3806,name:"uint256",nodeType:"ElementaryTypeName",src:"6924:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3809,name:"profitFee",nodeType:"VariableDeclaration",scope:3818,src:"6958:17:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3808,name:"uint256",nodeType:"ElementaryTypeName",src:"6958:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:3813,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:3811,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3799,src:"7002:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:3810,name:"calculateFees",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4084,src:"6988:13:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$_t_uint256_$",typeString:"function (address) view returns (uint256,uint256)"}},id:3812,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6988:26:14",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$",typeString:"tuple(uint256,uint256)"}},nodeType:"VariableDeclarationStatement",src:"6910:104:14"},{expression:{argumentTypes:null,components:[{argumentTypes:null,id:3814,name:"streamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3807,src:"7033:12:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:3815,name:"profitFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3809,src:"7047:9:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],id:3816,isConstant:false,isInlineArray:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"TupleExpression",src:"7032:25:14",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$",typeString:"tuple(uint256,uint256)"}},functionReturnParameters:3805,id:3817,nodeType:"Return",src:"7025:32:14"}]},documentation:"Returns calculated streaming and profit fee.\n     * @param  _setAddress          Address of Set to get fees\n@return  uint256             Streaming Fee\n@return  uint256             Profit Fee",id:3819,implemented:true,kind:"function",modifiers:[],name:"getCalculatedFees",nodeType:"FunctionDefinition",parameters:{id:3800,nodeType:"ParameterList",parameters:[{constant:false,id:3799,name:"_setAddress",nodeType:"VariableDeclaration",scope:3819,src:"6805:19:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:3798,name:"address",nodeType:"ElementaryTypeName",src:"6805:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"6795:35:14"},returnParameters:{id:3805,nodeType:"ParameterList",parameters:[{constant:false,id:3802,name:"",nodeType:"VariableDeclaration",scope:3819,src:"6878:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3801,name:"uint256",nodeType:"ElementaryTypeName",src:"6878:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3804,name:"",nodeType:"VariableDeclaration",scope:3819,src:"6887:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3803,name:"uint256",nodeType:"ElementaryTypeName",src:"6887:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"6877:18:14"},scope:4367,src:"6769:295:14",stateMutability:"view",superFunction:null,visibility:"external"},{body:{id:3856,nodeType:"Block",src:"7618:434:14",statements:[{assignments:[3825,3827],declarations:[{constant:false,id:3825,name:"streamingFee",nodeType:"VariableDeclaration",scope:3856,src:"7642:20:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3824,name:"uint256",nodeType:"ElementaryTypeName",src:"7642:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3827,name:"profitFee",nodeType:"VariableDeclaration",scope:3856,src:"7676:17:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3826,name:"uint256",nodeType:"ElementaryTypeName",src:"7676:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:3832,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:3829,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"7720:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:3830,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"7720:10:14",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"}],id:3828,name:"calculateFees",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4084,src:"7706:13:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$_t_uint256_$",typeString:"function (address) view returns (uint256,uint256)"}},id:3831,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7706:25:14",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$",typeString:"tuple(uint256,uint256)"}},nodeType:"VariableDeclarationStatement",src:"7628:103:14"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:3834,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"7810:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:3835,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"7810:10:14",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:3836,name:"streamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3825,src:"7822:12:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:3837,name:"profitFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3827,src:"7836:9:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:3833,name:"updateFeeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3986,src:"7795:14:14",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (address,uint256,uint256)"}},id:3838,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7795:51:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:3839,nodeType:"ExpressionStatement",src:"7795:51:14"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:3841,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"7892:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:3842,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"7892:10:14",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:3844,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"7930:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:3845,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"7930:10:14",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"}],id:3843,name:"highWatermark",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4303,src:"7916:13:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:3846,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7916:25:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:3847,name:"profitFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3827,src:"7955:9:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:3848,name:"streamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3825,src:"7978:12:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:3840,name:"FeeActualization",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3593,src:"7862:16:14",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (address,uint256,uint256,uint256)"}},id:3849,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7862:138:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:3850,nodeType:"EmitStatement",src:"7857:143:14"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:3853,name:"profitFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3827,src:"8035:9:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:3851,name:"streamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3825,src:"8018:12:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3852,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:29619,src:"8018:16:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:3854,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8018:27:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:3823,id:3855,nodeType:"Return",src:"8011:34:14"}]},documentation:null,id:3857,implemented:true,kind:"function",modifiers:[],name:"updateAndGetFee",nodeType:"FunctionDefinition",parameters:{id:3820,nodeType:"ParameterList",parameters:[],src:"7568:2:14"},returnParameters:{id:3823,nodeType:"ParameterList",parameters:[{constant:false,id:3822,name:"",nodeType:"VariableDeclaration",scope:3857,src:"7605:7:14",stateVariable:false,
storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3821,name:"uint256",nodeType:"ElementaryTypeName",src:"7605:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"7604:9:14"},scope:4367,src:"7544:508:14",stateMutability:"nonpayable",superFunction:4861,visibility:"external"},{body:{id:3908,nodeType:"Block",src:"8287:717:14",statements:[{assignments:[3863,3865],declarations:[{constant:false,id:3863,name:"feeIdentifier",nodeType:"VariableDeclaration",scope:3908,src:"8311:21:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_enum$_FeeType_$3583",typeString:"enum PerformanceFeeCalculator.FeeType"},typeName:{contractScope:null,id:3862,name:"FeeType",nodeType:"UserDefinedTypeName",referencedDeclaration:3583,src:"8311:7:14",typeDescriptions:{typeIdentifier:"t_enum$_FeeType_$3583",typeString:"enum PerformanceFeeCalculator.FeeType"}},value:null,visibility:"internal"},{constant:false,id:3865,name:"feePercentage",nodeType:"VariableDeclaration",scope:3908,src:"8346:21:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3864,name:"uint256",nodeType:"ElementaryTypeName",src:"8346:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:3869,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:3867,name:"_newFeeData",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3859,src:"8400:11:14",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}],id:3866,name:"parseNewFeeCallData",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4366,src:"8380:19:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_bytes_memory_ptr_$returns$_t_enum$_FeeType_$3583_$_t_uint256_$",typeString:"function (bytes memory) pure returns (enum PerformanceFeeCalculator.FeeType,uint256)"}},id:3868,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8380:32:14",typeDescriptions:{typeIdentifier:"t_tuple$_t_enum$_FeeType_$3583_$_t_uint256_$",typeString:"tuple(enum PerformanceFeeCalculator.FeeType,uint256)"}},nodeType:"VariableDeclarationStatement",src:"8297:115:14"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_enum$_FeeType_$3583",typeString:"enum PerformanceFeeCalculator.FeeType"},id:3873,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:3870,name:"feeIdentifier",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3863,src:"8600:13:14",typeDescriptions:{typeIdentifier:"t_enum$_FeeType_$3583",typeString:"enum PerformanceFeeCalculator.FeeType"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:3871,name:"FeeType",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3583,src:"8617:7:14",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_FeeType_$3583_$",typeString:"type(enum PerformanceFeeCalculator.FeeType)"}},id:3872,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,memberName:"StreamingFee",nodeType:"MemberAccess",referencedDeclaration:null,src:"8617:20:14",typeDescriptions:{typeIdentifier:"t_enum$_FeeType_$3583",typeString:"enum PerformanceFeeCalculator.FeeType"}},src:"8600:37:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:3899,nodeType:"Block",src:"8789:138:14",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:3888,name:"feePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3865,src:"8831:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:3887,name:"validateProfitFeePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4049,src:"8803:27:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$returns$__$",typeString:"function (uint256) view"}},id:3889,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8803:42:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:3890,nodeType:"ExpressionStatement",src:"8803:42:14"},{expression:{argumentTypes:null,id:3897,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:3891,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"8860:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:3894,indexExpression:{argumentTypes:null,expression:{argumentTypes:null,id:3892,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"8869:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:3893,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"8869:10:14",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"8860:20:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:3895,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"profitFeePercentage",nodeType:"MemberAccess",referencedDeclaration:4375,src:"8860:40:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:3896,name:"feePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3865,src:"8903:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"8860:56:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3898,nodeType:"ExpressionStatement",src:"8860:56:14"}]},id:3900,nodeType:"IfStatement",src:"8596:331:14",trueBody:{id:3886,nodeType:"Block",src:"8639:144:14",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:3875,name:"feePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3865,src:"8684:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:3874,name:"validateStreamingFeePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4030,src:"8653:30:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$returns$__$",typeString:"function (uint256) view"}},id:3876,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8653:45:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:3877,nodeType:"ExpressionStatement",src:"8653:45:14"},{expression:{argumentTypes:null,id:3884,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:3878,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"8713:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:3881,indexExpression:{argumentTypes:null,expression:{argumentTypes:null,id:3879,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"8722:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:3880,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"8722:10:14",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"8713:20:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:3882,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"streamingFeePercentage",nodeType:"MemberAccess",referencedDeclaration:4377,src:"8713:43:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:3883,name:"feePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3865,src:"8759:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"8713:59:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3885,nodeType:"ExpressionStatement",src:"8713:59:14"}]}},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:3902,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"8956:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:3903,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"8956:10:14",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:3904,name:"feeIdentifier",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3863,src:"8968:13:14",typeDescriptions:{typeIdentifier:"t_enum$_FeeType_$3583",typeString:"enum PerformanceFeeCalculator.FeeType"}},{argumentTypes:null,id:3905,name:"feePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3865,src:"8983:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_enum$_FeeType_$3583",typeString:"enum PerformanceFeeCalculator.FeeType"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:3901,name:"FeeAdjustment",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3619,src:"8942:13:14",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$_t_enum$_FeeType_$3583_$_t_uint256_$returns$__$",typeString:"function (address,enum PerformanceFeeCalculator.FeeType,uint256)"}},id:3906,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8942:55:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:3907,nodeType:"EmitStatement",src:"8937:60:14"}]},documentation:null,id:3909,implemented:true,kind:"function",modifiers:[],name:"adjustFee",nodeType:"FunctionDefinition",parameters:{id:3860,nodeType:"ParameterList",parameters:[{constant:false,id:3859,name:"_newFeeData",nodeType:"VariableDeclaration",scope:3909,src:"8233:26:14",stateVariable:false,storageLocation:"calldata",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes"},typeName:{id:3858,name:"bytes",nodeType:"ElementaryTypeName",src:"8233:5:14",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"8223:42:14"},returnParameters:{id:3861,nodeType:"ParameterList",parameters:[],src:"8287:0:14"},scope:4367,src:"8205:799:14",stateMutability:"nonpayable",superFunction:4866,visibility:"external"},{body:{id:3985,nodeType:"Block",src:"9767:992:14",statements:[{expression:{argumentTypes:null,id:3924,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:3918,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"9816:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:3920,indexExpression:{argumentTypes:null,id:3919,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3911,src:"9825:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"9816:21:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:3921,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"lastStreamingFeeTimestamp",nodeType:"MemberAccess",referencedDeclaration:4383,src:"9816:47:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3922,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"9866:5:14",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:3923,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"9866:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"9816:65:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3925,nodeType:"ExpressionStatement",src:"9816:65:14"},{assignments:[3927],declarations:[{constant:false,id:3927,name:"rebalancingSetValue",nodeType:"VariableDeclaration",scope:3985,src:"9892:27:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3926,name:"uint256",nodeType:"ElementaryTypeName",src:"9892:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:3933,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:3930,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3911,src:"9967:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:3931,name:"oracleWhiteList",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3641,src:"9980:15:14",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}],expression:{argumentTypes:null,id:3928,name:"SetUSDValuation",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8452,src:"9922:15:14",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_SetUSDValuation_$8452_$",typeString:"type(library SetUSDValuation)"}},id:3929,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"calculateRebalancingSetValue",nodeType:"MemberAccess",referencedDeclaration:8305,src:"9922:44:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$_t_contract$_IOracleWhiteList_$5003_$returns$_t_uint256_$",typeString:"function (address,contract IOracleWhiteList) view returns (uint256)"}},id:3932,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9922:74:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"9892:104:14"},{assignments:[3935],declarations:[{constant:false,id:3935,name:"postStreamingValue",nodeType:"VariableDeclaration",scope:3985,src:"10006:26:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3934,name:"uint256",nodeType:"ElementaryTypeName",src:"10006:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:3940,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:3937,name:"rebalancingSetValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3927,src:"10063:19:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:3938,name:"_streamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3913,src:"10084:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:3936,name:"calculatePostStreamingValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4193,src:"10035:27:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256,uint256) view returns (uint256)"}},id:3939,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10035:63:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"10006:92:14"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:3943,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:3941,name:"_profitFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3915,src:"10191:10:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:3942,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"10204:1:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"10191:14:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:3966,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:3961,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3911,src:"10397:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:3960,name:"timeSinceLastProfitFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4225,src:"10374:22:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:3962,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10374:35:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">=",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:3964,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3911,src:"10438:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:3963,name:"highWatermarkResetPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4316,src:"10413:24:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:3965,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10413:37:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10374:76:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:3983,nodeType:"IfStatement",src:"10370:383:14",trueBody:{id:3982,nodeType:"Block",src:"10452:301:14",statements:[{expression:{argumentTypes:null,id:3972,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:3967,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"10610:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:3969,indexExpression:{argumentTypes:null,id:3968,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3911,src:"10619:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"10610:21:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:3970,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"highWatermark",nodeType:"MemberAccess",referencedDeclaration:4379,src:"10610:35:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:3971,name:"postStreamingValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3935,src:"10648:18:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10610:56:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3973,nodeType:"ExpressionStatement",src:"10610:56:14"},{expression:{argumentTypes:null,id:3980,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:3974,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"10680:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:3976,indexExpression:{argumentTypes:null,id:3975,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3911,src:"10689:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"10680:21:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:3977,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"lastProfitFeeTimestamp",nodeType:"MemberAccess",referencedDeclaration:4381,src:"10680:44:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3978,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"10727:5:14",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:3979,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"10727:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10680:62:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3981,nodeType:"ExpressionStatement",src:"10680:62:14"}]}},id:3984,nodeType:"IfStatement",src:"10187:566:14",trueBody:{id:3959,nodeType:"Block",src:"10207:157:14",statements:[{expression:{argumentTypes:null,id:3950,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:3944,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"10221:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:3946,indexExpression:{argumentTypes:null,id:3945,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3911,src:"10230:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"10221:21:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:3947,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"lastProfitFeeTimestamp",nodeType:"MemberAccess",referencedDeclaration:4381,src:"10221:44:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3948,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"10268:5:14",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:3949,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"10268:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10221:62:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3951,nodeType:"ExpressionStatement",src:"10221:62:14"},{expression:{argumentTypes:null,id:3957,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:3952,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"10297:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:3954,indexExpression:{argumentTypes:null,id:3953,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3911,src:"10306:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"10297:21:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:3955,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"highWatermark",nodeType:"MemberAccess",referencedDeclaration:4379,src:"10297:35:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:3956,name:"postStreamingValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3935,src:"10335:18:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10297:56:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3958,nodeType:"ExpressionStatement",src:"10297:56:14"}]}}]},documentation:"Updates fee state after a fee has been accrued. Streaming timestamp is always updated. Profit timestamp\nis only updated if profit fee is collected. High watermark timestamp is updated if profit fee collected\nor if a highWatermarkResetPeriod amount of time has passed since last profit fee collection.\n     * @param  _setAddress          Address of Set to have feeState updated\n@param  _streamingFee        Calculated streaming fee percentage\n@param  _profitFee           Calculated profit fee percentage",id:3986,implemented:true,kind:"function",modifiers:[],name:"updateFeeState",nodeType:"FunctionDefinition",parameters:{id:3916,nodeType:"ParameterList",parameters:[{constant:false,id:3911,name:"_setAddress",nodeType:"VariableDeclaration",scope:3986,src:"9661:19:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:3910,name:"address",nodeType:"ElementaryTypeName",src:"9661:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:3913,name:"_streamingFee",nodeType:"VariableDeclaration",scope:3986,src:"9690:21:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3912,name:"uint256",nodeType:"ElementaryTypeName",src:"9690:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3915,name:"_profitFee",nodeType:"VariableDeclaration",scope:3986,src:"9721:18:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3914,name:"uint256",nodeType:"ElementaryTypeName",src:"9721:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"9651:94:14"},returnParameters:{id:3917,nodeType:"ParameterList",parameters:[],src:"9767:0:14"},scope:4367,src:"9628:1131:14",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:4010,nodeType:"Block",src:"11113:411:14",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:3992,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3988,src:"11186:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},id:3993,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"streamingFeePercentage",nodeType:"MemberAccess",referencedDeclaration:3627,src:"11186:33:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:3991,name:"validateStreamingFeePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4030,src:"11155:30:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$returns$__$",typeString:"function (uint256) view"}},id:3994,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11155:65:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:3995,nodeType:"ExpressionStatement",src:"11155:65:14"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:3997,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3988,src:"11258:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},id:3998,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"profitFeePercentage",nodeType:"MemberAccess",referencedDeclaration:3625,src:"11258:30:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:3996,name:"validateProfitFeePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4049,src:"11230:27:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$returns$__$",typeString:"function (uint256) view"}},id:3999,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",
lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11230:59:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:4e3,nodeType:"ExpressionStatement",src:"11230:59:14"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:4006,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:4002,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3988,src:"11321:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},id:4003,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"highWatermarkResetPeriod",nodeType:"MemberAccess",referencedDeclaration:3623,src:"11321:35:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">=",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:4004,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3988,src:"11360:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},id:4005,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"profitFeePeriod",nodeType:"MemberAccess",referencedDeclaration:3621,src:"11360:26:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"11321:65:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"506572666f726d616e636546656543616c63756c61746f722e76616c6964617465466565506172616d65746572733a2046656520636f6c6c656374696f6e206672657175656e6379206d75737420657863656564206869676857617465726d61726b2072657365742e",id:4007,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"11400:107:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_21e3831d70884cab357ccae16a135c8814ad1a441f505cc7bc30b3e6d50e915f",typeString:'literal_string "PerformanceFeeCalculator.validateFeeParameters: Fee collection frequency must exceed highWatermark reset."'},value:"PerformanceFeeCalculator.validateFeeParameters: Fee collection frequency must exceed highWatermark reset."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_21e3831d70884cab357ccae16a135c8814ad1a441f505cc7bc30b3e6d50e915f",typeString:'literal_string "PerformanceFeeCalculator.validateFeeParameters: Fee collection frequency must exceed highWatermark reset."'}],id:4001,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"11300:7:14",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:4008,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11300:217:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:4009,nodeType:"ExpressionStatement",src:"11300:217:14"}]},documentation:null,id:4011,implemented:true,kind:"function",modifiers:[],name:"validateFeeParameters",nodeType:"FunctionDefinition",parameters:{id:3989,nodeType:"ParameterList",parameters:[{constant:false,id:3988,name:"parameters",nodeType:"VariableDeclaration",scope:4011,src:"11037:35:14",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters"},typeName:{contractScope:null,id:3987,name:"InitFeeParameters",nodeType:"UserDefinedTypeName",referencedDeclaration:3628,src:"11037:17:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_storage_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters"}},value:null,visibility:"internal"}],src:"11027:51:14"},returnParameters:{id:3990,nodeType:"ParameterList",parameters:[],src:"11113:0:14"},scope:4367,src:"10997:527:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4029,nodeType:"Block",src:"11745:268:14",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:4019,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:4017,name:"_streamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4013,src:"11776:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<=",rightExpression:{argumentTypes:null,id:4018,name:"maximumStreamingFeePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3645,src:"11793:29:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"11776:46:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"506572666f726d616e636546656543616c63756c61746f722e76616c696461746553747265616d696e6746656550657263656e746167653a2053747265616d696e67206665652065786365656473206d6178696d756d2e",id:4020,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"11836:89:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_ac344f5934e2c82067949893c7cb092250dce0b27d1cd5fda9b5df08e8538b61",typeString:'literal_string "PerformanceFeeCalculator.validateStreamingFeePercentage: Streaming fee exceeds maximum."'},value:"PerformanceFeeCalculator.validateStreamingFeePercentage: Streaming fee exceeds maximum."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_ac344f5934e2c82067949893c7cb092250dce0b27d1cd5fda9b5df08e8538b61",typeString:'literal_string "PerformanceFeeCalculator.validateStreamingFeePercentage: Streaming fee exceeds maximum."'}],id:4016,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"11755:7:14",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:4021,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11755:180:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:4022,nodeType:"ExpressionStatement",src:"11755:180:14"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:4026,name:"_streamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4013,src:"11992:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:4023,name:"ScaleValidations",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24210,src:"11946:16:14",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ScaleValidations_$24210_$",typeString:"type(library ScaleValidations)"}},id:4025,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"validateMultipleOfBasisPoint",nodeType:"MemberAccess",referencedDeclaration:24209,src:"11946:45:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$returns$__$",typeString:"function (uint256) view"}},id:4027,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11946:60:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:4028,nodeType:"ExpressionStatement",src:"11946:60:14"}]},documentation:null,id:4030,implemented:true,kind:"function",modifiers:[],name:"validateStreamingFeePercentage",nodeType:"FunctionDefinition",parameters:{id:4014,nodeType:"ParameterList",parameters:[{constant:false,id:4013,name:"_streamingFee",nodeType:"VariableDeclaration",scope:4030,src:"11683:21:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4012,name:"uint256",nodeType:"ElementaryTypeName",src:"11683:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"11673:37:14"},returnParameters:{id:4015,nodeType:"ParameterList",parameters:[],src:"11745:0:14"},scope:4367,src:"11634:379:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4048,nodeType:"Block",src:"12225:253:14",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:4038,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:4036,name:"_profitFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4032,src:"12256:10:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<=",rightExpression:{argumentTypes:null,id:4037,name:"maximumProfitFeePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3643,src:"12270:26:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"12256:40:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"506572666f726d616e636546656543616c63756c61746f722e76616c696461746550726f66697446656550657263656e746167653a2050726f666974206665652065786365656473206d6178696d756d2e",id:4039,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"12310:83:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_c32e6ede77ec5c6cdfbd45ac97f5a67bea8b340fd78fd2ffe5bd5da3e93ab048",typeString:'literal_string "PerformanceFeeCalculator.validateProfitFeePercentage: Profit fee exceeds maximum."'},value:"PerformanceFeeCalculator.validateProfitFeePercentage: Profit fee exceeds maximum."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_c32e6ede77ec5c6cdfbd45ac97f5a67bea8b340fd78fd2ffe5bd5da3e93ab048",typeString:'literal_string "PerformanceFeeCalculator.validateProfitFeePercentage: Profit fee exceeds maximum."'}],id:4035,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"12235:7:14",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:4040,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12235:168:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:4041,nodeType:"ExpressionStatement",src:"12235:168:14"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:4045,name:"_profitFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4032,src:"12460:10:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:4042,name:"ScaleValidations",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24210,src:"12414:16:14",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ScaleValidations_$24210_$",typeString:"type(library ScaleValidations)"}},id:4044,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"validateMultipleOfBasisPoint",nodeType:"MemberAccess",referencedDeclaration:24209,src:"12414:45:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$returns$__$",typeString:"function (uint256) view"}},id:4046,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12414:57:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:4047,nodeType:"ExpressionStatement",src:"12414:57:14"}]},documentation:null,id:4049,implemented:true,kind:"function",modifiers:[],name:"validateProfitFeePercentage",nodeType:"FunctionDefinition",parameters:{id:4033,nodeType:"ParameterList",parameters:[{constant:false,id:4032,name:"_profitFee",nodeType:"VariableDeclaration",scope:4049,src:"12166:18:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4031,name:"uint256",nodeType:"ElementaryTypeName",src:"12166:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"12156:34:14"},returnParameters:{id:4034,nodeType:"ParameterList",parameters:[],src:"12225:0:14"},scope:4367,src:"12120:358:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4083,nodeType:"Block",src:"12893:359:14",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:4061,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4051,src:"12939:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],expression:{argumentTypes:null,id:4059,name:"core",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3639,src:"12924:4:14",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:4060,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"validSets",nodeType:"MemberAccess",referencedDeclaration:4483,src:"12924:14:14",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_address_$returns$_t_bool_$",typeString:"function (address) view external returns (bool)"}},id:4062,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12924:27:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"506572666f726d616e636546656543616c63756c61746f722e63616c63756c617465466565733a2043616c6c6572206d7573742062652076616c696420526562616c616e63696e67536574546f6b656e2e",id:4063,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"12965:83:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_682887404265ad2fef2eae2b6dc95c9ab3d6d8812018af91dfa41c428325c3ec",typeString:'literal_string "PerformanceFeeCalculator.calculateFees: Caller must be valid RebalancingSetToken."'},value:"PerformanceFeeCalculator.calculateFees: Caller must be valid RebalancingSetToken."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_682887404265ad2fef2eae2b6dc95c9ab3d6d8812018af91dfa41c428325c3ec",typeString:'literal_string "PerformanceFeeCalculator.calculateFees: Caller must be valid RebalancingSetToken."'}],id:4058,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"12903:7:14",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:4064,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12903:155:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:4065,nodeType:"ExpressionStatement",src:"12903:155:14"},{assignments:[4067],declarations:[{constant:false,id:4067,name:"streamingFee",nodeType:"VariableDeclaration",scope:4083,src:"13069:20:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4066,name:"uint256",nodeType:"ElementaryTypeName",src:"13069:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:4071,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:4069,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4051,src:"13114:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:4068,name:"calculateStreamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4112,src:"13092:21:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:4070,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"13092:34:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"13069:57:14"},{assignments:[4073],declarations:[{constant:false,id:4073,name:"profitFee",nodeType:"VariableDeclaration",scope:4083,src:"13137:17:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4072,name:"uint256",nodeType:"ElementaryTypeName",src:"13137:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:4078,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:4075,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4051,src:"13176:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:4076,name:"streamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4067,src:"13189:12:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:4074,name:"calculateProfitFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4173,src:"13157:18:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$_t_uint256_$returns$_t_uint256_$",typeString:"function (address,uint256) view returns (uint256)"}},id:4077,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"13157:45:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"13137:65:14"},{expression:{argumentTypes:null,components:[{argumentTypes:null,id:4079,name:"streamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4067,src:"13221:12:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:4080,name:"profitFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4073,src:"13235:9:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],id:4081,isConstant:false,isInlineArray:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"TupleExpression",src:"13220:25:14",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$",typeString:"tuple(uint256,uint256)"}},functionReturnParameters:4057,id:4082,nodeType:"Return",src:"13213:32:14"}]},documentation:"Verifies caller is valid Set. Calculates and returns streaming and profit fee.\n     * @param  _setAddress          Address of Set to have feeState updated\n@return  uint256             Streaming Fee\n@return  uint256             Profit Fee",id:4084,implemented:true,kind:"function",modifiers:[],name:"calculateFees",nodeType:"FunctionDefinition",parameters:{id:4052,nodeType:"ParameterList",parameters:[{constant:false,id:4051,name:"_setAddress",nodeType:"VariableDeclaration",scope:4084,src:"12798:19:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:4050,name:"address",nodeType:"ElementaryTypeName",src:"12798:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"12788:35:14"},returnParameters:{id:4057,nodeType:"ParameterList",parameters:[{constant:false,id:4054,name:"",nodeType:"VariableDeclaration",scope:4084,src:"12871:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4053,name:"uint256",nodeType:"ElementaryTypeName",src:"12871:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:4056,name:"",nodeType:"VariableDeclaration",scope:4084,src:"12880:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4055,name:"uint256",nodeType:"ElementaryTypeName",src:"12880:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"12870:18:14"},scope:4367,src:"12766:486:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4111,nodeType:"Block",src:"13735:272:14",statements:[{assignments:[4092],declarations:[{constant:false,id:4092,name:"timeSinceLastFee",nodeType:"VariableDeclaration",scope:4111,src:"13745:24:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4091,name:"uint256",nodeType:"ElementaryTypeName",src:"13745:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:4100,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:4097,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4086,src:"13818:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:4096,name:"lastStreamingFeeTimestamp",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4238,src:"13792:25:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:4098,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"13792:38:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:4093,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"13772:5:14",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:4094,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"13772:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:4095,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"13772:19:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:4099,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"13772:59:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"13745:86:14"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:4108,name:"ONE_YEAR_IN_SECONDS",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3631,src:"13980:19:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:4104,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4086,src:"13962:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:4103,name:"streamingFeePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4264,src:"13939:22:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:4105,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"13939:35:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:4101,name:"timeSinceLastFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4092,src:"13918:16:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:4102,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"13918:20:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:4106,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"13918:57:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:4107,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"13918:61:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:4109,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"13918:82:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:4090,id:4110,nodeType:"Return",src:"13911:89:14"}]},documentation:"Calculates streaming fee by multiplying streamingFeePercentage by the elapsed amount of time since the last fee\nwas collected divided by one year in seconds, since the fee is a yearly fee.\n     * @param  _setAddress          Address of Set to have feeState updated\n@return uint256              Streaming fee",id:4112,implemented:true,kind:"function",modifiers:[],name:"calculateStreamingFee",nodeType:"FunctionDefinition",parameters:{id:4087,nodeType:"ParameterList",parameters:[{constant:false,id:4086,name:"_setAddress",nodeType:"VariableDeclaration",scope:4112,src:"13650:19:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:4085,name:"address",nodeType:"ElementaryTypeName",src:"13650:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"13640:35:14"},returnParameters:{id:4090,nodeType:"ParameterList",parameters:[{constant:false,id:4089,name:"",nodeType:"VariableDeclaration",scope:4112,src:"13722:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4088,name:"uint256",nodeType:"ElementaryTypeName",src:"13722:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"13721:9:14"},scope:4367,src:"13610:397:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4172,nodeType:"Block",src:"14799:951:14",statements:[{condition:{argumentTypes:null,arguments:[{argumentTypes:null,id:4122,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4114,src:"14935:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:4121,name:"exceedsProfitFeePeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4209,src:"14912:22:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_bool_$",typeString:"function (address) view returns (bool)"}},id:4123,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14912:35:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:4170,nodeType:"Block",src:"15711:33:14",statements:[{expression:{argumentTypes:null,hexValue:"30",id:4168,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"15732:1:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},functionReturnParameters:4120,id:4169,nodeType:"Return",src:"15725:8:14"}]},id:4171,nodeType:"IfStatement",src:"14908:836:14",trueBody:{id:4167,nodeType:"Block",src:"14949:756:14",statements:[{assignments:[4125],declarations:[{constant:false,id:4125,name:"rebalancingSetValue",nodeType:"VariableDeclaration",scope:4167,src:"15032:27:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4124,name:"uint256",nodeType:"ElementaryTypeName",src:"15032:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:4131,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:4128,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4114,src:"15107:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:4129,name:"oracleWhiteList",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3641,src:"15120:15:14",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}],expression:{argumentTypes:null,id:4126,name:"SetUSDValuation",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8452,src:"15062:15:14",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_SetUSDValuation_$8452_$",typeString:"type(library SetUSDValuation)"}},id:4127,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"calculateRebalancingSetValue",nodeType:"MemberAccess",referencedDeclaration:8305,src:"15062:44:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$_t_contract$_IOracleWhiteList_$5003_$returns$_t_uint256_$",typeString:"function (address,contract IOracleWhiteList) view returns (uint256)"}},id:4130,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15062:74:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"15032:104:14"},{assignments:[4133],declarations:[{constant:false,id:4133,name:"postStreamingValue",nodeType:"VariableDeclaration",scope:4167,src:"15150:26:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4132,name:"uint256",nodeType:"ElementaryTypeName",src:"15150:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:4138,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:4135,
name:"rebalancingSetValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4125,src:"15207:19:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:4136,name:"_streamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4116,src:"15228:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:4134,name:"calculatePostStreamingValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4193,src:"15179:27:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256,uint256) view returns (uint256)"}},id:4137,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15179:63:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"15150:92:14"},{assignments:[4140],declarations:[{constant:false,id:4140,name:"highWatermark",nodeType:"VariableDeclaration",scope:4167,src:"15256:21:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4139,name:"uint256",nodeType:"ElementaryTypeName",src:"15256:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:4144,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:4142,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4114,src:"15294:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:4141,name:"highWatermark",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4303,src:"15280:13:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:4143,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15280:26:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"15256:50:14"},{assignments:[4146],declarations:[{constant:false,id:4146,name:"gainedValue",nodeType:"VariableDeclaration",scope:4167,src:"15419:19:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4145,name:"uint256",nodeType:"ElementaryTypeName",src:"15419:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:4156,initialValue:{argumentTypes:null,condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:4149,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:4147,name:"postStreamingValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4133,src:"15441:18:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,id:4148,name:"highWatermark",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4140,src:"15462:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"15441:34:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseExpression:{argumentTypes:null,hexValue:"30",id:4154,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"15518:1:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},id:4155,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"Conditional",src:"15441:78:14",trueExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:4152,name:"highWatermark",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4140,src:"15501:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:4150,name:"postStreamingValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4133,src:"15478:18:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:4151,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"15478:22:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:4153,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15478:37:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"15419:100:14"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:4164,name:"rebalancingSetValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4125,src:"15674:19:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:4160,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4114,src:"15656:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:4159,name:"profitFeePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4277,src:"15636:19:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:4161,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15636:32:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:4157,name:"gainedValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4146,src:"15620:11:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:4158,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"15620:15:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:4162,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15620:49:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:4163,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"15620:53:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:4165,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15620:74:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:4120,id:4166,nodeType:"Return",src:"15613:81:14"}]}}]},documentation:"Calculates profit fee net of streaming fee. Value of rebalancing Set is determined then streaming fee subtracted,\nto get postStreamingValue. This value is compared to the highWatermark, if greater than highWatermark multiply by\nprofitFeePercentage and divide by rebalancingSetValue to get inflation from profit fees. If postStreamingValue does\nnot exceed highWatermark then return 0.\n     * @param  _setAddress          Address of Set to have feeState updated\n@param  _streamingFee        Calculated streaming fee percentage\n@return uint256              Streaming fee",id:4173,implemented:true,kind:"function",modifiers:[],name:"calculateProfitFee",nodeType:"FunctionDefinition",parameters:{id:4117,nodeType:"ParameterList",parameters:[{constant:false,id:4114,name:"_setAddress",nodeType:"VariableDeclaration",scope:4173,src:"14683:19:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:4113,name:"address",nodeType:"ElementaryTypeName",src:"14683:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:4116,name:"_streamingFee",nodeType:"VariableDeclaration",scope:4173,src:"14712:21:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4115,name:"uint256",nodeType:"ElementaryTypeName",src:"14712:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"14673:66:14"},returnParameters:{id:4120,nodeType:"ParameterList",parameters:[{constant:false,id:4119,name:"",nodeType:"VariableDeclaration",scope:4173,src:"14786:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4118,name:"uint256",nodeType:"ElementaryTypeName",src:"14786:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"14785:9:14"},scope:4367,src:"14646:1104:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4192,nodeType:"Block",src:"16246:99:14",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:4186,name:"_streamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4177,src:"16313:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:4184,name:"_rebalancingSetValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4175,src:"16288:20:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:4185,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"16288:24:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:4187,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16288:39:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:4188,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"deScale",nodeType:"MemberAccess",referencedDeclaration:23158,src:"16288:47:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256) pure returns (uint256)"}},id:4189,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16288:49:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:4182,name:"_rebalancingSetValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4175,src:"16263:20:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:4183,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"16263:24:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:4190,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16263:75:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:4181,id:4191,nodeType:"Return",src:"16256:82:14"}]},documentation:"Calculates Rebalancing Set Token value after streaming fees accounted for.\n     * @param  _rebalancingSetValue         Pre-fee value of Set\n@param  _streamingFee                Calculated streaming fee percentage\n@return  uint256                     Post streaming fee value",id:4193,implemented:true,kind:"function",modifiers:[],name:"calculatePostStreamingValue",nodeType:"FunctionDefinition",parameters:{id:4178,nodeType:"ParameterList",parameters:[{constant:false,id:4175,name:"_rebalancingSetValue",nodeType:"VariableDeclaration",scope:4193,src:"16120:28:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4174,name:"uint256",nodeType:"ElementaryTypeName",src:"16120:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:4177,name:"_streamingFee",nodeType:"VariableDeclaration",scope:4193,src:"16158:21:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4176,name:"uint256",nodeType:"ElementaryTypeName",src:"16158:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"16110:75:14"},returnParameters:{id:4181,nodeType:"ParameterList",parameters:[{constant:false,id:4180,name:"",nodeType:"VariableDeclaration",scope:4193,src:"16233:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4179,name:"uint256",nodeType:"ElementaryTypeName",src:"16233:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"16232:9:14"},scope:4367,src:"16074:271:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4208,nodeType:"Block",src:"16538:76:14",statements:[{expression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:4206,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:4201,name:"_set",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4195,src:"16578:4:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:4200,name:"timeSinceLastProfitFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4225,src:"16555:22:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:4202,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16555:28:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:4204,name:"_set",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4195,src:"16602:4:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:4203,name:"profitFeePeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4290,src:"16586:15:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:4205,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16586:21:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"16555:52:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},functionReturnParameters:4199,id:4207,nodeType:"Return",src:"16548:59:14"}]},documentation:"Checks if time since last profit fee exceeds profitFeePeriod\n     * @return  bool",id:4209,implemented:true,kind:"function",modifiers:[],name:"exceedsProfitFeePeriod",nodeType:"FunctionDefinition",parameters:{id:4196,nodeType:"ParameterList",parameters:[{constant:false,id:4195,name:"_set",nodeType:"VariableDeclaration",scope:4209,src:"16495:12:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:4194,name:"address",nodeType:"ElementaryTypeName",src:"16495:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"16494:14:14"},returnParameters:{id:4199,nodeType:"ParameterList",parameters:[{constant:false,id:4198,name:"",nodeType:"VariableDeclaration",scope:4209,src:"16532:4:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:4197,name:"bool",nodeType:"ElementaryTypeName",src:"16532:4:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"16531:6:14"},scope:4367,src:"16463:151:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4224,nodeType:"Block",src:"16852:73:14",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:4220,name:"_set",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4211,src:"16912:4:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:4219,name:"lastProfitFeeTimestamp",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4251,src:"16889:22:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:4221,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16889:28:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:4216,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"16869:5:14",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:4217,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"16869:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:4218,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"16869:19:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:4222,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16869:49:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:4215,id:4223,nodeType:"Return",src:"16862:56:14"}]},documentation:"Checks if time since last profit fee exceeds profitFeePeriod\n     * @return  uint256     Time since last profit fee accrued",id:4225,implemented:true,kind:"function",modifiers:[],name:"timeSinceLastProfitFee",nodeType:"FunctionDefinition",parameters:{id:4212,nodeType:"ParameterList",parameters:[{constant:false,id:4211,name:"_set",nodeType:"VariableDeclaration",scope:4225,src:"16806:12:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:4210,name:"address",nodeType:"ElementaryTypeName",src:"16806:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"16805:14:14"},returnParameters:{id:4215,nodeType:"ParameterList",parameters:[{constant:false,id:4214,name:"",nodeType:"VariableDeclaration",scope:4225,src:"16843:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4213,name:"uint256",nodeType:"ElementaryTypeName",src:"16843:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"16842:9:14"},scope:4367,src:"16774:151:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4237,nodeType:"Block",src:"17012:64:14",statements:[{expression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:4232,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"17029:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:4234,indexExpression:{argumentTypes:null,id:4233,name:"_set",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4227,src:"17038:4:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"17029:14:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:4235,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"lastStreamingFeeTimestamp",nodeType:"MemberAccess",referencedDeclaration:4383,src:"17029:40:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:4231,id:4236,nodeType:"Return",src:"17022:47:14"}]},documentation:null,id:4238,implemented:true,kind:"function",modifiers:[],name:"lastStreamingFeeTimestamp",nodeType:"FunctionDefinition",parameters:{id:4228,nodeType:"ParameterList",parameters:[{constant:false,id:4227,name:"_set",nodeType:"VariableDeclaration",scope:4238,src:"16966:12:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:4226,name:"address",nodeType:"ElementaryTypeName",src:"16966:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"16965:14:14"},returnParameters:{id:4231,nodeType:"ParameterList",parameters:[{constant:false,id:4230,name:"",nodeType:"VariableDeclaration",scope:4238,src:"17003:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4229,name:"uint256",nodeType:"ElementaryTypeName",src:"17003:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"17002:9:14"},scope:4367,src:"16931:145:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4250,nodeType:"Block",src:"17160:61:14",statements:[{expression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:4245,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"17177:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:4247,indexExpression:{argumentTypes:null,id:4246,name:"_set",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4240,src:"17186:4:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"17177:14:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:4248,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"lastProfitFeeTimestamp",nodeType:"MemberAccess",referencedDeclaration:4381,src:"17177:37:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:4244,id:4249,nodeType:"Return",src:"17170:44:14"}]},documentation:null,id:4251,implemented:true,kind:"function",modifiers:[],name:"lastProfitFeeTimestamp",nodeType:"FunctionDefinition",parameters:{id:4241,nodeType:"ParameterList",parameters:[{constant:false,id:4240,name:"_set",nodeType:"VariableDeclaration",scope:4251,src:"17114:12:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:4239,name:"address",nodeType:"ElementaryTypeName",src:"17114:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"17113:14:14"},returnParameters:{id:4244,nodeType:"ParameterList",parameters:[{constant:false,id:4243,name:"",nodeType:"VariableDeclaration",scope:4251,src:"17151:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4242,name:"uint256",nodeType:"ElementaryTypeName",src:"17151:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"17150:9:14"},scope:4367,src:"17082:139:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4263,nodeType:"Block",src:"17305:61:14",statements:[{expression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:4258,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"17322:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:4260,indexExpression:{argumentTypes:null,id:4259,name:"_set",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4253,src:"17331:4:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"17322:14:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:4261,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"streamingFeePercentage",nodeType:"MemberAccess",referencedDeclaration:4377,src:"17322:37:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:4257,id:4262,nodeType:"Return",src:"17315:44:14"}]},documentation:null,id:4264,implemented:true,kind:"function",modifiers:[],name:"streamingFeePercentage",nodeType:"FunctionDefinition",parameters:{id:4254,nodeType:"ParameterList",parameters:[{constant:false,id:4253,name:"_set",nodeType:"VariableDeclaration",scope:4264,src:"17259:12:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:4252,name:"address",nodeType:"ElementaryTypeName",src:"17259:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"17258:14:14"},returnParameters:{id:4257,nodeType:"ParameterList",parameters:[{constant:false,id:4256,name:"",nodeType:"VariableDeclaration",scope:4264,src:"17296:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4255,name:"uint256",nodeType:"ElementaryTypeName",src:"17296:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"17295:9:14"},scope:4367,src:"17227:139:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4276,nodeType:"Block",src:"17447:58:14",statements:[{expression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:4271,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"17464:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:4273,indexExpression:{argumentTypes:null,id:4272,name:"_set",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4266,src:"17473:4:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"17464:14:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:4274,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"profitFeePercentage",nodeType:"MemberAccess",referencedDeclaration:4375,src:"17464:34:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:4270,id:4275,nodeType:"Return",src:"17457:41:14"}]},documentation:null,id:4277,implemented:true,kind:"function",modifiers:[],name:"profitFeePercentage",nodeType:"FunctionDefinition",parameters:{id:4267,nodeType:"ParameterList",parameters:[{constant:false,id:4266,name:"_set",nodeType:"VariableDeclaration",scope:4277,src:"17401:12:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:4265,name:"address",nodeType:"ElementaryTypeName",src:"17401:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"17400:14:14"},returnParameters:{id:4270,nodeType:"ParameterList",parameters:[{constant:false,id:4269,name:"",nodeType:"VariableDeclaration",scope:4277,src:"17438:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4268,name:"uint256",nodeType:"ElementaryTypeName",src:"17438:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"17437:9:14"},scope:4367,src:"17372:133:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4289,nodeType:"Block",src:"17582:54:14",statements:[{expression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:4284,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"17599:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:4286,indexExpression:{argumentTypes:null,id:4285,name:"_set",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4279,src:"17608:4:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:false,
isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"17599:14:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:4287,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"profitFeePeriod",nodeType:"MemberAccess",referencedDeclaration:4371,src:"17599:30:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:4283,id:4288,nodeType:"Return",src:"17592:37:14"}]},documentation:null,id:4290,implemented:true,kind:"function",modifiers:[],name:"profitFeePeriod",nodeType:"FunctionDefinition",parameters:{id:4280,nodeType:"ParameterList",parameters:[{constant:false,id:4279,name:"_set",nodeType:"VariableDeclaration",scope:4290,src:"17536:12:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:4278,name:"address",nodeType:"ElementaryTypeName",src:"17536:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"17535:14:14"},returnParameters:{id:4283,nodeType:"ParameterList",parameters:[{constant:false,id:4282,name:"",nodeType:"VariableDeclaration",scope:4290,src:"17573:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4281,name:"uint256",nodeType:"ElementaryTypeName",src:"17573:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"17572:9:14"},scope:4367,src:"17511:125:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4302,nodeType:"Block",src:"17710:52:14",statements:[{expression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:4297,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"17727:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:4299,indexExpression:{argumentTypes:null,id:4298,name:"_set",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4292,src:"17736:4:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"17727:14:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:4300,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"highWatermark",nodeType:"MemberAccess",referencedDeclaration:4379,src:"17727:28:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:4296,id:4301,nodeType:"Return",src:"17720:35:14"}]},documentation:null,id:4303,implemented:true,kind:"function",modifiers:[],name:"highWatermark",nodeType:"FunctionDefinition",parameters:{id:4293,nodeType:"ParameterList",parameters:[{constant:false,id:4292,name:"_set",nodeType:"VariableDeclaration",scope:4303,src:"17665:12:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:4291,name:"address",nodeType:"ElementaryTypeName",src:"17665:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"17664:14:14"},returnParameters:{id:4296,nodeType:"ParameterList",parameters:[{constant:false,id:4295,name:"",nodeType:"VariableDeclaration",scope:4303,src:"17701:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4294,name:"uint256",nodeType:"ElementaryTypeName",src:"17701:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"17700:9:14"},scope:4367,src:"17642:120:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4315,nodeType:"Block",src:"17847:63:14",statements:[{expression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:4310,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"17864:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:4312,indexExpression:{argumentTypes:null,id:4311,name:"_set",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4305,src:"17873:4:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"17864:14:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:4313,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"highWatermarkResetPeriod",nodeType:"MemberAccess",referencedDeclaration:4373,src:"17864:39:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:4309,id:4314,nodeType:"Return",src:"17857:46:14"}]},documentation:null,id:4316,implemented:true,kind:"function",modifiers:[],name:"highWatermarkResetPeriod",nodeType:"FunctionDefinition",parameters:{id:4306,nodeType:"ParameterList",parameters:[{constant:false,id:4305,name:"_set",nodeType:"VariableDeclaration",scope:4316,src:"17802:12:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:4304,name:"address",nodeType:"ElementaryTypeName",src:"17802:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"17801:14:14"},returnParameters:{id:4309,nodeType:"ParameterList",parameters:[{constant:false,id:4308,name:"",nodeType:"VariableDeclaration",scope:4316,src:"17838:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4307,name:"uint256",nodeType:"ElementaryTypeName",src:"17838:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"17837:9:14"},scope:4367,src:"17768:142:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4330,nodeType:"Block",src:"18769:67:14",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:4325,name:"_callData",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4318,src:"18798:9:14",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}},{argumentTypes:null,components:[{argumentTypes:null,id:4326,name:"InitFeeParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3628,src:"18810:17:14",typeDescriptions:{typeIdentifier:"t_type$_t_struct$_InitFeeParameters_$3628_storage_ptr_$",typeString:"type(struct PerformanceFeeCalculator.InitFeeParameters storage pointer)"}}],id:4327,isConstant:false,isInlineArray:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"TupleExpression",src:"18809:19:14",typeDescriptions:{typeIdentifier:"t_type$_t_struct$_InitFeeParameters_$3628_storage_ptr_$",typeString:"type(struct PerformanceFeeCalculator.InitFeeParameters storage pointer)"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"},{typeIdentifier:"t_type$_t_struct$_InitFeeParameters_$3628_storage_ptr_$",typeString:"type(struct PerformanceFeeCalculator.InitFeeParameters storage pointer)"}],expression:{argumentTypes:null,id:4323,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30363,src:"18786:3:14",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:4324,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,memberName:"decode",nodeType:"MemberAccess",referencedDeclaration:null,src:"18786:10:14",typeDescriptions:{typeIdentifier:"t_function_abidecode_pure$__$returns$__$",typeString:"function () pure"}},id:4328,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"18786:43:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},functionReturnParameters:4322,id:4329,nodeType:"Return",src:"18779:50:14"}]},documentation:"Parses passed in fee parameters from bytestring.\n     * | CallData                     | Location                      |\n|------------------------------|-------------------------------|\n| profitFeePeriod              | 32                            |\n| highWatermarkResetPeriod     | 64                            |\n| profitFeePercentage          | 96                            |\n| streamingFeePercentage       | 128                           |\n     * @param  _callData            Byte string containing fee parameter data\n@return feeParameters        Fee parameters",id:4331,implemented:true,kind:"function",modifiers:[],name:"parsePerformanceFeeCallData",nodeType:"FunctionDefinition",parameters:{id:4319,nodeType:"ParameterList",parameters:[{constant:false,id:4318,name:"_callData",nodeType:"VariableDeclaration",scope:4331,src:"18664:22:14",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes"},typeName:{id:4317,name:"bytes",nodeType:"ElementaryTypeName",src:"18664:5:14",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"18654:38:14"},returnParameters:{id:4322,nodeType:"ParameterList",parameters:[{constant:false,id:4321,name:"",nodeType:"VariableDeclaration",scope:4331,src:"18739:24:14",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters"},typeName:{contractScope:null,id:4320,name:"InitFeeParameters",nodeType:"UserDefinedTypeName",referencedDeclaration:3628,src:"18739:17:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_storage_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters"}},value:null,visibility:"internal"}],src:"18738:26:14"},scope:4367,src:"18618:218:14",stateMutability:"pure",superFunction:null,visibility:"private"},{body:{id:4365,nodeType:"Block",src:"19564:314:14",statements:[{assignments:[4341,4343],declarations:[{constant:false,id:4341,name:"feeType",nodeType:"VariableDeclaration",scope:4365,src:"19588:13:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint8",typeString:"uint8"},typeName:{id:4340,name:"uint8",nodeType:"ElementaryTypeName",src:"19588:5:14",typeDescriptions:{typeIdentifier:"t_uint8",typeString:"uint8"}},value:null,visibility:"internal"},{constant:false,id:4343,name:"feePercentage",nodeType:"VariableDeclaration",scope:4365,src:"19615:21:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4342,name:"uint256",nodeType:"ElementaryTypeName",src:"19615:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:4351,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:4346,name:"_callData",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4333,src:"19661:9:14",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}},{argumentTypes:null,components:[{argumentTypes:null,id:4347,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"19673:5:14",typeDescriptions:{typeIdentifier:"t_type$_t_uint8_$",typeString:"type(uint8)"},typeName:"uint8"},{argumentTypes:null,id:4348,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"19680:7:14",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint256"}],id:4349,isConstant:false,isInlineArray:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"TupleExpression",src:"19672:16:14",typeDescriptions:{typeIdentifier:"t_tuple$_t_type$_t_uint8_$_$_t_type$_t_uint256_$_$",typeString:"tuple(type(uint8),type(uint256))"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"},{typeIdentifier:"t_tuple$_t_type$_t_uint8_$_$_t_type$_t_uint256_$_$",typeString:"tuple(type(uint8),type(uint256))"}],expression:{argumentTypes:null,id:4344,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30363,src:"19649:3:14",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:4345,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,memberName:"decode",nodeType:"MemberAccess",referencedDeclaration:null,src:"19649:10:14",typeDescriptions:{typeIdentifier:"t_function_abidecode_pure$__$returns$__$",typeString:"function () pure"}},id:4350,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"19649:40:14",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint8_$_t_uint256_$",typeString:"tuple(uint8,uint256)"}},nodeType:"VariableDeclarationStatement",src:"19574:115:14"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint8",typeString:"uint8"},id:4355,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:4353,name:"feeType",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4341,src:"19721:7:14",typeDescriptions:{typeIdentifier:"t_uint8",typeString:"uint8"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,hexValue:"32",id:4354,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"19731:1:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_2_by_1",typeString:"int_const 2"},value:"2"},src:"19721:11:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"506572666f726d616e636546656543616c63756c61746f722e70617273654e657746656543616c6c446174613a20466565207479706520696e76616c6964",id:4356,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"19746:64:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_b7fe45a564e4f2fc16740fa2e27e4df08f6873b29de4eb34c32a212a93324c8a",typeString:'literal_string "PerformanceFeeCalculator.parseNewFeeCallData: Fee type invalid"'},value:"PerformanceFeeCalculator.parseNewFeeCallData: Fee type invalid"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_b7fe45a564e4f2fc16740fa2e27e4df08f6873b29de4eb34c32a212a93324c8a",typeString:'literal_string "PerformanceFeeCalculator.parseNewFeeCallData: Fee type invalid"'}],id:4352,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"19700:7:14",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:4357,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"19700:120:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:4358,nodeType:"ExpressionStatement",src:"19700:120:14"},{expression:{argumentTypes:null,components:[{argumentTypes:null,arguments:[{argumentTypes:null,id:4360,name:"feeType",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4341,src:"19847:7:14",typeDescriptions:{typeIdentifier:"t_uint8",typeString:"uint8"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint8",typeString:"uint8"}],id:4359,name:"FeeType",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3583,src:"19839:7:14",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_FeeType_$3583_$",typeString:"type(enum PerformanceFeeCalculator.FeeType)"}},id:4361,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"19839:16:14",typeDescriptions:{typeIdentifier:"t_enum$_FeeType_$3583",typeString:"enum PerformanceFeeCalculator.FeeType"}},{argumentTypes:null,id:4362,name:"feePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4343,src:"19857:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],id:4363,isConstant:false,isInlineArray:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"TupleExpression",src:"19838:33:14",typeDescriptions:{typeIdentifier:"t_tuple$_t_enum$_FeeType_$3583_$_t_uint256_$",typeString:"tuple(enum PerformanceFeeCalculator.FeeType,uint256)"}},functionReturnParameters:4339,id:4364,nodeType:"Return",src:"19831:40:14"}]},documentation:"Parses passed in fee parameters from bytestring. If passed feeType number exceeds number of\n enum items function will revert.\n     * | CallData                     | Location                      |\n|------------------------------|-------------------------------|\n| feeType                      | 32                            |\n| feePercentage                | 64                            |\n     * @param  _callData            Byte string containing fee parameter data\n@return feeParameters        Fee parameters",id:4366,implemented:true,kind:"function",modifiers:[],name:"parseNewFeeCallData",nodeType:"FunctionDefinition",parameters:{id:4334,nodeType:"ParameterList",parameters:[{constant:false,id:4333,name:"_callData",nodeType:"VariableDeclaration",scope:4366,src:"19467:22:14",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes"},typeName:{id:4332,name:"bytes",nodeType:"ElementaryTypeName",src:"19467:5:14",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"19457:38:14"},returnParameters:{id:4339,nodeType:"ParameterList",parameters:[{constant:false,id:4336,name:"",nodeType:"VariableDeclaration",scope:4366,src:"19542:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_enum$_FeeType_$3583",typeString:"enum PerformanceFeeCalculator.FeeType"},typeName:{contractScope:null,id:4335,name:"FeeType",nodeType:"UserDefinedTypeName",referencedDeclaration:3583,src:"19542:7:14",typeDescriptions:{typeIdentifier:"t_enum$_FeeType_$3583",typeString:"enum PerformanceFeeCalculator.FeeType"}},value:null,visibility:"internal"},{constant:false,id:4338,name:"",nodeType:"VariableDeclaration",scope:4366,src:"19551:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4337,name:"uint256",nodeType:"ElementaryTypeName",src:"19551:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"19541:18:14"},scope:4367,src:"19429:449:14",stateMutability:"pure",superFunction:null,visibility:"private"}],scope:4368,src:"1659:18221:14"}],src:"597:19283:14"},legacyAST:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/fee-calculators/PerformanceFeeCalculator.sol",exportedSymbols:{PerformanceFeeCalculator:[4367]},id:4368,nodeType:"SourceUnit",nodes:[{id:3551,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:14"},{id:3552,literals:["experimental","ABIEncoderV2"],nodeType:"PragmaDirective",src:"620:33:14"},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:3554,nodeType:"ImportDirective",scope:4368,sourceUnit:29641,src:"655:77:14",symbolAliases:[{foreign:3553,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/CommonMath.sol",file:"../../lib/CommonMath.sol",id:3556,nodeType:"ImportDirective",scope:4368,sourceUnit:23437,src:"734:54:14",symbolAliases:[{foreign:3555,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ICore.sol",file:"../interfaces/ICore.sol",id:3558,nodeType:"ImportDirective",scope:4368,sourceUnit:4747,src:"789:48:14",symbolAliases:[{foreign:3557,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IFeeCalculator.sol",file:"../interfaces/IFeeCalculator.sol",id:3560,nodeType:"ImportDirective",scope:4368,sourceUnit:4868,src:"838:66:14",symbolAliases:[{foreign:3559,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IOracleWhiteList.sol",file:"../interfaces/IOracleWhiteList.sol",id:3562,nodeType:"ImportDirective",scope:4368,sourceUnit:5004,src:"905:70:14",symbolAliases:[{foreign:3561,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/IRebalancingSetTokenV2.sol",file:"../interfaces/IRebalancingSetTokenV2.sol",id:3564,nodeType:"ImportDirective",scope:4368,sourceUnit:5401,src:"976:82:14",symbolAliases:[{foreign:3563,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/interfaces/ISetToken.sol",file:"../interfaces/ISetToken.sol",id:3566,nodeType:"ImportDirective",scope:4368,sourceUnit:5660,src:"1059:56:14",symbolAliases:[{foreign:3565,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/fee-calculators/lib/PerformanceFeeLibrary.sol",file:"./lib/PerformanceFeeLibrary.sol",id:3568,nodeType:"ImportDirective",scope:4368,sourceUnit:4386,src:"1116:72:14",symbolAliases:[{foreign:3567,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/lib/ScaleValidations.sol",file:"../../lib/ScaleValidations.sol",id:3570,nodeType:"ImportDirective",scope:4368,sourceUnit:24211,src:"1189:66:14",symbolAliases:[{foreign:3569,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-contracts/contracts/core/liquidators/impl/SetUSDValuation.sol",file:"../liquidators/impl/SetUSDValuation.sol",id:3572,nodeType:"ImportDirective",scope:4368,sourceUnit:8453,src:"1256:74:14",symbolAliases:[{foreign:3571,local:null}],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:3573,name:"IFeeCalculator",nodeType:"UserDefinedTypeName",referencedDeclaration:4867,src:"1696:14:14",typeDescriptions:{typeIdentifier:"t_contract$_IFeeCalculator_$4867",typeString:"contract IFeeCalculator"}},id:3574,nodeType:"InheritanceSpecifier",src:"1696:14:14"}],contractDependencies:[4867],contractKind:"contract",documentation:"@title PerformanceFeeCalculator\n@author Set Protocol\n * Smart contract that stores and returns fees (represented as scaled decimal values). Fees are\ndetermined based on performance of the Set and a streaming fee. Set values can be denominated\nin any any asset based on oracle white list used in deploy.",fullyImplemented:true,id:4367,linearizedBaseContracts:[4367,4867],name:"PerformanceFeeCalculator",nodeType:"ContractDefinition",nodes:[{id:3577,libraryName:{contractScope:null,id:3575,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:29640,src:"1724:8:14",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$29640",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"1718:27:14",typeName:{id:3576,name:"uint256",nodeType:"ElementaryTypeName",src:"1737:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{id:3580,libraryName:{contractScope:null,id:3578,name:"CommonMath",nodeType:"UserDefinedTypeName",referencedDeclaration:23436,src:"1756:10:14",typeDescriptions:{typeIdentifier:"t_contract$_CommonMath_$23436",typeString:"library CommonMath"}},nodeType:"UsingForDirective",src:"1750:29:14",typeName:{id:3579,name:"uint256",nodeType:"ElementaryTypeName",src:"1771:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{canonicalName:"PerformanceFeeCalculator.FeeType",id:3583,members:[{id:3581,name:"StreamingFee",nodeType:"EnumValue",src:"1843:12:14"},{id:3582,name:"ProfitFee",nodeType:"EnumValue",src:"1857:9:14"}],name:"FeeType",nodeType:"EnumDefinition",src:"1828:40:14"},{anonymous:false,documentation:null,id:3593,name:"FeeActualization",nodeType:"EventDefinition",parameters:{id:3592,nodeType:"ParameterList",parameters:[{constant:false,id:3585,indexed:true,name:"rebalancingSetToken",nodeType:"VariableDeclaration",scope:3593,src:"1950:35:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:3584,name:"address",nodeType:"ElementaryTypeName",src:"1950:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:3587,indexed:false,name:"newHighWatermark",nodeType:"VariableDeclaration",scope:3593,src:"1995:24:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3586,name:"uint256",nodeType:"ElementaryTypeName",src:"1995:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3589,indexed:false,name:"profitFee",nodeType:"VariableDeclaration",scope:3593,src:"2029:17:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3588,name:"uint256",nodeType:"ElementaryTypeName",src:"2029:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3591,indexed:false,name:"streamingFee",nodeType:"VariableDeclaration",scope:3593,src:"2056:20:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3590,name:"uint256",nodeType:"ElementaryTypeName",src:"2056:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1940:142:14"},src:"1918:165:14"},{anonymous:false,documentation:null,id:3611,name:"FeeInitialization",nodeType:"EventDefinition",parameters:{id:3610,nodeType:"ParameterList",parameters:[{constant:false,id:3595,indexed:true,name:"rebalancingSetToken",nodeType:"VariableDeclaration",scope:3611,src:"2122:35:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:3594,name:"address",nodeType:"ElementaryTypeName",src:"2122:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:3597,indexed:false,name:"profitFeePeriod",nodeType:"VariableDeclaration",scope:3611,src:"2167:23:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3596,name:"uint256",nodeType:"ElementaryTypeName",src:"2167:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3599,indexed:false,name:"highWatermarkResetPeriod",nodeType:"VariableDeclaration",scope:3611,src:"2200:32:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3598,name:"uint256",nodeType:"ElementaryTypeName",src:"2200:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3601,indexed:false,name:"profitFeePercentage",nodeType:"VariableDeclaration",scope:3611,src:"2242:27:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3600,name:"uint256",nodeType:"ElementaryTypeName",src:"2242:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3603,indexed:false,name:"streamingFeePercentage",nodeType:"VariableDeclaration",scope:3611,src:"2279:30:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3602,name:"uint256",nodeType:"ElementaryTypeName",src:"2279:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3605,indexed:false,name:"highWatermark",nodeType:"VariableDeclaration",scope:3611,src:"2319:21:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3604,name:"uint256",nodeType:"ElementaryTypeName",src:"2319:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3607,indexed:false,name:"lastProfitFeeTimestamp",nodeType:"VariableDeclaration",scope:3611,src:"2350:30:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3606,name:"uint256",nodeType:"ElementaryTypeName",src:"2350:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3609,indexed:false,name:"lastStreamingFeeTimestamp",nodeType:"VariableDeclaration",scope:3611,src:"2390:33:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3608,name:"uint256",nodeType:"ElementaryTypeName",src:"2390:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"2112:317:14"},src:"2089:341:14"},{anonymous:false,documentation:null,id:3619,name:"FeeAdjustment",nodeType:"EventDefinition",parameters:{id:3618,nodeType:"ParameterList",parameters:[{constant:false,id:3613,indexed:true,name:"rebalancingSetToken",nodeType:"VariableDeclaration",scope:3619,src:"2465:35:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:3612,name:"address",nodeType:"ElementaryTypeName",src:"2465:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:3615,indexed:false,name:"feeType",nodeType:"VariableDeclaration",scope:3619,src:"2510:15:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_enum$_FeeType_$3583",typeString:"enum PerformanceFeeCalculator.FeeType"},typeName:{contractScope:null,id:3614,name:"FeeType",nodeType:"UserDefinedTypeName",referencedDeclaration:3583,src:"2510:7:14",typeDescriptions:{typeIdentifier:"t_enum$_FeeType_$3583",typeString:"enum PerformanceFeeCalculator.FeeType"}},value:null,visibility:"internal"},{constant:false,id:3617,indexed:false,name:"newFeePercentage",nodeType:"VariableDeclaration",scope:3619,src:"2535:24:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3616,name:"uint256",nodeType:"ElementaryTypeName",src:"2535:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"2455:110:14"},src:"2436:130:14"},{canonicalName:"PerformanceFeeCalculator.InitFeeParameters",id:3628,members:[{constant:false,id:3621,name:"profitFeePeriod",nodeType:"VariableDeclaration",scope:3628,
src:"2652:23:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3620,name:"uint256",nodeType:"ElementaryTypeName",src:"2652:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3623,name:"highWatermarkResetPeriod",nodeType:"VariableDeclaration",scope:3628,src:"2685:32:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3622,name:"uint256",nodeType:"ElementaryTypeName",src:"2685:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3625,name:"profitFeePercentage",nodeType:"VariableDeclaration",scope:3628,src:"2727:27:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3624,name:"uint256",nodeType:"ElementaryTypeName",src:"2727:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3627,name:"streamingFeePercentage",nodeType:"VariableDeclaration",scope:3628,src:"2764:30:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3626,name:"uint256",nodeType:"ElementaryTypeName",src:"2764:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],name:"InitFeeParameters",nodeType:"StructDefinition",scope:4367,src:"2617:184:14",visibility:"public"},{constant:true,id:3631,name:"ONE_YEAR_IN_SECONDS",nodeType:"VariableDeclaration",scope:4367,src:"2899:58:14",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3629,name:"uint256",nodeType:"ElementaryTypeName",src:"2899:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"3336352e3235",id:3630,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2946:11:14",subdenomination:"days",typeDescriptions:{typeIdentifier:"t_rational_31557600_by_1",typeString:"int_const 31557600"},value:"365.25"},visibility:"private"},{constant:true,id:3634,name:"ONE_HUNDRED_PERCENT",nodeType:"VariableDeclaration",scope:4367,src:"2963:51:14",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3632,name:"uint256",nodeType:"ElementaryTypeName",src:"2963:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"31653138",id:3633,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"3010:4:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1000000000000000000_by_1",typeString:"int_const 1000000000000000000"},value:"1e18"},visibility:"private"},{constant:true,id:3637,name:"ZERO",nodeType:"VariableDeclaration",scope:4367,src:"3020:33:14",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3635,name:"uint256",nodeType:"ElementaryTypeName",src:"3020:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"30",id:3636,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"3052:1:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},visibility:"private"},{constant:false,id:3639,name:"core",nodeType:"VariableDeclaration",scope:4367,src:"3112:17:14",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"},typeName:{contractScope:null,id:3638,name:"ICore",nodeType:"UserDefinedTypeName",referencedDeclaration:4746,src:"3112:5:14",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},value:null,visibility:"public"},{constant:false,id:3641,name:"oracleWhiteList",nodeType:"VariableDeclaration",scope:4367,src:"3135:39:14",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"},typeName:{contractScope:null,id:3640,name:"IOracleWhiteList",nodeType:"UserDefinedTypeName",referencedDeclaration:5003,src:"3135:16:14",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}},value:null,visibility:"public"},{constant:false,id:3643,name:"maximumProfitFeePercentage",nodeType:"VariableDeclaration",scope:4367,src:"3180:41:14",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3642,name:"uint256",nodeType:"ElementaryTypeName",src:"3180:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"public"},{constant:false,id:3645,name:"maximumStreamingFeePercentage",nodeType:"VariableDeclaration",scope:4367,src:"3227:44:14",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3644,name:"uint256",nodeType:"ElementaryTypeName",src:"3227:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"public"},{constant:false,id:3649,name:"feeState",nodeType:"VariableDeclaration",scope:4367,src:"3277:66:14",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState)"},typeName:{id:3648,keyType:{id:3646,name:"address",nodeType:"ElementaryTypeName",src:"3285:7:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Mapping",src:"3277:50:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState)"},valueType:{contractScope:null,id:3647,name:"PerformanceFeeLibrary.FeeState",nodeType:"UserDefinedTypeName",referencedDeclaration:4384,src:"3296:30:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage_ptr",typeString:"struct PerformanceFeeLibrary.FeeState"}}},value:null,visibility:"public"},{body:{id:3676,nodeType:"Block",src:"4185:211:14",statements:[{expression:{argumentTypes:null,id:3662,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:3660,name:"core",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3639,src:"4195:4:14",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:3661,name:"_core",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3651,src:"4202:5:14",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},src:"4195:12:14",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:3663,nodeType:"ExpressionStatement",src:"4195:12:14"},{expression:{argumentTypes:null,id:3666,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:3664,name:"oracleWhiteList",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3641,src:"4217:15:14",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:3665,name:"_oracleWhiteList",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3653,src:"4235:16:14",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}},src:"4217:34:14",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}},id:3667,nodeType:"ExpressionStatement",src:"4217:34:14"},{expression:{argumentTypes:null,id:3670,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:3668,name:"maximumProfitFeePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3643,src:"4261:26:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:3669,name:"_maximumProfitFeePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3655,src:"4290:27:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"4261:56:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3671,nodeType:"ExpressionStatement",src:"4261:56:14"},{expression:{argumentTypes:null,id:3674,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:3672,name:"maximumStreamingFeePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3645,src:"4327:29:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:3673,name:"_maximumStreamingFeePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3657,src:"4359:30:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"4327:62:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3675,nodeType:"ExpressionStatement",src:"4327:62:14"}]},documentation:"Constructor function for PerformanceFeeCalculator\n     * @param _core                                 Core instance\n@param _oracleWhiteList                      Oracle white list instance\n@param _maximumProfitFeePercentage           Maximum percent of profit fee scaled by 1e18\n                                             (e.g. 100% = 1e18 and 1% = 1e16)\n@param _maximumStreamingFeePercentage        Maximum percent of streaming fee scaled by 1e18\n                                             (e.g. 100% = 1e18 and 1% = 1e16)",id:3677,implemented:true,kind:"constructor",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:3658,nodeType:"ParameterList",parameters:[{constant:false,id:3651,name:"_core",nodeType:"VariableDeclaration",scope:3677,src:"4012:11:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"},typeName:{contractScope:null,id:3650,name:"ICore",nodeType:"UserDefinedTypeName",referencedDeclaration:4746,src:"4012:5:14",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},value:null,visibility:"internal"},{constant:false,id:3653,name:"_oracleWhiteList",nodeType:"VariableDeclaration",scope:3677,src:"4033:33:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"},typeName:{contractScope:null,id:3652,name:"IOracleWhiteList",nodeType:"UserDefinedTypeName",referencedDeclaration:5003,src:"4033:16:14",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}},value:null,visibility:"internal"},{constant:false,id:3655,name:"_maximumProfitFeePercentage",nodeType:"VariableDeclaration",scope:3677,src:"4076:35:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3654,name:"uint256",nodeType:"ElementaryTypeName",src:"4076:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3657,name:"_maximumStreamingFeePercentage",nodeType:"VariableDeclaration",scope:3677,src:"4121:38:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3656,name:"uint256",nodeType:"ElementaryTypeName",src:"4121:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"4002:163:14"},returnParameters:{id:3659,nodeType:"ParameterList",parameters:[],src:"4185:0:14"},scope:4367,src:"3991:405:14",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:3776,nodeType:"Block",src:"4764:1227:14",statements:[{assignments:[3683],declarations:[{constant:false,id:3683,name:"parameters",nodeType:"VariableDeclaration",scope:3776,src:"4812:35:14",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters"},typeName:{contractScope:null,id:3682,name:"InitFeeParameters",nodeType:"UserDefinedTypeName",referencedDeclaration:3628,src:"4812:17:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_storage_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters"}},value:null,visibility:"internal"}],id:3687,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:3685,name:"_feeCalculatorData",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3679,src:"4878:18:14",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}],id:3684,name:"parsePerformanceFeeCallData",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4331,src:"4850:27:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_bytes_memory_ptr_$returns$_t_struct$_InitFeeParameters_$3628_memory_ptr_$",typeString:"function (bytes memory) pure returns (struct PerformanceFeeCalculator.InitFeeParameters memory)"}},id:3686,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4850:47:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},nodeType:"VariableDeclarationStatement",src:"4812:85:14"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:3689,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3683,src:"4959:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}],id:3688,name:"validateFeeParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4011,src:"4937:21:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_struct$_InitFeeParameters_$3628_memory_ptr_$returns$__$",typeString:"function (struct PerformanceFeeCalculator.InitFeeParameters memory) view"}},id:3690,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4937:33:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:3691,nodeType:"ExpressionStatement",src:"4937:33:14"},{assignments:[3693],declarations:[{constant:false,id:3693,name:"highWatermark",nodeType:"VariableDeclaration",scope:3776,src:"4980:21:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3692,name:"uint256",nodeType:"ElementaryTypeName",src:"4980:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:3700,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:3696,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"5049:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:3697,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"5049:10:14",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:3698,name:"oracleWhiteList",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3641,src:"5061:15:14",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}],expression:{argumentTypes:null,id:3694,name:"SetUSDValuation",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8452,src:"5004:15:14",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_SetUSDValuation_$8452_$",typeString:"type(library SetUSDValuation)"}},id:3695,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"calculateRebalancingSetValue",nodeType:"MemberAccess",referencedDeclaration:8305,src:"5004:44:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$_t_contract$_IOracleWhiteList_$5003_$returns$_t_uint256_$",typeString:"function (address,contract IOracleWhiteList) view returns (uint256)"}},id:3699,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5004:73:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"4980:97:14"},{assignments:[3704],declarations:[{constant:false,id:3704,name:"feeInfo",nodeType:"VariableDeclaration",scope:3776,src:"5128:46:14",stateVariable:false,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage_ptr",typeString:"struct PerformanceFeeLibrary.FeeState"},typeName:{contractScope:null,id:3703,name:"PerformanceFeeLibrary.FeeState",nodeType:"UserDefinedTypeName",referencedDeclaration:4384,src:"5128:30:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage_ptr",typeString:"struct PerformanceFeeLibrary.FeeState"}},value:null,visibility:"internal"}],id:3709,initialValue:{argumentTypes:null,baseExpression:{argumentTypes:null,id:3705,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"5177:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:3708,indexExpression:{argumentTypes:null,expression:{argumentTypes:null,id:3706,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"5186:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:3707,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"5186:10:14",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"5177:20:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},nodeType:"VariableDeclarationStatement",src:"5128:69:14"},{expression:{argumentTypes:null,id:3715,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3710,name:"feeInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3704,src:"5208:7:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage_ptr",typeString:"struct PerformanceFeeLibrary.FeeState storage pointer"}},id:3712,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"profitFeePeriod",nodeType:"MemberAccess",referencedDeclaration:4371,src:"5208:23:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3713,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3683,src:"5234:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},id:3714,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"profitFeePeriod",nodeType:"MemberAccess",referencedDeclaration:3621,src:"5234:26:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"5208:52:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3716,nodeType:"ExpressionStatement",src:"5208:52:14"},{expression:{argumentTypes:null,id:3722,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3717,name:"feeInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3704,src:"5270:7:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage_ptr",typeString:"struct PerformanceFeeLibrary.FeeState storage pointer"}},id:3719,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"highWatermarkResetPeriod",nodeType:"MemberAccess",referencedDeclaration:4373,src:"5270:32:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3720,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3683,src:"5305:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},id:3721,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"highWatermarkResetPeriod",nodeType:"MemberAccess",referencedDeclaration:3623,src:"5305:35:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"5270:70:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3723,nodeType:"ExpressionStatement",src:"5270:70:14"},{expression:{argumentTypes:null,id:3729,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3724,name:"feeInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3704,src:"5350:7:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage_ptr",typeString:"struct PerformanceFeeLibrary.FeeState storage pointer"}},id:3726,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"profitFeePercentage",nodeType:"MemberAccess",referencedDeclaration:4375,src:"5350:27:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3727,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3683,src:"5380:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},id:3728,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"profitFeePercentage",nodeType:"MemberAccess",referencedDeclaration:3625,src:"5380:30:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"5350:60:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3730,nodeType:"ExpressionStatement",src:"5350:60:14"},{expression:{argumentTypes:null,id:3736,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3731,name:"feeInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3704,src:"5420:7:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage_ptr",typeString:"struct PerformanceFeeLibrary.FeeState storage pointer"}},id:3733,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"streamingFeePercentage",nodeType:"MemberAccess",referencedDeclaration:4377,src:"5420:30:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3734,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3683,src:"5453:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},id:3735,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"streamingFeePercentage",nodeType:"MemberAccess",referencedDeclaration:3627,src:"5453:33:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"5420:66:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3737,nodeType:"ExpressionStatement",src:"5420:66:14"},{expression:{argumentTypes:null,id:3743,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3738,name:"feeInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3704,src:"5496:7:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage_ptr",typeString:"struct PerformanceFeeLibrary.FeeState storage pointer"}},id:3740,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"lastProfitFeeTimestamp",nodeType:"MemberAccess",referencedDeclaration:4381,src:"5496:30:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3741,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"5529:5:14",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:3742,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"5529:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"5496:48:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3744,nodeType:"ExpressionStatement",src:"5496:48:14"},{expression:{argumentTypes:null,id:3750,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3745,name:"feeInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3704,src:"5554:7:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage_ptr",typeString:"struct PerformanceFeeLibrary.FeeState storage pointer"}},id:3747,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"lastStreamingFeeTimestamp",nodeType:"MemberAccess",referencedDeclaration:4383,src:"5554:33:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3748,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"5590:5:14",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:3749,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"5590:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"5554:51:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3751,nodeType:"ExpressionStatement",src:"5554:51:14"},{expression:{argumentTypes:null,id:3756,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3752,name:"feeInfo",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3704,src:"5615:7:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage_ptr",typeString:"struct PerformanceFeeLibrary.FeeState storage pointer"}},id:3754,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"highWatermark",nodeType:"MemberAccess",referencedDeclaration:4379,src:"5615:21:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:3755,name:"highWatermark",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3693,src:"5639:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"5615:37:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3757,nodeType:"ExpressionStatement",src:"5615:37:14"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:3759,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"5699:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:3760,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"5699:10:14",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,expression:{argumentTypes:null,id:3761,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3683,src:"5723:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},id:3762,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"profitFeePeriod",nodeType:"MemberAccess",referencedDeclaration:3621,src:"5723:26:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:3763,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3683,src:"5763:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},id:3764,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"highWatermarkResetPeriod",nodeType:"MemberAccess",referencedDeclaration:3623,src:"5763:35:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:3765,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3683,src:"5812:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},id:3766,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"profitFeePercentage",nodeType:"MemberAccess",referencedDeclaration:3625,src:"5812:30:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:3767,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3683,src:"5856:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},id:3768,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"streamingFeePercentage",nodeType:"MemberAccess",referencedDeclaration:3627,src:"5856:33:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:3769,name:"highWatermark",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3693,src:"5903:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:3770,
name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"5930:5:14",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:3771,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"5930:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:3772,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"5959:5:14",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:3773,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"5959:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:3758,name:"FeeInitialization",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3611,src:"5668:17:14",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (address,uint256,uint256,uint256,uint256,uint256,uint256,uint256)"}},id:3774,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"5668:316:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:3775,nodeType:"EmitStatement",src:"5663:321:14"}]},documentation:null,id:3777,implemented:true,kind:"function",modifiers:[],name:"initialize",nodeType:"FunctionDefinition",parameters:{id:3680,nodeType:"ParameterList",parameters:[{constant:false,id:3679,name:"_feeCalculatorData",nodeType:"VariableDeclaration",scope:3777,src:"4703:33:14",stateVariable:false,storageLocation:"calldata",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes"},typeName:{id:3678,name:"bytes",nodeType:"ElementaryTypeName",src:"4703:5:14",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"4693:49:14"},returnParameters:{id:3681,nodeType:"ParameterList",parameters:[],src:"4764:0:14"},scope:4367,src:"4674:1317:14",stateMutability:"nonpayable",superFunction:4851,visibility:"external"},{body:{id:3796,nodeType:"Block",src:"6363:165:14",statements:[{assignments:[3783,3785],declarations:[{constant:false,id:3783,name:"streamingFee",nodeType:"VariableDeclaration",scope:3796,src:"6387:20:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3782,name:"uint256",nodeType:"ElementaryTypeName",src:"6387:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3785,name:"profitFee",nodeType:"VariableDeclaration",scope:3796,src:"6421:17:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3784,name:"uint256",nodeType:"ElementaryTypeName",src:"6421:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:3790,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:3787,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"6465:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:3788,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"6465:10:14",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"}],id:3786,name:"calculateFees",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4084,src:"6451:13:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$_t_uint256_$",typeString:"function (address) view returns (uint256,uint256)"}},id:3789,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6451:25:14",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$",typeString:"tuple(uint256,uint256)"}},nodeType:"VariableDeclarationStatement",src:"6373:103:14"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:3793,name:"profitFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3785,src:"6511:9:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:3791,name:"streamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3783,src:"6494:12:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3792,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:29619,src:"6494:16:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:3794,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6494:27:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:3781,id:3795,nodeType:"Return",src:"6487:34:14"}]},documentation:null,id:3797,implemented:true,kind:"function",modifiers:[],name:"getFee",nodeType:"FunctionDefinition",parameters:{id:3778,nodeType:"ParameterList",parameters:[],src:"6300:2:14"},returnParameters:{id:3781,nodeType:"ParameterList",parameters:[{constant:false,id:3780,name:"",nodeType:"VariableDeclaration",scope:3797,src:"6350:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3779,name:"uint256",nodeType:"ElementaryTypeName",src:"6350:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"6349:9:14"},scope:4367,src:"6285:243:14",stateMutability:"view",superFunction:4856,visibility:"external"},{body:{id:3818,nodeType:"Block",src:"6900:164:14",statements:[{assignments:[3807,3809],declarations:[{constant:false,id:3807,name:"streamingFee",nodeType:"VariableDeclaration",scope:3818,src:"6924:20:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3806,name:"uint256",nodeType:"ElementaryTypeName",src:"6924:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3809,name:"profitFee",nodeType:"VariableDeclaration",scope:3818,src:"6958:17:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3808,name:"uint256",nodeType:"ElementaryTypeName",src:"6958:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:3813,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:3811,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3799,src:"7002:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:3810,name:"calculateFees",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4084,src:"6988:13:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$_t_uint256_$",typeString:"function (address) view returns (uint256,uint256)"}},id:3812,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"6988:26:14",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$",typeString:"tuple(uint256,uint256)"}},nodeType:"VariableDeclarationStatement",src:"6910:104:14"},{expression:{argumentTypes:null,components:[{argumentTypes:null,id:3814,name:"streamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3807,src:"7033:12:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:3815,name:"profitFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3809,src:"7047:9:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],id:3816,isConstant:false,isInlineArray:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"TupleExpression",src:"7032:25:14",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$",typeString:"tuple(uint256,uint256)"}},functionReturnParameters:3805,id:3817,nodeType:"Return",src:"7025:32:14"}]},documentation:"Returns calculated streaming and profit fee.\n     * @param  _setAddress          Address of Set to get fees\n@return  uint256             Streaming Fee\n@return  uint256             Profit Fee",id:3819,implemented:true,kind:"function",modifiers:[],name:"getCalculatedFees",nodeType:"FunctionDefinition",parameters:{id:3800,nodeType:"ParameterList",parameters:[{constant:false,id:3799,name:"_setAddress",nodeType:"VariableDeclaration",scope:3819,src:"6805:19:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:3798,name:"address",nodeType:"ElementaryTypeName",src:"6805:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"6795:35:14"},returnParameters:{id:3805,nodeType:"ParameterList",parameters:[{constant:false,id:3802,name:"",nodeType:"VariableDeclaration",scope:3819,src:"6878:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3801,name:"uint256",nodeType:"ElementaryTypeName",src:"6878:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3804,name:"",nodeType:"VariableDeclaration",scope:3819,src:"6887:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3803,name:"uint256",nodeType:"ElementaryTypeName",src:"6887:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"6877:18:14"},scope:4367,src:"6769:295:14",stateMutability:"view",superFunction:null,visibility:"external"},{body:{id:3856,nodeType:"Block",src:"7618:434:14",statements:[{assignments:[3825,3827],declarations:[{constant:false,id:3825,name:"streamingFee",nodeType:"VariableDeclaration",scope:3856,src:"7642:20:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3824,name:"uint256",nodeType:"ElementaryTypeName",src:"7642:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3827,name:"profitFee",nodeType:"VariableDeclaration",scope:3856,src:"7676:17:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3826,name:"uint256",nodeType:"ElementaryTypeName",src:"7676:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:3832,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:3829,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"7720:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:3830,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"7720:10:14",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"}],id:3828,name:"calculateFees",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4084,src:"7706:13:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$_t_uint256_$",typeString:"function (address) view returns (uint256,uint256)"}},id:3831,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7706:25:14",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$",typeString:"tuple(uint256,uint256)"}},nodeType:"VariableDeclarationStatement",src:"7628:103:14"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:3834,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"7810:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:3835,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"7810:10:14",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:3836,name:"streamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3825,src:"7822:12:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:3837,name:"profitFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3827,src:"7836:9:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:3833,name:"updateFeeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3986,src:"7795:14:14",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (address,uint256,uint256)"}},id:3838,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7795:51:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:3839,nodeType:"ExpressionStatement",src:"7795:51:14"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:3841,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"7892:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:3842,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"7892:10:14",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:3844,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"7930:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:3845,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"7930:10:14",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"}],id:3843,name:"highWatermark",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4303,src:"7916:13:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:3846,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7916:25:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:3847,name:"profitFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3827,src:"7955:9:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:3848,name:"streamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3825,src:"7978:12:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:3840,name:"FeeActualization",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3593,src:"7862:16:14",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (address,uint256,uint256,uint256)"}},id:3849,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"7862:138:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:3850,nodeType:"EmitStatement",src:"7857:143:14"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:3853,name:"profitFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3827,src:"8035:9:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:3851,name:"streamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3825,src:"8018:12:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3852,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:29619,src:"8018:16:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:3854,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8018:27:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:3823,id:3855,nodeType:"Return",src:"8011:34:14"}]},documentation:null,id:3857,implemented:true,kind:"function",modifiers:[],name:"updateAndGetFee",nodeType:"FunctionDefinition",parameters:{id:3820,nodeType:"ParameterList",parameters:[],src:"7568:2:14"},returnParameters:{id:3823,nodeType:"ParameterList",parameters:[{constant:false,id:3822,name:"",nodeType:"VariableDeclaration",scope:3857,src:"7605:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3821,name:"uint256",nodeType:"ElementaryTypeName",src:"7605:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"7604:9:14"},scope:4367,src:"7544:508:14",stateMutability:"nonpayable",superFunction:4861,visibility:"external"},{body:{id:3908,nodeType:"Block",src:"8287:717:14",statements:[{assignments:[3863,3865],declarations:[{constant:false,id:3863,name:"feeIdentifier",nodeType:"VariableDeclaration",scope:3908,src:"8311:21:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_enum$_FeeType_$3583",typeString:"enum PerformanceFeeCalculator.FeeType"},typeName:{contractScope:null,id:3862,name:"FeeType",nodeType:"UserDefinedTypeName",referencedDeclaration:3583,src:"8311:7:14",typeDescriptions:{typeIdentifier:"t_enum$_FeeType_$3583",typeString:"enum PerformanceFeeCalculator.FeeType"}},value:null,visibility:"internal"},{constant:false,id:3865,name:"feePercentage",nodeType:"VariableDeclaration",scope:3908,src:"8346:21:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3864,name:"uint256",nodeType:"ElementaryTypeName",src:"8346:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:3869,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:3867,name:"_newFeeData",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3859,src:"8400:11:14",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}],id:3866,name:"parseNewFeeCallData",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4366,src:"8380:19:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_bytes_memory_ptr_$returns$_t_enum$_FeeType_$3583_$_t_uint256_$",typeString:"function (bytes memory) pure returns (enum PerformanceFeeCalculator.FeeType,uint256)"}},id:3868,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8380:32:14",typeDescriptions:{typeIdentifier:"t_tuple$_t_enum$_FeeType_$3583_$_t_uint256_$",typeString:"tuple(enum PerformanceFeeCalculator.FeeType,uint256)"}},nodeType:"VariableDeclarationStatement",src:"8297:115:14"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_enum$_FeeType_$3583",typeString:"enum PerformanceFeeCalculator.FeeType"},id:3873,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:3870,name:"feeIdentifier",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3863,src:"8600:13:14",typeDescriptions:{typeIdentifier:"t_enum$_FeeType_$3583",typeString:"enum PerformanceFeeCalculator.FeeType"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:3871,name:"FeeType",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3583,src:"8617:7:14",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_FeeType_$3583_$",typeString:"type(enum PerformanceFeeCalculator.FeeType)"}},id:3872,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,memberName:"StreamingFee",nodeType:"MemberAccess",referencedDeclaration:null,src:"8617:20:14",typeDescriptions:{typeIdentifier:"t_enum$_FeeType_$3583",typeString:"enum PerformanceFeeCalculator.FeeType"}},src:"8600:37:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:3899,nodeType:"Block",src:"8789:138:14",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:3888,name:"feePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3865,src:"8831:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:3887,name:"validateProfitFeePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4049,src:"8803:27:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$returns$__$",typeString:"function (uint256) view"}},id:3889,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8803:42:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:3890,nodeType:"ExpressionStatement",src:"8803:42:14"},{expression:{argumentTypes:null,id:3897,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:3891,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"8860:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:3894,indexExpression:{argumentTypes:null,expression:{argumentTypes:null,id:3892,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"8869:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:3893,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"8869:10:14",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"8860:20:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:3895,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"profitFeePercentage",nodeType:"MemberAccess",referencedDeclaration:4375,src:"8860:40:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:3896,name:"feePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3865,src:"8903:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"8860:56:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3898,nodeType:"ExpressionStatement",src:"8860:56:14"}]},id:3900,nodeType:"IfStatement",src:"8596:331:14",trueBody:{id:3886,nodeType:"Block",src:"8639:144:14",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:3875,name:"feePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3865,src:"8684:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:3874,name:"validateStreamingFeePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4030,src:"8653:30:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$returns$__$",typeString:"function (uint256) view"}},id:3876,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8653:45:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:3877,nodeType:"ExpressionStatement",src:"8653:45:14"},{expression:{argumentTypes:null,id:3884,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:3878,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"8713:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:3881,indexExpression:{argumentTypes:null,expression:{argumentTypes:null,id:3879,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"8722:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:3880,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"8722:10:14",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"8713:20:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:3882,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"streamingFeePercentage",nodeType:"MemberAccess",referencedDeclaration:4377,src:"8713:43:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:3883,name:"feePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3865,src:"8759:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"8713:59:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3885,nodeType:"ExpressionStatement",src:"8713:59:14"}]}},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:3902,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30376,src:"8956:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:3903,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"8956:10:14",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:3904,name:"feeIdentifier",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3863,src:"8968:13:14",typeDescriptions:{typeIdentifier:"t_enum$_FeeType_$3583",typeString:"enum PerformanceFeeCalculator.FeeType"}},{argumentTypes:null,id:3905,name:"feePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3865,src:"8983:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_enum$_FeeType_$3583",typeString:"enum PerformanceFeeCalculator.FeeType"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:3901,name:"FeeAdjustment",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3619,src:"8942:13:14",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$_t_enum$_FeeType_$3583_$_t_uint256_$returns$__$",typeString:"function (address,enum PerformanceFeeCalculator.FeeType,uint256)"}},id:3906,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"8942:55:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:3907,nodeType:"EmitStatement",src:"8937:60:14"}]},documentation:null,id:3909,implemented:true,kind:"function",modifiers:[],name:"adjustFee",nodeType:"FunctionDefinition",parameters:{id:3860,nodeType:"ParameterList",parameters:[{constant:false,id:3859,name:"_newFeeData",nodeType:"VariableDeclaration",scope:3909,src:"8233:26:14",stateVariable:false,storageLocation:"calldata",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes"},typeName:{id:3858,name:"bytes",nodeType:"ElementaryTypeName",src:"8233:5:14",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"8223:42:14"},returnParameters:{id:3861,nodeType:"ParameterList",parameters:[],src:"8287:0:14"},scope:4367,src:"8205:799:14",stateMutability:"nonpayable",superFunction:4866,visibility:"external"},{body:{id:3985,nodeType:"Block",src:"9767:992:14",statements:[{expression:{argumentTypes:null,id:3924,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:3918,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"9816:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:3920,indexExpression:{argumentTypes:null,id:3919,name:"_setAddress",
nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3911,src:"9825:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"9816:21:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:3921,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"lastStreamingFeeTimestamp",nodeType:"MemberAccess",referencedDeclaration:4383,src:"9816:47:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3922,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"9866:5:14",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:3923,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"9866:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"9816:65:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3925,nodeType:"ExpressionStatement",src:"9816:65:14"},{assignments:[3927],declarations:[{constant:false,id:3927,name:"rebalancingSetValue",nodeType:"VariableDeclaration",scope:3985,src:"9892:27:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3926,name:"uint256",nodeType:"ElementaryTypeName",src:"9892:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:3933,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:3930,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3911,src:"9967:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:3931,name:"oracleWhiteList",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3641,src:"9980:15:14",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}],expression:{argumentTypes:null,id:3928,name:"SetUSDValuation",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8452,src:"9922:15:14",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_SetUSDValuation_$8452_$",typeString:"type(library SetUSDValuation)"}},id:3929,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"calculateRebalancingSetValue",nodeType:"MemberAccess",referencedDeclaration:8305,src:"9922:44:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$_t_contract$_IOracleWhiteList_$5003_$returns$_t_uint256_$",typeString:"function (address,contract IOracleWhiteList) view returns (uint256)"}},id:3932,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"9922:74:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"9892:104:14"},{assignments:[3935],declarations:[{constant:false,id:3935,name:"postStreamingValue",nodeType:"VariableDeclaration",scope:3985,src:"10006:26:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3934,name:"uint256",nodeType:"ElementaryTypeName",src:"10006:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:3940,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:3937,name:"rebalancingSetValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3927,src:"10063:19:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:3938,name:"_streamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3913,src:"10084:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:3936,name:"calculatePostStreamingValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4193,src:"10035:27:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256,uint256) view returns (uint256)"}},id:3939,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10035:63:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"10006:92:14"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:3943,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:3941,name:"_profitFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3915,src:"10191:10:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:3942,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"10204:1:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"10191:14:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:3966,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:3961,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3911,src:"10397:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:3960,name:"timeSinceLastProfitFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4225,src:"10374:22:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:3962,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10374:35:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">=",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:3964,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3911,src:"10438:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:3963,name:"highWatermarkResetPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4316,src:"10413:24:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:3965,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"10413:37:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10374:76:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:3983,nodeType:"IfStatement",src:"10370:383:14",trueBody:{id:3982,nodeType:"Block",src:"10452:301:14",statements:[{expression:{argumentTypes:null,id:3972,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:3967,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"10610:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:3969,indexExpression:{argumentTypes:null,id:3968,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3911,src:"10619:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"10610:21:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:3970,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"highWatermark",nodeType:"MemberAccess",referencedDeclaration:4379,src:"10610:35:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:3971,name:"postStreamingValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3935,src:"10648:18:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10610:56:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3973,nodeType:"ExpressionStatement",src:"10610:56:14"},{expression:{argumentTypes:null,id:3980,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:3974,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"10680:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:3976,indexExpression:{argumentTypes:null,id:3975,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3911,src:"10689:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"10680:21:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:3977,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"lastProfitFeeTimestamp",nodeType:"MemberAccess",referencedDeclaration:4381,src:"10680:44:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3978,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"10727:5:14",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:3979,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"10727:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10680:62:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3981,nodeType:"ExpressionStatement",src:"10680:62:14"}]}},id:3984,nodeType:"IfStatement",src:"10187:566:14",trueBody:{id:3959,nodeType:"Block",src:"10207:157:14",statements:[{expression:{argumentTypes:null,id:3950,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:3944,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"10221:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:3946,indexExpression:{argumentTypes:null,id:3945,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3911,src:"10230:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"10221:21:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:3947,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"lastProfitFeeTimestamp",nodeType:"MemberAccess",referencedDeclaration:4381,src:"10221:44:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:3948,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"10268:5:14",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:3949,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"10268:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10221:62:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3951,nodeType:"ExpressionStatement",src:"10221:62:14"},{expression:{argumentTypes:null,id:3957,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:3952,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"10297:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:3954,indexExpression:{argumentTypes:null,id:3953,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3911,src:"10306:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"10297:21:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:3955,isConstant:false,isLValue:true,isPure:false,lValueRequested:true,memberName:"highWatermark",nodeType:"MemberAccess",referencedDeclaration:4379,src:"10297:35:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:3956,name:"postStreamingValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3935,src:"10335:18:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10297:56:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3958,nodeType:"ExpressionStatement",src:"10297:56:14"}]}}]},documentation:"Updates fee state after a fee has been accrued. Streaming timestamp is always updated. Profit timestamp\nis only updated if profit fee is collected. High watermark timestamp is updated if profit fee collected\nor if a highWatermarkResetPeriod amount of time has passed since last profit fee collection.\n     * @param  _setAddress          Address of Set to have feeState updated\n@param  _streamingFee        Calculated streaming fee percentage\n@param  _profitFee           Calculated profit fee percentage",id:3986,implemented:true,kind:"function",modifiers:[],name:"updateFeeState",nodeType:"FunctionDefinition",parameters:{id:3916,nodeType:"ParameterList",parameters:[{constant:false,id:3911,name:"_setAddress",nodeType:"VariableDeclaration",scope:3986,src:"9661:19:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:3910,name:"address",nodeType:"ElementaryTypeName",src:"9661:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:3913,name:"_streamingFee",nodeType:"VariableDeclaration",scope:3986,src:"9690:21:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3912,name:"uint256",nodeType:"ElementaryTypeName",src:"9690:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:3915,name:"_profitFee",nodeType:"VariableDeclaration",scope:3986,src:"9721:18:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3914,name:"uint256",nodeType:"ElementaryTypeName",src:"9721:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"9651:94:14"},returnParameters:{id:3917,nodeType:"ParameterList",parameters:[],src:"9767:0:14"},scope:4367,src:"9628:1131:14",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:4010,nodeType:"Block",src:"11113:411:14",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:3992,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3988,src:"11186:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},id:3993,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"streamingFeePercentage",nodeType:"MemberAccess",referencedDeclaration:3627,src:"11186:33:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:3991,name:"validateStreamingFeePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4030,src:"11155:30:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$returns$__$",typeString:"function (uint256) view"}},id:3994,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11155:65:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:3995,nodeType:"ExpressionStatement",src:"11155:65:14"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:3997,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3988,src:"11258:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},id:3998,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"profitFeePercentage",nodeType:"MemberAccess",referencedDeclaration:3625,src:"11258:30:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:3996,name:"validateProfitFeePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4049,src:"11230:27:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$returns$__$",typeString:"function (uint256) view"}},id:3999,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11230:59:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:4e3,nodeType:"ExpressionStatement",src:"11230:59:14"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:4006,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:4002,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3988,src:"11321:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},id:4003,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"highWatermarkResetPeriod",nodeType:"MemberAccess",referencedDeclaration:3623,src:"11321:35:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">=",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:4004,name:"parameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3988,src:"11360:10:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},id:4005,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"profitFeePeriod",nodeType:"MemberAccess",referencedDeclaration:3621,src:"11360:26:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"11321:65:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"506572666f726d616e636546656543616c63756c61746f722e76616c6964617465466565506172616d65746572733a2046656520636f6c6c656374696f6e206672657175656e6379206d75737420657863656564206869676857617465726d61726b2072657365742e",id:4007,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"11400:107:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_21e3831d70884cab357ccae16a135c8814ad1a441f505cc7bc30b3e6d50e915f",typeString:'literal_string "PerformanceFeeCalculator.validateFeeParameters: Fee collection frequency must exceed highWatermark reset."'},value:"PerformanceFeeCalculator.validateFeeParameters: Fee collection frequency must exceed highWatermark reset."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_21e3831d70884cab357ccae16a135c8814ad1a441f505cc7bc30b3e6d50e915f",typeString:'literal_string "PerformanceFeeCalculator.validateFeeParameters: Fee collection frequency must exceed highWatermark reset."'}],id:4001,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"11300:7:14",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:4008,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11300:217:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:4009,nodeType:"ExpressionStatement",src:"11300:217:14"}]},documentation:null,id:4011,implemented:true,kind:"function",modifiers:[],name:"validateFeeParameters",nodeType:"FunctionDefinition",parameters:{id:3989,nodeType:"ParameterList",parameters:[{constant:false,id:3988,name:"parameters",nodeType:"VariableDeclaration",scope:4011,src:"11037:35:14",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters"},typeName:{contractScope:null,id:3987,name:"InitFeeParameters",nodeType:"UserDefinedTypeName",referencedDeclaration:3628,src:"11037:17:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_storage_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters"}},value:null,visibility:"internal"}],src:"11027:51:14"},returnParameters:{id:3990,nodeType:"ParameterList",parameters:[],src:"11113:0:14"},scope:4367,src:"10997:527:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4029,nodeType:"Block",src:"11745:268:14",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:4019,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:4017,name:"_streamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4013,src:"11776:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<=",rightExpression:{argumentTypes:null,id:4018,name:"maximumStreamingFeePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3645,src:"11793:29:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"11776:46:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"506572666f726d616e636546656543616c63756c61746f722e76616c696461746553747265616d696e6746656550657263656e746167653a2053747265616d696e67206665652065786365656473206d6178696d756d2e",id:4020,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"11836:89:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_ac344f5934e2c82067949893c7cb092250dce0b27d1cd5fda9b5df08e8538b61",typeString:'literal_string "PerformanceFeeCalculator.validateStreamingFeePercentage: Streaming fee exceeds maximum."'},value:"PerformanceFeeCalculator.validateStreamingFeePercentage: Streaming fee exceeds maximum."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_ac344f5934e2c82067949893c7cb092250dce0b27d1cd5fda9b5df08e8538b61",typeString:'literal_string "PerformanceFeeCalculator.validateStreamingFeePercentage: Streaming fee exceeds maximum."'}],id:4016,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"11755:7:14",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:4021,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11755:180:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:4022,nodeType:"ExpressionStatement",src:"11755:180:14"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:4026,name:"_streamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4013,src:"11992:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:4023,name:"ScaleValidations",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24210,src:"11946:16:14",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ScaleValidations_$24210_$",typeString:"type(library ScaleValidations)"}},id:4025,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"validateMultipleOfBasisPoint",nodeType:"MemberAccess",referencedDeclaration:24209,src:"11946:45:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$returns$__$",typeString:"function (uint256) view"}},id:4027,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"11946:60:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:4028,nodeType:"ExpressionStatement",src:"11946:60:14"}]},documentation:null,id:4030,implemented:true,kind:"function",modifiers:[],name:"validateStreamingFeePercentage",nodeType:"FunctionDefinition",parameters:{id:4014,nodeType:"ParameterList",parameters:[{constant:false,id:4013,name:"_streamingFee",nodeType:"VariableDeclaration",scope:4030,src:"11683:21:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4012,name:"uint256",nodeType:"ElementaryTypeName",src:"11683:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"11673:37:14"},returnParameters:{id:4015,nodeType:"ParameterList",parameters:[],src:"11745:0:14"},scope:4367,src:"11634:379:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4048,nodeType:"Block",src:"12225:253:14",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:4038,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:4036,name:"_profitFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4032,src:"12256:10:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<=",rightExpression:{argumentTypes:null,id:4037,name:"maximumProfitFeePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3643,src:"12270:26:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"12256:40:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"506572666f726d616e636546656543616c63756c61746f722e76616c696461746550726f66697446656550657263656e746167653a2050726f666974206665652065786365656473206d6178696d756d2e",id:4039,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"12310:83:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_c32e6ede77ec5c6cdfbd45ac97f5a67bea8b340fd78fd2ffe5bd5da3e93ab048",typeString:'literal_string "PerformanceFeeCalculator.validateProfitFeePercentage: Profit fee exceeds maximum."'},value:"PerformanceFeeCalculator.validateProfitFeePercentage: Profit fee exceeds maximum."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_c32e6ede77ec5c6cdfbd45ac97f5a67bea8b340fd78fd2ffe5bd5da3e93ab048",typeString:'literal_string "PerformanceFeeCalculator.validateProfitFeePercentage: Profit fee exceeds maximum."'}],id:4035,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"12235:7:14",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:4040,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12235:168:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:4041,nodeType:"ExpressionStatement",src:"12235:168:14"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:4045,name:"_profitFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4032,src:"12460:10:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:4042,name:"ScaleValidations",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24210,src:"12414:16:14",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ScaleValidations_$24210_$",typeString:"type(library ScaleValidations)"}},id:4044,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"validateMultipleOfBasisPoint",nodeType:"MemberAccess",referencedDeclaration:24209,src:"12414:45:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$returns$__$",typeString:"function (uint256) view"}},id:4046,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12414:57:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:4047,nodeType:"ExpressionStatement",src:"12414:57:14"}]},documentation:null,id:4049,implemented:true,kind:"function",modifiers:[],name:"validateProfitFeePercentage",nodeType:"FunctionDefinition",parameters:{id:4033,nodeType:"ParameterList",parameters:[{constant:false,id:4032,name:"_profitFee",nodeType:"VariableDeclaration",scope:4049,src:"12166:18:14",stateVariable:false,storageLocation:"default",typeDescriptions:{
typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4031,name:"uint256",nodeType:"ElementaryTypeName",src:"12166:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"12156:34:14"},returnParameters:{id:4034,nodeType:"ParameterList",parameters:[],src:"12225:0:14"},scope:4367,src:"12120:358:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4083,nodeType:"Block",src:"12893:359:14",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:4061,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4051,src:"12939:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],expression:{argumentTypes:null,id:4059,name:"core",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3639,src:"12924:4:14",typeDescriptions:{typeIdentifier:"t_contract$_ICore_$4746",typeString:"contract ICore"}},id:4060,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"validSets",nodeType:"MemberAccess",referencedDeclaration:4483,src:"12924:14:14",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_address_$returns$_t_bool_$",typeString:"function (address) view external returns (bool)"}},id:4062,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12924:27:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"506572666f726d616e636546656543616c63756c61746f722e63616c63756c617465466565733a2043616c6c6572206d7573742062652076616c696420526562616c616e63696e67536574546f6b656e2e",id:4063,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"12965:83:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_682887404265ad2fef2eae2b6dc95c9ab3d6d8812018af91dfa41c428325c3ec",typeString:'literal_string "PerformanceFeeCalculator.calculateFees: Caller must be valid RebalancingSetToken."'},value:"PerformanceFeeCalculator.calculateFees: Caller must be valid RebalancingSetToken."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_682887404265ad2fef2eae2b6dc95c9ab3d6d8812018af91dfa41c428325c3ec",typeString:'literal_string "PerformanceFeeCalculator.calculateFees: Caller must be valid RebalancingSetToken."'}],id:4058,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"12903:7:14",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:4064,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"12903:155:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:4065,nodeType:"ExpressionStatement",src:"12903:155:14"},{assignments:[4067],declarations:[{constant:false,id:4067,name:"streamingFee",nodeType:"VariableDeclaration",scope:4083,src:"13069:20:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4066,name:"uint256",nodeType:"ElementaryTypeName",src:"13069:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:4071,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:4069,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4051,src:"13114:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:4068,name:"calculateStreamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4112,src:"13092:21:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:4070,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"13092:34:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"13069:57:14"},{assignments:[4073],declarations:[{constant:false,id:4073,name:"profitFee",nodeType:"VariableDeclaration",scope:4083,src:"13137:17:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4072,name:"uint256",nodeType:"ElementaryTypeName",src:"13137:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:4078,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:4075,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4051,src:"13176:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:4076,name:"streamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4067,src:"13189:12:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:4074,name:"calculateProfitFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4173,src:"13157:18:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$_t_uint256_$returns$_t_uint256_$",typeString:"function (address,uint256) view returns (uint256)"}},id:4077,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"13157:45:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"13137:65:14"},{expression:{argumentTypes:null,components:[{argumentTypes:null,id:4079,name:"streamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4067,src:"13221:12:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:4080,name:"profitFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4073,src:"13235:9:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],id:4081,isConstant:false,isInlineArray:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"TupleExpression",src:"13220:25:14",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$",typeString:"tuple(uint256,uint256)"}},functionReturnParameters:4057,id:4082,nodeType:"Return",src:"13213:32:14"}]},documentation:"Verifies caller is valid Set. Calculates and returns streaming and profit fee.\n     * @param  _setAddress          Address of Set to have feeState updated\n@return  uint256             Streaming Fee\n@return  uint256             Profit Fee",id:4084,implemented:true,kind:"function",modifiers:[],name:"calculateFees",nodeType:"FunctionDefinition",parameters:{id:4052,nodeType:"ParameterList",parameters:[{constant:false,id:4051,name:"_setAddress",nodeType:"VariableDeclaration",scope:4084,src:"12798:19:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:4050,name:"address",nodeType:"ElementaryTypeName",src:"12798:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"12788:35:14"},returnParameters:{id:4057,nodeType:"ParameterList",parameters:[{constant:false,id:4054,name:"",nodeType:"VariableDeclaration",scope:4084,src:"12871:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4053,name:"uint256",nodeType:"ElementaryTypeName",src:"12871:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:4056,name:"",nodeType:"VariableDeclaration",scope:4084,src:"12880:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4055,name:"uint256",nodeType:"ElementaryTypeName",src:"12880:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"12870:18:14"},scope:4367,src:"12766:486:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4111,nodeType:"Block",src:"13735:272:14",statements:[{assignments:[4092],declarations:[{constant:false,id:4092,name:"timeSinceLastFee",nodeType:"VariableDeclaration",scope:4111,src:"13745:24:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4091,name:"uint256",nodeType:"ElementaryTypeName",src:"13745:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:4100,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:4097,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4086,src:"13818:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:4096,name:"lastStreamingFeeTimestamp",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4238,src:"13792:25:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:4098,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"13792:38:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:4093,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"13772:5:14",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:4094,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"13772:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:4095,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"13772:19:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:4099,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"13772:59:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"13745:86:14"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:4108,name:"ONE_YEAR_IN_SECONDS",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3631,src:"13980:19:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:4104,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4086,src:"13962:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:4103,name:"streamingFeePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4264,src:"13939:22:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:4105,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"13939:35:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:4101,name:"timeSinceLastFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4092,src:"13918:16:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:4102,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"13918:20:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:4106,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"13918:57:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:4107,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"13918:61:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:4109,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"13918:82:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:4090,id:4110,nodeType:"Return",src:"13911:89:14"}]},documentation:"Calculates streaming fee by multiplying streamingFeePercentage by the elapsed amount of time since the last fee\nwas collected divided by one year in seconds, since the fee is a yearly fee.\n     * @param  _setAddress          Address of Set to have feeState updated\n@return uint256              Streaming fee",id:4112,implemented:true,kind:"function",modifiers:[],name:"calculateStreamingFee",nodeType:"FunctionDefinition",parameters:{id:4087,nodeType:"ParameterList",parameters:[{constant:false,id:4086,name:"_setAddress",nodeType:"VariableDeclaration",scope:4112,src:"13650:19:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:4085,name:"address",nodeType:"ElementaryTypeName",src:"13650:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"13640:35:14"},returnParameters:{id:4090,nodeType:"ParameterList",parameters:[{constant:false,id:4089,name:"",nodeType:"VariableDeclaration",scope:4112,src:"13722:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4088,name:"uint256",nodeType:"ElementaryTypeName",src:"13722:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"13721:9:14"},scope:4367,src:"13610:397:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4172,nodeType:"Block",src:"14799:951:14",statements:[{condition:{argumentTypes:null,arguments:[{argumentTypes:null,id:4122,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4114,src:"14935:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:4121,name:"exceedsProfitFeePeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4209,src:"14912:22:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_bool_$",typeString:"function (address) view returns (bool)"}},id:4123,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"14912:35:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:4170,nodeType:"Block",src:"15711:33:14",statements:[{expression:{argumentTypes:null,hexValue:"30",id:4168,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"15732:1:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},functionReturnParameters:4120,id:4169,nodeType:"Return",src:"15725:8:14"}]},id:4171,nodeType:"IfStatement",src:"14908:836:14",trueBody:{id:4167,nodeType:"Block",src:"14949:756:14",statements:[{assignments:[4125],declarations:[{constant:false,id:4125,name:"rebalancingSetValue",nodeType:"VariableDeclaration",scope:4167,src:"15032:27:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4124,name:"uint256",nodeType:"ElementaryTypeName",src:"15032:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:4131,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:4128,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4114,src:"15107:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:4129,name:"oracleWhiteList",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3641,src:"15120:15:14",typeDescriptions:{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_contract$_IOracleWhiteList_$5003",typeString:"contract IOracleWhiteList"}],expression:{argumentTypes:null,id:4126,name:"SetUSDValuation",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:8452,src:"15062:15:14",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_SetUSDValuation_$8452_$",typeString:"type(library SetUSDValuation)"}},id:4127,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"calculateRebalancingSetValue",nodeType:"MemberAccess",referencedDeclaration:8305,src:"15062:44:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$_t_contract$_IOracleWhiteList_$5003_$returns$_t_uint256_$",typeString:"function (address,contract IOracleWhiteList) view returns (uint256)"}},id:4130,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15062:74:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"15032:104:14"},{assignments:[4133],declarations:[{constant:false,id:4133,name:"postStreamingValue",nodeType:"VariableDeclaration",scope:4167,src:"15150:26:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4132,name:"uint256",nodeType:"ElementaryTypeName",src:"15150:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:4138,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:4135,name:"rebalancingSetValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4125,src:"15207:19:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:4136,name:"_streamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4116,src:"15228:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:4134,name:"calculatePostStreamingValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4193,src:"15179:27:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256,uint256) view returns (uint256)"}},id:4137,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15179:63:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"15150:92:14"},{assignments:[4140],declarations:[{constant:false,id:4140,name:"highWatermark",nodeType:"VariableDeclaration",scope:4167,src:"15256:21:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4139,name:"uint256",nodeType:"ElementaryTypeName",src:"15256:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:4144,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:4142,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4114,src:"15294:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:4141,name:"highWatermark",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4303,src:"15280:13:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:4143,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15280:26:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"15256:50:14"},{assignments:[4146],declarations:[{constant:false,id:4146,name:"gainedValue",nodeType:"VariableDeclaration",scope:4167,src:"15419:19:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4145,name:"uint256",nodeType:"ElementaryTypeName",src:"15419:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:4156,initialValue:{argumentTypes:null,condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:4149,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:4147,name:"postStreamingValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4133,src:"15441:18:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,id:4148,name:"highWatermark",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4140,src:"15462:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"15441:34:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseExpression:{argumentTypes:null,hexValue:"30",id:4154,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"15518:1:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},id:4155,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"Conditional",src:"15441:78:14",trueExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:4152,name:"highWatermark",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4140,src:"15501:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:4150,name:"postStreamingValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4133,src:"15478:18:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:4151,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"15478:22:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:4153,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15478:37:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"15419:100:14"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:4164,name:"rebalancingSetValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4125,src:"15674:19:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:4160,name:"_setAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4114,src:"15656:11:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:4159,name:"profitFeePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4277,src:"15636:19:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:4161,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15636:32:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:4157,name:"gainedValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4146,src:"15620:11:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:4158,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"15620:15:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:4162,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15620:49:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:4163,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:29571,src:"15620:53:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:4165,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"15620:74:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:4120,id:4166,nodeType:"Return",src:"15613:81:14"}]}}]},documentation:"Calculates profit fee net of streaming fee. Value of rebalancing Set is determined then streaming fee subtracted,\nto get postStreamingValue. This value is compared to the highWatermark, if greater than highWatermark multiply by\nprofitFeePercentage and divide by rebalancingSetValue to get inflation from profit fees. If postStreamingValue does\nnot exceed highWatermark then return 0.\n     * @param  _setAddress          Address of Set to have feeState updated\n@param  _streamingFee        Calculated streaming fee percentage\n@return uint256              Streaming fee",id:4173,implemented:true,kind:"function",modifiers:[],name:"calculateProfitFee",nodeType:"FunctionDefinition",parameters:{id:4117,nodeType:"ParameterList",parameters:[{constant:false,id:4114,name:"_setAddress",nodeType:"VariableDeclaration",scope:4173,src:"14683:19:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:4113,name:"address",nodeType:"ElementaryTypeName",src:"14683:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:4116,name:"_streamingFee",nodeType:"VariableDeclaration",scope:4173,src:"14712:21:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4115,name:"uint256",nodeType:"ElementaryTypeName",src:"14712:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"14673:66:14"},returnParameters:{id:4120,nodeType:"ParameterList",parameters:[{constant:false,id:4119,name:"",nodeType:"VariableDeclaration",scope:4173,src:"14786:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4118,name:"uint256",nodeType:"ElementaryTypeName",src:"14786:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"14785:9:14"},scope:4367,src:"14646:1104:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4192,nodeType:"Block",src:"16246:99:14",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:4186,name:"_streamingFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4177,src:"16313:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:4184,name:"_rebalancingSetValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4175,src:"16288:20:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:4185,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"mul",nodeType:"MemberAccess",referencedDeclaration:29547,src:"16288:24:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:4187,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16288:39:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:4188,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"deScale",nodeType:"MemberAccess",referencedDeclaration:23158,src:"16288:47:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256) pure returns (uint256)"}},id:4189,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16288:49:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:4182,name:"_rebalancingSetValue",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4175,src:"16263:20:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:4183,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"16263:24:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",
typeString:"function (uint256,uint256) pure returns (uint256)"}},id:4190,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16263:75:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:4181,id:4191,nodeType:"Return",src:"16256:82:14"}]},documentation:"Calculates Rebalancing Set Token value after streaming fees accounted for.\n     * @param  _rebalancingSetValue         Pre-fee value of Set\n@param  _streamingFee                Calculated streaming fee percentage\n@return  uint256                     Post streaming fee value",id:4193,implemented:true,kind:"function",modifiers:[],name:"calculatePostStreamingValue",nodeType:"FunctionDefinition",parameters:{id:4178,nodeType:"ParameterList",parameters:[{constant:false,id:4175,name:"_rebalancingSetValue",nodeType:"VariableDeclaration",scope:4193,src:"16120:28:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4174,name:"uint256",nodeType:"ElementaryTypeName",src:"16120:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:4177,name:"_streamingFee",nodeType:"VariableDeclaration",scope:4193,src:"16158:21:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4176,name:"uint256",nodeType:"ElementaryTypeName",src:"16158:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"16110:75:14"},returnParameters:{id:4181,nodeType:"ParameterList",parameters:[{constant:false,id:4180,name:"",nodeType:"VariableDeclaration",scope:4193,src:"16233:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4179,name:"uint256",nodeType:"ElementaryTypeName",src:"16233:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"16232:9:14"},scope:4367,src:"16074:271:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4208,nodeType:"Block",src:"16538:76:14",statements:[{expression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:4206,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:4201,name:"_set",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4195,src:"16578:4:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:4200,name:"timeSinceLastProfitFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4225,src:"16555:22:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:4202,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16555:28:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:4204,name:"_set",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4195,src:"16602:4:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:4203,name:"profitFeePeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4290,src:"16586:15:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:4205,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16586:21:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"16555:52:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},functionReturnParameters:4199,id:4207,nodeType:"Return",src:"16548:59:14"}]},documentation:"Checks if time since last profit fee exceeds profitFeePeriod\n     * @return  bool",id:4209,implemented:true,kind:"function",modifiers:[],name:"exceedsProfitFeePeriod",nodeType:"FunctionDefinition",parameters:{id:4196,nodeType:"ParameterList",parameters:[{constant:false,id:4195,name:"_set",nodeType:"VariableDeclaration",scope:4209,src:"16495:12:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:4194,name:"address",nodeType:"ElementaryTypeName",src:"16495:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"16494:14:14"},returnParameters:{id:4199,nodeType:"ParameterList",parameters:[{constant:false,id:4198,name:"",nodeType:"VariableDeclaration",scope:4209,src:"16532:4:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:4197,name:"bool",nodeType:"ElementaryTypeName",src:"16532:4:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"16531:6:14"},scope:4367,src:"16463:151:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4224,nodeType:"Block",src:"16852:73:14",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:4220,name:"_set",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4211,src:"16912:4:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:4219,name:"lastProfitFeeTimestamp",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4251,src:"16889:22:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view returns (uint256)"}},id:4221,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16889:28:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,expression:{argumentTypes:null,id:4216,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30366,src:"16869:5:14",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:4217,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"16869:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:4218,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:29595,src:"16869:19:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:4222,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"16869:49:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:4215,id:4223,nodeType:"Return",src:"16862:56:14"}]},documentation:"Checks if time since last profit fee exceeds profitFeePeriod\n     * @return  uint256     Time since last profit fee accrued",id:4225,implemented:true,kind:"function",modifiers:[],name:"timeSinceLastProfitFee",nodeType:"FunctionDefinition",parameters:{id:4212,nodeType:"ParameterList",parameters:[{constant:false,id:4211,name:"_set",nodeType:"VariableDeclaration",scope:4225,src:"16806:12:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:4210,name:"address",nodeType:"ElementaryTypeName",src:"16806:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"16805:14:14"},returnParameters:{id:4215,nodeType:"ParameterList",parameters:[{constant:false,id:4214,name:"",nodeType:"VariableDeclaration",scope:4225,src:"16843:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4213,name:"uint256",nodeType:"ElementaryTypeName",src:"16843:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"16842:9:14"},scope:4367,src:"16774:151:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4237,nodeType:"Block",src:"17012:64:14",statements:[{expression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:4232,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"17029:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:4234,indexExpression:{argumentTypes:null,id:4233,name:"_set",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4227,src:"17038:4:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"17029:14:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:4235,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"lastStreamingFeeTimestamp",nodeType:"MemberAccess",referencedDeclaration:4383,src:"17029:40:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:4231,id:4236,nodeType:"Return",src:"17022:47:14"}]},documentation:null,id:4238,implemented:true,kind:"function",modifiers:[],name:"lastStreamingFeeTimestamp",nodeType:"FunctionDefinition",parameters:{id:4228,nodeType:"ParameterList",parameters:[{constant:false,id:4227,name:"_set",nodeType:"VariableDeclaration",scope:4238,src:"16966:12:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:4226,name:"address",nodeType:"ElementaryTypeName",src:"16966:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"16965:14:14"},returnParameters:{id:4231,nodeType:"ParameterList",parameters:[{constant:false,id:4230,name:"",nodeType:"VariableDeclaration",scope:4238,src:"17003:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4229,name:"uint256",nodeType:"ElementaryTypeName",src:"17003:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"17002:9:14"},scope:4367,src:"16931:145:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4250,nodeType:"Block",src:"17160:61:14",statements:[{expression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:4245,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"17177:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:4247,indexExpression:{argumentTypes:null,id:4246,name:"_set",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4240,src:"17186:4:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"17177:14:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:4248,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"lastProfitFeeTimestamp",nodeType:"MemberAccess",referencedDeclaration:4381,src:"17177:37:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:4244,id:4249,nodeType:"Return",src:"17170:44:14"}]},documentation:null,id:4251,implemented:true,kind:"function",modifiers:[],name:"lastProfitFeeTimestamp",nodeType:"FunctionDefinition",parameters:{id:4241,nodeType:"ParameterList",parameters:[{constant:false,id:4240,name:"_set",nodeType:"VariableDeclaration",scope:4251,src:"17114:12:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:4239,name:"address",nodeType:"ElementaryTypeName",src:"17114:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"17113:14:14"},returnParameters:{id:4244,nodeType:"ParameterList",parameters:[{constant:false,id:4243,name:"",nodeType:"VariableDeclaration",scope:4251,src:"17151:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4242,name:"uint256",nodeType:"ElementaryTypeName",src:"17151:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"17150:9:14"},scope:4367,src:"17082:139:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4263,nodeType:"Block",src:"17305:61:14",statements:[{expression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:4258,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"17322:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:4260,indexExpression:{argumentTypes:null,id:4259,name:"_set",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4253,src:"17331:4:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"17322:14:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:4261,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"streamingFeePercentage",nodeType:"MemberAccess",referencedDeclaration:4377,src:"17322:37:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:4257,id:4262,nodeType:"Return",src:"17315:44:14"}]},documentation:null,id:4264,implemented:true,kind:"function",modifiers:[],name:"streamingFeePercentage",nodeType:"FunctionDefinition",parameters:{id:4254,nodeType:"ParameterList",parameters:[{constant:false,id:4253,name:"_set",nodeType:"VariableDeclaration",scope:4264,src:"17259:12:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:4252,name:"address",nodeType:"ElementaryTypeName",src:"17259:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"17258:14:14"},returnParameters:{id:4257,nodeType:"ParameterList",parameters:[{constant:false,id:4256,name:"",nodeType:"VariableDeclaration",scope:4264,src:"17296:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4255,name:"uint256",nodeType:"ElementaryTypeName",src:"17296:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"17295:9:14"},scope:4367,src:"17227:139:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4276,nodeType:"Block",src:"17447:58:14",statements:[{expression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:4271,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"17464:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:4273,indexExpression:{argumentTypes:null,id:4272,name:"_set",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4266,src:"17473:4:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"17464:14:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:4274,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"profitFeePercentage",nodeType:"MemberAccess",referencedDeclaration:4375,src:"17464:34:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:4270,id:4275,nodeType:"Return",src:"17457:41:14"}]},documentation:null,id:4277,implemented:true,kind:"function",modifiers:[],name:"profitFeePercentage",nodeType:"FunctionDefinition",parameters:{id:4267,nodeType:"ParameterList",parameters:[{constant:false,id:4266,name:"_set",nodeType:"VariableDeclaration",scope:4277,src:"17401:12:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:4265,name:"address",nodeType:"ElementaryTypeName",src:"17401:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"17400:14:14"},returnParameters:{id:4270,nodeType:"ParameterList",parameters:[{constant:false,id:4269,name:"",nodeType:"VariableDeclaration",scope:4277,src:"17438:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4268,name:"uint256",nodeType:"ElementaryTypeName",src:"17438:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"17437:9:14"},scope:4367,src:"17372:133:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4289,nodeType:"Block",src:"17582:54:14",statements:[{expression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:4284,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"17599:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:4286,indexExpression:{argumentTypes:null,id:4285,name:"_set",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4279,src:"17608:4:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"17599:14:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:4287,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"profitFeePeriod",nodeType:"MemberAccess",referencedDeclaration:4371,src:"17599:30:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:4283,id:4288,nodeType:"Return",src:"17592:37:14"}]},documentation:null,id:4290,implemented:true,kind:"function",modifiers:[],name:"profitFeePeriod",nodeType:"FunctionDefinition",parameters:{id:4280,nodeType:"ParameterList",parameters:[{constant:false,id:4279,name:"_set",nodeType:"VariableDeclaration",scope:4290,src:"17536:12:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:4278,name:"address",nodeType:"ElementaryTypeName",src:"17536:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"17535:14:14"},returnParameters:{id:4283,nodeType:"ParameterList",parameters:[{constant:false,id:4282,name:"",nodeType:"VariableDeclaration",scope:4290,src:"17573:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4281,name:"uint256",nodeType:"ElementaryTypeName",src:"17573:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"17572:9:14"},scope:4367,src:"17511:125:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4302,nodeType:"Block",src:"17710:52:14",statements:[{expression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:4297,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"17727:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:4299,indexExpression:{argumentTypes:null,id:4298,name:"_set",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4292,src:"17736:4:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"17727:14:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:4300,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"highWatermark",nodeType:"MemberAccess",referencedDeclaration:4379,src:"17727:28:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:4296,id:4301,nodeType:"Return",src:"17720:35:14"}]},documentation:null,id:4303,implemented:true,kind:"function",modifiers:[],name:"highWatermark",nodeType:"FunctionDefinition",parameters:{id:4293,nodeType:"ParameterList",parameters:[{constant:false,id:4292,name:"_set",nodeType:"VariableDeclaration",scope:4303,src:"17665:12:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:4291,name:"address",nodeType:"ElementaryTypeName",src:"17665:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"17664:14:14"},returnParameters:{id:4296,nodeType:"ParameterList",parameters:[{constant:false,id:4295,name:"",nodeType:"VariableDeclaration",scope:4303,src:"17701:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4294,name:"uint256",nodeType:"ElementaryTypeName",src:"17701:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"17700:9:14"},scope:4367,src:"17642:120:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4315,nodeType:"Block",src:"17847:63:14",statements:[{expression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:4310,name:"feeState",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3649,src:"17864:8:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_FeeState_$4384_storage_$",typeString:"mapping(address => struct PerformanceFeeLibrary.FeeState storage ref)"}},id:4312,indexExpression:{argumentTypes:null,id:4311,name:"_set",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4305,src:"17873:4:14",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"17864:14:14",typeDescriptions:{typeIdentifier:"t_struct$_FeeState_$4384_storage",typeString:"struct PerformanceFeeLibrary.FeeState storage ref"}},id:4313,isConstant:false,isLValue:true,isPure:false,lValueRequested:false,memberName:"highWatermarkResetPeriod",nodeType:"MemberAccess",referencedDeclaration:4373,src:"17864:39:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:4309,id:4314,nodeType:"Return",src:"17857:46:14"}]},documentation:null,id:4316,implemented:true,kind:"function",modifiers:[],name:"highWatermarkResetPeriod",nodeType:"FunctionDefinition",parameters:{id:4306,nodeType:"ParameterList",parameters:[{constant:false,id:4305,name:"_set",nodeType:"VariableDeclaration",scope:4316,src:"17802:12:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:4304,name:"address",nodeType:"ElementaryTypeName",src:"17802:7:14",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"17801:14:14"},returnParameters:{id:4309,nodeType:"ParameterList",parameters:[{constant:false,id:4308,name:"",nodeType:"VariableDeclaration",scope:4316,src:"17838:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4307,name:"uint256",nodeType:"ElementaryTypeName",src:"17838:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"17837:9:14"},scope:4367,src:"17768:142:14",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:4330,nodeType:"Block",src:"18769:67:14",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:4325,name:"_callData",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4318,src:"18798:9:14",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}},{argumentTypes:null,components:[{argumentTypes:null,id:4326,name:"InitFeeParameters",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3628,src:"18810:17:14",typeDescriptions:{typeIdentifier:"t_type$_t_struct$_InitFeeParameters_$3628_storage_ptr_$",typeString:"type(struct PerformanceFeeCalculator.InitFeeParameters storage pointer)"}}],id:4327,isConstant:false,isInlineArray:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"TupleExpression",src:"18809:19:14",typeDescriptions:{typeIdentifier:"t_type$_t_struct$_InitFeeParameters_$3628_storage_ptr_$",typeString:"type(struct PerformanceFeeCalculator.InitFeeParameters storage pointer)"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"},{typeIdentifier:"t_type$_t_struct$_InitFeeParameters_$3628_storage_ptr_$",typeString:"type(struct PerformanceFeeCalculator.InitFeeParameters storage pointer)"}],expression:{argumentTypes:null,id:4323,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30363,src:"18786:3:14",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:4324,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,memberName:"decode",nodeType:"MemberAccess",referencedDeclaration:null,src:"18786:10:14",typeDescriptions:{typeIdentifier:"t_function_abidecode_pure$__$returns$__$",typeString:"function () pure"}},id:4328,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"18786:43:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory",typeString:"struct PerformanceFeeCalculator.InitFeeParameters memory"}},functionReturnParameters:4322,id:4329,nodeType:"Return",src:"18779:50:14"}]},documentation:"Parses passed in fee parameters from bytestring.\n     * | CallData                     | Location                      |\n|------------------------------|-------------------------------|\n| profitFeePeriod              | 32                            |\n| highWatermarkResetPeriod     | 64                            |\n| profitFeePercentage          | 96                            |\n| streamingFeePercentage       | 128                           |\n     * @param  _callData            Byte string containing fee parameter data\n@return feeParameters        Fee parameters",id:4331,implemented:true,kind:"function",modifiers:[],name:"parsePerformanceFeeCallData",nodeType:"FunctionDefinition",parameters:{id:4319,nodeType:"ParameterList",parameters:[{constant:false,id:4318,name:"_callData",nodeType:"VariableDeclaration",scope:4331,src:"18664:22:14",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes"},typeName:{id:4317,name:"bytes",nodeType:"ElementaryTypeName",src:"18664:5:14",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"18654:38:14"},returnParameters:{id:4322,nodeType:"ParameterList",parameters:[{constant:false,id:4321,name:"",nodeType:"VariableDeclaration",scope:4331,src:"18739:24:14",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_memory_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters"},typeName:{contractScope:null,id:4320,name:"InitFeeParameters",nodeType:"UserDefinedTypeName",referencedDeclaration:3628,src:"18739:17:14",typeDescriptions:{typeIdentifier:"t_struct$_InitFeeParameters_$3628_storage_ptr",typeString:"struct PerformanceFeeCalculator.InitFeeParameters"}},value:null,visibility:"internal"}],src:"18738:26:14"},scope:4367,src:"18618:218:14",stateMutability:"pure",superFunction:null,visibility:"private"},{body:{id:4365,nodeType:"Block",src:"19564:314:14",statements:[{assignments:[4341,4343],declarations:[{constant:false,id:4341,name:"feeType",nodeType:"VariableDeclaration",scope:4365,src:"19588:13:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint8",typeString:"uint8"},typeName:{id:4340,name:"uint8",nodeType:"ElementaryTypeName",src:"19588:5:14",typeDescriptions:{typeIdentifier:"t_uint8",typeString:"uint8"}},value:null,visibility:"internal"},{constant:false,id:4343,name:"feePercentage",nodeType:"VariableDeclaration",scope:4365,src:"19615:21:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4342,name:"uint256",nodeType:"ElementaryTypeName",src:"19615:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:4351,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:4346,name:"_callData",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4333,src:"19661:9:14",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}},{argumentTypes:null,components:[{argumentTypes:null,id:4347,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"19673:5:14",typeDescriptions:{typeIdentifier:"t_type$_t_uint8_$",typeString:"type(uint8)"},typeName:"uint8"},{argumentTypes:null,id:4348,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"19680:7:14",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint256"}],id:4349,isConstant:false,isInlineArray:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"TupleExpression",src:"19672:16:14",typeDescriptions:{typeIdentifier:"t_tuple$_t_type$_t_uint8_$_$_t_type$_t_uint256_$_$",typeString:"tuple(type(uint8),type(uint256))"
}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"},{typeIdentifier:"t_tuple$_t_type$_t_uint8_$_$_t_type$_t_uint256_$_$",typeString:"tuple(type(uint8),type(uint256))"}],expression:{argumentTypes:null,id:4344,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30363,src:"19649:3:14",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:4345,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,memberName:"decode",nodeType:"MemberAccess",referencedDeclaration:null,src:"19649:10:14",typeDescriptions:{typeIdentifier:"t_function_abidecode_pure$__$returns$__$",typeString:"function () pure"}},id:4350,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"19649:40:14",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint8_$_t_uint256_$",typeString:"tuple(uint8,uint256)"}},nodeType:"VariableDeclarationStatement",src:"19574:115:14"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint8",typeString:"uint8"},id:4355,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:4353,name:"feeType",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4341,src:"19721:7:14",typeDescriptions:{typeIdentifier:"t_uint8",typeString:"uint8"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,hexValue:"32",id:4354,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"19731:1:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_2_by_1",typeString:"int_const 2"},value:"2"},src:"19721:11:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"506572666f726d616e636546656543616c63756c61746f722e70617273654e657746656543616c6c446174613a20466565207479706520696e76616c6964",id:4356,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"19746:64:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_b7fe45a564e4f2fc16740fa2e27e4df08f6873b29de4eb34c32a212a93324c8a",typeString:'literal_string "PerformanceFeeCalculator.parseNewFeeCallData: Fee type invalid"'},value:"PerformanceFeeCalculator.parseNewFeeCallData: Fee type invalid"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_b7fe45a564e4f2fc16740fa2e27e4df08f6873b29de4eb34c32a212a93324c8a",typeString:'literal_string "PerformanceFeeCalculator.parseNewFeeCallData: Fee type invalid"'}],id:4352,name:"require",nodeType:"Identifier",overloadedDeclarations:[30379,30380],referencedDeclaration:30380,src:"19700:7:14",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:4357,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"19700:120:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:4358,nodeType:"ExpressionStatement",src:"19700:120:14"},{expression:{argumentTypes:null,components:[{argumentTypes:null,arguments:[{argumentTypes:null,id:4360,name:"feeType",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4341,src:"19847:7:14",typeDescriptions:{typeIdentifier:"t_uint8",typeString:"uint8"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint8",typeString:"uint8"}],id:4359,name:"FeeType",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3583,src:"19839:7:14",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_FeeType_$3583_$",typeString:"type(enum PerformanceFeeCalculator.FeeType)"}},id:4361,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"19839:16:14",typeDescriptions:{typeIdentifier:"t_enum$_FeeType_$3583",typeString:"enum PerformanceFeeCalculator.FeeType"}},{argumentTypes:null,id:4362,name:"feePercentage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:4343,src:"19857:13:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],id:4363,isConstant:false,isInlineArray:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"TupleExpression",src:"19838:33:14",typeDescriptions:{typeIdentifier:"t_tuple$_t_enum$_FeeType_$3583_$_t_uint256_$",typeString:"tuple(enum PerformanceFeeCalculator.FeeType,uint256)"}},functionReturnParameters:4339,id:4364,nodeType:"Return",src:"19831:40:14"}]},documentation:"Parses passed in fee parameters from bytestring. If passed feeType number exceeds number of\n enum items function will revert.\n     * | CallData                     | Location                      |\n|------------------------------|-------------------------------|\n| feeType                      | 32                            |\n| feePercentage                | 64                            |\n     * @param  _callData            Byte string containing fee parameter data\n@return feeParameters        Fee parameters",id:4366,implemented:true,kind:"function",modifiers:[],name:"parseNewFeeCallData",nodeType:"FunctionDefinition",parameters:{id:4334,nodeType:"ParameterList",parameters:[{constant:false,id:4333,name:"_callData",nodeType:"VariableDeclaration",scope:4366,src:"19467:22:14",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes"},typeName:{id:4332,name:"bytes",nodeType:"ElementaryTypeName",src:"19467:5:14",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"19457:38:14"},returnParameters:{id:4339,nodeType:"ParameterList",parameters:[{constant:false,id:4336,name:"",nodeType:"VariableDeclaration",scope:4366,src:"19542:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_enum$_FeeType_$3583",typeString:"enum PerformanceFeeCalculator.FeeType"},typeName:{contractScope:null,id:4335,name:"FeeType",nodeType:"UserDefinedTypeName",referencedDeclaration:3583,src:"19542:7:14",typeDescriptions:{typeIdentifier:"t_enum$_FeeType_$3583",typeString:"enum PerformanceFeeCalculator.FeeType"}},value:null,visibility:"internal"},{constant:false,id:4338,name:"",nodeType:"VariableDeclaration",scope:4366,src:"19551:7:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:4337,name:"uint256",nodeType:"ElementaryTypeName",src:"19551:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"19541:18:14"},scope:4367,src:"19429:449:14",stateMutability:"pure",superFunction:null,visibility:"private"}],scope:4368,src:"1659:18221:14"}],src:"597:19283:14"},compiler:{name:"solc",version:"0.5.7+commit.6da8b019.Linux.g++"},networks:{},schemaVersion:"3.0.23",updatedAt:"2020-04-07T04:29:24.436Z",devdoc:{author:"Set Protocol * Smart contract that stores and returns fees (represented as scaled decimal values). Fees are determined based on performance of the Set and a streaming fee. Set values can be denominated in any any asset based on oracle white list used in deploy.",methods:{constructor:{params:{_core:"Core instance",_maximumProfitFeePercentage:"Maximum percent of profit fee scaled by 1e18                                             (e.g. 100% = 1e18 and 1% = 1e16)",_maximumStreamingFeePercentage:"Maximum percent of streaming fee scaled by 1e18                                             (e.g. 100% = 1e18 and 1% = 1e16)",_oracleWhiteList:"Oracle white list instance"}},"getCalculatedFees(address)":{params:{_setAddress:"Address of Set to get fees"},"return":"uint256             Streaming Feeuint256             Profit Fee"}},title:"PerformanceFeeCalculator"},userdoc:{methods:{constructor:"Constructor function for PerformanceFeeCalculator","getCalculatedFees(address)":{notice:"Returns calculated streaming and profit fee."}}}};