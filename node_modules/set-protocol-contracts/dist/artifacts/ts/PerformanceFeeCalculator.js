"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PerformanceFeeCalculator={contractName:"PerformanceFeeCalculator",abi:[{constant:true,inputs:[],name:"maximumProfitFeePercentage",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"maximumStreamingFeePercentage",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"oracleWhiteList",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[{name:"",type:"address"}],name:"feeState",outputs:[{name:"profitFeePeriod",type:"uint256"},{name:"highWatermarkResetPeriod",type:"uint256"},{name:"profitFeePercentage",type:"uint256"},{name:"streamingFeePercentage",type:"uint256"},{name:"highWatermark",type:"uint256"},{name:"lastProfitFeeTimestamp",type:"uint256"},{name:"lastStreamingFeeTimestamp",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"core",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{inputs:[{name:"_core",type:"address"},{name:"_oracleWhiteList",type:"address"},{name:"_maximumProfitFeePercentage",type:"uint256"},{name:"_maximumStreamingFeePercentage",type:"uint256"}],payable:false,stateMutability:"nonpayable",type:"constructor"},{anonymous:false,inputs:[{indexed:true,name:"rebalancingSetToken",type:"address"},{indexed:false,name:"newHighWatermark",type:"uint256"},{indexed:false,name:"profitFee",type:"uint256"},{indexed:false,name:"streamingFee",type:"uint256"}],name:"FeeActualization",type:"event"},{anonymous:false,inputs:[{indexed:true,name:"rebalancingSetToken",type:"address"},{indexed:false,name:"profitFeePeriod",type:"uint256"},{indexed:false,name:"highWatermarkResetPeriod",type:"uint256"},{indexed:false,name:"profitFeePercentage",type:"uint256"},{indexed:false,name:"streamingFeePercentage",type:"uint256"},{indexed:false,name:"highWatermark",type:"uint256"},{indexed:false,name:"lastProfitFeeTimestamp",type:"uint256"},{indexed:false,name:"lastStreamingFeeTimestamp",type:"uint256"}],name:"FeeInitialization",type:"event"},{anonymous:false,inputs:[{indexed:true,name:"rebalancingSetToken",type:"address"},{indexed:false,name:"feeType",type:"uint8"},{indexed:false,name:"newFeePercentage",type:"uint256"}],name:"FeeAdjustment",type:"event"},{constant:false,inputs:[{name:"_feeCalculatorData",type:"bytes"}],name:"initialize",outputs:[],payable:false,stateMutability:"nonpayable",type:"function"},{constant:true,inputs:[],name:"getFee",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[{name:"_setAddress",type:"address"}],name:"getCalculatedFees",outputs:[{name:"",type:"uint256"},{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:false,inputs:[],name:"updateAndGetFee",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"nonpayable",type:"function"},{constant:false,inputs:[{name:"_newFeeData",type:"bytes"}],name:"adjustFee",outputs:[],payable:false,stateMutability:"nonpayable",type:"function"}],metadata:'{"compiler":{"version":"0.5.7+commit.6da8b019"},"language":"Solidity","output":{"abi":[{"constant":false,"inputs":[],"name":"updateAndGetFee","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"maximumProfitFeePercentage","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_feeCalculatorData","type":"bytes"}],"name":"initialize","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"maximumStreamingFeePercentage","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_setAddress","type":"address"}],"name":"getCalculatedFees","outputs":[{"name":"","type":"uint256"},{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"oracleWhiteList","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newFeeData","type":"bytes"}],"name":"adjustFee","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getFee","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"feeState","outputs":[{"name":"profitFeePeriod","type":"uint256"},{"name":"highWatermarkResetPeriod","type":"uint256"},{"name":"profitFeePercentage","type":"uint256"},{"name":"streamingFeePercentage","type":"uint256"},{"name":"highWatermark","type":"uint256"},{"name":"lastProfitFeeTimestamp","type":"uint256"},{"name":"lastStreamingFeeTimestamp","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"core","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_core","type":"address"},{"name":"_oracleWhiteList","type":"address"},{"name":"_maximumProfitFeePercentage","type":"uint256"},{"name":"_maximumStreamingFeePercentage","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"rebalancingSetToken","type":"address"},{"indexed":false,"name":"newHighWatermark","type":"uint256"},{"indexed":false,"name":"profitFee","type":"uint256"},{"indexed":false,"name":"streamingFee","type":"uint256"}],"name":"FeeActualization","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"rebalancingSetToken","type":"address"},{"indexed":false,"name":"profitFeePeriod","type":"uint256"},{"indexed":false,"name":"highWatermarkResetPeriod","type":"uint256"},{"indexed":false,"name":"profitFeePercentage","type":"uint256"},{"indexed":false,"name":"streamingFeePercentage","type":"uint256"},{"indexed":false,"name":"highWatermark","type":"uint256"},{"indexed":false,"name":"lastProfitFeeTimestamp","type":"uint256"},{"indexed":false,"name":"lastStreamingFeeTimestamp","type":"uint256"}],"name":"FeeInitialization","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"rebalancingSetToken","type":"address"},{"indexed":false,"name":"feeType","type":"uint8"},{"indexed":false,"name":"newFeePercentage","type":"uint256"}],"name":"FeeAdjustment","type":"event"}],"devdoc":{"author":"Set Protocol * Smart contract that stores and returns fees (represented as scaled decimal values). Fees are determined based on performance of the Set and a streaming fee. Set values can be denominated in any any asset based on oracle white list used in deploy.","methods":{"constructor":{"params":{"_core":"Core instance","_maximumProfitFeePercentage":"Maximum percent of profit fee scaled by 1e18                                             (e.g. 100% = 1e18 and 1% = 1e16)","_maximumStreamingFeePercentage":"Maximum percent of streaming fee scaled by 1e18                                             (e.g. 100% = 1e18 and 1% = 1e16)","_oracleWhiteList":"Oracle white list instance"}},"getCalculatedFees(address)":{"params":{"_setAddress":"Address of Set to get fees"},"return":"uint256             Streaming Feeuint256             Profit Fee"}},"title":"PerformanceFeeCalculator"},"userdoc":{"methods":{"constructor":"Constructor function for PerformanceFeeCalculator","getCalculatedFees(address)":{"notice":"Returns calculated streaming and profit fee."}}}},"settings":{"compilationTarget":{"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/fee-calculators/PerformanceFeeCalculator.sol":"PerformanceFeeCalculator"},"evmVersion":"byzantium","libraries":{},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/fee-calculators/PerformanceFeeCalculator.sol":{"keccak256":"0xfe510f9e6fbcb3cbb8ec73b23f841e9a6edf321711a336293726fff5e8eb7947","urls":["bzzr://2d8a44635b98ab9a6357b6e8f519f22bd271776e4486119c706607b638b3d20e"]},"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/fee-calculators/lib/PerformanceFeeLibrary.sol":{"keccak256":"0xe080b6c950b013ee7780ba0bdad4b4e1eed00d4387f2a91b1fc8362d5f8cbfb8","urls":["bzzr://819d12664c009c2ec9f93bd781d0e7cdf78048d5e83947e4eba5776e72320a49"]},"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/interfaces/ICore.sol":{"keccak256":"0x5dc3db4398630ea52d2a40c9ddfa89d94e65c2770a12bab4d2a5c8eb573fb0a0","urls":["bzzr://25e90b53f61b388e0950b808e2296f82d427b66cfd6021212713436b2a592e31"]},"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/interfaces/IFeeCalculator.sol":{"keccak256":"0xfdce9b333367bfed8f379738b0eabfe4be0045db735e9f24493de09729593d4d","urls":["bzzr://d2fa7438b492f4f08009810e3e9a2e2c22a429c307562e3f5274d4bfe2d21734"]},"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/interfaces/ILiquidator.sol":{"keccak256":"0x9d1e66d56cd51d14787cce5ff8fb378eb6a0bb704e7102d7c4eda5de7f585af3","urls":["bzzr://c44220025ac21fda1dda68e236572c5c4f82bf53ccf504a020487b8c746c7b26"]},"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/interfaces/IOracleWhiteList.sol":{"keccak256":"0xc4623b7082c6e017d1f820a05289a71d4262c01444ff1571e92f64a4e82662af","urls":["bzzr://c11cc5b2b50c5e708a09b10adf350e9ea3d3427cc2f199516db4ae9be498aaac"]},"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/interfaces/IRebalancingSetToken.sol":{"keccak256":"0xe7356a7b0f0cc95d9526395d776f523a48fd65618730d67b4f31f20ffbd380da","urls":["bzzr://605a33a818eff7ce3370f25fccb751f61c066b4db0772605a2215d1357d68072"]},"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/interfaces/IRebalancingSetTokenV2.sol":{"keccak256":"0x46c9dc7c09957eaa4f896b33d8d25ff5268e710172330f033379eed62a052ace","urls":["bzzr://c5b5cdc4e58c0905a03ef70954ac23eefe4776c243049f37e7b93cd8277bb7cb"]},"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/interfaces/ISetToken.sol":{"keccak256":"0xfa6c0c07f8394d89b6b8f72e15778f8452a9341acb20cebb8421f3522aaca1bd","urls":["bzzr://ccf23bb78fd507bf8cbf5cf7ac2a660a1463b87a3689196e42b8f6862d1a6b11"]},"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/lib/Rebalance.sol":{"keccak256":"0x74ffa689d93ced6c6e0377a35ec1274241b6191b5aaac5576ada379ac3840286","urls":["bzzr://25bdda3f1f5adfa2c83c760c44993d250cd2df037360f0018d22d268df79e887"]},"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/lib/RebalancingLibrary.sol":{"keccak256":"0x7f9dd2f95b2ee71a98b94cb9b0df15874aa134e7480d04a1fcf36aff166a55f4","urls":["bzzr://f43a5563ec5df095151eee30cf7a0941b5a971917c27c7b34d9586b36563ab5b"]},"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/lib/SetMath.sol":{"keccak256":"0x4c6762ad3d11c03889df48cc3b26bd199f958deffa651ec30655cd1654a47303","urls":["bzzr://b8e968dd2840d9586babe7852589abff3972135fff299285eaafd31687ae4385"]},"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/liquidators/impl/SetUSDValuation.sol":{"keccak256":"0xb0b518c3a5f80e3f08df8157fb4dda48e1d48d2fa1c7149ee2e52bd21b1e8916","urls":["bzzr://b36893ff192fe43a9ed50161f5b616ed63b9fdeeb0b50b8512f19a84306380e0"]},"openzeppelin-solidity/contracts/math/Math.sol":{"keccak256":"0x775160984ceb0931bf67e718fb23afd6fc2a5d38a6e2378ebb438a039ed2269e","urls":["bzzr://209e27ad1c13e3e9b157915e0269ee4c3b6f0a494660dcc4acf1faf102e1a7ad"]},"openzeppelin-solidity/contracts/math/SafeMath.sol":{"keccak256":"0xc2a200a877c4a9b2475c246c54ffecc69ffde3e11af83319c63c2dc5458bac80","urls":["bzzr://c8876e2c39b60f155d748d71d715c8f3903fae5a405ac599adcb6ad2f9a583f9"]},"openzeppelin-solidity/contracts/token/ERC20/ERC20Detailed.sol":{"keccak256":"0xa60f7f7ce98ca2d75c8e02da982d3fe91176269fdab2589bbbb7cc65f2d7c9d3","urls":["bzzr://5edd2c9be304a1e8ed055e243daba5345f242008164f9a0565c33197b860323b"]},"openzeppelin-solidity/contracts/token/ERC20/IERC20.sol":{"keccak256":"0x59e7df16169a498cb8837963b2f5461d88e63bd1eb6c7d58b814d76b84ccbe61","urls":["bzzr://e572c9c4e02e37349702451bf3b5dcbbc86a19da5a51695b5b3e1bfe1e7825dc"]},"set-protocol-contract-utils/contracts/lib/AddressArrayUtils.sol":{"keccak256":"0xb716eab4e8c5a336a2f19078928530829af097912bd1b925644f914b63601f08","urls":["bzzr://d8a21d39779beb316adb5180d08dcba1941eeccd9412ff08feb21a631c18c269"]},"set-protocol-contract-utils/contracts/lib/CommonMath.sol":{"keccak256":"0x3d1d08c6efc2a973fe2c02ddcb02fd99a8c8eb75f74dcbd93e8e15864eee2b6b","urls":["bzzr://580815dd1cf648a4521d923e59087de21143d9c48115ab71579a1f5a8f3d36af"]},"set-protocol-contract-utils/contracts/lib/ScaleValidations.sol":{"keccak256":"0xba602c9dda228b4552744ef0ba26329a3ada2610c42cb085a373d873d58d1391","urls":["bzzr://78110cdd43a9f5b4092cb51867e79da62e6d8b324ffb24d0dd448ad3e27048ee"]},"set-protocol-oracles/contracts/meta-oracles/interfaces/IOracle.sol":{"keccak256":"0xeb5a447a0b1ef47547ce12a91b72412880edb9690aa9bcd8746fc3a379f2fbe9","urls":["bzzr://261675b916b84f58bea71ec28c4f711291053174ddf47e860c26daaee506744a"]}},"version":1}',bytecode:"0x60806040523480156200001157600080fd5b5060405160808062001a2e833981018060405262000033919081019062000095565b60008054600160a060020a03958616600160a060020a03199182161790915560018054949095169316929092179092556002919091556003556200012e565b600062000080825162000112565b9392505050565b60006200008082516200012b565b60008060008060808587031215620000ac57600080fd5b6000620000ba878762000072565b9450506020620000cd8782880162000072565b9350506040620000e08782880162000087565b9250506060620000f38782880162000087565b91505092959194509250565b60006200010c826200011f565b92915050565b60006200010c82620000ff565b600160a060020a031690565b90565b6118f0806200013e6000396000f3fe608060405234801561001057600080fd5b50600436106100a25760003560e060020a90048063aa6f60821161006a578063aa6f60821461010b578063cbf1c35414610120578063ced72f8714610133578063ec778ce51461013b578063f2f4eb2614610161576100a2565b806320f55404146100a7578063432352a7146100c5578063439fab91146100cd57806388a980a5146100e2578063a1256df5146100ea575b600080fd5b6100af610169565b6040516100bc919061177a565b60405180910390f35b6100af6101e1565b6100e06100db36600461125e565b6101e7565b005b6100af6102ed565b6100fd6100f836600461119a565b6102f3565b6040516100bc929190611788565b61011361030e565b6040516100bc91906116e1565b6100e061012e36600461125e565b61031d565b6100af610403565b61014e61014936600461119a565b610426565b6040516100bc97969594939291906117be565b610113610463565b600080600061017733610472565b91509150610186338383610559565b337f1edea7c08dbf1cb2c987fac9e8fa948aae22ffc7e55bc8fad4309e6b131b96116101b182610611565b83856040516101c293929190611796565b60405180910390a26101da828263ffffffff61063016565b9250505090565b60025481565b6101ef610f83565b61022e83838080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061064b92505050565b905061023981610667565b600154600090610253903390600160a060020a03166106ac565b3360008181526004602081815260409283902087518082559188015160018201819055888501516002830181905560608a015160038401819055426005850181905560068501819055958401899055955197985091967fedbbc4d020404555be82745a783629a4aafb166b302c5647028eed1ddae14fe3956102de9592939290918a919081906117be565b60405180910390a25050505050565b60035481565b60008060008061030285610472565b90945092505050915091565b600154600160a060020a031681565b60008061035f84848080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061085492505050565b9092509050600082600181111561037257fe5b141561039b57610381816108b1565b3360009081526004602052604090206003018190556103ba565b6103a4816108df565b3360009081526004602052604090206002018190555b33600160a060020a03167fc3fcc939af00cbf0f637c1906f3cada46c729e65b3e3c3541bbadefc4668323983836040516103f59291906116ef565b60405180910390a250505050565b600080600061041133610472565b90925090506101da828263ffffffff61063016565b6004602081905260009182526040909120805460018201546002830154600384015494840154600585015460069095015493959294919390919087565b600054600160a060020a031681565b600080546040517ffef3ee730000000000000000000000000000000000000000000000000000000081528291600160a060020a03169063fef3ee73906104bc9086906004016116d3565b60206040518083038186803b1580156104d457600080fd5b505afa1580156104e8573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061050c9190810190611240565b6105345760405160e560020a62461bcd02815260040161052b9061173a565b60405180910390fd5b600061053f84610904565b9050600061054d858361094a565b91935090915050915091565b600160a060020a03808416600090815260046020526040812042600690910155600154909161058a918691166106ac565b9050600061059882856109d6565b905082156105ca57600160a060020a03851660009081526004602081905260409091204260058201550181905561060a565b6105d385610a00565b6105dc86610a1e565b1061060a57600160a060020a0385166000908152600460208190526040909120908101829055426005909101555b5050505050565b600160a060020a03166000908152600460208190526040909120015490565b60008282018381101561064257600080fd5b90505b92915050565b610653610f83565b8180602001905161064591908101906112be565b61067481606001516108b1565b61068181604001516108df565b8051602082015110156106a95760405160e560020a62461bcd02815260040161052b9061170a565b50565b600080839050600081600160a060020a0316630193aea26040518163ffffffff1660e060020a02815260040160206040518083038186803b1580156106f057600080fd5b505afa158015610704573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061072891908101906112dc565b9050600082600160a060020a03166342a7cfd56040518163ffffffff1660e060020a02815260040160206040518083038186803b15801561076857600080fd5b505afa15801561077c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506107a091908101906112dc565b9050600083600160a060020a03166330b866276040518163ffffffff1660e060020a02815260040160206040518083038186803b1580156107e057600080fd5b505afa1580156107f4573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061081891908101906112a0565b905060006108268288610a2c565b90506108488361083c838763ffffffff610d8f16565b9063ffffffff610db616565b98975050505050505050565b6000806000808480602001905161086e9190810190611318565b9150915060028260ff16106108985760405160e560020a62461bcd02815260040161052b9061175a565b8160ff1660018111156108a757fe5b9350915050915091565b6003548111156108d65760405160e560020a62461bcd02815260040161052b9061174a565b6106a981610dd8565b6002548111156108d65760405160e560020a62461bcd02815260040161052b9061176a565b60008061092061091384610e0e565b429063ffffffff610e2c16565b90506109436301e187e061083c61093686610e41565b849063ffffffff610d8f16565b9392505050565b600061095583610e5f565b156109ce57600154600090610974908590600160a060020a03166106ac565b9050600061098282856109d6565b9050600061098f86610611565b905060008183116109a15760006109b1565b6109b1838363ffffffff610e2c16565b90506109c38461083c6109368a610e7a565b945050505050610645565b506000610645565b60006106426109f36109ee858563ffffffff610d8f16565b610e98565b849063ffffffff610e2c16565b600160a060020a031660009081526004602052604090206001015490565b600061064561091383610eb2565b60008060009050606084600160a060020a03166399d50d5d6040518163ffffffff1660e060020a02815260040160006040518083038186803b158015610a7157600080fd5b505afa158015610a85573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610aad91908101906111d6565b9050606085600160a060020a031663027aa9f56040518163ffffffff1660e060020a02815260040160006040518083038186803b158015610aed57600080fd5b505afa158015610b01573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610b29919081019061120b565b9050600086600160a060020a03166342a7cfd56040518163ffffffff1660e060020a02815260040160206040518083038186803b158015610b6957600080fd5b505afa158015610b7d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610ba191908101906112dc565b905060005b8351811015610d83576000848281518110610bbd57fe5b60200260200101519050600088600160a060020a03166339477363836040518263ffffffff1660e060020a028152600401610bf891906116d3565b60206040518083038186803b158015610c1057600080fd5b505afa158015610c24573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610c4891908101906111b8565b9050600081600160a060020a03166357de26a46040518163ffffffff1660e060020a02815260040160206040518083038186803b158015610c8857600080fd5b505afa158015610c9c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610cc091908101906112dc565b9050600083600160a060020a031663313ce5676040518163ffffffff1660e060020a02815260040160206040518083038186803b158015610d0057600080fd5b505afa158015610d14573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610d3891908101906112fa565b60ff1690506000610d5e83888a8981518110610d5057fe5b602002602001015185610ed0565b9050610d708a8263ffffffff61063016565b99505060019094019350610ba692505050565b50929695505050505050565b600082610d9e57506000610645565b82820282848281610dab57fe5b041461064257600080fd5b6000808211610dc457600080fd5b6000828481610dcf57fe5b04949350505050565b610dee81655af3107a400063ffffffff610f3516565b156106a95760405160e560020a62461bcd02815260040161052b9061171a565b600160a060020a031660009081526004602052604090206006015490565b600082821115610e3b57600080fd5b50900390565b600160a060020a031660009081526004602052604090206003015490565b6000610e6a82610f52565b610e7383610a1e565b1192915050565b600160a060020a031660009081526004602052604090206002015490565b600061064582670de0b6b3a764000063ffffffff610db616565b600160a060020a031660009081526004602052604090206005015490565b6000600a82900a81610eeb670de0b6b3a76400008688610f6d565b90506000610f038361083c8a8563ffffffff610d8f16565b905060008111610f285760405160e560020a62461bcd02815260040161052b9061172a565b925050505b949350505050565b600081610f4157600080fd5b818381610f4a57fe5b069392505050565b600160a060020a031660009081526004602052604090205490565b6000610f2d8261083c868663ffffffff610d8f16565b6040518060800160405280600081526020016000815260200160008152602001600081525090565b6000610642823561186b565b6000610642825161186b565b600082601f830112610fd457600080fd5b8151610fe7610fe282611841565b61181a565b9150818183526020840193506020810190508385602084028201111561100c57600080fd5b60005b8381101561103857816110228882610fb7565b845250602092830192919091019060010161100f565b5050505092915050565b600082601f83011261105357600080fd5b8151611061610fe282611841565b9150818183526020840193506020810190508385602084028201111561108657600080fd5b60005b83811015611038578161109c8882611182565b8452506020928301929190910190600101611089565b60006106428251611895565b60008083601f8401126110d057600080fd5b50813567ffffffffffffffff8111156110e857600080fd5b60208301915083600182028301111561110057600080fd5b9250929050565b6000610642825161189a565b60006080828403121561112557600080fd5b61112f608061181a565b9050600061113d8484611182565b825250602061114e84848301611182565b602083015250604061116284828501611182565b604083015250606061117684828501611182565b60608301525092915050565b60006106428251611892565b600061064282516118a5565b6000602082840312156111ac57600080fd5b6000610f2d8484610fab565b6000602082840312156111ca57600080fd5b6000610f2d8484610fb7565b6000602082840312156111e857600080fd5b815167ffffffffffffffff8111156111ff57600080fd5b610f2d84828501610fc3565b60006020828403121561121d57600080fd5b815167ffffffffffffffff81111561123457600080fd5b610f2d84828501611042565b60006020828403121561125257600080fd5b6000610f2d84846110b2565b6000806020838503121561127157600080fd5b823567ffffffffffffffff81111561128857600080fd5b611294858286016110be565b92509250509250929050565b6000602082840312156112b257600080fd5b6000610f2d8484611107565b6000608082840312156112d057600080fd5b6000610f2d8484611113565b6000602082840312156112ee57600080fd5b6000610f2d8484611182565b60006020828403121561130c57600080fd5b6000610f2d848461118e565b6000806040838503121561132b57600080fd5b6000611337858561118e565b925050602061134885828601611182565b9150509250929050565b61135b8161186b565b82525050565b61135b8161189a565b61135b816118ab565b6000611380606983611862565b7f506572666f726d616e636546656543616c63756c61746f722e76616c6964617481527f65466565506172616d65746572733a2046656520636f6c6c656374696f6e206660208201527f72657175656e6379206d75737420657863656564206869676857617465726d6160408201527f726b2072657365742e0000000000000000000000000000000000000000000000606082015260800192915050565b600061142b601983611862565b7f4d757374206265206d756c7469706c65206f6620302e30312500000000000000815260200192915050565b6000611464604483611862565b7f53657455534456616c756174696f6e2e63616c63756c617465546f6b656e416c81527f6c6f636174696f6e416d6f756e745553443a2056616c7565206d75737420626560208201527f203e203000000000000000000000000000000000000000000000000000000000604082015260600192915050565b60006114e9605183611862565b7f506572666f726d616e636546656543616c63756c61746f722e63616c63756c6181527f7465466565733a2043616c6c6572206d7573742062652076616c69642052656260208201527f616c616e63696e67536574546f6b656e2e000000000000000000000000000000604082015260600192915050565b600061156e605783611862565b7f506572666f726d616e636546656543616c63756c61746f722e76616c6964617481527f6553747265616d696e6746656550657263656e746167653a2053747265616d6960208201527f6e67206665652065786365656473206d6178696d756d2e000000000000000000604082015260600192915050565b60006115f3603e83611862565b7f506572666f726d616e636546656543616c63756c61746f722e70617273654e6581527f7746656543616c6c446174613a20466565207479706520696e76616c69640000602082015260400192915050565b6000611652605183611862565b7f506572666f726d616e636546656543616c63756c61746f722e76616c6964617481527f6550726f66697446656550657263656e746167653a2050726f6669742066656560208201527f2065786365656473206d6178696d756d2e000000000000000000000000000000604082015260600192915050565b61135b81611892565b602081016106458284611352565b602081016106458284611361565b604081016116fd828561136a565b61094360208301846116ca565b6020808252810161064581611373565b602080825281016106458161141e565b6020808252810161064581611457565b60208082528101610645816114dc565b6020808252810161064581611561565b60208082528101610645816115e6565b6020808252810161064581611645565b6020810161064582846116ca565b604081016116fd82856116ca565b606081016117a482866116ca565b6117b160208301856116ca565b610f2d60408301846116ca565b60e081016117cc828a6116ca565b6117d960208301896116ca565b6117e660408301886116ca565b6117f360608301876116ca565b61180060808301866116ca565b61180d60a08301856116ca565b61084860c08301846116ca565b60405181810167ffffffffffffffff8111828210171561183957600080fd5b604052919050565b600067ffffffffffffffff82111561185857600080fd5b5060209081020190565b90815260200190565b600061064582611886565b60006002821061188257fe5b5090565b600160a060020a031690565b90565b151590565b60006106458261186b565b60ff1690565b60006106458261187656fea265627a7a723058201e55abf09578137aa84019b2bfeceff9e74bc4e445d39f73be6b959f880b3c416c6578706572696d656e74616cf50037",deployedBytecode:"0x608060405234801561001057600080fd5b50600436106100a25760003560e060020a90048063aa6f60821161006a578063aa6f60821461010b578063cbf1c35414610120578063ced72f8714610133578063ec778ce51461013b578063f2f4eb2614610161576100a2565b806320f55404146100a7578063432352a7146100c5578063439fab91146100cd57806388a980a5146100e2578063a1256df5146100ea575b600080fd5b6100af610169565b6040516100bc919061177a565b60405180910390f35b6100af6101e1565b6100e06100db36600461125e565b6101e7565b005b6100af6102ed565b6100fd6100f836600461119a565b6102f3565b6040516100bc929190611788565b61011361030e565b6040516100bc91906116e1565b6100e061012e36600461125e565b61031d565b6100af610403565b61014e61014936600461119a565b610426565b6040516100bc97969594939291906117be565b610113610463565b600080600061017733610472565b91509150610186338383610559565b337f1edea7c08dbf1cb2c987fac9e8fa948aae22ffc7e55bc8fad4309e6b131b96116101b182610611565b83856040516101c293929190611796565b60405180910390a26101da828263ffffffff61063016565b9250505090565b60025481565b6101ef610f83565b61022e83838080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061064b92505050565b905061023981610667565b600154600090610253903390600160a060020a03166106ac565b3360008181526004602081815260409283902087518082559188015160018201819055888501516002830181905560608a015160038401819055426005850181905560068501819055958401899055955197985091967fedbbc4d020404555be82745a783629a4aafb166b302c5647028eed1ddae14fe3956102de9592939290918a919081906117be565b60405180910390a25050505050565b60035481565b60008060008061030285610472565b90945092505050915091565b600154600160a060020a031681565b60008061035f84848080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061085492505050565b9092509050600082600181111561037257fe5b141561039b57610381816108b1565b3360009081526004602052604090206003018190556103ba565b6103a4816108df565b3360009081526004602052604090206002018190555b33600160a060020a03167fc3fcc939af00cbf0f637c1906f3cada46c729e65b3e3c3541bbadefc4668323983836040516103f59291906116ef565b60405180910390a250505050565b600080600061041133610472565b90925090506101da828263ffffffff61063016565b6004602081905260009182526040909120805460018201546002830154600384015494840154600585015460069095015493959294919390919087565b600054600160a060020a031681565b600080546040517ffef3ee730000000000000000000000000000000000000000000000000000000081528291600160a060020a03169063fef3ee73906104bc9086906004016116d3565b60206040518083038186803b1580156104d457600080fd5b505afa1580156104e8573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061050c9190810190611240565b6105345760405160e560020a62461bcd02815260040161052b9061173a565b60405180910390fd5b600061053f84610904565b9050600061054d858361094a565b91935090915050915091565b600160a060020a03808416600090815260046020526040812042600690910155600154909161058a918691166106ac565b9050600061059882856109d6565b905082156105ca57600160a060020a03851660009081526004602081905260409091204260058201550181905561060a565b6105d385610a00565b6105dc86610a1e565b1061060a57600160a060020a0385166000908152600460208190526040909120908101829055426005909101555b5050505050565b600160a060020a03166000908152600460208190526040909120015490565b60008282018381101561064257600080fd5b90505b92915050565b610653610f83565b8180602001905161064591908101906112be565b61067481606001516108b1565b61068181604001516108df565b8051602082015110156106a95760405160e560020a62461bcd02815260040161052b9061170a565b50565b600080839050600081600160a060020a0316630193aea26040518163ffffffff1660e060020a02815260040160206040518083038186803b1580156106f057600080fd5b505afa158015610704573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061072891908101906112dc565b9050600082600160a060020a03166342a7cfd56040518163ffffffff1660e060020a02815260040160206040518083038186803b15801561076857600080fd5b505afa15801561077c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506107a091908101906112dc565b9050600083600160a060020a03166330b866276040518163ffffffff1660e060020a02815260040160206040518083038186803b1580156107e057600080fd5b505afa1580156107f4573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061081891908101906112a0565b905060006108268288610a2c565b90506108488361083c838763ffffffff610d8f16565b9063ffffffff610db616565b98975050505050505050565b6000806000808480602001905161086e9190810190611318565b9150915060028260ff16106108985760405160e560020a62461bcd02815260040161052b9061175a565b8160ff1660018111156108a757fe5b9350915050915091565b6003548111156108d65760405160e560020a62461bcd02815260040161052b9061174a565b6106a981610dd8565b6002548111156108d65760405160e560020a62461bcd02815260040161052b9061176a565b60008061092061091384610e0e565b429063ffffffff610e2c16565b90506109436301e187e061083c61093686610e41565b849063ffffffff610d8f16565b9392505050565b600061095583610e5f565b156109ce57600154600090610974908590600160a060020a03166106ac565b9050600061098282856109d6565b9050600061098f86610611565b905060008183116109a15760006109b1565b6109b1838363ffffffff610e2c16565b90506109c38461083c6109368a610e7a565b945050505050610645565b506000610645565b60006106426109f36109ee858563ffffffff610d8f16565b610e98565b849063ffffffff610e2c16565b600160a060020a031660009081526004602052604090206001015490565b600061064561091383610eb2565b60008060009050606084600160a060020a03166399d50d5d6040518163ffffffff1660e060020a02815260040160006040518083038186803b158015610a7157600080fd5b505afa158015610a85573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610aad91908101906111d6565b9050606085600160a060020a031663027aa9f56040518163ffffffff1660e060020a02815260040160006040518083038186803b158015610aed57600080fd5b505afa158015610b01573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610b29919081019061120b565b9050600086600160a060020a03166342a7cfd56040518163ffffffff1660e060020a02815260040160206040518083038186803b158015610b6957600080fd5b505afa158015610b7d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610ba191908101906112dc565b905060005b8351811015610d83576000848281518110610bbd57fe5b60200260200101519050600088600160a060020a03166339477363836040518263ffffffff1660e060020a028152600401610bf891906116d3565b60206040518083038186803b158015610c1057600080fd5b505afa158015610c24573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610c4891908101906111b8565b9050600081600160a060020a03166357de26a46040518163ffffffff1660e060020a02815260040160206040518083038186803b158015610c8857600080fd5b505afa158015610c9c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610cc091908101906112dc565b9050600083600160a060020a031663313ce5676040518163ffffffff1660e060020a02815260040160206040518083038186803b158015610d0057600080fd5b505afa158015610d14573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610d3891908101906112fa565b60ff1690506000610d5e83888a8981518110610d5057fe5b602002602001015185610ed0565b9050610d708a8263ffffffff61063016565b99505060019094019350610ba692505050565b50929695505050505050565b600082610d9e57506000610645565b82820282848281610dab57fe5b041461064257600080fd5b6000808211610dc457600080fd5b6000828481610dcf57fe5b04949350505050565b610dee81655af3107a400063ffffffff610f3516565b156106a95760405160e560020a62461bcd02815260040161052b9061171a565b600160a060020a031660009081526004602052604090206006015490565b600082821115610e3b57600080fd5b50900390565b600160a060020a031660009081526004602052604090206003015490565b6000610e6a82610f52565b610e7383610a1e565b1192915050565b600160a060020a031660009081526004602052604090206002015490565b600061064582670de0b6b3a764000063ffffffff610db616565b600160a060020a031660009081526004602052604090206005015490565b6000600a82900a81610eeb670de0b6b3a76400008688610f6d565b90506000610f038361083c8a8563ffffffff610d8f16565b905060008111610f285760405160e560020a62461bcd02815260040161052b9061172a565b925050505b949350505050565b600081610f4157600080fd5b818381610f4a57fe5b069392505050565b600160a060020a031660009081526004602052604090205490565b6000610f2d8261083c868663ffffffff610d8f16565b6040518060800160405280600081526020016000815260200160008152602001600081525090565b6000610642823561186b565b6000610642825161186b565b600082601f830112610fd457600080fd5b8151610fe7610fe282611841565b61181a565b9150818183526020840193506020810190508385602084028201111561100c57600080fd5b60005b8381101561103857816110228882610fb7565b845250602092830192919091019060010161100f565b5050505092915050565b600082601f83011261105357600080fd5b8151611061610fe282611841565b9150818183526020840193506020810190508385602084028201111561108657600080fd5b60005b83811015611038578161109c8882611182565b8452506020928301929190910190600101611089565b60006106428251611895565b60008083601f8401126110d057600080fd5b50813567ffffffffffffffff8111156110e857600080fd5b60208301915083600182028301111561110057600080fd5b9250929050565b6000610642825161189a565b60006080828403121561112557600080fd5b61112f608061181a565b9050600061113d8484611182565b825250602061114e84848301611182565b602083015250604061116284828501611182565b604083015250606061117684828501611182565b60608301525092915050565b60006106428251611892565b600061064282516118a5565b6000602082840312156111ac57600080fd5b6000610f2d8484610fab565b6000602082840312156111ca57600080fd5b6000610f2d8484610fb7565b6000602082840312156111e857600080fd5b815167ffffffffffffffff8111156111ff57600080fd5b610f2d84828501610fc3565b60006020828403121561121d57600080fd5b815167ffffffffffffffff81111561123457600080fd5b610f2d84828501611042565b60006020828403121561125257600080fd5b6000610f2d84846110b2565b6000806020838503121561127157600080fd5b823567ffffffffffffffff81111561128857600080fd5b611294858286016110be565b92509250509250929050565b6000602082840312156112b257600080fd5b6000610f2d8484611107565b6000608082840312156112d057600080fd5b6000610f2d8484611113565b6000602082840312156112ee57600080fd5b6000610f2d8484611182565b60006020828403121561130c57600080fd5b6000610f2d848461118e565b6000806040838503121561132b57600080fd5b6000611337858561118e565b925050602061134885828601611182565b9150509250929050565b61135b8161186b565b82525050565b61135b8161189a565b61135b816118ab565b6000611380606983611862565b7f506572666f726d616e636546656543616c63756c61746f722e76616c6964617481527f65466565506172616d65746572733a2046656520636f6c6c656374696f6e206660208201527f72657175656e6379206d75737420657863656564206869676857617465726d6160408201527f726b2072657365742e0000000000000000000000000000000000000000000000606082015260800192915050565b600061142b601983611862565b7f4d757374206265206d756c7469706c65206f6620302e30312500000000000000815260200192915050565b6000611464604483611862565b7f53657455534456616c756174696f6e2e63616c63756c617465546f6b656e416c81527f6c6f636174696f6e416d6f756e745553443a2056616c7565206d75737420626560208201527f203e203000000000000000000000000000000000000000000000000000000000604082015260600192915050565b60006114e9605183611862565b7f506572666f726d616e636546656543616c63756c61746f722e63616c63756c6181527f7465466565733a2043616c6c6572206d7573742062652076616c69642052656260208201527f616c616e63696e67536574546f6b656e2e000000000000000000000000000000604082015260600192915050565b600061156e605783611862565b7f506572666f726d616e636546656543616c63756c61746f722e76616c6964617481527f6553747265616d696e6746656550657263656e746167653a2053747265616d6960208201527f6e67206665652065786365656473206d6178696d756d2e000000000000000000604082015260600192915050565b60006115f3603e83611862565b7f506572666f726d616e636546656543616c63756c61746f722e70617273654e6581527f7746656543616c6c446174613a20466565207479706520696e76616c69640000602082015260400192915050565b6000611652605183611862565b7f506572666f726d616e636546656543616c63756c61746f722e76616c6964617481527f6550726f66697446656550657263656e746167653a2050726f6669742066656560208201527f2065786365656473206d6178696d756d2e000000000000000000000000000000604082015260600192915050565b61135b81611892565b602081016106458284611352565b602081016106458284611361565b604081016116fd828561136a565b61094360208301846116ca565b6020808252810161064581611373565b602080825281016106458161141e565b6020808252810161064581611457565b60208082528101610645816114dc565b6020808252810161064581611561565b60208082528101610645816115e6565b6020808252810161064581611645565b6020810161064582846116ca565b604081016116fd82856116ca565b606081016117a482866116ca565b6117b160208301856116ca565b610f2d60408301846116ca565b60e081016117cc828a6116ca565b6117d960208301896116ca565b6117e660408301886116ca565b6117f360608301876116ca565b61180060808301866116ca565b61180d60a08301856116ca565b61084860c08301846116ca565b60405181810167ffffffffffffffff8111828210171561183957600080fd5b604052919050565b600067ffffffffffffffff82111561185857600080fd5b5060209081020190565b90815260200190565b600061064582611886565b60006002821061188257fe5b5090565b600160a060020a031690565b90565b151590565b60006106458261186b565b60ff1690565b60006106458261187656fea265627a7a723058201e55abf09578137aa84019b2bfeceff9e74bc4e445d39f73be6b959f880b3c416c6578706572696d656e74616cf50037",
sourceMap:"1723:18221:14:-;;;4055:405;8:9:-1;5:2;;;30:1;27;20:12;5:2;4055:405:14;;;;;;;;;;;;;;;;;;;;;;4259:4;:12;;-1:-1:-1;;;;;4259:12:14;;;-1:-1:-1;;;;;;4259:12:14;;;;;;;;4281:34;;;;;;;;;;;;;;;4325:26;:56;;;;4391:29;:62;1723:18221;;5:150:-1;;97:53;142:6;136:13;97:53;;;88:62;82:73;-1:-1;;;82:73;341:122;;419:39;450:6;444:13;419:39;;470:750;;;;;675:3;663:9;654:7;650:23;646:33;643:2;;;692:1;689;682:12;643:2;727:1;744:78;814:7;794:9;744:78;;;734:88;;706:122;859:2;877:89;958:7;949:6;938:9;934:22;877:89;;;867:99;;838:134;1003:2;1021:64;1077:7;1068:6;1057:9;1053:22;1021:64;;;1011:74;;982:109;1122:2;1140:64;1196:7;1187:6;1176:9;1172:22;1140:64;;;1130:74;;1101:109;637:583;;;;;;;;1227:105;;1296:31;1321:5;1296:31;;;1285:42;1279:53;-1:-1;;1279:53;1339:119;;1422:31;1447:5;1422:31;;1602:128;-1:-1;;;;;1671:54;;1654:76;1737:79;1806:5;1789:27;;1723:18221:14;;;;;;",deployedSourceMap:"1723:18221:14:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1723:18221:14;;;;;;;;-1:-1:-1;;;1723:18221:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;7608:508;;;:::i;:::-;;;;;;;;;;;;;;;;3244:41;;;:::i;4738:1317::-;;;;;;;;;:::i;:::-;;3291:44;;;:::i;6833:295::-;;;;;;;;;:::i;:::-;;;;;;;;;3199:39;;;:::i;:::-;;;;;;;;8269:799;;;;;;;;;:::i;6349:243::-;;;:::i;3341:66::-;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;3176:17;;;:::i;7608:508::-;7669:7;7706:20;7740:17;7770:25;7784:10;7770:13;:25::i;:::-;7692:103;;;;7859:51;7874:10;7886:12;7900:9;7859:14;:51::i;:::-;7956:10;7926:138;7980:25;7956:10;7980:13;:25::i;:::-;8019:9;8042:12;7926:138;;;;;;;;;;;;;;;;;8082:27;:12;8099:9;8082:27;:16;:27;:::i;:::-;8075:34;;;;7608:508;:::o;3244:41::-;;;;:::o;4738:1317::-;4876:35;;:::i;:::-;4914:47;4942:18;;4914:47;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;81:16;;74:27;;;;-1:-1;4914:27:14;;-1:-1:-1;;;4914:47:14:i;:::-;4876:85;;5001:33;5023:10;5001:21;:33::i;:::-;5125:15;;5044:21;;5068:73;;5113:10;;-1:-1:-1;;;;;5125:15:14;5068:44;:73::i;:::-;5250:10;5192:46;5241:20;;;:8;:20;;;;;;;;;5298:26;;5272:52;;;5369:35;;;;5334:32;;;:70;;;5444:30;;;;5414:27;;;:60;;;5517:33;;;;5484:30;;;:66;;;5593:15;5560:30;;;:48;;;5618:33;;;:51;;;5679:21;;;:37;;;5732:316;;5044:97;;-1:-1:-1;5241:20:14;;5732:316;;;;5369:35;;5444:30;5517:33;;5044:97;;5593:15;;;5732:316;;;;;;;;;;4738:1317;;;;;:::o;3291:44::-;;;;:::o;6833:295::-;6942:7;6951;6988:20;7022:17;7052:26;7066:11;7052:13;:26::i;:::-;6974:104;;-1:-1:-1;6974:104:14;-1:-1:-1;;;6833:295:14;;;:::o;3199:39::-;;;-1:-1:-1;;;;;3199:39:14;;:::o;8269:799::-;8375:21;8410;8444:32;8464:11;;8444:32;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;81:16;;74:27;;;;-1:-1;8444:19:14;;-1:-1:-1;;;8444:32:14:i;:::-;8361:115;;-1:-1:-1;8361:115:14;-1:-1:-1;8681:20:14;8664:13;:37;;;;;;;;;8660:331;;;8717:45;8748:13;8717:30;:45::i;:::-;8786:10;8777:20;;;;:8;:20;;;;;:43;;:59;;;8660:331;;;8867:42;8895:13;8867:27;:42::i;:::-;8933:10;8924:20;;;;:8;:20;;;;;:40;;:56;;;8660:331;9020:10;-1:-1:-1;;;;;9006:55:14;;9032:13;9047;9006:55;;;;;;;;;;;;;;;;8269:799;;;;:::o;6349:243::-;6414:7;6451:20;6485:17;6515:25;6529:10;6515:13;:25::i;:::-;6437:103;;-1:-1:-1;6437:103:14;-1:-1:-1;6558:27:14;6437:103;;6558:27;:16;:27;:::i;3341:66::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;3176:17::-;;;-1:-1:-1;;;;;3176:17:14;;:::o;12830:486::-;12935:7;12988:4;;:27;;;;;12935:7;;-1:-1:-1;;;;;12988:4:14;;:14;;:27;;13003:11;;12988:27;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;12988:27:14;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;12988:27:14;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;12988:27:14;;;;;;;;;12967:155;;;;-1:-1:-1;;;;;12967:155:14;;;;;;;;;;;;;;;;;13133:20;13156:34;13178:11;13156:21;:34::i;:::-;13133:57;;13201:17;13221:45;13240:11;13253:12;13221:18;:45::i;:::-;13285:12;;-1:-1:-1;13201:65:14;;-1:-1:-1;;12830:486:14;;;:::o;9692:1131::-;-1:-1:-1;;;;;9880:21:14;;;;;;;:8;:21;;;;;9930:15;9880:47;;;;:65;10044:15;;9880:21;;9986:74;;9889:11;;10044:15;9986:44;:74::i;:::-;9956:104;;10070:26;10099:63;10127:19;10148:13;10099:27;:63::i;:::-;10070:92;-1:-1:-1;10255:14:14;;10251:566;;-1:-1:-1;;;;;10285:21:14;;;;;;:8;:21;;;;;;;;10332:15;10285:44;;;:62;10361:35;:56;;;10251:566;;;10477:37;10502:11;10477:24;:37::i;:::-;10438:35;10461:11;10438:22;:35::i;:::-;:76;10434:383;;-1:-1:-1;;;;;10674:21:14;;;;;;:8;:21;;;;;;;;:35;;;:56;;;10791:15;10744:44;;;;:62;10434:383;9692:1131;;;;;:::o;17706:120::-;-1:-1:-1;;;;;17791:14:14;17765:7;17791:14;;;:8;:14;;;;;;;;:28;;;17706:120::o;1439:145:166:-;1497:7;1528:5;;;1551:6;;;;1543:15;;;;;;1576:1;-1:-1:-1;1439:145:166;;;;;:::o;18682:218:14:-;18803:24;;:::i;:::-;18862:9;18850:43;;;;;;;;;;;;;11061:527;11219:65;11250:10;:33;;;11219:30;:65::i;:::-;11294:59;11322:10;:30;;;11294:27;:59::i;:::-;11424:26;;11385:35;;;;:65;;11364:217;;;;-1:-1:-1;;;;;11364:217:14;;;;;;;;;11061:527;:::o;1894:827:54:-;2073:7;2096:42;2164:27;2096:96;;2203:18;2224:19;-1:-1:-1;;;;;2224:30:54;;:32;;;;;-1:-1:-1;;;2224:32:54;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;2224:32:54;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;2224:32:54;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;2224:32:54;;;;;;;;;2203:53;;2266:19;2288;-1:-1:-1;;;;;2288:31:54;;:33;;;;;-1:-1:-1;;;2288:33:54;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;2288:33:54;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;2288:33:54;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;2288:33:54;;;;;;;;;2266:55;;2331:20;2354:19;-1:-1:-1;;;;;2354:30:54;;:32;;;;;-1:-1:-1;;;2354:32:54;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;2354:32:54;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;2354:32:54;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;2354:32:54;;;;;;;;;2331:55;;2435:23;2461:92;2503:10;2527:16;2461:28;:92::i;:::-;2435:118;-1:-1:-1;2666:48:54;2702:11;2666:31;2435:118;2686:10;2666:31;:19;:31;:::i;:::-;:35;:48;:35;:48;:::i;:::-;2659:55;1894:827;-1:-1:-1;;;;;;;;1894:827:54:o;19493:449:14:-;19606:7;19615;19652:13;19679:21;19725:9;19713:40;;;;;;;;;;;;;;19638:115;;;;19795:1;19785:7;:11;;;19764:120;;;;-1:-1:-1;;;;;19764:120:14;;;;;;;;;19911:7;19903:16;;;;;;;;;;19895:40;-1:-1:-1;19921:13:14;-1:-1:-1;;19493:449:14;;;:::o;11698:379::-;11857:29;;11840:13;:46;;11819:180;;;;-1:-1:-1;;;;;11819:180:14;;;;;;;;;12010:60;12056:13;12010:45;:60::i;12184:358::-;12334:26;;12320:10;:40;;12299:168;;;;-1:-1:-1;;;;;12299:168:14;;;;;;;;13674:397;13786:7;13809:24;13836:59;13856:38;13882:11;13856:25;:38::i;:::-;13836:15;;:59;:19;:59;:::i;:::-;13809:86;;13982:82;3010:11;13982:57;14003:35;14026:11;14003:22;:35::i;:::-;13982:16;;:57;:20;:57;:::i;:82::-;13975:89;13674:397;-1:-1:-1;;;13674:397:14:o;14710:1104::-;14850:7;14976:35;14999:11;14976:22;:35::i;:::-;14972:836;;;15184:15;;15096:27;;15126:74;;15171:11;;-1:-1:-1;;;;;15184:15:14;15126:44;:74::i;:::-;15096:104;;15214:26;15243:63;15271:19;15292:13;15243:27;:63::i;:::-;15214:92;;15320:21;15344:26;15358:11;15344:13;:26::i;:::-;15320:50;;15483:19;15526:13;15505:18;:34;:78;;15582:1;15505:78;;;15542:37;:18;15565:13;15542:37;:22;:37;:::i;:::-;15483:100;;15684:74;15738:19;15684:49;15700:32;15720:11;15700:19;:32::i;15684:74::-;15677:81;;;;;;;;14972:836;-1:-1:-1;15796:1:14;15789:8;;16138:271;16297:7;16327:75;16352:49;:39;:20;16377:13;16352:39;:24;:39;:::i;:::-;:47;:49::i;:::-;16327:20;;:75;:24;:75;:::i;17832:142::-;-1:-1:-1;;;;;17928:14:14;17902:7;17928:14;;;:8;:14;;;;;:39;;;;17832:142::o;16838:151::-;16907:7;16933:49;16953:28;16976:4;16953:22;:28::i;3000:1186:54:-;3158:7;3181:23;3207:1;3181:27;;3219;3249:4;-1:-1:-1;;;;;3249:18:54;;:20;;;;;-1:-1:-1;;;3249:20:54;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;3249:20:54;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;3249:20:54;;;;;;39:16:-1;36:1;17:17;2:54;101:4;3249:20:54;80:15:-1;;;-1:-1;;76:31;65:43;;120:4;113:20;3249::54;;;;;;;;;3219:50;;3279:22;3304:4;-1:-1:-1;;;;;3304:13:54;;:15;;;;;-1:-1:-1;;;3304:15:54;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;3304:15:54;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;3304:15:54;;;;;;39:16:-1;36:1;17:17;2:54;101:4;3304:15:54;80::-1;;;-1:-1;;76:31;65:43;;120:4;113:20;3304:15:54;;;;;;;;;3279:40;;3329:19;3351:4;-1:-1:-1;;;;;3351:16:54;;:18;;;;;-1:-1:-1;;;3351:18:54;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;3351:18:54;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;3351:18:54;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;3351:18:54;;;;;;;;;3329:40;-1:-1:-1;3416:9:54;3411:736;3435:10;:17;3431:1;:21;3411:736;;;3473:24;3500:10;3511:1;3500:13;;;;;;;;;;;;;;3473:40;;3528:14;3545:16;-1:-1:-1;;;;;3545:40:54;;3586:16;3545:58;;;;;-1:-1:-1;;;3545:58:54;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;3545:58:54;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;3545:58:54;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;3545:58:54;;;;;;;;;3528:75;;3617:13;3641:6;-1:-1:-1;;;;;3633:20:54;;:22;;;;;-1:-1:-1;;;3633:22:54;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;3633:22:54;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;3633:22:54;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;3633:22:54;;;;;;;;;3617:38;;3669:16;3702;-1:-1:-1;;;;;3688:40:54;;:42;;;;;-1:-1:-1;;;3688:42:54;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;3688:42:54;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;3688:42:54;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;3688:42:54;;;;;;;;;3669:61;;;;3810:24;3837:151;3888:5;3911:11;3940:5;3946:1;3940:8;;;;;;;;;;;;;;3966;3837:33;:151::i;:::-;3810:178;-1:-1:-1;4099:37:54;:15;3810:178;4099:37;:19;:37;:::i;:::-;4081:55;-1:-1:-1;;3454:3:54;;;;;-1:-1:-1;3411:736:54;;-1:-1:-1;;;3411:736:54;;-1:-1:-1;4164:15:54;;3000:1186;-1:-1:-1;;;;;;3000:1186:54:o;231:421:166:-;289:7;529:6;525:45;;-1:-1:-1;558:1:166;551:8;;525:45;592:5;;;596:1;592;:5;:1;615:5;;;;;:10;607:19;;;;;782:296;840:7;937:1;933;:5;925:14;;;;;;949:9;965:1;961;:5;;;;;;;782:296;-1:-1:-1;;;;782:296:166:o;1034:189:179:-;1133:27;:6;865:4;1133:27;:10;:27;:::i;:::-;:32;1112:104;;;;-1:-1:-1;;;;;1112:104:179;;;;;;;;16995:145:14;-1:-1:-1;;;;;17093:14:14;17067:7;17093:14;;;:8;:14;;;;;:40;;;;16995:145::o;1211::166:-;1269:7;1301:1;1296;:6;;1288:15;;;;;;-1:-1:-1;1325:5:166;;;1211:145::o;17291:139:14:-;-1:-1:-1;;;;;17386:14:14;17360:7;17386:14;;;:8;:14;;;;;:37;;;;17291:139::o;16527:151::-;16596:4;16650:21;16666:4;16650:15;:21::i;:::-;16619:28;16642:4;16619:22;:28::i;:::-;:52;;16527:151;-1:-1:-1;;16527:151:14:o;17436:133::-;-1:-1:-1;;;;;17528:14:14;17502:7;17528:14;;;:8;:14;;;;;:34;;;;17436:133::o;1756:145:176:-;1845:7;1875:19;:1;798:8;1875:19;:5;:19;:::i;17146:139:14:-;-1:-1:-1;;;;;17241:14:14;17215:7;17241:14;;;:8;:14;;;;;:37;;;;17146:139::o;4677:915:54:-;4886:7;4933:2;:19;;;4886:7;5081:104;1699:8;5144:5;5163:12;5081:22;:104::i;:::-;5045:140;-1:-1:-1;5285:26:54;5314:87;5387:13;5314:55;:11;5045:140;5314:55;:28;:55;:::i;:87::-;5285:116;;5454:1;5433:18;:22;5412:137;;;;-1:-1:-1;;;;;5412:137:54;;;;;;;;;5567:18;-1:-1:-1;;;4677:915:54;;;;;;;:::o;1739:121:166:-;1797:7;1824:6;1816:15;;;;;;1852:1;1848;:5;;;;;;;1739:121;-1:-1:-1;;;1739:121:166:o;17575:125:14:-;-1:-1:-1;;;;;17663:14:14;17637:7;17663:14;;;:8;:14;;;;;:30;;17575:125::o;883:256:45:-;1052:7;1082:50;1119:12;1082:32;:12;1099:14;1082:32;:16;:32;:::i;1723:18221:14:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;5:118:-1:-;;72:46;110:6;97:20;72:46;;130:122;;208:39;239:6;233:13;208:39;;277:722;;405:3;398:4;390:6;386:17;382:27;372:2;;423:1;420;413:12;372:2;453:6;447:13;475:80;490:64;547:6;490:64;;;475:80;;;466:89;;572:5;597:6;590:5;583:21;627:4;619:6;615:17;605:27;;649:4;644:3;640:14;633:21;;702:6;749:3;741:4;733:6;729:17;724:3;720:27;717:36;714:2;;;766:1;763;756:12;714:2;791:1;776:217;801:6;798:1;795:13;776:217;;;859:3;881:48;925:3;913:10;881:48;;;869:61;;-1:-1;953:4;944:14;;;;972;;;;;823:1;816:9;776:217;;;780:14;365:634;;;;;;;;1025:722;;1153:3;1146:4;1138:6;1134:17;1130:27;1120:2;;1171:1;1168;1161:12;1120:2;1201:6;1195:13;1223:80;1238:64;1295:6;1238:64;;1223:80;1214:89;;1320:5;1345:6;1338:5;1331:21;1375:4;1367:6;1363:17;1353:27;;1397:4;1392:3;1388:14;1381:21;;1450:6;1497:3;1489:4;1481:6;1477:17;1472:3;1468:27;1465:36;1462:2;;;1514:1;1511;1504:12;1462:2;1539:1;1524:217;1549:6;1546:1;1543:13;1524:217;;;1607:3;1629:48;1673:3;1661:10;1629:48;;;1617:61;;-1:-1;1701:4;1692:14;;;;1720;;;;;1571:1;1564:9;1524:217;;1755:116;;1830:36;1858:6;1852:13;1830:36;;1892:335;;;2006:3;1999:4;1991:6;1987:17;1983:27;1973:2;;2024:1;2021;2014:12;1973:2;-1:-1;2044:20;;2084:18;2073:30;;2070:2;;;2116:1;2113;2106:12;2070:2;2150:4;2142:6;2138:17;2126:29;;2200:3;2193;2185:6;2181:16;2171:8;2167:31;2164:40;2161:2;;;2217:1;2214;2207:12;2161:2;1966:261;;;;;;2235:158;;2331:57;2380:6;2374:13;2331:57;;2456:879;;2587:4;2575:9;2570:3;2566:19;2562:30;2559:2;;;2605:1;2602;2595:12;2559:2;2623:20;2638:4;2623:20;;;2614:29;-1:-1;2704:1;2735:60;2791:3;2771:9;2735:60;;;2711:85;;-1:-1;2877:2;2910:60;2966:3;2942:22;;;2910:60;;;2903:4;2896:5;2892:16;2885:86;2817:165;3047:2;3080:60;3136:3;3127:6;3116:9;3112:22;3080:60;;;3073:4;3066:5;3062:16;3055:86;2992:160;3220:2;3253:60;3309:3;3300:6;3289:9;3285:22;3253:60;;;3246:4;3239:5;3235:16;3228:86;3162:163;2553:782;;;;;3342:122;;3420:39;3451:6;3445:13;3420:39;;3471:118;;3547:37;3576:6;3570:13;3547:37;;3596:241;;3700:2;3688:9;3679:7;3675:23;3671:32;3668:2;;;3716:1;3713;3706:12;3668:2;3751:1;3768:53;3813:7;3793:9;3768:53;;3844:263;;3959:2;3947:9;3938:7;3934:23;3930:32;3927:2;;;3975:1;3972;3965:12;3927:2;4010:1;4027:64;4083:7;4063:9;4027:64;;4114:392;;4254:2;4242:9;4233:7;4229:23;4225:32;4222:2;;;4270:1;4267;4260:12;4222:2;4305:24;;4349:18;4338:30;;4335:2;;;4381:1;4378;4371:12;4335:2;4401:89;4482:7;4473:6;4462:9;4458:22;4401:89;;4513:392;;4653:2;4641:9;4632:7;4628:23;4624:32;4621:2;;;4669:1;4666;4659:12;4621:2;4704:24;;4748:18;4737:30;;4734:2;;;4780:1;4777;4770:12;4734:2;4800:89;4881:7;4872:6;4861:9;4857:22;4800:89;;4912:257;;5024:2;5012:9;5003:7;4999:23;4995:32;4992:2;;;5040:1;5037;5030:12;4992:2;5075:1;5092:61;5145:7;5125:9;5092:61;;5176:365;;;5299:2;5287:9;5278:7;5274:23;5270:32;5267:2;;;5315:1;5312;5305:12;5267:2;5350:31;;5401:18;5390:30;;5387:2;;;5433:1;5430;5423:12;5387:2;5461:64;5517:7;5508:6;5497:9;5493:22;5461:64;;;5451:74;;;;5329:202;5261:280;;;;;;5548:299;;5681:2;5669:9;5660:7;5656:23;5652:32;5649:2;;;5697:1;5694;5687:12;5649:2;5732:1;5749:82;5823:7;5803:9;5749:82;;5854:326;;6000:3;5988:9;5979:7;5975:23;5971:33;5968:2;;;6017:1;6014;6007:12;5968:2;6052:1;6069:95;6156:7;6136:9;6069:95;;6187:263;;6302:2;6290:9;6281:7;6277:23;6273:32;6270:2;;;6318:1;6315;6308:12;6270:2;6353:1;6370:64;6426:7;6406:9;6370:64;;6457:259;;6570:2;6558:9;6549:7;6545:23;6541:32;6538:2;;;6586:1;6583;6576:12;6538:2;6621:1;6638:62;6692:7;6672:9;6638:62;;6723:395;;;6853:2;6841:9;6832:7;6828:23;6824:32;6821:2;;;6869:1;6866;6859:12;6821:2;6904:1;6921:62;6975:7;6955:9;6921:62;;;6911:72;;6883:106;7020:2;7038:64;7094:7;7085:6;7074:9;7070:22;7038:64;;;7028:74;;6999:109;6815:303;;;;;;7125:120;7208:31;7233:5;7208:31;;;7203:3;7196:44;7190:55;;;7252:154;7349:51;7394:5;7349:51;;7596:146;7689:47;7730:5;7689:47;;7750:669;;7910:68;7974:3;7969;7910:68;;;8011:66;7991:87;;8112:66;8107:2;8098:12;;8091:88;8213:66;8208:2;8199:12;;8192:88;8314:66;8309:2;8300:12;;8293:88;8409:3;8400:13;;7896:523;-1:-1;;7896:523;8428:364;;8588:67;8652:2;8647:3;8588:67;;;8688:66;8668:87;;8783:2;8774:12;;8574:218;-1:-1;;8574:218;8801:566;;8961:67;9025:2;9020:3;8961:67;;;9061:66;9041:87;;9162:66;9157:2;9148:12;;9141:88;9263:66;9258:2;9249:12;;9242:88;9358:2;9349:12;;8947:420;-1:-1;;8947:420;9376:566;;9536:67;9600:2;9595:3;9536:67;;;9636:66;9616:87;;9737:66;9732:2;9723:12;;9716:88;9838:66;9833:2;9824:12;;9817:88;9933:2;9924:12;;9522:420;-1:-1;;9522:420;9951:566;;10111:67;10175:2;10170:3;10111:67;;;10211:66;10191:87;;10312:66;10307:2;10298:12;;10291:88;10413:66;10408:2;10399:12;;10392:88;10508:2;10499:12;;10097:420;-1:-1;;10097:420;10526:465;;10686:67;10750:2;10745:3;10686:67;;;10786:66;10766:87;;10887:66;10882:2;10873:12;;10866:88;10982:2;10973:12;;10672:319;-1:-1;;10672:319;11000:566;;11160:67;11224:2;11219:3;11160:67;;;11260:66;11240:87;;11361:66;11356:2;11347:12;;11340:88;11462:66;11457:2;11448:12;;11441:88;11557:2;11548:12;;11146:420;-1:-1;;11146:420;11574:120;11657:31;11682:5;11657:31;;11701:213;11819:2;11804:18;;11833:71;11808:9;11877:6;11833:71;;11921:241;12053:2;12038:18;;12067:85;12042:9;12125:6;12067:85;;12439:344;12595:2;12580:18;;12609:81;12584:9;12663:6;12609:81;;;12701:72;12769:2;12758:9;12754:18;12745:6;12701:72;;12790:407;12981:2;12995:47;;;12966:18;;13056:131;12966:18;13056:131;;13204:407;13395:2;13409:47;;;13380:18;;13470:131;13380:18;13470:131;;13618:407;13809:2;13823:47;;;13794:18;;13884:131;13794:18;13884:131;;14032:407;14223:2;14237:47;;;14208:18;;14298:131;14208:18;14298:131;;14446:407;14637:2;14651:47;;;14622:18;;14712:131;14622:18;14712:131;;14860:407;15051:2;15065:47;;;15036:18;;15126:131;15036:18;15126:131;;15274:407;15465:2;15479:47;;;15450:18;;15540:131;15450:18;15540:131;;15688:213;15806:2;15791:18;;15820:71;15795:9;15864:6;15820:71;;15908:324;16054:2;16039:18;;16068:71;16043:9;16112:6;16068:71;;16239:435;16413:2;16398:18;;16427:71;16402:9;16471:6;16427:71;;;16509:72;16577:2;16566:9;16562:18;16553:6;16509:72;;;16592;16660:2;16649:9;16645:18;16636:6;16592:72;;16681:883;16967:3;16952:19;;16982:71;16956:9;17026:6;16982:71;;;17064:72;17132:2;17121:9;17117:18;17108:6;17064:72;;;17147;17215:2;17204:9;17200:18;17191:6;17147:72;;;17230;17298:2;17287:9;17283:18;17274:6;17230:72;;;17313:73;17381:3;17370:9;17366:19;17357:6;17313:73;;;17397;17465:3;17454:9;17450:19;17441:6;17397:73;;;17481;17549:3;17538:9;17534:19;17525:6;17481:73;;17571:256;17633:2;17627:9;17659:17;;;17734:18;17719:34;;17755:22;;;17716:62;17713:2;;;17791:1;17788;17781:12;17713:2;17807;17800:22;17611:216;;-1:-1;17611:216;17834:258;;17993:18;17985:6;17982:30;17979:2;;;18025:1;18022;18015:12;17979:2;-1:-1;18054:4;18042:17;;;18072:15;;17916:176;18365:163;18468:19;;;18517:4;18508:14;;18461:67;18536:105;;18605:31;18630:5;18605:31;;18648:129;;18738:1;18731:5;18728:12;18718:2;;18744:9;18718:2;-1:-1;18767:5;18712:65;18784:128;-1:-1;;;;;18853:54;;18836:76;18919:79;18988:5;18971:27;19117:92;19190:13;19183:21;;19166:43;19216:123;;19303:31;19328:5;19303:31;;19567:88;19645:4;19634:16;;19617:38;20279:137;;20368:43;20405:5;20368:43;",source:'/*\n    Copyright 2020 Set Labs Inc.\n\n    Licensed under the Apache License, Version 2.0 (the "License");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an "AS IS" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n*/\n\npragma solidity 0.5.7;\npragma experimental ABIEncoderV2;\n\nimport { SafeMath } from "openzeppelin-solidity/contracts/math/SafeMath.sol";\nimport { CommonMath } from "set-protocol-contract-utils/contracts/lib/CommonMath.sol";\nimport { ScaleValidations } from "set-protocol-contract-utils/contracts/lib/ScaleValidations.sol";\n\nimport { ICore } from "../interfaces/ICore.sol";\nimport { IFeeCalculator } from "../interfaces/IFeeCalculator.sol";\nimport { IOracleWhiteList } from "../interfaces/IOracleWhiteList.sol";\nimport { IRebalancingSetTokenV2 } from "../interfaces/IRebalancingSetTokenV2.sol";\nimport { ISetToken } from "../interfaces/ISetToken.sol";\nimport { PerformanceFeeLibrary } from "./lib/PerformanceFeeLibrary.sol";\nimport { SetUSDValuation } from "../liquidators/impl/SetUSDValuation.sol";\n\n\n/**\n * @title PerformanceFeeCalculator\n * @author Set Protocol\n *\n * Smart contract that stores and returns fees (represented as scaled decimal values). Fees are\n * determined based on performance of the Set and a streaming fee. Set values can be denominated\n * in any any asset based on oracle white list used in deploy.\n */\ncontract PerformanceFeeCalculator is IFeeCalculator {\n\n    using SafeMath for uint256;\n    using CommonMath for uint256;\n\n    /* ============ Enums ============ */\n\n    enum FeeType { StreamingFee, ProfitFee }\n\n    /* ============ Events ============ */\n\n    event FeeActualization(\n        address indexed rebalancingSetToken,\n        uint256 newHighWatermark,\n        uint256 profitFee,\n        uint256 streamingFee\n    );\n\n    event FeeInitialization(\n        address indexed rebalancingSetToken,\n        uint256 profitFeePeriod,\n        uint256 highWatermarkResetPeriod,\n        uint256 profitFeePercentage,\n        uint256 streamingFeePercentage,\n        uint256 highWatermark,\n        uint256 lastProfitFeeTimestamp,\n        uint256 lastStreamingFeeTimestamp\n    );\n\n    event FeeAdjustment(\n        address indexed rebalancingSetToken,\n        FeeType feeType,\n        uint256 newFeePercentage\n    );\n\n    /* ============ Structs ============ */\n\n    struct InitFeeParameters {\n        uint256 profitFeePeriod;\n        uint256 highWatermarkResetPeriod;\n        uint256 profitFeePercentage;\n        uint256 streamingFeePercentage;\n    }\n\n    /* ============ Constants ============ */\n    // 365.25 days used to represent the year\n    uint256 private constant ONE_YEAR_IN_SECONDS = 365.25 days;\n    uint256 private constant ONE_HUNDRED_PERCENT = 1e18;\n    uint256 private constant ZERO = 0;\n\n    /* ============ State Variables ============ */\n    ICore public core;\n    IOracleWhiteList public oracleWhiteList;\n    uint256 public maximumProfitFeePercentage;\n    uint256 public maximumStreamingFeePercentage;\n    mapping(address => PerformanceFeeLibrary.FeeState) public feeState;\n\n    /* ============ Constructor ============ */\n\n    /**\n     * Constructor function for PerformanceFeeCalculator\n     *\n     * @param _core                                 Core instance\n     * @param _oracleWhiteList                      Oracle white list instance\n     * @param _maximumProfitFeePercentage           Maximum percent of profit fee scaled by 1e18\n     *                                              (e.g. 100% = 1e18 and 1% = 1e16)\n     * @param _maximumStreamingFeePercentage        Maximum percent of streaming fee scaled by 1e18\n     *                                              (e.g. 100% = 1e18 and 1% = 1e16)\n     */\n    constructor(\n        ICore _core,\n        IOracleWhiteList _oracleWhiteList,\n        uint256 _maximumProfitFeePercentage,\n        uint256 _maximumStreamingFeePercentage\n    )\n        public\n    {\n        core = _core;\n        oracleWhiteList = _oracleWhiteList;\n        maximumProfitFeePercentage = _maximumProfitFeePercentage;\n        maximumStreamingFeePercentage = _maximumStreamingFeePercentage;\n    }\n\n    /* ============ External Functions ============ */\n\n    /*\n     * Called by RebalancingSetToken, parses bytedata then assigns to correct FeeState struct.\n     *\n     * @param  _feeCalculatorData       Bytestring encoding fee parameters for RebalancingSetToken\n     */\n    function initialize(\n        bytes calldata _feeCalculatorData\n    )\n        external\n    {\n        // Parse fee data into struct\n        InitFeeParameters memory parameters = parsePerformanceFeeCallData(_feeCalculatorData);\n\n        // Validate fee data\n        validateFeeParameters(parameters);\n        uint256 highWatermark = SetUSDValuation.calculateRebalancingSetValue(msg.sender, oracleWhiteList);\n\n        // Set fee state for new caller\n        PerformanceFeeLibrary.FeeState storage feeInfo = feeState[msg.sender];\n\n        feeInfo.profitFeePeriod = parameters.profitFeePeriod;\n        feeInfo.highWatermarkResetPeriod = parameters.highWatermarkResetPeriod;\n        feeInfo.profitFeePercentage = parameters.profitFeePercentage;\n        feeInfo.streamingFeePercentage = parameters.streamingFeePercentage;\n        feeInfo.lastProfitFeeTimestamp = block.timestamp;\n        feeInfo.lastStreamingFeeTimestamp = block.timestamp;\n        feeInfo.highWatermark = highWatermark;\n\n        emit FeeInitialization(\n            msg.sender,\n            parameters.profitFeePeriod,\n            parameters.highWatermarkResetPeriod,\n            parameters.profitFeePercentage,\n            parameters.streamingFeePercentage,\n            highWatermark,\n            block.timestamp,\n            block.timestamp\n        );\n    }\n\n    /*\n     * Calculates total inflation percentage in order to accrue fees to manager. Profit fee calculations\n     * are net of streaming fees, so streaming fees are applied first then profit fees are calculated.\n     *\n     * @return  uint256       Percent inflation of supply\n     */\n    function getFee()\n        external\n        view\n        returns (uint256)\n    {\n        (\n            uint256 streamingFee,\n            uint256 profitFee\n        ) = calculateFees(msg.sender);\n\n        return streamingFee.add(profitFee);\n    }\n\n    /**\n     * Returns calculated streaming and profit fee.\n     *\n     * @param  _setAddress          Address of Set to get fees\n     * @return  uint256             Streaming Fee\n     * @return  uint256             Profit Fee\n     */\n    function getCalculatedFees(\n        address _setAddress\n    )\n        external\n        view\n        returns (uint256, uint256)\n    {\n        (\n            uint256 streamingFee,\n            uint256 profitFee\n        ) = calculateFees(_setAddress);\n\n        return (streamingFee, profitFee);\n    }\n\n    /*\n     * Calculates total inflation percentage in order to accrue fees to manager. Profit fee calculations\n     * are net of streaming fees, so streaming fees are applied first then profit fees are calculated.\n     * Additionally, fee state is set timestamps are updated for each fee type and the high watermark is\n     * reset if time since last profit fee exceeds the highWatermarkResetPeriod.\n     *\n     * @return  uint256       Percent inflation of supply\n     */\n    function updateAndGetFee()\n        external\n        returns (uint256)\n    {\n        (\n            uint256 streamingFee,\n            uint256 profitFee\n        ) = calculateFees(msg.sender);\n\n        // Update fee state based off fees collected\n        updateFeeState(msg.sender, streamingFee, profitFee);\n\n        emit FeeActualization(\n            msg.sender,\n            highWatermark(msg.sender),\n            profitFee,\n            streamingFee\n        );\n\n        return streamingFee.add(profitFee);\n    }\n\n    /*\n     * Validate then set new streaming fee.\n     *\n     * @param  _newFeeData       Fee type and new streaming fee encoded in bytes\n     */\n    function adjustFee(\n        bytes calldata _newFeeData\n    )\n        external\n    {\n        (\n            FeeType feeIdentifier,\n            uint256 feePercentage\n        ) = parseNewFeeCallData(_newFeeData);\n\n        // Since only two fee options and anything feeType integer passed that is not 0 or 1 will revert in\n        // parsing can make this a simple if...else... statement\n        if (feeIdentifier == FeeType.StreamingFee) {\n            validateStreamingFeePercentage(feePercentage);\n\n            feeState[msg.sender].streamingFeePercentage = feePercentage;\n        } else {\n            validateProfitFeePercentage(feePercentage);\n\n            feeState[msg.sender].profitFeePercentage = feePercentage;\n        }\n\n        emit FeeAdjustment(msg.sender, feeIdentifier, feePercentage);\n    }\n\n    /* ============ Internal Functions ============ */\n\n    /**\n     * Updates fee state after a fee has been accrued. Streaming timestamp is always updated. Profit timestamp\n     * is only updated if profit fee is collected. High watermark timestamp is updated if profit fee collected\n     * or if a highWatermarkResetPeriod amount of time has passed since last profit fee collection.\n     *\n     * @param  _setAddress          Address of Set to have feeState updated\n     * @param  _streamingFee        Calculated streaming fee percentage\n     * @param  _profitFee           Calculated profit fee percentage\n     */\n    function updateFeeState(\n        address _setAddress,\n        uint256 _streamingFee,\n        uint256 _profitFee\n    )\n        internal\n    {\n        // Set streaming fee timestamp\n        feeState[_setAddress].lastStreamingFeeTimestamp = block.timestamp;\n\n        uint256 rebalancingSetValue = SetUSDValuation.calculateRebalancingSetValue(_setAddress, oracleWhiteList);\n        uint256 postStreamingValue = calculatePostStreamingValue(rebalancingSetValue, _streamingFee);\n\n        // If profit fee then set new high watermark and profit fee timestamp\n        if (_profitFee > 0) {\n            feeState[_setAddress].lastProfitFeeTimestamp = block.timestamp;\n            feeState[_setAddress].highWatermark = postStreamingValue;\n        } else if (timeSinceLastProfitFee(_setAddress) >= highWatermarkResetPeriod(_setAddress)) {\n            // If no profit fee and last profit fee was more than highWatermarkResetPeriod seconds ago then reset\n            // high watermark\n            feeState[_setAddress].highWatermark = postStreamingValue;\n            feeState[_setAddress].lastProfitFeeTimestamp = block.timestamp;\n        }\n    }\n\n    /*\n     * Validates fee parameters. Ensures that both fees are below the max fee percentages and that they are\n     * multiples of a basis point. Also makes sure highWatermarkResetPeriod is greater than profitFeePeriod.\n     */\n    function validateFeeParameters(\n        InitFeeParameters memory parameters\n    )\n        internal\n        view\n    {\n        // Validate fee amounts\n        validateStreamingFeePercentage(parameters.streamingFeePercentage);\n        validateProfitFeePercentage(parameters.profitFeePercentage);\n\n        require(\n            parameters.highWatermarkResetPeriod >= parameters.profitFeePeriod,\n            "PerformanceFeeCalculator.validateFeeParameters: Fee collection frequency must exceed highWatermark reset."\n        );\n    }\n\n    /*\n     * Validates streaming fee is less than maximum allowed and multiple of basis point.\n     */\n    function validateStreamingFeePercentage(\n        uint256 _streamingFee\n    )\n        internal\n        view\n    {\n        require(\n            _streamingFee <= maximumStreamingFeePercentage,\n            "PerformanceFeeCalculator.validateStreamingFeePercentage: Streaming fee exceeds maximum."\n        );\n\n        ScaleValidations.validateMultipleOfBasisPoint(_streamingFee);\n    }\n\n    /*\n     * Validates profit fee is less than maximum allowed and multiple of basis point.\n     */\n    function validateProfitFeePercentage(\n        uint256 _profitFee\n    )\n        internal\n        view\n    {\n        require(\n            _profitFee <= maximumProfitFeePercentage,\n            "PerformanceFeeCalculator.validateProfitFeePercentage: Profit fee exceeds maximum."\n        );\n\n        ScaleValidations.validateMultipleOfBasisPoint(_profitFee);\n    }\n\n    /**\n     * Verifies caller is valid Set. Calculates and returns streaming and profit fee.\n     *\n     * @param  _setAddress          Address of Set to have feeState updated\n     * @return  uint256             Streaming Fee\n     * @return  uint256             Profit Fee\n     */\n    function calculateFees(\n        address _setAddress\n    )\n        internal\n        view\n        returns (uint256, uint256)\n    {\n        require(\n            core.validSets(_setAddress),\n            "PerformanceFeeCalculator.calculateFees: Caller must be valid RebalancingSetToken."\n        );\n\n        uint256 streamingFee = calculateStreamingFee(_setAddress);\n\n        uint256 profitFee = calculateProfitFee(_setAddress, streamingFee);\n\n        return (streamingFee, profitFee);\n    }\n\n    /**\n     * Calculates streaming fee by multiplying streamingFeePercentage by the elapsed amount of time since the last fee\n     * was collected divided by one year in seconds, since the fee is a yearly fee.\n     *\n     * @param  _setAddress          Address of Set to have feeState updated\n     * @return uint256              Streaming fee\n     */\n    function calculateStreamingFee(\n        address _setAddress\n    )\n        internal\n        view\n        returns(uint256)\n    {\n        uint256 timeSinceLastFee = block.timestamp.sub(lastStreamingFeeTimestamp(_setAddress));\n\n        // Streaming fee is streaming fee times years since last fee\n        return timeSinceLastFee.mul(streamingFeePercentage(_setAddress)).div(ONE_YEAR_IN_SECONDS);\n    }\n\n    /**\n     * Calculates profit fee net of streaming fee. Value of rebalancing Set is determined then streaming fee subtracted,\n     * to get postStreamingValue. This value is compared to the highWatermark, if greater than highWatermark multiply by\n     * profitFeePercentage and divide by rebalancingSetValue to get inflation from profit fees. If postStreamingValue does\n     * not exceed highWatermark then return 0.\n     *\n     * @param  _setAddress          Address of Set to have feeState updated\n     * @param  _streamingFee        Calculated streaming fee percentage\n     * @return uint256              Streaming fee\n     */\n    function calculateProfitFee(\n        address _setAddress,\n        uint256 _streamingFee\n    )\n        internal\n        view\n        returns(uint256)\n    {\n        // If time since last profit fee exceeds profitFeePeriod then calculate profit fee else 0.\n        if (exceedsProfitFeePeriod(_setAddress)) {\n            // Calculate post streaming value and get high watermark\n            uint256 rebalancingSetValue = SetUSDValuation.calculateRebalancingSetValue(_setAddress, oracleWhiteList);\n            uint256 postStreamingValue = calculatePostStreamingValue(rebalancingSetValue, _streamingFee);\n            uint256 highWatermark = highWatermark(_setAddress);\n\n            // Subtract high watermark from post streaming fee value, unless less than 0 set to 0\n            uint256 gainedValue = postStreamingValue > highWatermark ? postStreamingValue.sub(highWatermark) : 0;\n\n            // Determine percent fee in terms of current rebalancing Set value\n            return gainedValue.mul(profitFeePercentage(_setAddress)).div(rebalancingSetValue);\n        } else {\n            return 0;\n        }\n    }\n\n   /**\n     * Calculates Rebalancing Set Token value after streaming fees accounted for.\n     *\n     * @param  _rebalancingSetValue         Pre-fee value of Set\n     * @param  _streamingFee                Calculated streaming fee percentage\n     * @return  uint256                     Post streaming fee value\n     */\n    function calculatePostStreamingValue(\n        uint256 _rebalancingSetValue,\n        uint256 _streamingFee\n    )\n        internal\n        view\n        returns (uint256)\n    {\n        return _rebalancingSetValue.sub(_rebalancingSetValue.mul(_streamingFee).deScale());\n    }\n\n    /**\n     * Checks if time since last profit fee exceeds profitFeePeriod\n     *\n     * @return  bool\n     */\n    function exceedsProfitFeePeriod(address _set) internal view returns (bool) {\n        return timeSinceLastProfitFee(_set) > profitFeePeriod(_set);\n    }\n\n    /**\n     * Checks if time since last profit fee exceeds profitFeePeriod\n     *\n     * @return  uint256     Time since last profit fee accrued\n     */\n    function timeSinceLastProfitFee(address _set) internal view returns (uint256) {\n        return block.timestamp.sub(lastProfitFeeTimestamp(_set));\n    }\n\n    function lastStreamingFeeTimestamp(address _set) internal view returns (uint256) {\n        return feeState[_set].lastStreamingFeeTimestamp;\n    }\n\n    function lastProfitFeeTimestamp(address _set) internal view returns (uint256) {\n        return feeState[_set].lastProfitFeeTimestamp;\n    }\n\n    function streamingFeePercentage(address _set) internal view returns (uint256) {\n        return feeState[_set].streamingFeePercentage;\n    }\n\n    function profitFeePercentage(address _set) internal view returns (uint256) {\n        return feeState[_set].profitFeePercentage;\n    }\n\n    function profitFeePeriod(address _set) internal view returns (uint256) {\n        return feeState[_set].profitFeePeriod;\n    }\n\n    function highWatermark(address _set) internal view returns(uint256) {\n        return feeState[_set].highWatermark;\n    }\n\n    function highWatermarkResetPeriod(address _set) internal view returns(uint256) {\n        return feeState[_set].highWatermarkResetPeriod;\n    }\n\n    /* ============ Private Functions ============ */\n\n    /**\n     * Parses passed in fee parameters from bytestring.\n     *\n     * | CallData                     | Location                      |\n     * |------------------------------|-------------------------------|\n     * | profitFeePeriod              | 32                            |\n     * | highWatermarkResetPeriod     | 64                            |\n     * | profitFeePercentage          | 96                            |\n     * | streamingFeePercentage       | 128                           |\n     *\n     * @param  _callData            Byte string containing fee parameter data\n     * @return feeParameters        Fee parameters\n     */\n    function parsePerformanceFeeCallData(\n        bytes memory _callData\n    )\n        private\n        pure\n        returns (InitFeeParameters memory)\n    {\n        return abi.decode (_callData, (InitFeeParameters));\n    }\n\n    /**\n     * Parses passed in fee parameters from bytestring. If passed feeType number exceeds number of\n     *  enum items function will revert.\n     *\n     * | CallData                     | Location                      |\n     * |------------------------------|-------------------------------|\n     * | feeType                      | 32                            |\n     * | feePercentage                | 64                            |\n     *\n     * @param  _callData            Byte string containing fee parameter data\n     * @return feeParameters        Fee parameters\n     */\n    function parseNewFeeCallData(\n        bytes memory _callData\n    )\n        private\n        pure\n        returns (FeeType, uint256)\n    {\n        (\n            uint8 feeType,\n            uint256 feePercentage\n        ) = abi.decode (_callData, (uint8, uint256));\n\n        require(\n            feeType < 2,\n            "PerformanceFeeCalculator.parseNewFeeCallData: Fee type invalid"\n        );\n\n        return (FeeType(feeType), feePercentage);\n    }\n}',
sourcePath:"/Users/brianweickmann/Documents/Source/set-protocol-contracts/contracts/core/fee-calculators/PerformanceFeeCalculator.sol",compiler:{name:"solc",version:"0.5.7+commit.6da8b019.Linux.g++"},networks:{},schemaVersion:"3.0.23",updatedAt:"2020-05-05T17:13:36.311Z",devdoc:{author:"Set Protocol * Smart contract that stores and returns fees (represented as scaled decimal values). Fees are determined based on performance of the Set and a streaming fee. Set values can be denominated in any any asset based on oracle white list used in deploy.",methods:{constructor:{params:{_core:"Core instance",_maximumProfitFeePercentage:"Maximum percent of profit fee scaled by 1e18                                             (e.g. 100% = 1e18 and 1% = 1e16)",_maximumStreamingFeePercentage:"Maximum percent of streaming fee scaled by 1e18                                             (e.g. 100% = 1e18 and 1% = 1e16)",_oracleWhiteList:"Oracle white list instance"}},"getCalculatedFees(address)":{params:{_setAddress:"Address of Set to get fees"},"return":"uint256             Streaming Feeuint256             Profit Fee"}},title:"PerformanceFeeCalculator"},userdoc:{methods:{constructor:"Constructor function for PerformanceFeeCalculator","getCalculatedFees(address)":{notice:"Returns calculated streaming and profit fee."}}}};