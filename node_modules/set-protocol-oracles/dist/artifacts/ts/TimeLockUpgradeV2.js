"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TimeLockUpgradeV2={contractName:"TimeLockUpgradeV2",abi:[{constant:true,inputs:[{name:"",type:"bytes32"}],name:"timeLockedUpgrades",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:false,inputs:[],name:"renounceOwnership",outputs:[],payable:false,stateMutability:"nonpayable",type:"function"},{constant:true,inputs:[],name:"timeLockPeriod",outputs:[{name:"",type:"uint256"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"isOwner",outputs:[{name:"",type:"bool"}],payable:false,stateMutability:"view",type:"function"},{constant:false,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:false,stateMutability:"nonpayable",type:"function"},{anonymous:false,inputs:[{indexed:true,name:"_upgradeHash",type:"bytes32"},{indexed:false,name:"_timestamp",type:"uint256"},{indexed:false,name:"_upgradeData",type:"bytes"}],name:"UpgradeRegistered",type:"event"},{anonymous:false,inputs:[{indexed:true,name:"_upgradeHash",type:"bytes32"}],name:"RemoveRegisteredUpgrade",type:"event"},{anonymous:false,inputs:[{indexed:true,name:"previousOwner",type:"address"},{indexed:true,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{constant:false,inputs:[{name:"_upgradeHash",type:"bytes32"}],name:"removeRegisteredUpgrade",outputs:[],payable:false,stateMutability:"nonpayable",type:"function"},{constant:false,inputs:[{name:"_timeLockPeriod",type:"uint256"}],name:"setTimeLockPeriod",outputs:[],payable:false,stateMutability:"nonpayable",type:"function"}],metadata:'{"compiler":{"version":"0.5.7+commit.6da8b019"},"language":"Solidity","output":{"abi":[{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"timeLockedUpgrades","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"timeLockPeriod","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_timeLockPeriod","type":"uint256"}],"name":"setTimeLockPeriod","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_upgradeHash","type":"bytes32"}],"name":"removeRegisteredUpgrade","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_upgradeHash","type":"bytes32"},{"indexed":false,"name":"_timestamp","type":"uint256"},{"indexed":false,"name":"_upgradeData","type":"bytes"}],"name":"UpgradeRegistered","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_upgradeHash","type":"bytes32"}],"name":"RemoveRegisteredUpgrade","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"}],"devdoc":{"author":"Set Protocol * The TimeLockUpgradeV2 contract contains a modifier for handling minimum time period updates * CHANGELOG: - Requires that the caller is the owner - New function to allow deletion of existing timelocks - Added upgradeData to UpgradeRegistered event","methods":{"isOwner()":{"return":"true if `msg.sender` is the owner of the contract."},"owner()":{"return":"the address of the owner."},"removeRegisteredUpgrade(bytes32)":{"params":{"_upgradeHash":"Keccack256 hash that uniquely identifies function called and arguments"}},"renounceOwnership()":{"details":"Allows the current owner to relinquish control of the contract. It will not be possible to call the functions with the `onlyOwner` modifier anymore."},"setTimeLockPeriod(uint256)":{"params":{"_timeLockPeriod":"Time in seconds that upgrades need to be evaluated before execution"}},"transferOwnership(address)":{"details":"Allows the current owner to transfer control of the contract to a newOwner.","params":{"newOwner":"The address to transfer ownership to."}}},"title":"TimeLockUpgradeV2"},"userdoc":{"methods":{"removeRegisteredUpgrade(bytes32)":{"notice":"Removes an existing upgrade."},"renounceOwnership()":{"notice":"Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner."},"setTimeLockPeriod(uint256)":{"notice":"Change timeLockPeriod period. Generally called after initially settings have been set up."}}}},"settings":{"compilationTarget":{"/Users/justin_chen/Dropbox/workspace/set-protocol-oracles/contracts/external/SetProtocolContracts/lib/TimeLockUpgradeV2.sol":"TimeLockUpgradeV2"},"evmVersion":"byzantium","libraries":{},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{"/Users/justin_chen/Dropbox/workspace/set-protocol-oracles/contracts/external/SetProtocolContracts/lib/TimeLockUpgradeV2.sol":{"keccak256":"0x2dba1713f6b95484d86d95994f6f35d66e27cf3fd5aac2cece3fb2f507b421a4","urls":["bzzr://b9c55c7eb8520d198c5a37c5a0dcf6fd4dde7a4c82bcbae1e7253873e29d65e0"]},"openzeppelin-solidity/contracts/math/SafeMath.sol":{"keccak256":"0xc2a200a877c4a9b2475c246c54ffecc69ffde3e11af83319c63c2dc5458bac80","urls":["bzzr://c8876e2c39b60f155d748d71d715c8f3903fae5a405ac599adcb6ad2f9a583f9"]},"openzeppelin-solidity/contracts/ownership/Ownable.sol":{"keccak256":"0xcb16adc00dcf0d75e0bdf94379f4d5a6d74dca7c74e4183b94e15721159f8a30","urls":["bzzr://b81e03f7203cd628cfed19255911a04a05e8670d248afb48a7b067dd03b4ff55"]}},"version":1}',bytecode:"0x6080604081905260008054600160a060020a0319163317808255600160a060020a0316917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908290a3610494806100576000396000f3fe608060405234801561001057600080fd5b50600436106100a5576000357c0100000000000000000000000000000000000000000000000000000000900480638f32d59b116100785780638f32d59b1461010f5780639303b16f1461012b578063cc75c9b014610148578063f2fde38b14610165576100a5565b80631766486d146100aa578063715018a6146100d957806378446bc1146100e35780638da5cb5b146100eb575b600080fd5b6100c7600480360360208110156100c057600080fd5b503561018b565b60408051918252519081900360200190f35b6100e161019d565b005b6100c7610205565b6100f361020b565b60408051600160a060020a039092168252519081900360200190f35b61011761021a565b604080519115158252519081900360200190f35b6100e16004803603602081101561014157600080fd5b503561022b565b6100e16004803603602081101561015e57600080fd5b503561029b565b6100e16004803603602081101561017b57600080fd5b5035600160a060020a031661034b565b60026020526000908152604090205481565b6101a561021a565b6101ae57600080fd5b60008054604051600160a060020a03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a36000805473ffffffffffffffffffffffffffffffffffffffff19169055565b60015481565b600054600160a060020a031690565b600054600160a060020a0316331490565b61023361021a565b61023c57600080fd5b6001548111610296576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252603b8152602001806103e4603b913960400191505060405180910390fd5b600155565b6102a361021a565b6102ac57600080fd5b600081815260026020526040902054610310576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252604a81526020018061041f604a913960600191505060405180910390fd5b6000818152600260205260408082208290555182917f068cc8f97648f23db94d0e1a707a54447d07effeb11c1c297168aa67321dc4ec91a250565b61035361021a565b61035c57600080fd5b61036581610368565b50565b600160a060020a03811661037b57600080fd5b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039290921691909117905556fe54696d654c6f636b5570677261646556323a204e657720706572696f64206d7573742062652067726561746572207468616e206578697374696e6754696d654c6f636b5570677261646556322e72656d6f766552656769737465726564557067726164653a20557067726164652068617368206d7573742062652072656769737465726564a165627a7a72305820102587d3457caf509280906722becdce1238b04e81bd899b5d9fae00f10bb6450029",deployedBytecode:"0x608060405234801561001057600080fd5b50600436106100a5576000357c0100000000000000000000000000000000000000000000000000000000900480638f32d59b116100785780638f32d59b1461010f5780639303b16f1461012b578063cc75c9b014610148578063f2fde38b14610165576100a5565b80631766486d146100aa578063715018a6146100d957806378446bc1146100e35780638da5cb5b146100eb575b600080fd5b6100c7600480360360208110156100c057600080fd5b503561018b565b60408051918252519081900360200190f35b6100e161019d565b005b6100c7610205565b6100f361020b565b60408051600160a060020a039092168252519081900360200190f35b61011761021a565b604080519115158252519081900360200190f35b6100e16004803603602081101561014157600080fd5b503561022b565b6100e16004803603602081101561015e57600080fd5b503561029b565b6100e16004803603602081101561017b57600080fd5b5035600160a060020a031661034b565b60026020526000908152604090205481565b6101a561021a565b6101ae57600080fd5b60008054604051600160a060020a03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a36000805473ffffffffffffffffffffffffffffffffffffffff19169055565b60015481565b600054600160a060020a031690565b600054600160a060020a0316331490565b61023361021a565b61023c57600080fd5b6001548111610296576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252603b8152602001806103e4603b913960400191505060405180910390fd5b600155565b6102a361021a565b6102ac57600080fd5b600081815260026020526040902054610310576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252604a81526020018061041f604a913960600191505060405180910390fd5b6000818152600260205260408082208290555182917f068cc8f97648f23db94d0e1a707a54447d07effeb11c1c297168aa67321dc4ec91a250565b61035361021a565b61035c57600080fd5b61036581610368565b50565b600160a060020a03811661037b57600080fd5b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039290921691909117905556fe54696d654c6f636b5570677261646556323a204e657720706572696f64206d7573742062652067726561746572207468616e206578697374696e6754696d654c6f636b5570677261646556322e72656d6f766552656769737465726564557067726164653a20557067726164652068617368206d7573742062652072656769737465726564a165627a7a72305820102587d3457caf509280906722becdce1238b04e81bd899b5d9fae00f10bb6450029",sourceMap:"1108:3387:14:-;;;;;515:6:67;:19;;-1:-1:-1;;;;;;515:19:67;524:10;515:19;;;;-1:-1:-1;;;;;582:6:67;;549:40;;515:6;;549:40;1108:3387:14;;;;;;",deployedSourceMap:"1108:3387:14:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1108:3387:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1399:53;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1399:53:14;;:::i;:::-;;;;;;;;;;;;;;;;1423:137:67;;;:::i;:::-;;1284:29:14;;;:::i;659:77:67:-;;;:::i;:::-;;;;-1:-1:-1;;;;;659:77:67;;;;;;;;;;;;;;979:90;;;:::i;:::-;;;;;;;;;;;;;;;;;;4095:398:14;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;4095:398:14;;:::i;3427:441::-;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;3427:441:14;;:::i;1731:107:67:-;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1731:107:67;-1:-1:-1;;;;;1731:107:67;;:::i;1399:53:14:-;;;;;;;;;;;;;:::o;1423:137:67:-;863:9;:7;:9::i;:::-;855:18;;;;;;1521:1;1505:6;;1484:40;;-1:-1:-1;;;;;1505:6:67;;;;1484:40;;1521:1;;1484:40;1551:1;1534:19;;-1:-1:-1;;1534:19:67;;;1423:137::o;1284:29:14:-;;;;:::o;659:77:67:-;697:7;723:6;-1:-1:-1;;;;;723:6:67;659:77;:::o;979:90::-;1019:4;1056:6;-1:-1:-1;;;;;1056:6:67;1042:10;:20;;979:90::o;4095:398:14:-;863:9:67;:7;:9::i;:::-;855:18;;;;;;4344:14:14;;4326:15;:32;4305:138;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4454:14;:32;4095:398::o;3427:441::-;863:9:67;:7;:9::i;:::-;855:18;;;;;;3566:32:14;;;;:18;:32;;;;;;3545:158;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3785:1;3750:32;;;:18;:32;;;;;;:36;;;3802:59;3769:12;;3802:59;;;3427:441;:::o;1731:107:67:-;863:9;:7;:9::i;:::-;855:18;;;;;;1803:28;1822:8;1803:18;:28::i;:::-;1731:107;:::o;1982:183::-;-1:-1:-1;;;;;2055:22:67;;2047:31;;;;;;2114:6;;;2093:38;;-1:-1:-1;;;;;2093:38:67;;;;2114:6;;;2093:38;;;2141:6;:17;;-1:-1:-1;;2141:17:67;-1:-1:-1;;;;;2141:17:67;;;;;;;;;;1982:183::o",source:'/*\n    Copyright 2018 Set Labs Inc.\n\n    Licensed under the Apache License, Version 2.0 (the "License");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an "AS IS" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n*/\n\npragma solidity 0.5.7;\n\nimport { Ownable } from "openzeppelin-solidity/contracts/ownership/Ownable.sol";\nimport { SafeMath } from "openzeppelin-solidity/contracts/math/SafeMath.sol";\n\n\n/**\n * @title TimeLockUpgradeV2\n * @author Set Protocol\n *\n * The TimeLockUpgradeV2 contract contains a modifier for handling minimum time period updates\n *\n * CHANGELOG:\n * - Requires that the caller is the owner\n * - New function to allow deletion of existing timelocks\n * - Added upgradeData to UpgradeRegistered event\n */\ncontract TimeLockUpgradeV2 is\n    Ownable\n{\n    using SafeMath for uint256;\n\n    /* ============ State Variables ============ */\n\n    // Timelock Upgrade Period in seconds\n    uint256 public timeLockPeriod;\n\n    // Mapping of maps hash of registered upgrade to its registration timestam\n    mapping(bytes32 => uint256) public timeLockedUpgrades;\n\n    /* ============ Events ============ */\n\n    event UpgradeRegistered(\n        bytes32 indexed _upgradeHash,\n        uint256 _timestamp,\n        bytes _upgradeData\n    );\n\n    event RemoveRegisteredUpgrade(\n        bytes32 indexed _upgradeHash\n    );\n\n    /* ============ Modifiers ============ */\n\n    modifier timeLockUpgrade() {\n        require(\n            isOwner(),\n            "TimeLockUpgradeV2: The caller must be the owner"\n        );\n\n        // If the time lock period is 0, then allow non-timebound upgrades.\n        // This is useful for initialization of the protocol and for testing.\n        if (timeLockPeriod > 0) {\n            // The upgrade hash is defined by the hash of the transaction call data,\n            // which uniquely identifies the function as well as the passed in arguments.\n            bytes32 upgradeHash = keccak256(\n                abi.encodePacked(\n                    msg.data\n                )\n            );\n\n            uint256 registrationTime = timeLockedUpgrades[upgradeHash];\n\n            // If the upgrade hasn\'t been registered, register with the current time.\n            if (registrationTime == 0) {\n                timeLockedUpgrades[upgradeHash] = block.timestamp;\n\n                emit UpgradeRegistered(\n                    upgradeHash,\n                    block.timestamp,\n                    msg.data\n                );\n\n                return;\n            }\n\n            require(\n                block.timestamp >= registrationTime.add(timeLockPeriod),\n                "TimeLockUpgradeV2: Time lock period must have elapsed."\n            );\n\n            // Reset the timestamp to 0\n            timeLockedUpgrades[upgradeHash] = 0;\n\n        }\n\n        // Run the rest of the upgrades\n        _;\n    }\n\n    /* ============ Function ============ */\n\n    /**\n     * Removes an existing upgrade.\n     *\n     * @param  _upgradeHash    Keccack256 hash that uniquely identifies function called and arguments\n     */\n    function removeRegisteredUpgrade(\n        bytes32 _upgradeHash\n    )\n        external\n        onlyOwner\n    {\n        require(\n            timeLockedUpgrades[_upgradeHash] != 0,\n            "TimeLockUpgradeV2.removeRegisteredUpgrade: Upgrade hash must be registered"\n        );\n\n        // Reset the timestamp to 0\n        timeLockedUpgrades[_upgradeHash] = 0;\n\n        emit RemoveRegisteredUpgrade(\n            _upgradeHash\n        );\n    }\n\n    /**\n     * Change timeLockPeriod period. Generally called after initially settings have been set up.\n     *\n     * @param  _timeLockPeriod   Time in seconds that upgrades need to be evaluated before execution\n     */\n    function setTimeLockPeriod(\n        uint256 _timeLockPeriod\n    )\n        external\n        onlyOwner\n    {\n        // Only allow setting of the timeLockPeriod if the period is greater than the existing\n        require(\n            _timeLockPeriod > timeLockPeriod,\n            "TimeLockUpgradeV2: New period must be greater than existing"\n        );\n\n        timeLockPeriod = _timeLockPeriod;\n    }\n}\n',sourcePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-oracles/contracts/external/SetProtocolContracts/lib/TimeLockUpgradeV2.sol",ast:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-oracles/contracts/external/SetProtocolContracts/lib/TimeLockUpgradeV2.sol",exportedSymbols:{TimeLockUpgradeV2:[2113]},id:2114,nodeType:"SourceUnit",nodes:[{id:1970,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:14"},{absolutePath:"openzeppelin-solidity/contracts/ownership/Ownable.sol",file:"openzeppelin-solidity/contracts/ownership/Ownable.sol",id:1972,nodeType:"ImportDirective",scope:2114,sourceUnit:6511,src:"621:80:14",symbolAliases:[{foreign:1971,local:null}],unitAlias:""},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:1974,nodeType:"ImportDirective",scope:2114,sourceUnit:6402,src:"702:77:14",symbolAliases:[{foreign:1973,local:null}],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:1975,name:"Ownable",nodeType:"UserDefinedTypeName",referencedDeclaration:6510,src:"1142:7:14",typeDescriptions:{typeIdentifier:"t_contract$_Ownable_$6510",typeString:"contract Ownable"}},id:1976,nodeType:"InheritanceSpecifier",src:"1142:7:14"}],contractDependencies:[6510],contractKind:"contract",documentation:"@title TimeLockUpgradeV2\n@author Set Protocol\n * The TimeLockUpgradeV2 contract contains a modifier for handling minimum time period updates\n * CHANGELOG:\n- Requires that the caller is the owner\n- New function to allow deletion of existing timelocks\n- Added upgradeData to UpgradeRegistered event",fullyImplemented:true,id:2113,linearizedBaseContracts:[2113,6510],name:"TimeLockUpgradeV2",nodeType:"ContractDefinition",nodes:[{id:1979,libraryName:{contractScope:null,id:1977,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:6401,src:"1162:8:14",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$6401",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"1156:27:14",typeName:{id:1978,name:"uint256",nodeType:"ElementaryTypeName",src:"1175:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{constant:false,id:1981,name:"timeLockPeriod",nodeType:"VariableDeclaration",scope:2113,src:"1284:29:14",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:1980,name:"uint256",nodeType:"ElementaryTypeName",src:"1284:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"public"},{constant:false,id:1985,name:"timeLockedUpgrades",nodeType:"VariableDeclaration",scope:2113,src:"1399:53:14",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"},typeName:{id:1984,keyType:{id:1982,name:"bytes32",nodeType:"ElementaryTypeName",src:"1407:7:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Mapping",src:"1399:27:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"},valueType:{id:1983,name:"uint256",nodeType:"ElementaryTypeName",src:"1418:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},value:null,visibility:"public"},{anonymous:false,documentation:null,id:1993,name:"UpgradeRegistered",nodeType:"EventDefinition",parameters:{id:1992,nodeType:"ParameterList",parameters:[{constant:false,id:1987,indexed:true,name:"_upgradeHash",nodeType:"VariableDeclaration",scope:1993,src:"1536:28:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:1986,name:"bytes32",nodeType:"ElementaryTypeName",src:"1536:7:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"},{constant:false,id:1989,indexed:false,name:"_timestamp",nodeType:"VariableDeclaration",scope:1993,src:"1574:18:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:1988,name:"uint256",nodeType:"ElementaryTypeName",src:"1574:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:1991,indexed:false,name:"_upgradeData",nodeType:"VariableDeclaration",scope:1993,src:"1602:18:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes"},typeName:{id:1990,name:"bytes",nodeType:"ElementaryTypeName",src:"1602:5:14",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"1526:100:14"},src:"1503:124:14"},{anonymous:false,documentation:null,id:1997,name:"RemoveRegisteredUpgrade",nodeType:"EventDefinition",parameters:{id:1996,nodeType:"ParameterList",parameters:[{constant:false,id:1995,indexed:true,name:"_upgradeHash",nodeType:"VariableDeclaration",scope:1997,src:"1672:28:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:1994,name:"bytes32",nodeType:"ElementaryTypeName",src:"1672:7:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"1662:44:14"},src:"1633:74:14"},{body:{id:2065,nodeType:"Block",src:"1787:1427:14",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:2e3,name:"isOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6455,src:"1818:7:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$__$returns$_t_bool_$",typeString:"function () view returns (bool)"}},id:2001,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"1818:9:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54696d654c6f636b5570677261646556323a205468652063616c6c6572206d75737420626520746865206f776e6572",id:2002,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"1841:49:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_a7cf1bfbe11f47641c2dac030f17e89d9f6664eaa73e9ae90b4aae5f46eaf1ae",typeString:'literal_string "TimeLockUpgradeV2: The caller must be the owner"'},value:"TimeLockUpgradeV2: The caller must be the owner"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_a7cf1bfbe11f47641c2dac030f17e89d9f6664eaa73e9ae90b4aae5f46eaf1ae",typeString:'literal_string "TimeLockUpgradeV2: The caller must be the owner"'}],id:1999,name:"require",nodeType:"Identifier",overloadedDeclarations:[7011,7012],referencedDeclaration:7012,src:"1797:7:14",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:2003,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"1797:103:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2004,nodeType:"ExpressionStatement",src:"1797:103:14"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2007,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:2005,name:"timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1981,src:"2069:14:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:2006,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2086:1:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"2069:18:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:2063,nodeType:"IfStatement",src:"2065:1091:14",trueBody:{id:2062,nodeType:"Block",src:"2089:1067:14",statements:[{assignments:[2009],declarations:[{constant:false,id:2009,name:"upgradeHash",nodeType:"VariableDeclaration",scope:2062,src:"2278:19:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:2008,name:"bytes32",nodeType:"ElementaryTypeName",src:"2278:7:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],id:2017,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:2013,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7008,src:"2365:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:2014,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"data",nodeType:"MemberAccess",referencedDeclaration:null,src:"2365:8:14",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}],expression:{argumentTypes:null,id:2011,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6995,src:"2327:3:14",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:2012,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"2327:16:14",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:2015,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2327:64:14",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:2010,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7002,src:"2300:9:14",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:2016,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2300:105:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"VariableDeclarationStatement",src:"2278:127:14"},{assignments:[2019],declarations:[{constant:false,id:2019,name:"registrationTime",nodeType:"VariableDeclaration",scope:2062,src:"2420:24:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2018,name:"uint256",nodeType:"ElementaryTypeName",src:"2420:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:2023,initialValue:{argumentTypes:null,baseExpression:{argumentTypes:null,id:2020,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"2447:18:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:2022,indexExpression:{argumentTypes:null,id:2021,name:"upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2009,src:"2466:11:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"2447:31:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"2420:58:14"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2026,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:2024,name:"registrationTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2019,src:"2583:16:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:2025,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2603:1:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"2583:21:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:2044,nodeType:"IfStatement",src:"2579:293:14",trueBody:{id:2043,nodeType:"Block",src:"2606:266:14",statements:[{expression:{argumentTypes:null,id:2032,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:2027,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"2624:18:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:2029,indexExpression:{argumentTypes:null,id:2028,name:"upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2009,src:"2643:11:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:true,nodeType:"IndexAccess",src:"2624:31:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:2030,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6998,src:"2658:5:14",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:2031,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"2658:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2624:49:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2033,nodeType:"ExpressionStatement",src:"2624:49:14"},{eventCall:{argumentTypes:null,
arguments:[{argumentTypes:null,id:2035,name:"upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2009,src:"2736:11:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,expression:{argumentTypes:null,id:2036,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6998,src:"2769:5:14",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:2037,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"2769:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:2038,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7008,src:"2806:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:2039,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"data",nodeType:"MemberAccess",referencedDeclaration:null,src:"2806:8:14",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}],id:2034,name:"UpgradeRegistered",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1993,src:"2697:17:14",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$",typeString:"function (bytes32,uint256,bytes memory)"}},id:2040,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2697:135:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2041,nodeType:"EmitStatement",src:"2692:140:14"},{expression:null,functionReturnParameters:null,id:2042,nodeType:"Return",src:"2851:7:14"}]}},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2052,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:2046,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6998,src:"2911:5:14",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:2047,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"2911:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">=",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:2050,name:"timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1981,src:"2951:14:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2048,name:"registrationTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2019,src:"2930:16:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2049,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:6380,src:"2930:20:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:2051,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2930:36:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2911:55:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54696d654c6f636b5570677261646556323a2054696d65206c6f636b20706572696f64206d757374206861766520656c61707365642e",id:2053,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"2984:56:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_65c573895bc46e6760b220807491f24700562ffc41b2a549f73a050caa5c3e1e",typeString:'literal_string "TimeLockUpgradeV2: Time lock period must have elapsed."'},value:"TimeLockUpgradeV2: Time lock period must have elapsed."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_65c573895bc46e6760b220807491f24700562ffc41b2a549f73a050caa5c3e1e",typeString:'literal_string "TimeLockUpgradeV2: Time lock period must have elapsed."'}],id:2045,name:"require",nodeType:"Identifier",overloadedDeclarations:[7011,7012],referencedDeclaration:7012,src:"2886:7:14",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:2054,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2886:168:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2055,nodeType:"ExpressionStatement",src:"2886:168:14"},{expression:{argumentTypes:null,id:2060,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:2056,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"3109:18:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:2058,indexExpression:{argumentTypes:null,id:2057,name:"upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2009,src:"3128:11:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:true,nodeType:"IndexAccess",src:"3109:31:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,hexValue:"30",id:2059,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"3143:1:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"3109:35:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2061,nodeType:"ExpressionStatement",src:"3109:35:14"}]}},{id:2064,nodeType:"PlaceholderStatement",src:"3206:1:14"}]},documentation:null,id:2066,name:"timeLockUpgrade",nodeType:"ModifierDefinition",parameters:{id:1998,nodeType:"ParameterList",parameters:[],src:"1784:2:14"},src:"1760:1454:14",visibility:"internal"},{body:{id:2092,nodeType:"Block",src:"3535:333:14",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2078,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:2074,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"3566:18:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:2076,indexExpression:{argumentTypes:null,id:2075,name:"_upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2068,src:"3585:12:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"3566:32:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,hexValue:"30",id:2077,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"3602:1:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"3566:37:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54696d654c6f636b5570677261646556322e72656d6f766552656769737465726564557067726164653a20557067726164652068617368206d7573742062652072656769737465726564",id:2079,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"3617:76:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_2bc75a00c5313f8e5686c8c1ed1213bc596e6197261ca680fdcfe96f41718d95",typeString:'literal_string "TimeLockUpgradeV2.removeRegisteredUpgrade: Upgrade hash must be registered"'},value:"TimeLockUpgradeV2.removeRegisteredUpgrade: Upgrade hash must be registered"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_2bc75a00c5313f8e5686c8c1ed1213bc596e6197261ca680fdcfe96f41718d95",typeString:'literal_string "TimeLockUpgradeV2.removeRegisteredUpgrade: Upgrade hash must be registered"'}],id:2073,name:"require",nodeType:"Identifier",overloadedDeclarations:[7011,7012],referencedDeclaration:7012,src:"3545:7:14",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:2080,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3545:158:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2081,nodeType:"ExpressionStatement",src:"3545:158:14"},{expression:{argumentTypes:null,id:2086,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:2082,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"3750:18:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:2084,indexExpression:{argumentTypes:null,id:2083,name:"_upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2068,src:"3769:12:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:true,nodeType:"IndexAccess",src:"3750:32:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,hexValue:"30",id:2085,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"3785:1:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"3750:36:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2087,nodeType:"ExpressionStatement",src:"3750:36:14"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:2089,name:"_upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2068,src:"3839:12:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],id:2088,name:"RemoveRegisteredUpgrade",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1997,src:"3802:23:14",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$returns$__$",typeString:"function (bytes32)"}},id:2090,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3802:59:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2091,nodeType:"EmitStatement",src:"3797:64:14"}]},documentation:"Removes an existing upgrade.\n     * @param  _upgradeHash    Keccack256 hash that uniquely identifies function called and arguments",id:2093,implemented:true,kind:"function",modifiers:[{arguments:null,id:2071,modifierName:{argumentTypes:null,id:2070,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6444,src:"3521:9:14",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"3521:9:14"}],name:"removeRegisteredUpgrade",nodeType:"FunctionDefinition",parameters:{id:2069,nodeType:"ParameterList",parameters:[{constant:false,id:2068,name:"_upgradeHash",nodeType:"VariableDeclaration",scope:2093,src:"3469:20:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:2067,name:"bytes32",nodeType:"ElementaryTypeName",src:"3469:7:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"3459:36:14"},returnParameters:{id:2072,nodeType:"ParameterList",parameters:[],src:"3535:0:14"},scope:2113,src:"3427:441:14",stateMutability:"nonpayable",superFunction:null,visibility:"external"},{body:{id:2111,nodeType:"Block",src:"4200:293:14",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2103,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:2101,name:"_timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2095,src:"4326:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,id:2102,name:"timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1981,src:"4344:14:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"4326:32:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54696d654c6f636b5570677261646556323a204e657720706572696f64206d7573742062652067726561746572207468616e206578697374696e67",id:2104,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"4372:61:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_146f6048453e5f6d46d175a3e8bab41117c5c39393941cd20e31021214beda19",typeString:'literal_string "TimeLockUpgradeV2: New period must be greater than existing"'},value:"TimeLockUpgradeV2: New period must be greater than existing"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_146f6048453e5f6d46d175a3e8bab41117c5c39393941cd20e31021214beda19",typeString:'literal_string "TimeLockUpgradeV2: New period must be greater than existing"'}],id:2100,name:"require",nodeType:"Identifier",overloadedDeclarations:[7011,7012],referencedDeclaration:7012,src:"4305:7:14",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:2105,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4305:138:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2106,nodeType:"ExpressionStatement",src:"4305:138:14"},{expression:{argumentTypes:null,id:2109,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:2107,name:"timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1981,src:"4454:14:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:2108,name:"_timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2095,src:"4471:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"4454:32:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2110,nodeType:"ExpressionStatement",src:"4454:32:14"}]},documentation:"Change timeLockPeriod period. Generally called after initially settings have been set up.\n     * @param  _timeLockPeriod   Time in seconds that upgrades need to be evaluated before execution",id:2112,implemented:true,kind:"function",modifiers:[{arguments:null,id:2098,modifierName:{argumentTypes:null,id:2097,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6444,src:"4186:9:14",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"4186:9:14"}],name:"setTimeLockPeriod",nodeType:"FunctionDefinition",parameters:{id:2096,nodeType:"ParameterList",parameters:[{constant:false,id:2095,name:"_timeLockPeriod",nodeType:"VariableDeclaration",scope:2112,src:"4131:23:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2094,name:"uint256",nodeType:"ElementaryTypeName",src:"4131:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"4121:39:14"},returnParameters:{id:2099,nodeType:"ParameterList",parameters:[],src:"4200:0:14"},scope:2113,src:"4095:398:14",stateMutability:"nonpayable",superFunction:null,visibility:"external"}],scope:2114,src:"1108:3387:14"}],src:"597:3899:14"},legacyAST:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-oracles/contracts/external/SetProtocolContracts/lib/TimeLockUpgradeV2.sol",exportedSymbols:{TimeLockUpgradeV2:[2113]},id:2114,nodeType:"SourceUnit",nodes:[{id:1970,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:14"},{absolutePath:"openzeppelin-solidity/contracts/ownership/Ownable.sol",file:"openzeppelin-solidity/contracts/ownership/Ownable.sol",id:1972,nodeType:"ImportDirective",scope:2114,sourceUnit:6511,src:"621:80:14",symbolAliases:[{foreign:1971,local:null}],unitAlias:""},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:1974,nodeType:"ImportDirective",scope:2114,sourceUnit:6402,src:"702:77:14",symbolAliases:[{foreign:1973,local:null}],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:1975,name:"Ownable",nodeType:"UserDefinedTypeName",referencedDeclaration:6510,src:"1142:7:14",typeDescriptions:{typeIdentifier:"t_contract$_Ownable_$6510",typeString:"contract Ownable"}},id:1976,nodeType:"InheritanceSpecifier",src:"1142:7:14"}],contractDependencies:[6510],contractKind:"contract",documentation:"@title TimeLockUpgradeV2\n@author Set Protocol\n * The TimeLockUpgradeV2 contract contains a modifier for handling minimum time period updates\n * CHANGELOG:\n- Requires that the caller is the owner\n- New function to allow deletion of existing timelocks\n- Added upgradeData to UpgradeRegistered event",fullyImplemented:true,id:2113,linearizedBaseContracts:[2113,6510],name:"TimeLockUpgradeV2",nodeType:"ContractDefinition",nodes:[{id:1979,libraryName:{contractScope:null,id:1977,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:6401,src:"1162:8:14",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$6401",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"1156:27:14",typeName:{id:1978,name:"uint256",nodeType:"ElementaryTypeName",src:"1175:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{constant:false,id:1981,name:"timeLockPeriod",nodeType:"VariableDeclaration",scope:2113,src:"1284:29:14",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:1980,name:"uint256",nodeType:"ElementaryTypeName",src:"1284:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"public"},{constant:false,id:1985,name:"timeLockedUpgrades",nodeType:"VariableDeclaration",scope:2113,src:"1399:53:14",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"},typeName:{id:1984,keyType:{id:1982,name:"bytes32",nodeType:"ElementaryTypeName",src:"1407:7:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Mapping",src:"1399:27:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"},valueType:{id:1983,name:"uint256",nodeType:"ElementaryTypeName",src:"1418:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},value:null,visibility:"public"},{anonymous:false,documentation:null,id:1993,name:"UpgradeRegistered",nodeType:"EventDefinition",parameters:{id:1992,nodeType:"ParameterList",parameters:[{constant:false,id:1987,indexed:true,name:"_upgradeHash",nodeType:"VariableDeclaration",scope:1993,src:"1536:28:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:1986,name:"bytes32",nodeType:"ElementaryTypeName",src:"1536:7:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"},{constant:false,id:1989,indexed:false,name:"_timestamp",nodeType:"VariableDeclaration",scope:1993,src:"1574:18:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:1988,name:"uint256",nodeType:"ElementaryTypeName",src:"1574:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:false,id:1991,indexed:false,name:"_upgradeData",nodeType:"VariableDeclaration",scope:1993,src:"1602:18:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes"},typeName:{id:1990,name:"bytes",nodeType:"ElementaryTypeName",src:"1602:5:14",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"1526:100:14"},src:"1503:124:14"},{anonymous:false,documentation:null,id:1997,name:"RemoveRegisteredUpgrade",nodeType:"EventDefinition",parameters:{id:1996,nodeType:"ParameterList",parameters:[{constant:false,id:1995,indexed:true,name:"_upgradeHash",nodeType:"VariableDeclaration",scope:1997,src:"1672:28:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:1994,name:"bytes32",nodeType:"ElementaryTypeName",src:"1672:7:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"1662:44:14"},src:"1633:74:14"},{body:{id:2065,nodeType:"Block",src:"1787:1427:14",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:2e3,name:"isOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6455,src:"1818:7:14",typeDescriptions:{typeIdentifier:"t_function_internal_view$__$returns$_t_bool_$",typeString:"function () view returns (bool)"}},id:2001,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"1818:9:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54696d654c6f636b5570677261646556323a205468652063616c6c6572206d75737420626520746865206f776e6572",id:2002,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"1841:49:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_a7cf1bfbe11f47641c2dac030f17e89d9f6664eaa73e9ae90b4aae5f46eaf1ae",typeString:'literal_string "TimeLockUpgradeV2: The caller must be the owner"'},value:"TimeLockUpgradeV2: The caller must be the owner"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_a7cf1bfbe11f47641c2dac030f17e89d9f6664eaa73e9ae90b4aae5f46eaf1ae",typeString:'literal_string "TimeLockUpgradeV2: The caller must be the owner"'}],id:1999,name:"require",nodeType:"Identifier",overloadedDeclarations:[7011,7012],referencedDeclaration:7012,src:"1797:7:14",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:2003,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"1797:103:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2004,nodeType:"ExpressionStatement",src:"1797:103:14"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2007,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:2005,name:"timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1981,src:"2069:14:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:2006,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2086:1:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"2069:18:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:2063,nodeType:"IfStatement",src:"2065:1091:14",trueBody:{id:2062,nodeType:"Block",src:"2089:1067:14",statements:[{assignments:[2009],declarations:[{constant:false,id:2009,name:"upgradeHash",nodeType:"VariableDeclaration",scope:2062,src:"2278:19:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:2008,name:"bytes32",nodeType:"ElementaryTypeName",src:"2278:7:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],id:2017,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:2013,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7008,src:"2365:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:2014,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"data",nodeType:"MemberAccess",referencedDeclaration:null,src:"2365:8:14",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}],expression:{argumentTypes:null,id:2011,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6995,src:"2327:3:14",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:2012,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"2327:16:14",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:2015,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2327:64:14",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:2010,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7002,src:"2300:9:14",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:2016,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2300:105:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"VariableDeclarationStatement",src:"2278:127:14"},{assignments:[2019],declarations:[{constant:false,id:2019,name:"registrationTime",nodeType:"VariableDeclaration",scope:2062,src:"2420:24:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2018,name:"uint256",nodeType:"ElementaryTypeName",src:"2420:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:2023,initialValue:{argumentTypes:null,baseExpression:{argumentTypes:null,id:2020,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"2447:18:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:2022,indexExpression:{argumentTypes:null,id:2021,name:"upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2009,src:"2466:11:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"2447:31:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"2420:58:14"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2026,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:2024,name:"registrationTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2019,src:"2583:16:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:2025,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2603:1:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"2583:21:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:2044,nodeType:"IfStatement",src:"2579:293:14",trueBody:{id:2043,nodeType:"Block",src:"2606:266:14",statements:[{expression:{argumentTypes:null,id:2032,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:2027,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"2624:18:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:2029,indexExpression:{argumentTypes:null,id:2028,name:"upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2009,src:"2643:11:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:true,nodeType:"IndexAccess",src:"2624:31:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:2030,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6998,src:"2658:5:14",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:2031,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"2658:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2624:49:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2033,nodeType:"ExpressionStatement",src:"2624:49:14"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:2035,name:"upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2009,src:"2736:11:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,expression:{argumentTypes:null,id:2036,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6998,src:"2769:5:14",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"
}},id:2037,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"2769:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:2038,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7008,src:"2806:3:14",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:2039,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"data",nodeType:"MemberAccess",referencedDeclaration:null,src:"2806:8:14",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}],id:2034,name:"UpgradeRegistered",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1993,src:"2697:17:14",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$",typeString:"function (bytes32,uint256,bytes memory)"}},id:2040,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2697:135:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2041,nodeType:"EmitStatement",src:"2692:140:14"},{expression:null,functionReturnParameters:null,id:2042,nodeType:"Return",src:"2851:7:14"}]}},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2052,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:2046,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6998,src:"2911:5:14",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:2047,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"2911:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">=",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:2050,name:"timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1981,src:"2951:14:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2048,name:"registrationTime",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2019,src:"2930:16:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2049,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:6380,src:"2930:20:14",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:2051,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2930:36:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2911:55:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54696d654c6f636b5570677261646556323a2054696d65206c6f636b20706572696f64206d757374206861766520656c61707365642e",id:2053,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"2984:56:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_65c573895bc46e6760b220807491f24700562ffc41b2a549f73a050caa5c3e1e",typeString:'literal_string "TimeLockUpgradeV2: Time lock period must have elapsed."'},value:"TimeLockUpgradeV2: Time lock period must have elapsed."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_65c573895bc46e6760b220807491f24700562ffc41b2a549f73a050caa5c3e1e",typeString:'literal_string "TimeLockUpgradeV2: Time lock period must have elapsed."'}],id:2045,name:"require",nodeType:"Identifier",overloadedDeclarations:[7011,7012],referencedDeclaration:7012,src:"2886:7:14",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:2054,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2886:168:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2055,nodeType:"ExpressionStatement",src:"2886:168:14"},{expression:{argumentTypes:null,id:2060,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:2056,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"3109:18:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:2058,indexExpression:{argumentTypes:null,id:2057,name:"upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2009,src:"3128:11:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:true,nodeType:"IndexAccess",src:"3109:31:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,hexValue:"30",id:2059,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"3143:1:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"3109:35:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2061,nodeType:"ExpressionStatement",src:"3109:35:14"}]}},{id:2064,nodeType:"PlaceholderStatement",src:"3206:1:14"}]},documentation:null,id:2066,name:"timeLockUpgrade",nodeType:"ModifierDefinition",parameters:{id:1998,nodeType:"ParameterList",parameters:[],src:"1784:2:14"},src:"1760:1454:14",visibility:"internal"},{body:{id:2092,nodeType:"Block",src:"3535:333:14",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2078,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:2074,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"3566:18:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:2076,indexExpression:{argumentTypes:null,id:2075,name:"_upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2068,src:"3585:12:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"3566:32:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,hexValue:"30",id:2077,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"3602:1:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"3566:37:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54696d654c6f636b5570677261646556322e72656d6f766552656769737465726564557067726164653a20557067726164652068617368206d7573742062652072656769737465726564",id:2079,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"3617:76:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_2bc75a00c5313f8e5686c8c1ed1213bc596e6197261ca680fdcfe96f41718d95",typeString:'literal_string "TimeLockUpgradeV2.removeRegisteredUpgrade: Upgrade hash must be registered"'},value:"TimeLockUpgradeV2.removeRegisteredUpgrade: Upgrade hash must be registered"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_2bc75a00c5313f8e5686c8c1ed1213bc596e6197261ca680fdcfe96f41718d95",typeString:'literal_string "TimeLockUpgradeV2.removeRegisteredUpgrade: Upgrade hash must be registered"'}],id:2073,name:"require",nodeType:"Identifier",overloadedDeclarations:[7011,7012],referencedDeclaration:7012,src:"3545:7:14",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:2080,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3545:158:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2081,nodeType:"ExpressionStatement",src:"3545:158:14"},{expression:{argumentTypes:null,id:2086,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:2082,name:"timeLockedUpgrades",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"3750:18:14",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_uint256_$",typeString:"mapping(bytes32 => uint256)"}},id:2084,indexExpression:{argumentTypes:null,id:2083,name:"_upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2068,src:"3769:12:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:true,nodeType:"IndexAccess",src:"3750:32:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,hexValue:"30",id:2085,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"3785:1:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"3750:36:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2087,nodeType:"ExpressionStatement",src:"3750:36:14"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:2089,name:"_upgradeHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2068,src:"3839:12:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],id:2088,name:"RemoveRegisteredUpgrade",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1997,src:"3802:23:14",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$returns$__$",typeString:"function (bytes32)"}},id:2090,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3802:59:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2091,nodeType:"EmitStatement",src:"3797:64:14"}]},documentation:"Removes an existing upgrade.\n     * @param  _upgradeHash    Keccack256 hash that uniquely identifies function called and arguments",id:2093,implemented:true,kind:"function",modifiers:[{arguments:null,id:2071,modifierName:{argumentTypes:null,id:2070,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6444,src:"3521:9:14",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"3521:9:14"}],name:"removeRegisteredUpgrade",nodeType:"FunctionDefinition",parameters:{id:2069,nodeType:"ParameterList",parameters:[{constant:false,id:2068,name:"_upgradeHash",nodeType:"VariableDeclaration",scope:2093,src:"3469:20:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:2067,name:"bytes32",nodeType:"ElementaryTypeName",src:"3469:7:14",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"3459:36:14"},returnParameters:{id:2072,nodeType:"ParameterList",parameters:[],src:"3535:0:14"},scope:2113,src:"3427:441:14",stateMutability:"nonpayable",superFunction:null,visibility:"external"},{body:{id:2111,nodeType:"Block",src:"4200:293:14",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2103,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:2101,name:"_timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2095,src:"4326:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,id:2102,name:"timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1981,src:"4344:14:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"4326:32:14",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54696d654c6f636b5570677261646556323a204e657720706572696f64206d7573742062652067726561746572207468616e206578697374696e67",id:2104,isConstant:false,isLValue:false,isPure:true,kind:"string",lValueRequested:false,nodeType:"Literal",src:"4372:61:14",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_146f6048453e5f6d46d175a3e8bab41117c5c39393941cd20e31021214beda19",typeString:'literal_string "TimeLockUpgradeV2: New period must be greater than existing"'},value:"TimeLockUpgradeV2: New period must be greater than existing"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_146f6048453e5f6d46d175a3e8bab41117c5c39393941cd20e31021214beda19",typeString:'literal_string "TimeLockUpgradeV2: New period must be greater than existing"'}],id:2100,name:"require",nodeType:"Identifier",overloadedDeclarations:[7011,7012],referencedDeclaration:7012,src:"4305:7:14",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:2105,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"4305:138:14",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2106,nodeType:"ExpressionStatement",src:"4305:138:14"},{expression:{argumentTypes:null,id:2109,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:2107,name:"timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1981,src:"4454:14:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:2108,name:"_timeLockPeriod",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2095,src:"4471:15:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"4454:32:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2110,nodeType:"ExpressionStatement",src:"4454:32:14"}]},documentation:"Change timeLockPeriod period. Generally called after initially settings have been set up.\n     * @param  _timeLockPeriod   Time in seconds that upgrades need to be evaluated before execution",id:2112,implemented:true,kind:"function",modifiers:[{arguments:null,id:2098,modifierName:{argumentTypes:null,id:2097,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:6444,src:"4186:9:14",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"4186:9:14"}],name:"setTimeLockPeriod",nodeType:"FunctionDefinition",parameters:{id:2096,nodeType:"ParameterList",parameters:[{constant:false,id:2095,name:"_timeLockPeriod",nodeType:"VariableDeclaration",scope:2112,src:"4131:23:14",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2094,name:"uint256",nodeType:"ElementaryTypeName",src:"4131:7:14",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"4121:39:14"},returnParameters:{id:2099,nodeType:"ParameterList",parameters:[],src:"4200:0:14"},scope:2113,src:"4095:398:14",stateMutability:"nonpayable",superFunction:null,visibility:"external"}],scope:2114,src:"1108:3387:14"}],src:"597:3899:14"},compiler:{name:"solc",version:"0.5.7+commit.6da8b019.Linux.g++"},networks:{},schemaVersion:"3.0.16",updatedAt:"2020-04-01T03:46:39.991Z",devdoc:{author:"Set Protocol * The TimeLockUpgradeV2 contract contains a modifier for handling minimum time period updates * CHANGELOG: - Requires that the caller is the owner - New function to allow deletion of existing timelocks - Added upgradeData to UpgradeRegistered event",methods:{"isOwner()":{"return":"true if `msg.sender` is the owner of the contract."},"owner()":{"return":"the address of the owner."},"removeRegisteredUpgrade(bytes32)":{params:{_upgradeHash:"Keccack256 hash that uniquely identifies function called and arguments"}},"renounceOwnership()":{details:"Allows the current owner to relinquish control of the contract. It will not be possible to call the functions with the `onlyOwner` modifier anymore."},"setTimeLockPeriod(uint256)":{params:{_timeLockPeriod:"Time in seconds that upgrades need to be evaluated before execution"}},"transferOwnership(address)":{details:"Allows the current owner to transfer control of the contract to a newOwner.",params:{newOwner:"The address to transfer ownership to."}}},title:"TimeLockUpgradeV2"},userdoc:{methods:{"removeRegisteredUpgrade(bytes32)":{notice:"Removes an existing upgrade."},"renounceOwnership()":{notice:"Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner."},"setTimeLockPeriod(uint256)":{notice:"Change timeLockPeriod period. Generally called after initially settings have been set up."}}}};