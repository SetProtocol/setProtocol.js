"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MovingAverageOracle={contractName:"MovingAverageOracle",abi:[{constant:true,inputs:[],name:"dataDescription",outputs:[{name:"",type:"string"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"priceFeedInstance",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"},{inputs:[{name:"_priceFeed",type:"address"},{name:"_dataDescription",type:"string"}],payable:false,stateMutability:"nonpayable",type:"constructor"},{constant:true,inputs:[{name:"_dataPoints",type:"uint256"}],name:"read",outputs:[{name:"",type:"bytes32"}],payable:false,stateMutability:"view",type:"function"},{constant:true,inputs:[],name:"getSourceMedianizer",outputs:[{name:"",type:"address"}],payable:false,stateMutability:"view",type:"function"}],metadata:'{"compiler":{"version":"0.5.7+commit.6da8b019"},"language":"Solidity","output":{"abi":[{"constant":true,"inputs":[],"name":"dataDescription","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getSourceMedianizer","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"priceFeedInstance","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_dataPoints","type":"uint256"}],"name":"read","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_priceFeed","type":"address"},{"name":"_dataDescription","type":"string"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"}],"devdoc":{"author":"Set Protocol * Contract used calculate moving average of data points provided by other on-chain price feed and return to querying contract","methods":{},"title":"MovingAverageOracle"},"userdoc":{"methods":{}}},"settings":{"compilationTarget":{"/Users/justin_chen/Dropbox/workspace/set-protocol-oracles/contracts/meta-oracles/legacy/MovingAverageOracle.sol":"MovingAverageOracle"},"evmVersion":"byzantium","libraries":{},"optimizer":{"enabled":true,"runs":200},"remappings":[]},"sources":{"/Users/justin_chen/Dropbox/workspace/set-protocol-oracles/contracts/meta-oracles/interfaces/IHistoricalPriceFeed.sol":{"keccak256":"0x2272d735b5b2cb47f00cfc96391d392cf4c8ce2ce4d8ab469130cf15e1b2dcb6","urls":["bzzr://50c82d26f9f0c0d914db61fa52a76a86d3dc0e062f1e8106167fe3541722b52b"]},"/Users/justin_chen/Dropbox/workspace/set-protocol-oracles/contracts/meta-oracles/legacy/MovingAverageOracle.sol":{"keccak256":"0x8aab3f605a9346315934448ceeab2933325de7d97b326a88df2070cf919a6a2a","urls":["bzzr://edd5aab2eadc84951a0eb2dadd53e2b4ce8da4d985e95b5616f189417ec22848"]},"openzeppelin-solidity/contracts/math/SafeMath.sol":{"keccak256":"0xc2a200a877c4a9b2475c246c54ffecc69ffde3e11af83319c63c2dc5458bac80","urls":["bzzr://c8876e2c39b60f155d748d71d715c8f3903fae5a405ac599adcb6ad2f9a583f9"]}},"version":1}',bytecode:"0x608060405234801561001057600080fd5b5060405161087a38038061087a8339810180604052610032919081019061016a565b60018054600160a060020a031916600160a060020a0384161790558051610060906000906020840190610068565b505050610255565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106100a957805160ff19168380011785556100d6565b828001600101855582156100d6579182015b828111156100d65782518255916020019190600101906100bb565b506100e29291506100e6565b5090565b61010091905b808211156100e257600081556001016100ec565b90565b600061010f8251610208565b9392505050565b600082601f83011261012757600080fd5b815161013a610135826101e1565b6101bb565b9150808252602083016020830185838301111561015657600080fd5b610161838284610225565b50505092915050565b6000806040838503121561017d57600080fd5b60006101898585610103565b92505060208301516001604060020a038111156101a557600080fd5b6101b185828601610116565b9150509250929050565b6040518181016001604060020a03811182821017156101d957600080fd5b604052919050565b60006001604060020a038211156101f757600080fd5b506020601f91909101601f19160190565b600061021382610219565b92915050565b600160a060020a031690565b60005b83811015610240578181015183820152602001610228565b8381111561024f576000848401525b50505050565b610616806102646000396000f3fe608060405234801561001057600080fd5b5060043610610068577c0100000000000000000000000000000000000000000000000000000000600035046358d65629811461006d5780637396f6891461008b578063b8db4b1e146100a0578063ed2e5a97146100b5575b600080fd5b6100756100d5565b604051610082919061050a565b60405180910390f35b610093610163565b60405161008291906104e0565b6100a861020b565b60405161008291906104fc565b6100c86100c3366004610469565b610227565b60405161008291906104ee565b6000805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152929183018282801561015b5780601f106101305761010080835404028352916020019161015b565b820191906000526020600020905b81548152906001019060200180831161013e57829003601f168201915b505050505081565b600154604080517fcac8ea6c000000000000000000000000000000000000000000000000000000008152905160009273ffffffffffffffffffffffffffffffffffffffff169163cac8ea6c916004808301926020929190829003018186803b1580156101ce57600080fd5b505afa1580156101e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506102069190810190610416565b905090565b60015473ffffffffffffffffffffffffffffffffffffffff1681565b6001546040517fed2e5a9700000000000000000000000000000000000000000000000000000000815260009160609173ffffffffffffffffffffffffffffffffffffffff9091169063ed2e5a97906102839086906004016104ee565b60006040518083038186803b15801561029b57600080fd5b505afa1580156102af573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526102d79190810190610434565b90506000805b82518110156103165761030c8382815181106102f557fe5b60200260200101518361032f90919063ffffffff16565b91506001016102dd565b50610327818563ffffffff61034a16565b949350505050565b60008282018381101561034157600080fd5b90505b92915050565b600080821161035857600080fd5b600082848161036357fe5b04949350505050565b60006103788251610570565b9392505050565b600082601f83011261039057600080fd5b81516103a361039e82610542565b61051b565b915081818352602084019350602081019050838560208402820111156103c857600080fd5b60005b838110156103f457816103de888261040a565b84525060209283019291909101906001016103cb565b5050505092915050565b6000610378823561057b565b6000610378825161057b565b60006020828403121561042857600080fd5b6000610327848461036c565b60006020828403121561044657600080fd5b815167ffffffffffffffff81111561045d57600080fd5b6103278482850161037f565b60006020828403121561047b57600080fd5b600061032784846103fe565b61049081610570565b82525050565b6104908161057b565b61049081610597565b60006104b382610563565b6104bd8185610567565b93506104cd8185602086016105a2565b6104d6816105d2565b9093019392505050565b602081016103448284610487565b602081016103448284610496565b60208101610344828461049f565b6020808252810161037881846104a8565b60405181810167ffffffffffffffff8111828210171561053a57600080fd5b604052919050565b600067ffffffffffffffff82111561055957600080fd5b5060209081020190565b5190565b90815260200190565b60006103448261057e565b90565b73ffffffffffffffffffffffffffffffffffffffff1690565b600061034482610570565b60005b838110156105bd5781810151838201526020016105a5565b838111156105cc576000848401525b50505050565b601f01601f19169056fea265627a7a72305820a92782edab2177d9eca74d85dda5d5c0141d8f9b2c68fe22d91fe0866281e1bd6c6578706572696d656e74616cf50037",deployedBytecode:"0x608060405234801561001057600080fd5b5060043610610068577c0100000000000000000000000000000000000000000000000000000000600035046358d65629811461006d5780637396f6891461008b578063b8db4b1e146100a0578063ed2e5a97146100b5575b600080fd5b6100756100d5565b604051610082919061050a565b60405180910390f35b610093610163565b60405161008291906104e0565b6100a861020b565b60405161008291906104fc565b6100c86100c3366004610469565b610227565b60405161008291906104ee565b6000805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152929183018282801561015b5780601f106101305761010080835404028352916020019161015b565b820191906000526020600020905b81548152906001019060200180831161013e57829003601f168201915b505050505081565b600154604080517fcac8ea6c000000000000000000000000000000000000000000000000000000008152905160009273ffffffffffffffffffffffffffffffffffffffff169163cac8ea6c916004808301926020929190829003018186803b1580156101ce57600080fd5b505afa1580156101e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506102069190810190610416565b905090565b60015473ffffffffffffffffffffffffffffffffffffffff1681565b6001546040517fed2e5a9700000000000000000000000000000000000000000000000000000000815260009160609173ffffffffffffffffffffffffffffffffffffffff9091169063ed2e5a97906102839086906004016104ee565b60006040518083038186803b15801561029b57600080fd5b505afa1580156102af573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526102d79190810190610434565b90506000805b82518110156103165761030c8382815181106102f557fe5b60200260200101518361032f90919063ffffffff16565b91506001016102dd565b50610327818563ffffffff61034a16565b949350505050565b60008282018381101561034157600080fd5b90505b92915050565b600080821161035857600080fd5b600082848161036357fe5b04949350505050565b60006103788251610570565b9392505050565b600082601f83011261039057600080fd5b81516103a361039e82610542565b61051b565b915081818352602084019350602081019050838560208402820111156103c857600080fd5b60005b838110156103f457816103de888261040a565b84525060209283019291909101906001016103cb565b5050505092915050565b6000610378823561057b565b6000610378825161057b565b60006020828403121561042857600080fd5b6000610327848461036c565b60006020828403121561044657600080fd5b815167ffffffffffffffff81111561045d57600080fd5b6103278482850161037f565b60006020828403121561047b57600080fd5b600061032784846103fe565b61049081610570565b82525050565b6104908161057b565b61049081610597565b60006104b382610563565b6104bd8185610567565b93506104cd8185602086016105a2565b6104d6816105d2565b9093019392505050565b602081016103448284610487565b602081016103448284610496565b60208101610344828461049f565b6020808252810161037881846104a8565b60405181810167ffffffffffffffff8111828210171561053a57600080fd5b604052919050565b600067ffffffffffffffff82111561055957600080fd5b5060209081020190565b5190565b90815260200190565b60006103448261057e565b90565b73ffffffffffffffffffffffffffffffffffffffff1690565b600061034482610570565b60005b838110156105bd5781810151838201526020016105a5565b838111156105cc576000848401525b50505050565b601f01601f19169056fea265627a7a72305820a92782edab2177d9eca74d85dda5d5c0141d8f9b2c68fe22d91fe0866281e1bd6c6578706572696d656e74616cf50037",sourceMap:"1011:2077:29:-;;;1634:219;8:9:-1;5:2;;;30:1;27;20:12;5:2;1634:219:29;;;;;;;;;;;;;;;;;;;;;;;;1749:17;:52;;-1:-1:-1;;;;;;1749:52:29;-1:-1:-1;;;;;1749:52:29;;;;;1812:34;;;;-1:-1:-1;;1812:34:29;;;;;:::i;:::-;;1634:219;;1011:2077;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;1011:2077:29;;;-1:-1:-1;1011:2077:29;:::i;:::-;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;:::o;5:122:-1:-;;83:39;114:6;108:13;83:39;;;74:48;68:59;-1:-1;;;68:59;135:444;;248:3;241:4;233:6;229:17;225:27;215:2;;266:1;263;256:12;215:2;296:6;290:13;318:65;333:49;375:6;333:49;;;318:65;;;309:74;;403:6;396:5;389:21;439:4;431:6;427:17;472:4;465:5;461:16;507:3;498:6;493:3;489:16;486:25;483:2;;;524:1;521;514:12;483:2;534:39;566:6;561:3;556;534:39;;;208:371;;;;;;;;587:498;;;729:2;717:9;708:7;704:23;700:32;697:2;;;745:1;742;735:12;697:2;780:1;797:64;853:7;833:9;797:64;;;787:74;;759:108;919:2;908:9;904:18;898:25;-1:-1;;;;;935:6;932:30;929:2;;;975:1;972;965:12;929:2;995:74;1061:7;1052:6;1041:9;1037:22;995:74;;;985:84;;877:198;691:394;;;;;;1092:256;1154:2;1148:9;1180:17;;;-1:-1;;;;;1240:34;;1276:22;;;1237:62;1234:2;;;1312:1;1309;1302:12;1234:2;1328;1321:22;1132:216;;-1:-1;1132:216;1355:259;;-1:-1;;;;;1491:6;1488:30;1485:2;;;1531:1;1528;1521:12;1485:2;-1:-1;1604:4;1575;1552:17;;;;-1:-1;;1548:33;1594:15;;1422:192;1621:105;;1690:31;1715:5;1690:31;;;1679:42;1673:53;-1:-1;;1673:53;1733:128;-1:-1;;;;;1802:54;;1785:76;1869:268;1934:1;1941:101;1955:6;1952:1;1949:13;1941:101;;;2022:11;;;2016:18;2003:11;;;1996:39;1977:2;1970:10;1941:101;;;2057:6;2054:1;2051:13;2048:2;;;2122:1;2113:6;2108:3;2104:16;2097:27;2048:2;1918:219;;;;;;1011:2077:29;;;;;;",deployedSourceMap:"1011:2077:29:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1011:2077:29;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1132:29;;;:::i;:::-;;;;;;;;;;;;;;;;2933:153;;;:::i;:::-;;;;;;;;1167:45;;;:::i;:::-;;;;;;;;2220:531;;;;;;;;;:::i;:::-;;;;;;;;1132:29;;;;;;;;;;;;;;;-1:-1:-1;;1132:29:29;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;2933:153::-;3041:17;;:38;;;;;;;;3011:7;;3041:17;;;:36;;:38;;;;;;;;;;;;;;:17;:38;;;5:2:-1;;;;30:1;27;20:12;5:2;3041:38:29;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;3041:38:29;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;3041:38:29;;;;;;;;;3034:45;;2933:153;:::o;1167:45::-;;;;;;:::o;2220:531::-;2408:17;;:35;;;;;2320:7;;2379:26;;2408:17;;;;;:22;;:35;;2431:11;;2408:35;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;2408:35:29;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;2408:35:29;;;;;;39:16:-1;36:1;17:17;2:54;101:4;2408:35:29;80:15:-1;;;-1:-1;;76:31;65:43;;120:4;113:20;2408:35:29;;;;;;;;;2379:64;-1:-1:-1;2506:20:29;;2540:117;2564:9;:16;2560:1;:20;2540:117;;;2616:30;2633:9;2643:1;2633:12;;;;;;;;;;;;;;2616;:16;;:30;;;;:::i;:::-;2601:45;-1:-1:-1;2582:3:29;;2540:117;;;-1:-1:-1;2714:29:29;:12;2731:11;2714:29;:16;:29;:::i;:::-;2706:38;2220:531;-1:-1:-1;;;;2220:531:29:o;1439:145:66:-;1497:7;1528:5;;;1551:6;;;;1543:15;;;;;;1576:1;-1:-1:-1;1439:145:66;;;;;:::o;782:296::-;840:7;937:1;933;:5;925:14;;;;;;949:9;965:1;961;:5;;;;;;;782:296;-1:-1:-1;;;;782:296:66:o;5:122:-1:-;;83:39;114:6;108:13;83:39;;;74:48;68:59;-1:-1;;;68:59;152:722;;280:3;273:4;265:6;261:17;257:27;247:2;;298:1;295;288:12;247:2;328:6;322:13;350:80;365:64;422:6;365:64;;;350:80;;;341:89;;447:5;472:6;465:5;458:21;502:4;494:6;490:17;480:27;;524:4;519:3;515:14;508:21;;577:6;624:3;616:4;608:6;604:17;599:3;595:27;592:36;589:2;;;641:1;638;631:12;589:2;666:1;651:217;676:6;673:1;670:13;651:217;;;734:3;756:48;800:3;788:10;756:48;;;744:61;;-1:-1;828:4;819:14;;;;847;;;;;698:1;691:9;651:217;;;655:14;240:634;;;;;;;;882:118;;949:46;987:6;974:20;949:46;;1007:122;;1085:39;1116:6;1110:13;1085:39;;1136:263;;1251:2;1239:9;1230:7;1226:23;1222:32;1219:2;;;1267:1;1264;1257:12;1219:2;1302:1;1319:64;1375:7;1355:9;1319:64;;1406:392;;1546:2;1534:9;1525:7;1521:23;1517:32;1514:2;;;1562:1;1559;1552:12;1514:2;1597:24;;1641:18;1630:30;;1627:2;;;1673:1;1670;1663:12;1627:2;1693:89;1774:7;1765:6;1754:9;1750:22;1693:89;;1805:241;;1909:2;1897:9;1888:7;1884:23;1880:32;1877:2;;;1925:1;1922;1915:12;1877:2;1960:1;1977:53;2022:7;2002:9;1977:53;;2053:120;2136:31;2161:5;2136:31;;;2131:3;2124:44;2118:55;;;2180:120;2263:31;2288:5;2263:31;;2307:184;2419:66;2479:5;2419:66;;2498:339;;2606:35;2635:5;2606:35;;;2653:71;2717:6;2712:3;2653:71;;;2646:78;;2729:52;2774:6;2769:3;2762:4;2755:5;2751:16;2729:52;;;2802:29;2824:6;2802:29;;;2793:39;;;;2586:251;-1:-1;;;2586:251;2971:213;3089:2;3074:18;;3103:71;3078:9;3147:6;3103:71;;3191:213;3309:2;3294:18;;3323:71;3298:9;3367:6;3323:71;;3411:271;3558:2;3543:18;;3572:100;3547:9;3645:6;3572:100;;3689:293;3823:2;3837:47;;;3808:18;;3898:74;3808:18;3958:6;3898:74;;4209:256;4271:2;4265:9;4297:17;;;4372:18;4357:34;;4393:22;;;4354:62;4351:2;;;4429:1;4426;4419:12;4351:2;4445;4438:22;4249:216;;-1:-1;4249:216;4472:258;;4631:18;4623:6;4620:30;4617:2;;;4663:1;4660;4653:12;4617:2;-1:-1;4692:4;4680:17;;;4710:15;;4554:176;4737:88;4808:12;;4792:33;4833:163;4936:19;;;4985:4;4976:14;;4929:67;5004:105;;5073:31;5098:5;5073:31;;5116:79;5185:5;5168:27;5202:128;5282:42;5271:54;;5254:76;5756:179;;5864:66;5924:5;5864:66;;6094:268;6159:1;6166:101;6180:6;6177:1;6174:13;6166:101;;;6247:11;;;6241:18;6228:11;;;6221:39;6202:2;6195:10;6166:101;;;6282:6;6279:1;6276:13;6273:2;;;6347:1;6338:6;6333:3;6329:16;6322:27;6273:2;6143:219;;;;;6370:97;6458:2;6438:14;-1:-1;;6434:28;;6418:49",source:'/*\n    Copyright 2019 Set Labs Inc.\n\n    Licensed under the Apache License, Version 2.0 (the "License");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an "AS IS" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n*/\n\npragma solidity 0.5.7;\npragma experimental "ABIEncoderV2";\n\nimport { SafeMath } from "openzeppelin-solidity/contracts/math/SafeMath.sol";\nimport { IHistoricalPriceFeed } from "../interfaces/IHistoricalPriceFeed.sol";\n\n\n/**\n * @title MovingAverageOracle\n * @author Set Protocol\n *\n * Contract used calculate moving average of data points provided by other on-chain\n * price feed and return to querying contract\n */\ncontract MovingAverageOracle {\n\n    using SafeMath for uint256;\n\n    /* ============ State Variables ============ */\n    string public dataDescription;\n    IHistoricalPriceFeed public priceFeedInstance;\n\n    /* ============ Constructor ============ */\n\n    /*\n     * MovingAverageOracle constructor.\n     * Contract used calculate moving average of data points provided by other on-chain\n     * price feed and return to querying contract\n     *\n     * @param  _priceFeed               Price Feed to get list of data from\n     * @param  _dataDescription         Description of data (i.e. 200DailyMA or 24HourMA)\n     */\n    constructor(\n        address _priceFeed,\n        string memory _dataDescription\n    )\n        public\n    {\n        priceFeedInstance = IHistoricalPriceFeed(_priceFeed);\n\n        dataDescription = _dataDescription;\n    }\n\n    /*\n     * Get moving average over defined amount of data points by querying price feed and\n     * averaging returned data. Returns bytes32 to conform to Maker oracles user in system.\n     *\n     * @param  _dataPoints       Number of data points to create average from\n     * @returns                  Moving average for passed number of _dataPoints\n     */\n    function read(\n        uint256 _dataPoints    \n    )\n        external\n        view\n        returns (bytes32)\n    {\n        // Get data from price feed\n        uint256[] memory dataArray = priceFeedInstance.read(_dataPoints);\n\n        // Sum data retrieved from daily price feed\n        uint256 dataSumTotal = 0;\n        for (uint256 i = 0; i < dataArray.length; i++) {\n            dataSumTotal = dataSumTotal.add(dataArray[i]);\n        }\n\n        // Return average price\n        return bytes32(dataSumTotal.div(_dataPoints));\n    }\n\n    /*\n     * Get the medianizer source for the price feed the Meta Oracle uses.\n     *\n     * @returns                  Address of source medianizer of Price Feed\n     */    \n    function getSourceMedianizer()\n        external\n        view\n        returns (address)\n    {\n        return priceFeedInstance.medianizerInstance();\n    }\n}',sourcePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-oracles/contracts/meta-oracles/legacy/MovingAverageOracle.sol",ast:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-oracles/contracts/meta-oracles/legacy/MovingAverageOracle.sol",exportedSymbols:{MovingAverageOracle:[3399]},id:3400,nodeType:"SourceUnit",nodes:[{id:3308,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:29"},{id:3309,literals:["experimental","ABIEncoderV2"],nodeType:"PragmaDirective",src:"620:35:29"},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:3311,nodeType:"ImportDirective",scope:3400,sourceUnit:6402,src:"657:77:29",symbolAliases:[{foreign:3310,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-oracles/contracts/meta-oracles/interfaces/IHistoricalPriceFeed.sol",file:"../interfaces/IHistoricalPriceFeed.sol",id:3313,nodeType:"ImportDirective",scope:3400,sourceUnit:3019,src:"735:78:29",symbolAliases:[{foreign:3312,local:null}],unitAlias:""},{baseContracts:[],contractDependencies:[],contractKind:"contract",documentation:"@title MovingAverageOracle\n@author Set Protocol\n * Contract used calculate moving average of data points provided by other on-chain\nprice feed and return to querying contract",fullyImplemented:true,id:3399,linearizedBaseContracts:[3399],name:"MovingAverageOracle",nodeType:"ContractDefinition",nodes:[{id:3316,libraryName:{contractScope:null,id:3314,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:6401,src:"1053:8:29",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$6401",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"1047:27:29",typeName:{id:3315,name:"uint256",nodeType:"ElementaryTypeName",src:"1066:7:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{constant:false,id:3318,name:"dataDescription",nodeType:"VariableDeclaration",scope:3399,src:"1132:29:29",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string"},typeName:{id:3317,name:"string",nodeType:"ElementaryTypeName",src:"1132:6:29",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"public"},{constant:false,id:3320,name:"priceFeedInstance",nodeType:"VariableDeclaration",scope:3399,src:"1167:45:29",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_IHistoricalPriceFeed_$3018",typeString:"contract IHistoricalPriceFeed"},typeName:{contractScope:null,id:3319,name:"IHistoricalPriceFeed",nodeType:"UserDefinedTypeName",referencedDeclaration:3018,src:"1167:20:29",typeDescriptions:{typeIdentifier:"t_contract$_IHistoricalPriceFeed_$3018",typeString:"contract IHistoricalPriceFeed"}},value:null,visibility:"public"},{body:{id:3337,nodeType:"Block",src:"1739:114:29",statements:[{expression:{argumentTypes:null,id:3331,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:3327,name:"priceFeedInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3320,src:"1749:17:29",typeDescriptions:{typeIdentifier:"t_contract$_IHistoricalPriceFeed_$3018",typeString:"contract IHistoricalPriceFeed"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:3329,name:"_priceFeed",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3322,src:"1790:10:29",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:3328,name:"IHistoricalPriceFeed",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3018,src:"1769:20:29",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_IHistoricalPriceFeed_$3018_$",typeString:"type(contract IHistoricalPriceFeed)"}},id:3330,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"1769:32:29",typeDescriptions:{typeIdentifier:"t_contract$_IHistoricalPriceFeed_$3018",typeString:"contract IHistoricalPriceFeed"}},src:"1749:52:29",typeDescriptions:{typeIdentifier:"t_contract$_IHistoricalPriceFeed_$3018",typeString:"contract IHistoricalPriceFeed"}},id:3332,nodeType:"ExpressionStatement",src:"1749:52:29"},{expression:{argumentTypes:null,id:3335,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:3333,name:"dataDescription",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3318,src:"1812:15:29",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:3334,name:"_dataDescription",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3324,src:"1830:16:29",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}},src:"1812:34:29",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string storage ref"}},id:3336,nodeType:"ExpressionStatement",src:"1812:34:29"}]},documentation:null,id:3338,implemented:true,kind:"constructor",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:3325,nodeType:"ParameterList",parameters:[{constant:false,id:3322,name:"_priceFeed",nodeType:"VariableDeclaration",scope:3338,src:"1655:18:29",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:3321,name:"address",nodeType:"ElementaryTypeName",src:"1655:7:29",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:3324,name:"_dataDescription",nodeType:"VariableDeclaration",scope:3338,src:"1683:30:29",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string"},typeName:{id:3323,name:"string",nodeType:"ElementaryTypeName",src:"1683:6:29",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"}],src:"1645:74:29"},returnParameters:{id:3326,nodeType:"ParameterList",parameters:[],src:"1739:0:29"},scope:3399,src:"1634:219:29",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:3387,nodeType:"Block",src:"2333:418:29",statements:[{assignments:[3348],declarations:[{constant:false,id:3348,name:"dataArray",nodeType:"VariableDeclaration",scope:3387,src:"2379:26:29",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:3346,name:"uint256",nodeType:"ElementaryTypeName",src:"2379:7:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3347,length:null,nodeType:"ArrayTypeName",src:"2379:9:29",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],id:3353,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:3351,name:"_dataPoints",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3340,src:"2431:11:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:3349,name:"priceFeedInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3320,src:"2408:17:29",typeDescriptions:{typeIdentifier:"t_contract$_IHistoricalPriceFeed_$3018",typeString:"contract IHistoricalPriceFeed"}},id:3350,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"read",nodeType:"MemberAccess",referencedDeclaration:3012,src:"2408:22:29",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$",typeString:"function (uint256) view external returns (uint256[] memory)"}},id:3352,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2408:35:29",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},nodeType:"VariableDeclarationStatement",src:"2379:64:29"},{assignments:[3355],declarations:[{constant:false,id:3355,name:"dataSumTotal",nodeType:"VariableDeclaration",scope:3387,src:"2506:20:29",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3354,name:"uint256",nodeType:"ElementaryTypeName",src:"2506:7:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:3357,initialValue:{argumentTypes:null,hexValue:"30",id:3356,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2529:1:29",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"2506:24:29"},{body:{id:3378,nodeType:"Block",src:"2587:70:29",statements:[{expression:{argumentTypes:null,id:3376,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:3369,name:"dataSumTotal",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3355,src:"2601:12:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:3372,name:"dataArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3348,src:"2633:9:29",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:3374,indexExpression:{argumentTypes:null,id:3373,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3359,src:"2643:1:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"2633:12:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:3370,name:"dataSumTotal",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3355,src:"2616:12:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3371,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:6380,src:"2616:16:29",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:3375,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2616:30:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2601:45:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3377,nodeType:"ExpressionStatement",src:"2601:45:29"}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:3365,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:3362,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3359,src:"2560:1:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:3363,name:"dataArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3348,src:"2564:9:29",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:3364,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"2564:16:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2560:20:29",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:3379,initializationExpression:{assignments:[3359],declarations:[{constant:false,id:3359,name:"i",nodeType:"VariableDeclaration",scope:3379,src:"2545:9:29",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3358,name:"uint256",nodeType:"ElementaryTypeName",src:"2545:7:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:3361,initialValue:{argumentTypes:null,
hexValue:"30",id:3360,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2557:1:29",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"2545:13:29"},loopExpression:{expression:{argumentTypes:null,id:3367,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"UnaryOperation",operator:"++",prefix:false,src:"2582:3:29",subExpression:{argumentTypes:null,id:3366,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3359,src:"2582:1:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3368,nodeType:"ExpressionStatement",src:"2582:3:29"},nodeType:"ForStatement",src:"2540:117:29"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:3383,name:"_dataPoints",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3340,src:"2731:11:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:3381,name:"dataSumTotal",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3355,src:"2714:12:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3382,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:6332,src:"2714:16:29",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:3384,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2714:29:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:3380,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"2706:7:29",typeDescriptions:{typeIdentifier:"t_type$_t_bytes32_$",typeString:"type(bytes32)"},typeName:"bytes32"},id:3385,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2706:38:29",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},functionReturnParameters:3344,id:3386,nodeType:"Return",src:"2699:45:29"}]},documentation:null,id:3388,implemented:true,kind:"function",modifiers:[],name:"read",nodeType:"FunctionDefinition",parameters:{id:3341,nodeType:"ParameterList",parameters:[{constant:false,id:3340,name:"_dataPoints",nodeType:"VariableDeclaration",scope:3388,src:"2243:19:29",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3339,name:"uint256",nodeType:"ElementaryTypeName",src:"2243:7:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"2233:39:29"},returnParameters:{id:3344,nodeType:"ParameterList",parameters:[{constant:false,id:3343,name:"",nodeType:"VariableDeclaration",scope:3388,src:"2320:7:29",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:3342,name:"bytes32",nodeType:"ElementaryTypeName",src:"2320:7:29",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"2319:9:29"},scope:3399,src:"2220:531:29",stateMutability:"view",superFunction:null,visibility:"external"},{body:{id:3397,nodeType:"Block",src:"3024:62:29",statements:[{expression:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:3393,name:"priceFeedInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3320,src:"3041:17:29",typeDescriptions:{typeIdentifier:"t_contract$_IHistoricalPriceFeed_$3018",typeString:"contract IHistoricalPriceFeed"}},id:3394,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"medianizerInstance",nodeType:"MemberAccess",referencedDeclaration:3017,src:"3041:36:29",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_address_$",typeString:"function () view external returns (address)"}},id:3395,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3041:38:29",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},functionReturnParameters:3392,id:3396,nodeType:"Return",src:"3034:45:29"}]},documentation:null,id:3398,implemented:true,kind:"function",modifiers:[],name:"getSourceMedianizer",nodeType:"FunctionDefinition",parameters:{id:3389,nodeType:"ParameterList",parameters:[],src:"2961:2:29"},returnParameters:{id:3392,nodeType:"ParameterList",parameters:[{constant:false,id:3391,name:"",nodeType:"VariableDeclaration",scope:3398,src:"3011:7:29",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:3390,name:"address",nodeType:"ElementaryTypeName",src:"3011:7:29",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"3010:9:29"},scope:3399,src:"2933:153:29",stateMutability:"view",superFunction:null,visibility:"external"}],scope:3400,src:"1011:2077:29"}],src:"597:2491:29"},legacyAST:{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-oracles/contracts/meta-oracles/legacy/MovingAverageOracle.sol",exportedSymbols:{MovingAverageOracle:[3399]},id:3400,nodeType:"SourceUnit",nodes:[{id:3308,literals:["solidity","0.5",".7"],nodeType:"PragmaDirective",src:"597:22:29"},{id:3309,literals:["experimental","ABIEncoderV2"],nodeType:"PragmaDirective",src:"620:35:29"},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:3311,nodeType:"ImportDirective",scope:3400,sourceUnit:6402,src:"657:77:29",symbolAliases:[{foreign:3310,local:null}],unitAlias:""},{absolutePath:"/Users/justin_chen/Dropbox/workspace/set-protocol-oracles/contracts/meta-oracles/interfaces/IHistoricalPriceFeed.sol",file:"../interfaces/IHistoricalPriceFeed.sol",id:3313,nodeType:"ImportDirective",scope:3400,sourceUnit:3019,src:"735:78:29",symbolAliases:[{foreign:3312,local:null}],unitAlias:""},{baseContracts:[],contractDependencies:[],contractKind:"contract",documentation:"@title MovingAverageOracle\n@author Set Protocol\n * Contract used calculate moving average of data points provided by other on-chain\nprice feed and return to querying contract",fullyImplemented:true,id:3399,linearizedBaseContracts:[3399],name:"MovingAverageOracle",nodeType:"ContractDefinition",nodes:[{id:3316,libraryName:{contractScope:null,id:3314,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:6401,src:"1053:8:29",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$6401",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"1047:27:29",typeName:{id:3315,name:"uint256",nodeType:"ElementaryTypeName",src:"1066:7:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{constant:false,id:3318,name:"dataDescription",nodeType:"VariableDeclaration",scope:3399,src:"1132:29:29",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string"},typeName:{id:3317,name:"string",nodeType:"ElementaryTypeName",src:"1132:6:29",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"public"},{constant:false,id:3320,name:"priceFeedInstance",nodeType:"VariableDeclaration",scope:3399,src:"1167:45:29",stateVariable:true,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_IHistoricalPriceFeed_$3018",typeString:"contract IHistoricalPriceFeed"},typeName:{contractScope:null,id:3319,name:"IHistoricalPriceFeed",nodeType:"UserDefinedTypeName",referencedDeclaration:3018,src:"1167:20:29",typeDescriptions:{typeIdentifier:"t_contract$_IHistoricalPriceFeed_$3018",typeString:"contract IHistoricalPriceFeed"}},value:null,visibility:"public"},{body:{id:3337,nodeType:"Block",src:"1739:114:29",statements:[{expression:{argumentTypes:null,id:3331,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:3327,name:"priceFeedInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3320,src:"1749:17:29",typeDescriptions:{typeIdentifier:"t_contract$_IHistoricalPriceFeed_$3018",typeString:"contract IHistoricalPriceFeed"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:3329,name:"_priceFeed",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3322,src:"1790:10:29",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:3328,name:"IHistoricalPriceFeed",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3018,src:"1769:20:29",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_IHistoricalPriceFeed_$3018_$",typeString:"type(contract IHistoricalPriceFeed)"}},id:3330,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"1769:32:29",typeDescriptions:{typeIdentifier:"t_contract$_IHistoricalPriceFeed_$3018",typeString:"contract IHistoricalPriceFeed"}},src:"1749:52:29",typeDescriptions:{typeIdentifier:"t_contract$_IHistoricalPriceFeed_$3018",typeString:"contract IHistoricalPriceFeed"}},id:3332,nodeType:"ExpressionStatement",src:"1749:52:29"},{expression:{argumentTypes:null,id:3335,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:3333,name:"dataDescription",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3318,src:"1812:15:29",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:3334,name:"_dataDescription",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3324,src:"1830:16:29",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}},src:"1812:34:29",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string storage ref"}},id:3336,nodeType:"ExpressionStatement",src:"1812:34:29"}]},documentation:null,id:3338,implemented:true,kind:"constructor",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:3325,nodeType:"ParameterList",parameters:[{constant:false,id:3322,name:"_priceFeed",nodeType:"VariableDeclaration",scope:3338,src:"1655:18:29",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:3321,name:"address",nodeType:"ElementaryTypeName",src:"1655:7:29",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:false,id:3324,name:"_dataDescription",nodeType:"VariableDeclaration",scope:3338,src:"1683:30:29",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string"},typeName:{id:3323,name:"string",nodeType:"ElementaryTypeName",src:"1683:6:29",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"}],src:"1645:74:29"},returnParameters:{id:3326,nodeType:"ParameterList",parameters:[],src:"1739:0:29"},scope:3399,src:"1634:219:29",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:3387,nodeType:"Block",src:"2333:418:29",statements:[{assignments:[3348],declarations:[{constant:false,id:3348,name:"dataArray",nodeType:"VariableDeclaration",scope:3387,src:"2379:26:29",stateVariable:false,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:3346,name:"uint256",nodeType:"ElementaryTypeName",src:"2379:7:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3347,length:null,nodeType:"ArrayTypeName",src:"2379:9:29",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],id:3353,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:3351,name:"_dataPoints",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3340,src:"2431:11:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:3349,name:"priceFeedInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3320,src:"2408:17:29",typeDescriptions:{typeIdentifier:"t_contract$_IHistoricalPriceFeed_$3018",typeString:"contract IHistoricalPriceFeed"}},id:3350,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"read",nodeType:"MemberAccess",referencedDeclaration:3012,src:"2408:22:29",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$",typeString:"function (uint256) view external returns (uint256[] memory)"}},id:3352,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2408:35:29",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},nodeType:"VariableDeclarationStatement",src:"2379:64:29"},{assignments:[3355],declarations:[{constant:false,id:3355,name:"dataSumTotal",nodeType:"VariableDeclaration",scope:3387,src:"2506:20:29",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3354,name:"uint256",nodeType:"ElementaryTypeName",src:"2506:7:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:3357,initialValue:{argumentTypes:null,hexValue:"30",id:3356,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2529:1:29",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"2506:24:29"},{body:{id:3378,nodeType:"Block",src:"2587:70:29",statements:[{expression:{argumentTypes:null,id:3376,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftHandSide:{argumentTypes:null,id:3369,name:"dataSumTotal",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3355,src:"2601:12:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:3372,name:"dataArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3348,src:"2633:9:29",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:3374,indexExpression:{argumentTypes:null,id:3373,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3359,src:"2643:1:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:false,isLValue:true,isPure:false,lValueRequested:false,nodeType:"IndexAccess",src:"2633:12:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:3370,name:"dataSumTotal",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3355,src:"2616:12:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3371,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:6380,src:"2616:16:29",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:3375,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2616:30:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2601:45:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3377,nodeType:"ExpressionStatement",src:"2601:45:29"}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:3365,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,leftExpression:{argumentTypes:null,id:3362,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3359,src:"2560:1:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:3363,name:"dataArray",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3348,src:"2564:9:29",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:3364,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"2564:16:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2560:20:29",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:3379,initializationExpression:{assignments:[3359],declarations:[{constant:false,id:3359,name:"i",nodeType:"VariableDeclaration",scope:3379,src:"2545:9:29",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3358,name:"uint256",nodeType:"ElementaryTypeName",src:"2545:7:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:3361,initialValue:{argumentTypes:null,hexValue:"30",id:3360,isConstant:false,isLValue:false,isPure:true,kind:"number",lValueRequested:false,nodeType:"Literal",src:"2557:1:29",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"2545:13:29"},loopExpression:{expression:{argumentTypes:null,id:3367,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,nodeType:"UnaryOperation",operator:"++",prefix:false,src:"2582:3:29",subExpression:{argumentTypes:null,id:3366,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3359,src:"2582:1:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3368,nodeType:"ExpressionStatement",src:"2582:3:29"},nodeType:"ForStatement",src:"2540:117:29"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:3383,name:"_dataPoints",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3340,src:"2731:11:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:3381,name:"dataSumTotal",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3355,src:"2714:12:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:3382,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"div",nodeType:"MemberAccess",referencedDeclaration:6332,src:"2714:16:29",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:3384,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2714:29:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:3380,isConstant:false,isLValue:false,isPure:true,lValueRequested:false,nodeType:"ElementaryTypeNameExpression",src:"2706:7:29",typeDescriptions:{typeIdentifier:"t_type$_t_bytes32_$",typeString:"type(bytes32)"},typeName:"bytes32"},id:3385,isConstant:false,isLValue:false,isPure:false,kind:"typeConversion",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"2706:38:29",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},functionReturnParameters:3344,id:3386,nodeType:"Return",src:"2699:45:29"}]},documentation:null,id:3388,implemented:true,kind:"function",modifiers:[],name:"read",nodeType:"FunctionDefinition",parameters:{id:3341,nodeType:"ParameterList",parameters:[{constant:false,id:3340,name:"_dataPoints",nodeType:"VariableDeclaration",scope:3388,src:"2243:19:29",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:3339,name:"uint256",nodeType:"ElementaryTypeName",src:"2243:7:29",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"2233:39:29"},returnParameters:{id:3344,nodeType:"ParameterList",parameters:[{constant:false,id:3343,name:"",nodeType:"VariableDeclaration",scope:3388,src:"2320:7:29",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:3342,name:"bytes32",nodeType:"ElementaryTypeName",src:"2320:7:29",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"2319:9:29"},scope:3399,src:"2220:531:29",stateMutability:"view",superFunction:null,visibility:"external"},{body:{id:3397,nodeType:"Block",src:"3024:62:29",statements:[{expression:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],expression:{argumentTypes:null,id:3393,name:"priceFeedInstance",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:3320,src:"3041:17:29",typeDescriptions:{typeIdentifier:"t_contract$_IHistoricalPriceFeed_$3018",typeString:"contract IHistoricalPriceFeed"}},id:3394,isConstant:false,isLValue:false,isPure:false,lValueRequested:false,memberName:"medianizerInstance",nodeType:"MemberAccess",referencedDeclaration:3017,src:"3041:36:29",typeDescriptions:{typeIdentifier:"t_function_external_view$__$returns$_t_address_$",typeString:"function () view external returns (address)"}},id:3395,isConstant:false,isLValue:false,isPure:false,kind:"functionCall",lValueRequested:false,names:[],nodeType:"FunctionCall",src:"3041:38:29",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},functionReturnParameters:3392,id:3396,nodeType:"Return",src:"3034:45:29"}]},documentation:null,id:3398,implemented:true,kind:"function",modifiers:[],name:"getSourceMedianizer",nodeType:"FunctionDefinition",parameters:{id:3389,nodeType:"ParameterList",parameters:[],src:"2961:2:29"},returnParameters:{id:3392,nodeType:"ParameterList",parameters:[{constant:false,id:3391,name:"",nodeType:"VariableDeclaration",scope:3398,src:"3011:7:29",stateVariable:false,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:3390,name:"address",nodeType:"ElementaryTypeName",src:"3011:7:29",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"3010:9:29"},scope:3399,src:"2933:153:29",stateMutability:"view",superFunction:null,visibility:"external"}],scope:3400,src:"1011:2077:29"}],src:"597:2491:29"},compiler:{name:"solc",version:"0.5.7+commit.6da8b019.Linux.g++"},networks:{},schemaVersion:"3.0.16",updatedAt:"2020-04-01T03:46:40.016Z",devdoc:{author:"Set Protocol * Contract used calculate moving average of data points provided by other on-chain price feed and return to querying contract",methods:{},title:"MovingAverageOracle"},userdoc:{methods:{}}};